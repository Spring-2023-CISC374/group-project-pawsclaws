var ny=Object.defineProperty;var ry=(i,t,s)=>t in i?ny(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var dt=(i,t,s)=>(ry(i,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))g(C);new MutationObserver(C=>{for(const M of C)if(M.type==="childList")for(const o of M.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&g(o)}).observe(document,{childList:!0,subtree:!0});function s(C){const M={};return C.integrity&&(M.integrity=C.integrity),C.referrerpolicy&&(M.referrerPolicy=C.referrerpolicy),C.crossorigin==="use-credentials"?M.credentials="include":C.crossorigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function g(C){if(C.ep)return;C.ep=!0;const M=s(C);fetch(C.href,M)}})();var ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wp={exports:{}};(function(i,t){(function(g,C){i.exports=C()})(ay,()=>(()=>{var s={6659:o=>{var T=Object.prototype.hasOwnProperty,e="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(e=!1));function x(n,r,f){this.fn=n,this.context=r,this.once=f||!1}function d(n,r,f,a,c){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new x(f,a||n,c),v=e?e+r:r;return n._events[v]?n._events[v].fn?n._events[v]=[n._events[v],p]:n._events[v].push(p):(n._events[v]=p,n._eventsCount++),n}function l(n,r){--n._eventsCount===0?n._events=new u:delete n._events[r]}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var r=[],f,a;if(this._eventsCount===0)return r;for(a in f=this._events)T.call(f,a)&&r.push(e?a.slice(1):a);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(f)):r},h.prototype.listeners=function(r){var f=e?e+r:r,a=this._events[f];if(!a)return[];if(a.fn)return[a.fn];for(var c=0,p=a.length,v=new Array(p);c<p;c++)v[c]=a[c].fn;return v},h.prototype.listenerCount=function(r){var f=e?e+r:r,a=this._events[f];return a?a.fn?1:a.length:0},h.prototype.emit=function(r,f,a,c,p,v){var m=e?e+r:r;if(!this._events[m])return!1;var y=this._events[m],E=arguments.length,P,S;if(y.fn){switch(y.once&&this.removeListener(r,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,a),!0;case 4:return y.fn.call(y.context,f,a,c),!0;case 5:return y.fn.call(y.context,f,a,c,p),!0;case 6:return y.fn.call(y.context,f,a,c,p,v),!0}for(S=1,P=new Array(E-1);S<E;S++)P[S-1]=arguments[S];y.fn.apply(y.context,P)}else{var w=y.length,A;for(S=0;S<w;S++)switch(y[S].once&&this.removeListener(r,y[S].fn,void 0,!0),E){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,f);break;case 3:y[S].fn.call(y[S].context,f,a);break;case 4:y[S].fn.call(y[S].context,f,a,c);break;default:if(!P)for(A=1,P=new Array(E-1);A<E;A++)P[A-1]=arguments[A];y[S].fn.apply(y[S].context,P)}}return!0},h.prototype.on=function(r,f,a){return d(this,r,f,a,!1)},h.prototype.once=function(r,f,a){return d(this,r,f,a,!0)},h.prototype.removeListener=function(r,f,a,c){var p=e?e+r:r;if(!this._events[p])return this;if(!f)return l(this,p),this;var v=this._events[p];if(v.fn)v.fn===f&&(!c||v.once)&&(!a||v.context===a)&&l(this,p);else{for(var m=0,y=[],E=v.length;m<E;m++)(v[m].fn!==f||c&&!v[m].once||a&&v[m].context!==a)&&y.push(v[m]);y.length?this._events[p]=y.length===1?y[0]:y:l(this,p)}return this},h.prototype.removeAllListeners=function(r){var f;return r?(f=e?e+r:r,this._events[f]&&l(this,f)):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=e,h.EventEmitter=h,o.exports=h},62270:(o,T,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82590),x=function(d,l,h,n){for(var r=d[0],f=1;f<d.length;f++){var a=d[f];u(a,r,l,h,n),r=a}return d};o.exports=x},61148:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),x=function(d,l,h,n,r){return u(d,"angle",l,h,n,r)};o.exports=x},22015:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){for(var d=0;d<e.length;d++){var l=e[d];u.call(x,l)}return e};o.exports=T},31060:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){x===void 0&&(x=0);for(var d=x;d<e.length;d++){var l=e[d],h=!0;for(var n in u)l[n]!==u[n]&&(h=!1);if(h)return l}return null};o.exports=T},52367:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){x===void 0&&(x=0);for(var d=x;d<e.length;d++){var l=e[d],h=!0;for(var n in u)l[n]!==u[n]&&(h=!1);if(h)return l}return null};o.exports=T},12673:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40327),x=e(84093),d=e(72632),l=e(72283),h=e(71030),n=new h({sys:{queueDepthSort:l,events:{once:l}}},0,0,1,1).setOrigin(0,0),r=function(f,a){a===void 0&&(a={});var c=a.hasOwnProperty("width"),p=a.hasOwnProperty("height"),v=d(a,"width",-1),m=d(a,"height",-1),y=d(a,"cellWidth",1),E=d(a,"cellHeight",y),P=d(a,"position",x.TOP_LEFT),S=d(a,"x",0),w=d(a,"y",0),A=0,R=0,O=v*y,L=m*E;n.setPosition(S,w),n.setSize(y,E);for(var b=0;b<f.length;b++)if(u(f[b],n,P),c&&v===-1)n.x+=y;else if(p&&m===-1)n.y+=E;else if(p&&!c){if(R+=E,n.y+=E,R===L&&(R=0,A+=y,n.y=w,n.x+=y,A===O))break}else if(A+=y,n.x+=y,A===O&&(A=0,R+=E,n.x=S,n.y+=E,R===L))break;return f};o.exports=r},691:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),x=function(d,l,h,n,r){return u(d,"alpha",l,h,n,r)};o.exports=x},3877:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),x=function(d,l,h,n,r){return u(d,"x",l,h,n,r)};o.exports=x},71020:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),x=function(d,l,h,n,r,f,a){return h==null&&(h=l),u(d,"x",l,n,f,a),u(d,"y",h,r,f,a)};o.exports=x},28970:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),x=function(d,l,h,n,r){return u(d,"y",l,h,n,r)};o.exports=x},82249:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){x===void 0&&(x=0),d===void 0&&(d=6.28);for(var l=x,h=(d-x)/e.length,n=u.x,r=u.y,f=u.radius,a=0;a<e.length;a++)e[a].x=n+f*Math.cos(l),e[a].y=r+f*Math.sin(l),l+=h;return e};o.exports=T},30285:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){x===void 0&&(x=0),d===void 0&&(d=6.28);for(var l=x,h=(d-x)/e.length,n=u.width/2,r=u.height/2,f=0;f<e.length;f++)e[f].x=u.x+n*Math.cos(l),e[f].y=u.y+r*Math.sin(l),l+=h;return e};o.exports=T},61557:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8570),x=function(d,l){for(var h=u(l,d.length),n=0;n<d.length;n++){var r=d[n],f=h[n];r.x=f.x,r.y=f.y}return d};o.exports=x},63549:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40053),x=e(77640),d=e(38487),l=function(h,n,r){r===void 0&&(r=0);var f=u(n,!1,h.length);r>0?x(f,r):r<0&&d(f,Math.abs(r));for(var a=0;a<h.length;a++)h[a].x=f[a].x,h[a].y=f[a].y;return h};o.exports=l},51629:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(58813),x=function(d,l,h){var n=u({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},h),r=u({x1:l.x2,y1:l.y2,x2:l.x3,y2:l.y3},h),f=u({x1:l.x3,y1:l.y3,x2:l.x1,y2:l.y1},h);n.pop(),r.pop(),f.pop(),n=n.concat(r,f);for(var a=n.length/d.length,c=0,p=0;p<d.length;p++){var v=d[p],m=n[Math.floor(c)];v.x=m.x,v.y=m.y,c+=a}return d};o.exports=x},1045:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){for(var d=0;d<e.length;d++){var l=e[d];l.anims&&l.anims.play(u,x)}return e};o.exports=T},6124:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l,h){d===void 0&&(d=0),l===void 0&&(l=0),h===void 0&&(h=1);var n,r=0,f=e.length;if(h===1)for(n=l;n<f;n++)e[n][u]+=x+r*d,r++;else for(n=l;n>=0;n--)e[n][u]+=x+r*d,r++;return e};o.exports=T},23646:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l,h){d===void 0&&(d=0),l===void 0&&(l=0),h===void 0&&(h=1);var n,r=0,f=e.length;if(h===1)for(n=l;n<f;n++)e[n][u]=x+r*d,r++;else for(n=l;n>=0;n--)e[n][u]=x+r*d,r++;return e};o.exports=T},4392:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30977),x=function(d,l){for(var h=0;h<d.length;h++)u(l,d[h]);return d};o.exports=x},94985:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72006),x=function(d,l){for(var h=0;h<d.length;h++)u(l,d[h]);return d};o.exports=x},63305:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74077),x=function(d,l){for(var h=0;h<d.length;h++)u(l,d[h]);return d};o.exports=x},90739:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(30001),x=function(d,l){for(var h=0;h<d.length;h++)u(l,d[h]);return d};o.exports=x},91417:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99761),x=function(d,l){for(var h=0;h<d.length;h++)u(l,d[h]);return d};o.exports=x},26182:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),x=function(d,l,h,n,r){return u(d,"rotation",l,h,n,r)};o.exports=x},87299:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72395),x=e(53996),d=function(l,h,n){for(var r=h.x,f=h.y,a=0;a<l.length;a++){var c=l[a];u(c,r,f,n,Math.max(1,x(c.x,c.y,r,f)))}return l};o.exports=d},92194:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72395),x=function(d,l,h,n){var r=l.x,f=l.y;if(n===0)return d;for(var a=0;a<d.length;a++)u(d[a],r,f,h,n);return d};o.exports=x},30363:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),x=function(d,l,h,n,r){return u(d,"scaleX",l,h,n,r)};o.exports=x},51449:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),x=function(d,l,h,n,r,f,a){return h==null&&(h=l),u(d,"scaleX",l,n,f,a),u(d,"scaleY",h,r,f,a)};o.exports=x},64895:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6124),x=function(d,l,h,n,r){return u(d,"scaleY",l,h,n,r)};o.exports=x},30329:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r){return u(d,"alpha",l,h,n,r)};o.exports=x},43954:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n){return u(d,"blendMode",l,0,h,n)};o.exports=x},70688:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r){return u(d,"depth",l,h,n,r)};o.exports=x},8314:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){for(var d=0;d<e.length;d++)e[d].setInteractive(u,x);return e};o.exports=T},12894:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r,f,a){return h==null&&(h=l),u(d,"originX",l,n,f,a),u(d,"originY",h,r,f,a),d.forEach(function(c){c.updateDisplayOrigin()}),d};o.exports=x},38767:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r){return u(d,"rotation",l,h,n,r)};o.exports=x},18584:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r,f,a){return h==null&&(h=l),u(d,"scaleX",l,n,f,a),u(d,"scaleY",h,r,f,a)};o.exports=x},17381:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r){return u(d,"scaleX",l,h,n,r)};o.exports=x},74370:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r){return u(d,"scaleY",l,h,n,r)};o.exports=x},27773:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r,f,a){return h==null&&(h=l),u(d,"scrollFactorX",l,n,f,a),u(d,"scrollFactorY",h,r,f,a)};o.exports=x},75257:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r){return u(d,"scrollFactorX",l,h,n,r)};o.exports=x},54512:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r){return u(d,"scrollFactorY",l,h,n,r)};o.exports=x},69423:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l){for(var h=0;h<e.length;h++)e[h].setTint(u,x,d,l);return e};o.exports=T},58291:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n){return u(d,"visible",l,0,h,n)};o.exports=x},94833:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r){return u(d,"x",l,h,n,r)};o.exports=x},14284:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r,f,a){return h==null&&(h=l),u(d,"x",l,n,f,a),u(d,"y",h,r,f,a)};o.exports=x},96574:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23646),x=function(d,l,h,n,r){return u(d,"y",l,h,n,r)};o.exports=x},74086:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n,r){n===void 0&&(n=0),r===void 0&&(r=new u);var f,a,c=d.length;if(c===1)f=d[0].x,a=d[0].y,d[0].x=l,d[0].y=h;else{var p=1,v=0;n===0&&(v=c-1,p=c-2),f=d[v].x,a=d[v].y,d[v].x=l,d[v].y=h;for(var m=0;m<c;m++)if(!(p>=c||p===-1)){var y=d[p],E=y.x,P=y.y;y.x=f,y.y=a,f=E,a=P,n===0?p--:p++}}return r.x=f,r.y=a,r};o.exports=x},86347:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18592),x=function(d){return u(d)};o.exports=x},1558:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(5514),x=function(d,l,h,n,r){r===void 0&&(r=!1);var f=Math.abs(n-h)/d.length,a;if(r)for(a=0;a<d.length;a++)d[a][l]+=u(a*f,h,n);else for(a=0;a<d.length;a++)d[a][l]=u(a*f,h,n);return d};o.exports=x},9938:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87736),x=function(d,l,h,n,r){r===void 0&&(r=!1);var f=Math.abs(n-h)/d.length,a;if(r)for(a=0;a<d.length;a++)d[a][l]+=u(a*f,h,n);else for(a=0;a<d.length;a++)d[a][l]=u(a*f,h,n);return d};o.exports=x},71060:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l){if(l===void 0&&(l=!1),e.length===0)return e;if(e.length===1)return l?e[0][u]+=(d+x)/2:e[0][u]=(d+x)/2,e;var h=Math.abs(d-x)/(e.length-1),n;if(l)for(n=0;n<e.length;n++)e[n][u]+=n*h+x;else for(n=0;n<e.length;n++)e[n][u]=n*h+x;return e};o.exports=T},11207:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=0;u<e.length;u++)e[u].visible=!e[u].visible;return e};o.exports=T},24404:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1071),x=function(d,l,h){h===void 0&&(h=0);for(var n=0;n<d.length;n++){var r=d[n];r.x=u(r.x,l.left-h,l.right+h),r.y=u(r.y,l.top-h,l.bottom+h)}return d};o.exports=x},83979:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AlignTo:e(62270),Angle:e(61148),Call:e(22015),GetFirst:e(31060),GetLast:e(52367),GridAlign:e(12673),IncAlpha:e(691),IncX:e(3877),IncXY:e(71020),IncY:e(28970),PlaceOnCircle:e(82249),PlaceOnEllipse:e(30285),PlaceOnLine:e(61557),PlaceOnRectangle:e(63549),PlaceOnTriangle:e(51629),PlayAnimation:e(1045),PropertyValueInc:e(6124),PropertyValueSet:e(23646),RandomCircle:e(4392),RandomEllipse:e(94985),RandomLine:e(63305),RandomRectangle:e(90739),RandomTriangle:e(91417),Rotate:e(26182),RotateAround:e(87299),RotateAroundDistance:e(92194),ScaleX:e(30363),ScaleXY:e(51449),ScaleY:e(64895),SetAlpha:e(30329),SetBlendMode:e(43954),SetDepth:e(70688),SetHitArea:e(8314),SetOrigin:e(12894),SetRotation:e(38767),SetScale:e(18584),SetScaleX:e(17381),SetScaleY:e(74370),SetScrollFactor:e(27773),SetScrollFactorX:e(75257),SetScrollFactorY:e(54512),SetTint:e(69423),SetVisible:e(58291),SetX:e(94833),SetXY:e(14284),SetY:e(96574),ShiftPosition:e(74086),Shuffle:e(86347),SmootherStep:e(9938),SmoothStep:e(1558),Spread:e(71060),ToggleVisible:e(11207),WrapInRectangle:e(24404)}},85463:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=e(56694),d=e(16938),l=e(2406),h=e(71519),n=e(10850),r=e(28834),f=new x({initialize:function(c,p,v){this.manager=c,this.key=p,this.type="frame",this.frames=this.getFrames(c.textureManager,n(v,"frames",[]),n(v,"defaultTextureKey",null),n(v,"sortFrames",!0)),this.frameRate=n(v,"frameRate",null),this.duration=n(v,"duration",null),this.msPerFrame,this.skipMissedFrames=n(v,"skipMissedFrames",!0),this.delay=n(v,"delay",0),this.repeat=n(v,"repeat",0),this.repeatDelay=n(v,"repeatDelay",0),this.yoyo=n(v,"yoyo",!1),this.showBeforeDelay=n(v,"showBeforeDelay",!1),this.showOnStart=n(v,"showOnStart",!1),this.hideOnComplete=n(v,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(d.PAUSE_ALL,this.pause,this),this.manager.on(d.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(a,c,p,v){p===null&&v===null?(a.frameRate=24,a.duration=24/c*1e3):p&&v===null?(a.duration=p,a.frameRate=c/(p/1e3)):(a.frameRate=v,a.duration=c/v*1e3),a.msPerFrame=1e3/a.frameRate},addFrame:function(a){return this.addFrameAt(this.frames.length,a)},addFrameAt:function(a,c){var p=this.getFrames(this.manager.textureManager,c);if(p.length>0){if(a===0)this.frames=p.concat(this.frames);else if(a===this.frames.length)this.frames=this.frames.concat(p);else{var v=this.frames.slice(0,a),m=this.frames.slice(a);this.frames=v.concat(p,m)}this.updateFrameSequence()}return this},checkFrame:function(a){return a>=0&&a<this.frames.length},getFirstTick:function(a){a.accumulator=0,a.nextTick=a.msPerFrame+a.currentFrame.duration},getFrameAt:function(a){return this.frames[a]},getFrames:function(a,c,p,v){v===void 0&&(v=!0);var m=[],y,E,P=1,S,w;if(typeof c=="string"){if(w=c,!a.exists(w))return console.warn('Texture "%s" not found',w),m;var A=a.get(w),R=A.getFrameNames();v&&r(R),c=[],R.forEach(function(B){c.push({key:w,frame:B})})}if(!Array.isArray(c)||c.length===0)return m;for(S=0;S<c.length;S++){var O=c[S],L=n(O,"key",p);if(!!L){var b=n(O,"frame",0),D=a.getFrame(L,b);if(!D){console.warn('Texture "%s" not found',L);continue}E=new h(L,b,P,D),E.duration=n(O,"duration",0),E.isFirst=!y,y&&(y.nextFrame=E,E.prevFrame=y),m.push(E),y=E,P++}}if(m.length>0){E.isLast=!0,E.nextFrame=m[0],m[0].prevFrame=E;var I=1/(m.length-1);for(S=0;S<m.length;S++)m[S].progress=S*I}return m},getNextTick:function(a){a.accumulator-=a.nextTick,a.nextTick=a.msPerFrame+a.currentFrame.duration},getFrameByProgress:function(a){return a=u(a,0,1),l(a,this.frames,"progress")},nextFrame:function(a){var c=a.currentFrame;c.isLast?a.yoyo?this.handleYoyoFrame(a,!1):a.repeatCounter>0?a.inReverse&&a.forward?a.forward=!1:this.repeatAnimation(a):a.complete():this.updateAndGetNextTick(a,c.nextFrame)},handleYoyoFrame:function(a,c){if(c||(c=!1),a.inReverse===!c&&a.repeatCounter>0){(a.repeatDelay===0||a.pendingRepeat)&&(a.forward=c),this.repeatAnimation(a);return}if(a.inReverse!==c&&a.repeatCounter===0){a.complete();return}a.forward=c;var p=c?a.currentFrame.nextFrame:a.currentFrame.prevFrame;this.updateAndGetNextTick(a,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(a){var c=a.currentFrame;c.isFirst?a.yoyo?this.handleYoyoFrame(a,!0):a.repeatCounter>0?a.inReverse&&!a.forward?this.repeatAnimation(a):(a.forward=!0,this.repeatAnimation(a)):a.complete():this.updateAndGetNextTick(a,c.prevFrame)},updateAndGetNextTick:function(a,c){a.setCurrentFrame(c),this.getNextTick(a)},removeFrame:function(a){var c=this.frames.indexOf(a);return c!==-1&&this.removeFrameAt(c),this},removeFrameAt:function(a){return this.frames.splice(a,1),this.updateFrameSequence(),this},repeatAnimation:function(a){if(a._pendingStop===2){if(a._pendingStopValue===0)return a.stop();a._pendingStopValue--}a.repeatDelay>0&&!a.pendingRepeat?(a.pendingRepeat=!0,a.accumulator-=a.nextTick,a.nextTick+=a.repeatDelay):(a.repeatCounter--,a.forward?a.setCurrentFrame(a.currentFrame.nextFrame):a.setCurrentFrame(a.currentFrame.prevFrame),a.isPlaying&&(this.getNextTick(a),a.handleRepeat()))},toJSON:function(){var a={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(c){a.frames.push(c.toJSON())}),a},updateFrameSequence:function(){for(var a=this.frames.length,c=1/(a-1),p,v=0;v<a;v++)p=this.frames[v],p.index=v+1,p.isFirst=!1,p.isLast=!1,p.progress=v*c,v===0?(p.isFirst=!0,a===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[a-1],p.nextFrame=this.frames[v+1])):v===a-1&&a>1?(p.isLast=!0,p.prevFrame=this.frames[a-2],p.nextFrame=this.frames[0]):a>1&&(p.prevFrame=this.frames[v-1],p.nextFrame=this.frames[v+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(d.PAUSE_ALL,this.pause,this),this.manager.off(d.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var a=0;a<this.frames.length;a++)this.frames[a].destroy();this.frames=[],this.manager=null}});o.exports=f},71519:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h,n,r,f){f===void 0&&(f=!1),this.textureKey=l,this.textureFrame=h,this.index=n,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});o.exports=x},90249:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85463),x=e(56694),d=e(33885),l=e(6659),h=e(16938),n=e(97081),r=e(72632),f=e(10850),a=e(83392),c=e(13401),p=e(76400),v=new x({Extends:l,initialize:function(y){l.call(this),this.game=y,this.textureManager=null,this.globalTimeScale=1,this.anims=new d,this.mixes=new d,this.paused=!1,this.name="AnimationManager",y.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},addMix:function(m,y,E){var P=this.anims,S=this.mixes,w=typeof m=="string"?m:m.key,A=typeof y=="string"?y:y.key;if(P.has(w)&&P.has(A)){var R=S.get(w);R||(R={}),R[A]=E,S.set(w,R)}return this},removeMix:function(m,y){var E=this.mixes,P=typeof m=="string"?m:m.key,S=E.get(P);if(S)if(y){var w=typeof y=="string"?y:y.key;S.hasOwnProperty(w)&&delete S[w]}else y||E.delete(P);return this},getMix:function(m,y){var E=this.mixes,P=typeof m=="string"?m:m.key,S=typeof y=="string"?y:y.key,w=E.get(P);return w&&w.hasOwnProperty(S)?w[S]:0},add:function(m,y){return this.anims.has(m)?(console.warn("Animation key exists: "+m),this):(y.key=m,this.anims.set(m,y),this.emit(h.ADD_ANIMATION,m,y),this)},exists:function(m){return this.anims.has(m)},createFromAseprite:function(m,y,E){var P=[],S=this.game.cache.json.get(m);if(!S)return console.warn("No Aseprite data found for: "+m),P;var w=this,A=f(S,"meta",null),R=f(S,"frames",null);if(A&&R){var O=f(A,"frameTags",[]);O.forEach(function(L){var b=[],D=r(L,"name",null),I=r(L,"from",0),B=r(L,"to",0),V=r(L,"direction","forward");if(!!D&&(!y||y&&y.indexOf(D)>-1)){for(var Y=0,k=I;k<=B;k++){var W=k.toString(),G=R[W];if(G){var U=r(G,"duration",a.MAX_SAFE_INTEGER);b.push({key:m,frame:W,duration:U}),Y+=U}}var F=Y/b.length;b.forEach(function(X){X.duration-=F}),V==="reverse"&&(b=b.reverse());var N={key:D,frames:b,duration:Y,yoyo:V==="pingpong"},z;E?E.anims&&(z=E.anims.create(N)):z=w.create(N),z&&P.push(z)}})}return P},create:function(m){var y=m.key,E=!1;return y&&(E=this.get(y),E?console.warn("AnimationManager key already exists: "+y):(E=new u(this,y,m),this.anims.set(y,E),this.emit(h.ADD_ANIMATION,y,E))),E},fromJSON:function(m,y){y===void 0&&(y=!1),y&&this.anims.clear(),typeof m=="string"&&(m=JSON.parse(m));var E=[];if(m.hasOwnProperty("anims")&&Array.isArray(m.anims)){for(var P=0;P<m.anims.length;P++)E.push(this.create(m.anims[P]));m.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=m.globalTimeScale)}else m.hasOwnProperty("key")&&m.type==="frame"&&E.push(this.create(m));return E},generateFrameNames:function(m,y){var E=f(y,"prefix",""),P=f(y,"start",0),S=f(y,"end",0),w=f(y,"suffix",""),A=f(y,"zeroPad",0),R=f(y,"outputArray",[]),O=f(y,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),R;var L=this.textureManager.get(m);if(!L)return R;var b;if(y)for(O||(O=c(P,S)),b=0;b<O.length;b++){var D=E+p(O[b],A,"0",1)+w;L.has(D)?R.push({key:m,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,m)}else for(O=L.getFrameNames(),b=0;b<O.length;b++)R.push({key:m,frame:O[b]});return R},generateFrameNumbers:function(m,y){var E=f(y,"start",0),P=f(y,"end",-1),S=f(y,"first",!1),w=f(y,"outputArray",[]),A=f(y,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),w;var R=this.textureManager.get(m);if(!R)return w;S&&R.has(S)&&w.push({key:m,frame:S}),A||(P===-1&&(P=R.frameTotal-2),A=c(E,P));for(var O=0;O<A.length;O++){var L=A[O];R.has(L)?w.push({key:m,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,m)}return w},get:function(m){return this.anims.get(m)},getAnimsFromTexture:function(m){for(var y=this.textureManager.get(m),E=y.key,P=this.anims.getArray(),S=[],w=0;w<P.length;w++)for(var A=P[w],R=A.frames,O=0;O<R.length;O++)if(R[O].textureKey===E){S.push(A.key);break}return S},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(m,y){Array.isArray(y)||(y=[y]);for(var E=0;E<y.length;E++)y[E].anims.play(m);return this},staggerPlay:function(m,y,E,P){E===void 0&&(E=0),P===void 0&&(P=!0),Array.isArray(y)||(y=[y]);var S=y.length;P||S--;for(var w=0;w<y.length;w++){var A=E<0?Math.abs(E)*(S-w):E*w;y[w].anims.playAfterDelay(m,A)}return this},remove:function(m){var y=this.get(m);return y&&(this.emit(h.REMOVE_ANIMATION,m,y),this.anims.delete(m),this.removeMix(m)),y},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(m){var y={anims:[],globalTimeScale:this.globalTimeScale};return m!==void 0&&m!==""?y.anims.push(this.anims.get(m).toJSON()):this.anims.each(function(E,P){y.anims.push(P.toJSON())}),y},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});o.exports=v},16569:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(33885),d=e(72632),l=e(16938),h=e(85463),n=new u({initialize:function(f){this.parent=f,this.animationManager=f.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(r){var f=this.parent;if(r===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,f;Array.isArray(r)||(r=[r]);for(var a=0;a<r.length;a++){var c=r[a];this.nextAnim?this.nextAnimsQueue.push(c):this.nextAnim=c}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(r){this.isPlaying&&this.stop();var f=this.animationManager,a=typeof r=="string"?r:d(r,"key",null),c=this.exists(a)?this.get(a):f.get(a);if(!c)console.warn("Missing animation: "+a);else{this.currentAnim=c;var p=c.getTotalFrames(),v=d(r,"frameRate",c.frameRate),m=d(r,"duration",c.duration);c.calculateDuration(this,p,m,v),this.delay=d(r,"delay",c.delay),this.repeat=d(r,"repeat",c.repeat),this.repeatDelay=d(r,"repeatDelay",c.repeatDelay),this.yoyo=d(r,"yoyo",c.yoyo),this.showBeforeDelay=d(r,"showBeforeDelay",c.showBeforeDelay),this.showOnStart=d(r,"showOnStart",c.showOnStart),this.hideOnComplete=d(r,"hideOnComplete",c.hideOnComplete),this.skipMissedFrames=d(r,"skipMissedFrames",c.skipMissedFrames),this.timeScale=d(r,"timeScale",this.timeScale);var y=d(r,"startFrame",0);y>c.getTotalFrames()&&(y=0);var E=c.frames[y];y===0&&!this.forward&&(E=c.getLastFrame()),this.currentFrame=E}return this.parent},pause:function(r){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),r!==void 0&&this.setCurrentFrame(r),this.parent},resume:function(r){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),r!==void 0&&this.setCurrentFrame(r),this.parent},playAfterDelay:function(r,f){if(!this.isPlaying)this.delayCounter=f,this.play(r,!0);else{var a=this.nextAnim,c=this.nextAnimsQueue;a&&c.unshift(a),this.nextAnim=r,this._pendingStop=1,this._pendingStopValue=f}return this.parent},playAfterRepeat:function(r,f){if(f===void 0&&(f=1),!this.isPlaying)this.play(r);else{var a=this.nextAnim,c=this.nextAnimsQueue;a&&c.unshift(a),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this.nextAnim=r,this._pendingStop=2,this._pendingStopValue=f}return this.parent},play:function(r,f){f===void 0&&(f=!1);var a=this.currentAnim,c=this.parent,p=typeof r=="string"?r:r.key;if(f&&this.isPlaying&&a.key===p)return c;if(a&&this.isPlaying){var v=this.animationManager.getMix(a.key,r);if(v>0)return this.playAfterDelay(r,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(r)},playReverse:function(r,f){f===void 0&&(f=!1);var a=typeof r=="string"?r:r.key;return f&&this.isPlaying&&this.currentAnim.key===a?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(r))},startAnimation:function(r){this.load(r);var f=this.currentAnim,a=this.parent;return f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,f.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),a},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},emitEvents:function(r,f){var a=this.currentAnim;if(a){var c=this.currentFrame,p=this.parent,v=c.textureFrame;p.emit(r,a,c,p,v),f&&p.emit(f+a.key,a,c,p,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var r=this.currentFrame;if(!r)return 0;var f=r.progress;return this.inReverse&&(f*=-1),f},setProgress:function(r){return this.forward||(r=1-r),this.setCurrentFrame(this.currentAnim.getFrameByProgress(r)),this.parent},setRepeat:function(r){return this.repeatCounter=r===-1?Number.MAX_VALUE:r,this.parent},globalRemove:function(r,f){f===void 0&&(f=this.currentAnim),this.isPlaying&&f.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(r,f){r===void 0&&(r=!1),f===void 0&&(f=!1);var a=this.currentAnim,c=this.parent;return a?(f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),a.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!r,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(a.frames[0]),this.parent):c},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var r=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(r)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var r=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(r)}return this.parent},stopAfterDelay:function(r){return this._pendingStop=1,this._pendingStopValue=r,this.parent},stopAfterRepeat:function(r){return r===void 0&&(r=1),this.repeatCounter!==-1&&r>this.repeatCounter&&(r=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=r,this.parent},stopOnFrame:function(r){return this._pendingStop=3,this._pendingStopValue=r,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(r,f){var a=this.currentAnim;if(!(!this.isPlaying||!a||a.paused)){if(this.accumulator+=f*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=f,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?a.nextFrame(this):a.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var c=0;do this.forward?a.nextFrame(this):a.previousFrame(this),c++;while(this.isPlaying&&this.accumulator>this.nextTick&&c<60)}}},setCurrentFrame:function(r){var f=this.parent;return this.currentFrame=r,f.texture=r.frame.texture,f.frame=r.frame,f.isCropped&&f.frame.updateCropUVs(f._crop,f.flipX,f.flipY),r.setAlpha&&(f.alpha=r.alpha),f.setSizeToFrame(),f._originComponent&&(r.frame.customPivot?f.setOrigin(r.frame.pivotX,r.frame.pivotY):f.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===r&&this.stop()),f},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(r){return this.anims?this.anims.get(r):null},exists:function(r){return this.anims?this.anims.has(r):!1},create:function(r){var f=r.key,a=!1;return f&&(a=this.get(f),a?console.warn("Animation key already exists: "+f):(a=new h(this,f,r),this.anims||(this.anims=new x),this.anims.set(f,a))),a},createFromAseprite:function(r,f){return this.animationManager.createFromAseprite(r,f,this.parent)},generateFrameNames:function(r,f){return this.animationManager.generateFrameNames(r,f)},generateFrameNumbers:function(r,f){return this.animationManager.generateFrameNumbers(r,f)},remove:function(r){var f=this.get(r);return f&&(this.currentAnim===f&&this.stop(),this.anims.delete(r)),f},destroy:function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});o.exports=n},44509:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="add"},84563:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationcomplete"},61586:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationcomplete-"},72175:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationrepeat"},568:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationrestart"},37690:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationstart"},58525:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationstop"},5243:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationupdate"},10598:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pauseall"},4860:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="remove"},31865:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resumeall"},16938:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD_ANIMATION:e(44509),ANIMATION_COMPLETE:e(84563),ANIMATION_COMPLETE_KEY:e(61586),ANIMATION_REPEAT:e(72175),ANIMATION_RESTART:e(568),ANIMATION_START:e(37690),ANIMATION_STOP:e(58525),ANIMATION_UPDATE:e(5243),PAUSE_ALL:e(10598),REMOVE_ANIMATION:e(4860),RESUME_ALL:e(31865)}},13517:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Animation:e(85463),AnimationFrame:e(71519),AnimationManager:e(90249),AnimationState:e(16569),Events:e(16938)}},23740:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(33885),d=e(6659),l=e(69773),h=new u({initialize:function(){this.entries=new x,this.events=new d},add:function(n,r){return this.entries.set(n,r),this.events.emit(l.ADD,this,n,r),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var r=this.get(n);return r&&(this.entries.delete(n),this.events.emit(l.REMOVE,this,n,r.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});o.exports=h},43474:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23740),x=e(56694),d=e(97081),l=new x({initialize:function(n){this.game=n,this.binary=new u,this.bitmapFont=new u,this.json=new u,this.physics=new u,this.shader=new u,this.audio=new u,this.video=new u,this.text=new u,this.html=new u,this.obj=new u,this.tilemap=new u,this.xml=new u,this.custom={},this.game.events.once(d.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new u),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],n=0;n<h.length;n++)this[h[n]].destroy(),this[h[n]]=null;for(var r in this.custom)this.custom[r].destroy();this.custom=null,this.game=null}});o.exports=l},94762:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="add"},75968:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="remove"},69773:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD:e(94762),REMOVE:e(75968)}},45820:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BaseCache:e(23740),CacheManager:e(43474),Events:e(69773)}},51052:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(75606),l=e(6659),h=e(89787),n=e(74118),r=e(69360),f=e(93222),a=e(93736),c=new u({Extends:l,Mixins:[x.AlphaSingle,x.Visible],initialize:function(v,m,y,E){v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=0),E===void 0&&(E=0),l.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=v,this._y=m,this._width=y,this._height=E,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new r,this.transparent=!0,this.backgroundColor=f("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new a(y/2,E/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,v){return p===void 0&&(p=.5),v===void 0&&(v=p),this.originX=p,this.originY=v,this},getScroll:function(p,v,m){m===void 0&&(m=new a);var y=this.width*.5,E=this.height*.5;return m.x=p-y,m.y=v-E,this.useBounds&&(m.x=this.clampX(m.x),m.y=this.clampY(m.y)),m},centerOnX:function(p){var v=this.width*.5;return this.midPoint.x=p,this.scrollX=p-v,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var v=this.height*.5;return this.midPoint.y=p,this.scrollY=p-v,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,v){return this.centerOnX(p),this.centerOnY(v),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,v=this.width*.5,m=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-v,this.scrollY=p.centerY-m}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var v=this.matrix.matrix,m=v[0],y=v[1],E=v[2],P=v[3],S=m*P-y*E;if(!S)return p;var w=v[4],A=v[5],R=this.scrollX,O=this.scrollY,L=this.width,b=this.height,D=this.y,I=D+b,B=this.x,V=B+L,Y=this.culledObjects,k=p.length;S=1/S,Y.length=0;for(var W=0;W<k;++W){var G=p[W];if(!G.hasOwnProperty("width")||G.parentContainer){Y.push(G);continue}var U=G.width,F=G.height,N=G.x-R*G.scrollFactorX-U*G.originX,z=G.y-O*G.scrollFactorY-F*G.originY,X=N*m+z*E+w,H=N*y+z*P+A,$=(N+U)*m+(z+F)*E+w,K=(N+U)*y+(z+F)*P+A;$>B&&X<V&&K>D&&H<I&&Y.push(G)}return Y},getWorldPoint:function(p,v,m){m===void 0&&(m=new a);var y=this.matrix.matrix,E=y[0],P=y[1],S=y[2],w=y[3],A=y[4],R=y[5],O=E*w-P*S;if(!O)return m.x=p,m.y=v,m;O=1/O;var L=w*O,b=-P*O,D=-S*O,I=E*O,B=(S*R-w*A)*O,V=(P*A-E*R)*O,Y=Math.cos(this.rotation),k=Math.sin(this.rotation),W=this.zoomX,G=this.zoomY,U=this.scrollX,F=this.scrollY,N=p+(U*Y-F*k)*W,z=v+(U*k+F*Y)*G;return m.x=N*L+z*D+B,m.y=N*b+z*I+V,m},ignore:function(p){var v=this.id;Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var y=p[m];Array.isArray(y)?this.ignore(y):y.isParent?this.ignore(y.getChildren()):y.cameraFilter|=v}return this},preRender:function(){this.renderList.length=0;var p=this.width,v=this.height,m=p*.5,y=v*.5,E=this.zoomX,P=this.zoomY,S=this.matrix,w=p*this.originX,A=v*this.originY,R=this.scrollX,O=this.scrollY;this.useBounds&&(R=this.clampX(R),O=this.clampY(O)),this.roundPixels&&(w=Math.round(w),A=Math.round(A)),this.scrollX=R,this.scrollY=O;var L=R+m,b=O+y;this.midPoint.set(L,b);var D=p/E,I=v/P;this.worldView.setTo(L-D/2,b-I/2,D,I),S.applyITRS(this.x+w,this.y+A,this.rotation,E,P),S.translate(-w,-A)},clampX:function(p){var v=this._bounds,m=this.displayWidth,y=v.x+(m-this.width)/2,E=Math.max(y,y+v.width-m);return p<y?p=y:p>E&&(p=E),p},clampY:function(p){var v=this._bounds,m=this.displayHeight,y=v.y+(m-this.height)/2,E=Math.max(y,y+v.height-m);return p<y?p=y:p>E&&(p=E),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=d(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=f(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,v,m,y,E){return E===void 0&&(E=!1),this._bounds.setTo(p,v,m,y),this.dirty=!0,this.useBounds=!0,E?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new n);var v=this._bounds;return p.setTo(v.x,v.y,v.width,v.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,v){return v===void 0&&(v=p),this.x=p,this.y=v,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,v){v===void 0&&(v=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=v;var m=p.sys;return this.sceneManager=m.game.scene,this.scaleManager=m.scale,this.cameraManager=m.cameras,this.updateSystem(),this},setScroll:function(p,v){return v===void 0&&(v=p),this.scrollX=p,this.scrollY=v,this},setSize:function(p,v){return v===void 0&&(v=p),this.width=p,this.height=v,this},setViewport:function(p,v,m,y){return this.x=p,this.y=v,this.width=m,this.height=y,this},setZoom:function(p,v){return p===void 0&&(p=1),v===void 0&&(v=p),p===0&&(p=.001),v===0&&(v=.001),this.zoomX=p,this.zoomY=v,this},setMask:function(p,v){return v===void 0&&(v=!0),this.mask=p,this._maskCamera=v?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,v=this.sceneManager;p&&!this._customViewport?v.customViewports++:!p&&this._customViewport&&v.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});o.exports=c},47751:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(51052),x=e(79993),d=e(82897),l=e(56694),h=e(64937),n=e(53030),r=e(89787),f=e(42798),a=e(74118),c=e(93736),p=new l({Extends:u,Mixins:[h.PostPipeline],initialize:function(m,y,E,P){u.call(this,m,y,E,P),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new c(1,1),this.followOffset=new c,this.deadzone=null,this._follow=null},setDeadzone:function(v,m){if(v===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=v,this.deadzone.height=m):this.deadzone=new a(0,0,v,m),this._follow){var y=this.width/2,E=this.height/2,P=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(P,S),this.scrollX=P-y,this.scrollY=S-E}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(v,m,y,E,P,S){return this.fadeEffect.start(!1,v,m,y,E,!0,P,S)},fadeOut:function(v,m,y,E,P,S){return this.fadeEffect.start(!0,v,m,y,E,!0,P,S)},fadeFrom:function(v,m,y,E,P,S,w){return this.fadeEffect.start(!1,v,m,y,E,P,S,w)},fade:function(v,m,y,E,P,S,w){return this.fadeEffect.start(!0,v,m,y,E,P,S,w)},flash:function(v,m,y,E,P,S,w){return this.flashEffect.start(v,m,y,E,P,S,w)},shake:function(v,m,y,E,P){return this.shakeEffect.start(v,m,y,E,P)},pan:function(v,m,y,E,P,S,w){return this.panEffect.start(v,m,y,E,P,S,w)},rotateTo:function(v,m,y,E,P,S,w){return this.rotateToEffect.start(v,m,y,E,P,S,w)},zoomTo:function(v,m,y,E,P,S){return this.zoomEffect.start(v,m,y,E,P,S)},preRender:function(){this.renderList.length=0;var v=this.width,m=this.height,y=v*.5,E=m*.5,P=this.zoom,S=this.matrix,w=v*this.originX,A=m*this.originY,R=this._follow,O=this.deadzone,L=this.scrollX,b=this.scrollY;O&&x(O,this.midPoint.x,this.midPoint.y);var D=!1;if(this.roundPixels&&(w=Math.floor(w),A=Math.floor(A)),R&&!this.panEffect.isRunning){var I=this.lerp,B=R.x-this.followOffset.x,V=R.y-this.followOffset.y;this.roundPixels&&(B=Math.floor(B),V=Math.floor(V)),O?(B<O.x?L=f(L,L-(O.x-B),I.x):B>O.right&&(L=f(L,L+(B-O.right),I.x)),V<O.y?b=f(b,b-(O.y-V),I.y):V>O.bottom&&(b=f(b,b+(V-O.bottom),I.y))):(L=f(L,B-w,I.x),b=f(b,V-A,I.y)),D=!0}this.useBounds&&(L=this.clampX(L),b=this.clampY(b)),this.roundPixels&&(L=Math.floor(L),b=Math.floor(b)),this.scrollX=L,this.scrollY=b;var Y=L+y,k=b+E;this.midPoint.set(Y,k);var W=v/P,G=m/P,U=Y-W/2,F=k-G/2;this.roundPixels&&(U=Math.floor(U),F=Math.floor(F)),this.worldView.setTo(U,F,W,G),S.applyITRS(Math.floor(this.x+w),Math.floor(this.y+A),this.rotation,P,P),S.translate(-w,-A),this.shakeEffect.preRender(),D&&this.emit(r.FOLLOW_UPDATE,this,R)},setLerp:function(v,m){return v===void 0&&(v=1),m===void 0&&(m=v),this.lerp.set(v,m),this},setFollowOffset:function(v,m){return v===void 0&&(v=0),m===void 0&&(m=0),this.followOffset.set(v,m),this},startFollow:function(v,m,y,E,P,S){m===void 0&&(m=!1),y===void 0&&(y=1),E===void 0&&(E=y),P===void 0&&(P=0),S===void 0&&(S=P),this._follow=v,this.roundPixels=m,y=d(y,0,1),E=d(E,0,1),this.lerp.set(y,E),this.followOffset.set(P,S);var w=this.width/2,A=this.height/2,R=v.x-P,O=v.y-S;return this.midPoint.set(R,O),this.scrollX=R-w,this.scrollY=O-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(v,m){this.visible&&(this.rotateToEffect.update(v,m),this.panEffect.update(v,m),this.zoomEffect.update(v,m),this.shakeEffect.update(v,m),this.flashEffect.update(v,m),this.fadeEffect.update(v,m))},destroy:function(){this.resetFX(),u.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});o.exports=p},62382:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47751),x=e(56694),d=e(72632),l=e(91963),h=e(94287),n=e(40444),r=e(7599),f=new x({initialize:function(c){this.scene=c,this.systems=c.sys,this.roundPixels=c.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,c.sys.events.once(r.BOOT,this.boot,this),c.sys.events.on(r.START,this.start,this)},boot:function(){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new u(0,0,a.scale.width,a.scale.height).setScene(this.scene),a.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){if(!this.main){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0]}var c=this.systems.events;c.on(r.UPDATE,this.update,this),c.once(r.SHUTDOWN,this.shutdown,this)},add:function(a,c,p,v,m,y){a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),m===void 0&&(m=!1),y===void 0&&(y="");var E=new u(a,c,p,v);return E.setName(y),E.setScene(this.scene),E.setRoundPixels(this.roundPixels),E.id=this.getNextID(),this.cameras.push(E),m&&(this.main=E),E},addExisting:function(a,c){c===void 0&&(c=!1);var p=this.cameras.indexOf(a);return p===-1?(a.id=this.getNextID(),a.setRoundPixels(this.roundPixels),this.cameras.push(a),c&&(this.main=a),a):null},getNextID:function(){for(var a=this.cameras,c=1,p=0;p<32;p++){for(var v=!1,m=0;m<a.length;m++){var y=a[m];if(y&&y.id===c){v=!0;continue}}if(v)c=c<<1;else return c}return 0},getTotal:function(a){a===void 0&&(a=!1);for(var c=0,p=this.cameras,v=0;v<p.length;v++){var m=p[v];(!a||a&&m.visible)&&c++}return c},fromJSON:function(a){Array.isArray(a)||(a=[a]);for(var c=this.scene.sys.scale.width,p=this.scene.sys.scale.height,v=0;v<a.length;v++){var m=a[v],y=d(m,"x",0),E=d(m,"y",0),P=d(m,"width",c),S=d(m,"height",p),w=this.add(y,E,P,S);w.name=d(m,"name",""),w.zoom=d(m,"zoom",1),w.rotation=d(m,"rotation",0),w.scrollX=d(m,"scrollX",0),w.scrollY=d(m,"scrollY",0),w.roundPixels=d(m,"roundPixels",!1),w.visible=d(m,"visible",!0);var A=d(m,"backgroundColor",!1);A&&w.setBackgroundColor(A);var R=d(m,"bounds",null);if(R){var O=d(R,"x",0),L=d(R,"y",0),b=d(R,"width",c),D=d(R,"height",p);w.setBounds(O,L,b,D)}}return this},getCamera:function(a){for(var c=this.cameras,p=0;p<c.length;p++)if(c[p].name===a)return c[p];return null},getCamerasBelowPointer:function(a){for(var c=this.cameras,p=a.x,v=a.y,m=[],y=0;y<c.length;y++){var E=c[y];E.visible&&E.inputEnabled&&h(E,p,v)&&m.unshift(E)}return m},remove:function(a,c){c===void 0&&(c=!0),Array.isArray(a)||(a=[a]);for(var p=0,v=this.cameras,m=0;m<a.length;m++){var y=v.indexOf(a[m]);y!==-1&&(c?v[y].destroy():v[y].renderList=[],v.splice(y,1),p++)}return!this.main&&v[0]&&(this.main=v[0]),p},render:function(a,c){for(var p=this.scene,v=this.cameras,m=0;m<v.length;m++){var y=v[m];if(y.visible&&y.alpha>0){y.preRender();var E=this.getVisibleChildren(c.getChildren(),y);a.render(p,E,y)}}},getVisibleChildren:function(a,c){return a.filter(function(p){return p.willRender(c)})},resetAll:function(){for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(a,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(a,c)},onResize:function(a,c,p,v,m){for(var y=0;y<this.cameras.length;y++){var E=this.cameras[y];E._x===0&&E._y===0&&E._width===v&&E._height===m&&E.setSize(c.width,c.height)}},resize:function(a,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(a,c)},shutdown:function(){this.main=void 0;for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();this.cameras=[];var c=this.systems.events;c.off(r.UPDATE,this.update,this),c.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(r.START,this.start,this),this.systems.events.off(r.DESTROY,this.destroy,this),this.systems.game.scale.off(n.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});l.register("CameraManager",f,"cameras"),o.exports=f},92522:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=e(56694),d=e(89787),l=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(h,n,r,f,a,c,p,v){if(h===void 0&&(h=!0),n===void 0&&(n=1e3),r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=!1),p===void 0&&(p=null),v===void 0&&(v=this.camera.scene),!c&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=h,this.progress=0,this.red=r,this.green=f,this.blue=a,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=v;var m=h?d.FADE_OUT_START:d.FADE_IN_START;return this.camera.emit(m,this.camera,this,n,r,f,a),this.camera},update:function(h,n){!this.isRunning||(this._elapsed+=n,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(h,n){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera,f=this.red/255,a=this.green/255,c=this.blue/255;return h.drawFillRect(r.x,r.y,r.width,r.height,n(c,a,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var h=this.direction?d.FADE_OUT_COMPLETE:d.FADE_IN_COMPLETE;this.camera.emit(h,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=l},22151:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=e(56694),d=e(89787),l=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(h,n,r,f,a,c,p){return h===void 0&&(h=250),n===void 0&&(n=255),r===void 0&&(r=255),f===void 0&&(f=255),a===void 0&&(a=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),!a&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=h,this.progress=0,this.red=n,this.green=r,this.blue=f,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(d.FLASH_START,this.camera,this,h,n,r,f),this.camera)},update:function(h,n){!this.isRunning||(this._elapsed+=n,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var n=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(h,n){if(!this.isRunning)return!1;var r=this.camera,f=this.red/255,a=this.green/255,c=this.blue/255;return h.drawFillRect(r.x,r.y,r.width,r.height,n(c,a,f,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=l},37551:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=e(56694),d=e(35060),l=e(89787),h=e(93736),n=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,f,a,c,p,v,m){a===void 0&&(a=1e3),c===void 0&&(c=d.Linear),p===void 0&&(p=!1),v===void 0&&(v=null),m===void 0&&(m=this.camera.scene);var y=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source.set(y.scrollX,y.scrollY),this.destination.set(r,f),y.getScroll(r,f,this.current),typeof c=="string"&&d.hasOwnProperty(c)?this.ease=d[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=m,this.camera.emit(l.PAN_START,this.camera,this,a,r,f)),y},update:function(r,f){if(!!this.isRunning){this._elapsed+=f;var a=u(this._elapsed/this.duration,0,1);this.progress=a;var c=this.camera;if(this._elapsed<this.duration){var p=this.ease(a);c.getScroll(this.destination.x,this.destination.y,this.current);var v=this.source.x+(this.current.x-this.source.x)*p,m=this.source.y+(this.current.y-this.source.y)*p;c.setScroll(v,m),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,a,v,m)}else c.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,a,c.scrollX,c.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});o.exports=n},1771:(o,T,e)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var u=e(82897),x=e(56694),d=e(89787),l=e(35060),h=new x({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,r,f,a,c,p,v){f===void 0&&(f=1e3),a===void 0&&(a=l.Linear),c===void 0&&(c=!1),p===void 0&&(p=null),v===void 0&&(v=this.camera.scene),r===void 0&&(r=!1),this.shortestPath=r;var m=n;n<0?(m=-1*n,this.clockwise=!1):this.clockwise=!0;var y=360*Math.PI/180;m=m-Math.floor(m/y)*y;var E=this.camera;if(!c&&this.isRunning)return E;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=E.rotation,this.destination=m,typeof a=="string"&&l.hasOwnProperty(a)?this.ease=l[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=v,this.shortestPath){var P=0,S=0;this.destination>this.source?P=Math.abs(this.destination-this.source):P=Math.abs(this.destination+y)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+y)-this.destination,P<S?this.clockwise=!0:P>S&&(this.clockwise=!1)}return this.camera.emit(d.ROTATE_START,this.camera,this,f,m),E},update:function(n,r){if(!!this.isRunning){this._elapsed+=r;var f=u(this._elapsed/this.duration,0,1);this.progress=f;var a=this.camera;if(this._elapsed<this.duration){var c=this.ease(f);this.current=a.rotation;var p=0,v=360*Math.PI/180,m=this.destination,y=this.current;this.clockwise===!1&&(m=this.current,y=this.destination),m>=y?p=Math.abs(m-y):p=Math.abs(m+v)-y;var E=0;this.clockwise?E=a.rotation+p*c:E=a.rotation-p*c,a.rotation=E,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,f,E)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});o.exports=h},3241:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=e(56694),d=e(89787),l=e(93736),h=new x({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.intensity=new l,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,r,f,a,c){return n===void 0&&(n=100),r===void 0&&(r=.05),f===void 0&&(f=!1),a===void 0&&(a=null),c===void 0&&(c=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,typeof r=="number"?this.intensity.set(r):this.intensity.set(r.x,r.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=c,this.camera.emit(d.SHAKE_START,this.camera,this,n,r),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,r){if(!!this.isRunning)if(this._elapsed+=r,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,a=this.camera.width,c=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*f.x*a*2-f.x*a)*p,this._offsetY=(Math.random()*f.y*c*2-f.y*c)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});o.exports=h},13383:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=e(56694),d=e(35060),l=e(89787),h=new x({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,r,f,a,c,p){r===void 0&&(r=1e3),f===void 0&&(f=d.Linear),a===void 0&&(a=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene);var v=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source=v.zoom,this.destination=n,typeof f=="string"&&d.hasOwnProperty(f)?this.ease=d[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(l.ZOOM_START,this.camera,this,r,n)),v},update:function(n,r){!this.isRunning||(this._elapsed+=r,this.progress=u(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=h},53030:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Fade:e(92522),Flash:e(22151),Pan:e(37551),Shake:e(3241),RotateTo:e(1771),Zoom:e(13383)}},39577:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="cameradestroy"},85373:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeincomplete"},92057:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeinstart"},1903:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeoutcomplete"},96131:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeoutstart"},85409:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="cameraflashcomplete"},25500:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="cameraflashstart"},44071:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="followupdate"},19818:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerapancomplete"},80002:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerapanstart"},87966:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postrender"},74217:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prerender"},34805:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerarotatecomplete"},30408:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerarotatestart"},49856:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerashakecomplete"},69189:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerashakestart"},67657:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerazoomcomplete"},14229:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerazoomstart"},89787:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DESTROY:e(39577),FADE_IN_COMPLETE:e(85373),FADE_IN_START:e(92057),FADE_OUT_COMPLETE:e(1903),FADE_OUT_START:e(96131),FLASH_COMPLETE:e(85409),FLASH_START:e(25500),FOLLOW_UPDATE:e(44071),PAN_COMPLETE:e(19818),PAN_START:e(80002),POST_RENDER:e(87966),PRE_RENDER:e(74217),ROTATE_COMPLETE:e(34805),ROTATE_START:e(30408),SHAKE_COMPLETE:e(49856),SHAKE_START:e(69189),ZOOM_COMPLETE:e(67657),ZOOM_START:e(14229)}},32356:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Camera:e(47751),BaseCamera:e(51052),CameraManager:e(62382),Effects:e(53030),Events:e(89787)}},84219:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(10850),d=new u({initialize:function(h){this.camera=x(h,"camera",null),this.left=x(h,"left",null),this.right=x(h,"right",null),this.up=x(h,"up",null),this.down=x(h,"down",null),this.zoomIn=x(h,"zoomIn",null),this.zoomOut=x(h,"zoomOut",null),this.zoomSpeed=x(h,"zoomSpeed",.01),this.minZoom=x(h,"minZoom",.001),this.maxZoom=x(h,"maxZoom",1e3),this.speedX=0,this.speedY=0;var n=x(h,"speed",null);typeof n=="number"?(this.speedX=n,this.speedY=n):(this.speedX=x(h,"speed.x",0),this.speedY=x(h,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(!!this.active){l===void 0&&(l=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*l|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*l|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*l|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*l|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<this.minZoom&&(h.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed,h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});o.exports=d},69370:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(10850),d=new u({initialize:function(h){this.camera=x(h,"camera",null),this.left=x(h,"left",null),this.right=x(h,"right",null),this.up=x(h,"up",null),this.down=x(h,"down",null),this.zoomIn=x(h,"zoomIn",null),this.zoomOut=x(h,"zoomOut",null),this.zoomSpeed=x(h,"zoomSpeed",.01),this.minZoom=x(h,"minZoom",.001),this.maxZoom=x(h,"maxZoom",1e3),this.accelX=0,this.accelY=0;var n=x(h,"acceleration",null);typeof n=="number"?(this.accelX=n,this.accelY=n):(this.accelX=x(h,"acceleration.x",0),this.accelY=x(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=x(h,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=x(h,"drag.x",0),this.dragY=x(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=x(h,"maxSpeed",null);typeof f=="number"?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=x(h,"maxSpeed.x",0),this.maxSpeedY=x(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(!!this.active){l===void 0&&(l=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*l,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*l,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*l,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*l,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(h.scrollX-=this._speedX*l|0),this._speedY!==0&&(h.scrollY-=this._speedY*l|0),this._zoom!==0&&(h.zoom+=this._zoom,h.zoom<this.minZoom?h.zoom=this.minZoom:h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});o.exports=d},6524:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={FixedKeyControl:e(84219),SmoothedKeyControl:e(69370)}},44143:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Controls:e(6524),Scene2D:e(32356)}},86459:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={VERSION:"3.60.0",BlendModes:e(95723),ScaleModes:e(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};o.exports=u},14033:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(86459),d=e(18360),l=e(77290),h=e(72632),n=e(10850),r=e(42911),f=e(72283),a=e(5923),c=e(65641),p=e(93222),v=new u({initialize:function(y){y===void 0&&(y={});var E=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],P="#ffffff",S=n(y,"scale",null);this.width=n(S,"width",1024,y),this.height=n(S,"height",768,y),this.zoom=n(S,"zoom",1,y),this.parent=n(S,"parent",void 0,y),this.scaleMode=n(S,S?"mode":"scaleMode",0,y),this.expandParent=n(S,"expandParent",!0,y),this.autoRound=n(S,"autoRound",!1,y),this.autoCenter=n(S,"autoCenter",0,y),this.resizeInterval=n(S,"resizeInterval",500,y),this.fullscreenTarget=n(S,"fullscreenTarget",null,y),this.minWidth=n(S,"minWidth",0,y),this.maxWidth=n(S,"maxWidth",0,y),this.minHeight=n(S,"minHeight",0,y),this.maxHeight=n(S,"maxHeight",0,y),this.renderType=n(y,"type",x.AUTO),this.canvas=n(y,"canvas",null),this.context=n(y,"context",null),this.canvasStyle=n(y,"canvasStyle",null),this.customEnvironment=n(y,"customEnvironment",!1),this.sceneConfig=n(y,"scene",null),this.seed=n(y,"seed",[(Date.now()*Math.random()).toString()]),a.RND=new a.RandomDataGenerator(this.seed),this.gameTitle=n(y,"title",""),this.gameURL=n(y,"url","https://phaser.io"),this.gameVersion=n(y,"version",""),this.autoFocus=n(y,"autoFocus",!0),this.stableSort=n(y,"stableSort",-1),this.stableSort===-1&&(this.stableSort=l.browser.es2019?1:0),l.features.stableSort=this.stableSort,this.domCreateContainer=n(y,"dom.createContainer",!1),this.domPointerEvents=n(y,"dom.pointerEvents","none"),this.inputKeyboard=n(y,"input.keyboard",!0),this.inputKeyboardEventTarget=n(y,"input.keyboard.target",window),this.inputKeyboardCapture=n(y,"input.keyboard.capture",[]),this.inputMouse=n(y,"input.mouse",!0),this.inputMouseEventTarget=n(y,"input.mouse.target",null),this.inputMousePreventDefaultDown=n(y,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=n(y,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=n(y,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=n(y,"input.mouse.preventDefaultWheel",!0),this.inputTouch=n(y,"input.touch",l.input.touch),this.inputTouchEventTarget=n(y,"input.touch.target",null),this.inputTouchCapture=n(y,"input.touch.capture",!0),this.inputActivePointers=n(y,"input.activePointers",1),this.inputSmoothFactor=n(y,"input.smoothFactor",0),this.inputWindowEvents=n(y,"input.windowEvents",!0),this.inputGamepad=n(y,"input.gamepad",!1),this.inputGamepadEventTarget=n(y,"input.gamepad.target",window),this.disableContextMenu=n(y,"disableContextMenu",!1),this.audio=n(y,"audio",{}),this.hideBanner=n(y,"banner",null)===!1,this.hidePhaser=n(y,"banner.hidePhaser",!1),this.bannerTextColor=n(y,"banner.text",P),this.bannerBackgroundColor=n(y,"banner.background",E),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=n(y,"fps",null);var w=n(y,"render",null);this.pipeline=n(w,"pipeline",null,y),this.autoMobilePipeline=n(w,"autoMobilePipeline",!0,y),this.defaultPipeline=n(w,"defaultPipeline",c.MULTI_PIPELINE,y),this.antialias=n(w,"antialias",!0,y),this.antialiasGL=n(w,"antialiasGL",!0,y),this.mipmapFilter=n(w,"mipmapFilter","",y),this.desynchronized=n(w,"desynchronized",!1,y),this.roundPixels=n(w,"roundPixels",!1,y),this.pixelArt=n(w,"pixelArt",this.zoom!==1,y),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=n(w,"transparent",!1,y),this.clearBeforeRender=n(w,"clearBeforeRender",!0,y),this.preserveDrawingBuffer=n(w,"preserveDrawingBuffer",!1,y),this.premultipliedAlpha=n(w,"premultipliedAlpha",!0,y),this.failIfMajorPerformanceCaveat=n(w,"failIfMajorPerformanceCaveat",!1,y),this.powerPreference=n(w,"powerPreference","default",y),this.batchSize=n(w,"batchSize",4096,y),this.maxTextures=n(w,"maxTextures",-1,y),this.maxLights=n(w,"maxLights",10,y);var A=n(y,"backgroundColor",0);this.backgroundColor=p(A),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=n(y,"callbacks.preBoot",f),this.postBoot=n(y,"callbacks.postBoot",f),this.physics=n(y,"physics",{}),this.defaultPhysicsSystem=n(this.physics,"default",!1),this.loaderBaseURL=n(y,"loader.baseURL",""),this.loaderPath=n(y,"loader.path",""),this.loaderMaxParallelDownloads=n(y,"loader.maxParallelDownloads",l.os.android?6:32),this.loaderCrossOrigin=n(y,"loader.crossOrigin",void 0),this.loaderResponseType=n(y,"loader.responseType",""),this.loaderAsync=n(y,"loader.async",!0),this.loaderUser=n(y,"loader.user",""),this.loaderPassword=n(y,"loader.password",""),this.loaderTimeout=n(y,"loader.timeout",0),this.loaderWithCredentials=n(y,"loader.withCredentials",!1),this.loaderImageLoadType=n(y,"loader.imageLoadType","XHR"),this.loaderLocalScheme=n(y,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=n(y,"fx.glow.quality",.1),this.glowFXDistance=n(y,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=n(y,"plugins",null),O=d.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:r(R)&&(this.installGlobalPlugins=h(R,"global",[]),this.installScenePlugins=h(R,"scene",[]),Array.isArray(R.default)?O=R.default:Array.isArray(R.defaultMerge)&&(O=O.concat(R.defaultMerge)))),this.defaultPlugins=O;var L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=n(y,"images.default",L+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=n(y,"images.missing",L+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=n(y,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});o.exports=v},50150:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70616),x=e(61068),d=e(86459),l=e(90185),h=function(n){var r=n.config;if((r.customEnvironment||r.canvas)&&r.renderType===d.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!r.customEnvironment&&!r.canvas&&r.renderType!==d.HEADLESS)if(r.renderType===d.AUTO&&(r.renderType=l.webGL?d.WEBGL:d.CANVAS),r.renderType===d.WEBGL){if(!l.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(r.renderType===d.CANVAS){if(!l.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+r.renderType);r.antialias||x.disableSmoothing();var f=n.scale.baseSize,a=f.width,c=f.height;if(r.canvas?(n.canvas=r.canvas,n.canvas.width=a,n.canvas.height=c):n.canvas=x.create(n,a,c,r.renderType),r.canvasStyle&&(n.canvas.style=r.canvasStyle),r.antialias||u.setCrisp(n.canvas),r.renderType!==d.HEADLESS){var p,v;p=e(91135),v=e(11857),r.renderType===d.WEBGL?n.renderer=new v(n):(n.renderer=new p(n),n.context=n.renderer.gameContext)}};o.exports=h},77291:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86459),x=function(d){var l=d.config;if(!l.hideBanner){var h="WebGL";l.renderType===u.CANVAS?h="Canvas":l.renderType===u.HEADLESS&&(h="Headless");var n=l.audio,r=d.device.audio,f;if(r.webAudio&&!n.disableWebAudio?f="Web Audio":n.noAudio||!r.webAudio&&!r.audioData?f="No Audio":f="HTML5 Audio",d.device.browser.ie)window.console&&console.log("Phaser v"+u.VERSION+" / https://phaser.io");else{var a="",c=[a];if(Array.isArray(l.bannerBackgroundColor)){var p;l.bannerBackgroundColor.forEach(function(m){a=a.concat("%c "),c.push("background: "+m),p=m}),c[c.length-1]="color: "+l.bannerTextColor+"; background: "+p}else a=a.concat("%c "),c.push("color: "+l.bannerTextColor+"; background: "+l.bannerBackgroundColor);c.push("background: transparent"),l.gameTitle&&(a=a.concat(l.gameTitle),l.gameVersion&&(a=a.concat(" v"+l.gameVersion)),l.hidePhaser||(a=a.concat(" / ")));var v="";l.hidePhaser||(a=a.concat("Phaser v"+u.VERSION+v+" ("+h+" | "+f+")")),a=a.concat(" %c "+l.gameURL),c[0]=a,console.log.apply(console,c)}}};o.exports=x},15213:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99584),x=e(90249),d=e(43474),l=e(61068),h=e(56694),n=e(14033),r=e(85178),f=e(50150),a=e(81078),c=e(77291),p=e(77290),v=e(21546),m=e(6659),y=e(97081),E=e(69898),P=e(91963),S=e(49274),w=e(756),A=e(13553),R=e(38203),O=e(6237),L=e(26617),b=e(26493),D=e(84191),I=new h({initialize:function(V){this.config=new n(V),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new x(this),this.textures=new O(this),this.cache=new d(this),this.registry=new a(this,new m),this.input=new E(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=p,this.scale=new w(this,this.config),this.sound=null,this.sound=D.create(this),this.loop=new L(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,v(this.boot.bind(this))},boot:function(){if(!P.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),r(this),c(this),u(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(y.BOOT)},texturesReady:function(){this.events.emit(y.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),b(this);var B=this.events;B.on(y.HIDDEN,this.onHidden,this),B.on(y.VISIBLE,this.onVisible,this),B.on(y.BLUR,this.onBlur,this),B.on(y.FOCUS,this.onFocus,this)},step:function(B,V){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(y.PRE_STEP,B,V),Y.emit(y.STEP,B,V),this.scene.update(B,V),Y.emit(y.POST_STEP,B,V);var k=this.renderer;k.preRender(),Y.emit(y.PRE_RENDER,k,B,V),this.scene.render(k),k.postRender(),Y.emit(y.POST_RENDER,k,B,V)}},headlessStep:function(B,V){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(y.PRE_STEP,B,V),Y.emit(y.STEP,B,V),this.scene.update(B,V),Y.emit(y.POST_STEP,B,V),this.scene.isProcessing=!1,Y.emit(y.PRE_RENDER,null,B,V),Y.emit(y.POST_RENDER,null,B,V)}},onHidden:function(){this.loop.pause(),this.events.emit(y.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(y.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(y.RESUME)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(y.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,V){V===void 0&&(V=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=V},runDestroy:function(){this.scene.destroy(),this.events.emit(y.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(l.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});o.exports=I},26617:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(10850),d=e(72283),l=e(27385),h=new u({initialize:function(r,f){this.game=r,this.raf=new l,this.started=!1,this.running=!1,this.minFps=x(f,"min",5),this.targetFps=x(f,"target",60),this.fpsLimit=x(f,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=d,this.forceSetTimeOut=x(f,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(f,"deltaHistory",10),this.panicMax=x(f,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(f,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=Math.min(this._target,this.deltaHistory[r]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n;var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target)},smoothDelta:function(n){var r=this.deltaIndex,f=this.deltaHistory,a=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,n=Math.min(n,this._target)),n>this._min&&(n=f[r],n=Math.min(n,this._min)),f[r]=n,this.deltaIndex++,this.deltaIndex>=a&&(this.deltaIndex=0);for(var c=0,p=0;p<a;p++)c+=f[p];return c/=a,c},updateFPS:function(n){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0},stepLimitFPS:function(n){this.now=n;var r=Math.max(0,n-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta+=r,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(n,this.delta),this.delta=0),this.lastTime=n,this.frame++},step:function(n){this.now=n;var r=Math.max(0,n-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta=r,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.callback(n,r),this.lastTime=n,this.frame++},tick:function(){var n=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(n):this.step(n)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){n===void 0&&(n=!1);var r=window.performance.now();if(!this.running){n&&(this.startTime+=-this.lastTime+(this.lastTime+r));var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});o.exports=h},26493:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97081),x=function(d){var l,h=d.events;if(document.hidden!==void 0)l="visibilitychange";else{var n=["webkit","moz","ms"];n.forEach(function(f){document[f+"Hidden"]!==void 0&&(document.hidden=function(){return document[f+"Hidden"]},l=f+"visibilitychange")})}var r=function(f){document.hidden||f.type==="pause"?h.emit(u.HIDDEN):h.emit(u.VISIBLE)};l&&document.addEventListener(l,r,!1),window.onblur=function(){h.emit(u.BLUR)},window.onfocus=function(){h.emit(u.FOCUS)},window.focus&&d.config.autoFocus&&window.focus()};o.exports=x},41651:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="blur"},5520:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},51673:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="contextlost"},25055:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},23767:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="focus"},57564:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="hidden"},38327:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},43807:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postrender"},73652:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="poststep"},780:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prerender"},13781:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prestep"},38247:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="ready"},29129:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},34994:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="step"},98704:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="visible"},97081:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BLUR:e(41651),BOOT:e(5520),CONTEXT_LOST:e(51673),DESTROY:e(25055),FOCUS:e(23767),HIDDEN:e(57564),PAUSE:e(38327),POST_RENDER:e(43807),POST_STEP:e(73652),PRE_RENDER:e(780),PRE_STEP:e(13781),READY:e(38247),RESUME:e(29129),STEP:e(34994),VISIBLE:e(98704)}},80293:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Config:e(14033),CreateRenderer:e(50150),DebugHeader:e(77291),Events:e(97081),TimeStep:e(26617),VisibilityHandler:e(26493)}},52780:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(81543),x=e(61068),d=e(10850),l=function(h){var n=d(h,"data",[]),r=d(h,"canvas",null),f=d(h,"palette",u),a=d(h,"pixelWidth",1),c=d(h,"pixelHeight",a),p=d(h,"resizeCanvas",!0),v=d(h,"clearCanvas",!0),m=d(h,"preRender",null),y=d(h,"postRender",null),E=Math.floor(Math.abs(n[0].length*a)),P=Math.floor(Math.abs(n.length*c));r||(r=x.create2D(this,E,P),p=!1,v=!1),p&&(r.width=E,r.height=P);var S=r.getContext("2d",{willReadFrequently:!0});v&&S.clearRect(0,0,E,P),m&&m(r,S);for(var w=0;w<n.length;w++)for(var A=n[w],R=0;R<A.length;R++){var O=A[R];O!=="."&&O!==" "&&(S.fillStyle=f[O],S.fillRect(R*a,w*c,a,c))}return y&&y(r,S),r};o.exports=l},84106:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={GenerateTexture:e(52780),Palettes:e(25235)}},81543:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ARNE16:e(81543),C64:e(75846),CGA:e(83206),JMP:e(13194),MSX:e(50686)}},63120:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(34631),d=e(38517),l=e(93736),h=new u({Extends:d,initialize:function(r,f,a,c){d.call(this,"CubicBezierCurve"),Array.isArray(r)&&(c=new l(r[6],r[7]),a=new l(r[4],r[5]),f=new l(r[2],r[3]),r=new l(r[0],r[1])),this.p0=r,this.p1=f,this.p2=a,this.p3=c},getStartPoint:function(n){return n===void 0&&(n=new l),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,r){r===void 0&&(r=new l);var f=this.p0,a=this.p1,c=this.p2,p=this.p3;return r.set(x(n,f.x,a.x,c.x,p.x),x(n,f.y,a.y,c.y,p.y))},draw:function(n,r){r===void 0&&(r=32);var f=this.getPoints(r);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var a=1;a<f.length;a++)n.lineTo(f[a].x,f[a].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(n){var r=n.points,f=new l(r[0],r[1]),a=new l(r[2],r[3]),c=new l(r[4],r[5]),p=new l(r[6],r[7]);return new h(f,a,c,p)},o.exports=h},38517:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(80222),d=e(74118),l=e(93736),h=new u({initialize:function(r){this.type=r,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new l,this._tmpVec2B=new l},draw:function(n,r){return r===void 0&&(r=32),n.strokePoints(this.getPoints(r))},getBounds:function(n,r){n||(n=new d),r===void 0&&(r=16);var f=this.getLength();r>f&&(r=f/2);var a=Math.max(1,Math.round(f/r));return x(this.getSpacedPoints(a),n)},getDistancePoints:function(n){var r=this.getLength(),f=Math.max(1,r/n);return this.getSpacedPoints(f)},getEndPoint:function(n){return n===void 0&&(n=new l),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],f,a=this.getPoint(0,this._tmpVec2A),c=0;r.push(0);for(var p=1;p<=n;p++)f=this.getPoint(p/n,this._tmpVec2B),c+=f.distance(a),r.push(c),a.copy(f);return this.cacheArcLengths=r,r},getPointAt:function(n,r){var f=this.getUtoTmapping(n);return this.getPoint(f,r)},getPoints:function(n,r,f){f===void 0&&(f=[]),n||(r?n=this.getLength()/r:n=this.defaultDivisions);for(var a=0;a<=n;a++)f.push(this.getPoint(a/n));return f},getRandomPoint:function(n){return n===void 0&&(n=new l),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,r,f){f===void 0&&(f=[]),n||(r?n=this.getLength()/r:n=this.defaultDivisions);for(var a=0;a<=n;a++){var c=this.getUtoTmapping(a/n,null,n);f.push(this.getPoint(c))}return f},getStartPoint:function(n){return n===void 0&&(n=new l),this.getPointAt(0,n)},getTangent:function(n,r){r===void 0&&(r=new l);var f=1e-4,a=n-f,c=n+f;return a<0&&(a=0),c>1&&(c=1),this.getPoint(a,this._tmpVec2A),this.getPoint(c,r),r.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,r){var f=this.getUtoTmapping(n);return this.getTangent(f,r)},getTFromDistance:function(n,r){return n<=0?0:this.getUtoTmapping(0,n,r)},getUtoTmapping:function(n,r,f){var a=this.getLengths(f),c=0,p=a.length,v;r?v=Math.min(r,a[p-1]):v=n*a[p-1];for(var m=0,y=p-1,E;m<=y;)if(c=Math.floor(m+(y-m)/2),E=a[c]-v,E<0)m=c+1;else if(E>0)y=c-1;else{y=c;break}if(c=y,a[c]===v)return c/(p-1);var P=a[c],S=a[c+1],w=S-P,A=(v-P)/w;return(c+A)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});o.exports=h},48835:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(38517),d=e(75606),l=e(10850),h=e(23701),n=e(93736),r=new u({Extends:x,initialize:function(a,c,p,v,m,y,E,P){if(typeof a=="object"){var S=a;a=l(S,"x",0),c=l(S,"y",0),p=l(S,"xRadius",0),v=l(S,"yRadius",p),m=l(S,"startAngle",0),y=l(S,"endAngle",360),E=l(S,"clockwise",!1),P=l(S,"rotation",0)}else v===void 0&&(v=p),m===void 0&&(m=0),y===void 0&&(y=360),E===void 0&&(E=!1),P===void 0&&(P=0);x.call(this,"EllipseCurve"),this.p0=new n(a,c),this._xRadius=p,this._yRadius=v,this._startAngle=d(m),this._endAngle=d(y),this._clockwise=E,this._rotation=d(P)},getStartPoint:function(f){return f===void 0&&(f=new n),this.getPoint(0,f)},getResolution:function(f){return f*2},getPoint:function(f,a){a===void 0&&(a=new n);for(var c=Math.PI*2,p=this._endAngle-this._startAngle,v=Math.abs(p)<Number.EPSILON;p<0;)p+=c;for(;p>c;)p-=c;p<Number.EPSILON&&(v?p=0:p=c),this._clockwise&&!v&&(p===c?p=-c:p=p-c);var m=this._startAngle+f*p,y=this.p0.x+this._xRadius*Math.cos(m),E=this.p0.y+this._yRadius*Math.sin(m);if(this._rotation!==0){var P=Math.cos(this._rotation),S=Math.sin(this._rotation),w=y-this.p0.x,A=E-this.p0.y;y=w*P-A*S+this.p0.x,E=w*S+A*P+this.p0.y}return a.set(y,E)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return h(this._startAngle)},set:function(f){this._startAngle=d(f)}},endAngle:{get:function(){return h(this._endAngle)},set:function(f){this._endAngle=d(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return h(this._rotation)},set:function(f){this._rotation=d(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});r.fromJSON=function(f){return new r(f)},o.exports=r},58084:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(38517),d=e(80222),l=e(74118),h=e(93736),n=new u({Extends:x,initialize:function(f,a){x.call(this,"LineCurve"),Array.isArray(f)&&(a=new h(f[2],f[3]),f=new h(f[0],f[1])),this.p0=f,this.p1=a,this.arcLengthDivisions=1},getBounds:function(r){return r===void 0&&(r=new l),d([this.p0,this.p1],r)},getStartPoint:function(r){return r===void 0&&(r=new h),r.copy(this.p0)},getResolution:function(r){return r===void 0&&(r=1),r},getPoint:function(r,f){return f===void 0&&(f=new h),r===1?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(r).add(this.p0),f)},getPointAt:function(r,f){return this.getPoint(r,f)},getTangent:function(r,f){return f===void 0&&(f=new h),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(r,f,a){var c;if(f){var p=this.getLengths(a),v=p[p.length-1],m=Math.min(f,v);c=m/v}else c=r;return c},draw:function(r){return r.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});n.fromJSON=function(r){var f=r.points,a=new h(f[0],f[1]),c=new h(f[2],f[3]);return new n(a,c)},o.exports=n},64761:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(38517),d=e(16252),l=e(93736),h=new u({Extends:x,initialize:function(r,f,a){x.call(this,"QuadraticBezierCurve"),Array.isArray(r)&&(a=new l(r[4],r[5]),f=new l(r[2],r[3]),r=new l(r[0],r[1])),this.p0=r,this.p1=f,this.p2=a},getStartPoint:function(n){return n===void 0&&(n=new l),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,r){r===void 0&&(r=new l);var f=this.p0,a=this.p1,c=this.p2;return r.set(d(n,f.x,a.x,c.x),d(n,f.y,a.y,c.y))},draw:function(n,r){r===void 0&&(r=32);var f=this.getPoints(r);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var a=1;a<f.length;a++)n.lineTo(f[a].x,f[a].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(n){var r=n.points,f=new l(r[0],r[1]),a=new l(r[2],r[3]),c=new l(r[4],r[5]);return new h(f,a,c)},o.exports=h},11956:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14976),x=e(56694),d=e(38517),l=e(93736),h=new x({Extends:d,initialize:function(r){r===void 0&&(r=[]),d.call(this,"SplineCurve"),this.points=[],this.addPoints(r)},addPoints:function(n){for(var r=0;r<n.length;r++){var f=new l;typeof n[r]=="number"?(f.x=n[r],f.y=n[r+1],r++):Array.isArray(n[r])?(f.x=n[r][0],f.y=n[r][1]):(f.x=n[r].x,f.y=n[r].y),this.points.push(f)}return this},addPoint:function(n,r){var f=new l(n,r);return this.points.push(f),f},getStartPoint:function(n){return n===void 0&&(n=new l),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,r){r===void 0&&(r=new l);var f=this.points,a=(f.length-1)*n,c=Math.floor(a),p=a-c,v=f[c===0?c:c-1],m=f[c],y=f[c>f.length-2?f.length-1:c+1],E=f[c>f.length-3?f.length-1:c+2];return r.set(u(p,v.x,m.x,y.x,E.x),u(p,v.y,m.y,y.y,E.y))},toJSON:function(){for(var n=[],r=0;r<this.points.length;r++)n.push(this.points[r].x),n.push(this.points[r].y);return{type:this.type,points:n}}});h.fromJSON=function(n){return new h(n.points)},o.exports=h},73962:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Path:e(12822),MoveTo:e(53639),CubicBezier:e(63120),Curve:e(38517),Ellipse:e(48835),Line:e(58084),QuadraticBezier:e(64761),Spline:e(11956)}},53639:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(93736),d=new u({initialize:function(h,n){this.active=!1,this.p0=new x(h,n)},getPoint:function(l,h){return h===void 0&&(h=new x),h.copy(this.p0)},getPointAt:function(l,h){return this.getPoint(l,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});o.exports=d},12822:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(63120),d=e(48835),l=e(61286),h=e(58084),n=e(53639),r=e(64761),f=e(74118),a=e(11956),c=e(93736),p=e(83392),v=new u({initialize:function(y,E){y===void 0&&(y=0),E===void 0&&(E=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new c,this._tmpVec2A=new c,this._tmpVec2B=new c,typeof y=="object"?this.fromJSON(y):this.startPoint.set(y,E)},add:function(m){return this.curves.push(m),this},circleTo:function(m,y,E){return y===void 0&&(y=!1),this.ellipseTo(m,m,0,360,y,E)},closePath:function(){var m=this.curves[0].getPoint(0),y=this.curves[this.curves.length-1].getPoint(1);return m.equals(y)||this.curves.push(new h(y,m)),this},cubicBezierTo:function(m,y,E,P,S,w){var A=this.getEndPoint(),R,O,L;return m instanceof c?(R=m,O=y,L=E):(R=new c(E,P),O=new c(S,w),L=new c(m,y)),this.add(new x(A,R,O,L))},quadraticBezierTo:function(m,y,E,P){var S=this.getEndPoint(),w,A;return m instanceof c?(w=m,A=y):(w=new c(E,P),A=new c(m,y)),this.add(new r(S,w,A))},draw:function(m,y){for(var E=0;E<this.curves.length;E++){var P=this.curves[E];!P.active||P.draw(m,y)}return m},ellipseTo:function(m,y,E,P,S,w){var A=new d(0,0,m,y,E,P,S,w),R=this.getEndPoint(this._tmpVec2A),O=A.getStartPoint(this._tmpVec2B);return R.subtract(O),A.x=R.x,A.y=R.y,this.add(A)},fromJSON:function(m){this.curves=[],this.cacheLengths=[],this.startPoint.set(m.x,m.y),this.autoClose=m.autoClose;for(var y=0;y<m.curves.length;y++){var E=m.curves[y];switch(E.type){case"LineCurve":this.add(h.fromJSON(E));break;case"EllipseCurve":this.add(d.fromJSON(E));break;case"SplineCurve":this.add(a.fromJSON(E));break;case"CubicBezierCurve":this.add(x.fromJSON(E));break;case"QuadraticBezierCurve":this.add(r.fromJSON(E));break}}return this},getBounds:function(m,y){m===void 0&&(m=new f),y===void 0&&(y=16),m.x=Number.MAX_VALUE,m.y=Number.MAX_VALUE;for(var E=new f,P=p.MIN_SAFE_INTEGER,S=p.MIN_SAFE_INTEGER,w=0;w<this.curves.length;w++){var A=this.curves[w];!A.active||(A.getBounds(E,y),m.x=Math.min(m.x,E.x),m.y=Math.min(m.y,E.y),P=Math.max(P,E.right),S=Math.max(S,E.bottom))}return m.right=P,m.bottom=S,m},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var m=[],y=0,E=0;E<this.curves.length;E++)y+=this.curves[E].getLength(),m.push(y);return this.cacheLengths=m,m},getCurveAt:function(m){for(var y=m*this.getLength(),E=this.getCurveLengths(),P=0;P<E.length;){if(E[P]>=y)return this.curves[P];P++}return null},getEndPoint:function(m){return m===void 0&&(m=new c),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,m):m.copy(this.startPoint),m},getLength:function(){var m=this.getCurveLengths();return m[m.length-1]},getPoint:function(m,y){y===void 0&&(y=new c);for(var E=m*this.getLength(),P=this.getCurveLengths(),S=0;S<P.length;){if(P[S]>=E){var w=P[S]-E,A=this.curves[S],R=A.getLength(),O=R===0?0:1-w/R;return A.getPointAt(O,y)}S++}return null},getPoints:function(m){m===void 0&&(m=12);for(var y=[],E,P=0;P<this.curves.length;P++){var S=this.curves[P];if(!!S.active)for(var w=S.getResolution(m),A=S.getPoints(w),R=0;R<A.length;R++){var O=A[R];E&&E.equals(O)||(y.push(O),E=O)}}return this.autoClose&&y.length>1&&!y[y.length-1].equals(y[0])&&y.push(y[0]),y},getRandomPoint:function(m){return m===void 0&&(m=new c),this.getPoint(Math.random(),m)},getSpacedPoints:function(m){m===void 0&&(m=40);for(var y=[],E=0;E<=m;E++)y.push(this.getPoint(E/m));return this.autoClose&&y.push(y[0]),y},getStartPoint:function(m){return m===void 0&&(m=new c),m.copy(this.startPoint)},getTangent:function(m,y){y===void 0&&(y=new c);for(var E=m*this.getLength(),P=this.getCurveLengths(),S=0;S<P.length;){if(P[S]>=E){var w=P[S]-E,A=this.curves[S],R=A.getLength(),O=R===0?0:1-w/R;return A.getTangentAt(O,y)}S++}return null},lineTo:function(m,y){m instanceof c?this._tmpVec2B.copy(m):this._tmpVec2B.set(m,y);var E=this.getEndPoint(this._tmpVec2A);return this.add(new h([E.x,E.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(m){return m.unshift(this.getEndPoint()),this.add(new a(m))},moveTo:function(m,y){return m instanceof c?this.add(new n(m.x,m.y)):this.add(new n(m,y))},toJSON:function(){for(var m=[],y=0;y<this.curves.length;y++)m.push(this.curves[y].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:m}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});l.register("path",function(m,y){return new v(m,y)}),o.exports=v},81078:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(35026),d=new u({initialize:function(h,n){this.parent=h,this.events=n,n||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(l){var h=this.list;if(Array.isArray(l)){for(var n=[],r=0;r<l.length;r++)n.push(h[l[r]]);return n}else return h[l]},getAll:function(){var l={};for(var h in this.list)this.list.hasOwnProperty(h)&&(l[h]=this.list[h]);return l},query:function(l){var h={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(l)&&(h[n]=this.list[n]);return h},set:function(l,h){if(this._frozen)return this;if(typeof l=="string")return this.setValue(l,h);for(var n in l)this.setValue(n,l[n]);return this},inc:function(l,h){if(this._frozen)return this;h===void 0&&(h=1);var n=this.get(l);return n===void 0&&(n=0),this.set(l,n+h),this},toggle:function(l){return this._frozen?this:(this.set(l,!this.get(l)),this)},setValue:function(l,h){if(this._frozen)return this;if(this.has(l))this.values[l]=h;else{var n=this,r=this.list,f=this.events,a=this.parent;Object.defineProperty(this.values,l,{enumerable:!0,configurable:!0,get:function(){return r[l]},set:function(c){if(!n._frozen){var p=r[l];r[l]=c,f.emit(x.CHANGE_DATA,a,l,c,p),f.emit(x.CHANGE_DATA_KEY+l,a,c,p)}}}),r[l]=h,f.emit(x.SET_DATA,a,l,h)}return this},each:function(l,h){for(var n=[this.parent,null,void 0],r=1;r<arguments.length;r++)n.push(arguments[r]);for(var f in this.list)n[1]=f,n[2]=this.list[f],l.apply(h,n);return this},merge:function(l,h){h===void 0&&(h=!0);for(var n in l)l.hasOwnProperty(n)&&(h||!h&&!this.has(n))&&this.setValue(n,l[n]);return this},remove:function(l){if(this._frozen)return this;if(Array.isArray(l))for(var h=0;h<l.length;h++)this.removeValue(l[h]);else return this.removeValue(l);return this},removeValue:function(l){if(this.has(l)){var h=this.list[l];delete this.list[l],delete this.values[l],this.events.emit(x.REMOVE_DATA,this.parent,l,h)}return this},pop:function(l){var h=void 0;return!this._frozen&&this.has(l)&&(h=this.list[l],delete this.list[l],delete this.values[l],this.events.emit(x.REMOVE_DATA,this.parent,l,h)),h},has:function(l){return this.list.hasOwnProperty(l)},setFreeze:function(l){return this._frozen=l,this},reset:function(){for(var l in this.list)delete this.list[l],delete this.values[l];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(l){this._frozen=!!l}},count:{get:function(){var l=0;for(var h in this.list)this.list[h]!==void 0&&l++;return l}}});o.exports=d},76508:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(81078),d=e(91963),l=e(7599),h=new u({Extends:x,initialize:function(r){x.call(this,r,r.sys.events),this.scene=r,this.systems=r.sys,r.sys.events.once(l.BOOT,this.boot,this),r.sys.events.on(l.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});d.register("DataManagerPlugin",h,"data"),o.exports=h},73569:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="changedata"},15590:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="changedata-"},37669:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},87090:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removedata"},90142:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="setdata"},35026:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CHANGE_DATA:e(73569),CHANGE_DATA_KEY:e(15590),DESTROY:e(37669),REMOVE_DATA:e(87090),SET_DATA:e(90142)}},1999:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DataManager:e(81078),DataManagerPlugin:e(76508),Events:e(35026)}},10720:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1350),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function d(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var l=document.createElement("audio"),h=!!l.canPlayType;try{if(h){var n=function(a,c){var p=l.canPlayType("audio/"+a).replace(/^no$/,"");return Boolean(c?p||l.canPlayType("audio/"+c).replace(/^no$/,""):p)};if(x.ogg=n('ogg; codecs="vorbis"'),x.opus=n('ogg; codecs="opus"',"opus"),x.mp3=n("mpeg"),x.wav=n("wav"),x.m4a=n("x-m4a"),x.aac=n("aac"),x.flac=n("flac","x-flac"),x.webm=n('webm; codecs="vorbis"'),l.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(u.edge)x.dolby=!0;else if(u.safari&&u.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),f=parseInt(RegExp.$2,10);(r===10&&f>=11||r>10)&&(x.dolby=!0)}}}}catch{}return x}o.exports=d()},1350:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36580),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function d(){var l=navigator.userAgent;return/Edg\/\d+/.test(l)?(x.edge=!0,x.es2019=!0):/OPR/.test(l)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(l)&&!u.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(l)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit/.test(l)&&u.iOS?x.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(l)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(l)&&!u.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(l)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(l)&&(x.silk=!0),x}o.exports=d()},98581:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function d(){var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",f=new Image;return f.onload=function(){var a=new Image;a.onload=function(){var c=u.create2D(a,6),p=c.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(f,0,0),p.drawImage(a,2,0),!p.getImageData(2,0,1,1))return!1;var v=p.getImageData(2,0,1,1).data;u.remove(a),x.supportNewBlendModes=v[0]===255&&v[1]===0&&v[2]===0},a.src=n+"/wCKxvRF"+r},f.src=n+"AP804Oa6"+r,!1}function l(){var n=u.create2D(this,2),r=n.getContext("2d",{willReadFrequently:!0});r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var f=r.getImageData(0,0,1,1);if(f===null)return!1;r.putImageData(f,1,0);var a=r.getImageData(1,0,1,1),c=a.data[0]===f.data[0]&&a.data[1]===f.data[1]&&a.data[2]===f.data[2]&&a.data[3]===f.data[3];return u.remove(this),c}function h(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=d(),x.supportInverseAlpha=l()),x}o.exports=h()},90185:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36580),x=e(1350),d=e(61068),l={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function h(){var r=new ArrayBuffer(4),f=new Uint8Array(r),a=new Uint32Array(r);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,a[0]===3569595041?!0:a[0]===2712847316?!1:null}function n(){if(typeof importScripts=="function")return l;l.canvas=!!window.CanvasRenderingContext2D;try{l.localStorage=!!localStorage.getItem}catch{l.localStorage=!1}l.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,l.fileSystem=!!window.requestFileSystem;var r=!1,f=function(){if(window.WebGLRenderingContext)try{var a=d.createWebGL(this),c=a.getContext("webgl")||a.getContext("experimental-webgl"),p=d.create2D(this),v=p.getContext("2d",{willReadFrequently:!0}),m=v.createImageData(1,1);return r=m.data instanceof Uint8ClampedArray,d.remove(a),d.remove(p),!!c}catch{return!1}return!1};return l.webGL=f(),l.worker=!!window.Worker,l.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,l.getUserMedia=l.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(l.getUserMedia=!1),!u.iOS&&(x.ie||x.firefox||x.chrome)&&(l.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(l.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(l.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(l.littleEndian=h()),l.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&l.littleEndian!==null&&r,l}o.exports=n()},33553:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return T;var u,x="Fullscreen",d="FullScreen",l=["request"+x,"request"+d,"webkitRequest"+x,"webkitRequest"+d,"msRequest"+x,"msRequest"+d,"mozRequest"+d,"mozRequest"+x];for(u=0;u<l.length;u++)if(document.documentElement[l[u]]){T.available=!0,T.request=l[u];break}var h=["cancel"+d,"exit"+x,"webkitCancel"+d,"webkitExit"+x,"msCancel"+d,"msExit"+x,"mozCancel"+d,"mozExit"+x];if(T.available){for(u=0;u<h.length;u++)if(document[h[u]]){T.cancel=h[u];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}o.exports=e()},95872:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1350),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function d(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||u.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":u.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}o.exports=d()},36580:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function e(){if(typeof importScripts=="function")return T;var u=navigator.userAgent;/Windows/.test(u)?T.windows=!0:/Mac OS/.test(u)&&!/like Mac OS/.test(u)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(u)?T.android=!0:/Linux/.test(u)?T.linux=!0:/iP[ao]d|iPhone/i.test(u)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=u.toLowerCase().indexOf("iphone")!==-1,T.iPad=u.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(u)||/\bKF[A-Z][A-Z]+/.test(u)||/Silk.*Mobile Safari/.test(u)?T.kindle=!0:/CrOS/.test(u)&&(T.chromeOS=!0),(/Windows Phone/i.test(u)||/IEMobile/i.test(u))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var x=/Silk/.test(u);return(T.windows||T.macOS||T.linux&&!x||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(u)&&/Touch/i.test(u))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(u)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}o.exports=e()},53861:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function d(){if(typeof importScripts=="function")return x;var l=document.createElement("video"),h=!!l.canPlayType,n=/^no$/;try{h&&(l.canPlayType('video/ogg; codecs="theora"').replace(n,"")&&(x.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(n,"")&&(x.h264=!0,x.mp4=!0),l.canPlayType("video/x-m4v").replace(n,"")&&(x.m4v=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(n,"")&&(x.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(n,"")&&(x.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(n,"")&&(x.hls=!0))}catch{}return l.parentNode&&l.parentNode.removeChild(l),x.getVideoURL=function(r){Array.isArray(r)||(r=[r]);for(var f=0;f<r.length;f++){var a=u(r[f],"url",r[f]);if(a.indexOf("blob:")===0)return{url:a,type:""};var c;if(a.indexOf("data:")===0?c=a.split(",")[0].match(/\/(.*?);/):c=a.match(/\.([a-zA-Z0-9]+)($|\?)/),c=u(r[f],"type",c?c[1]:"").toLowerCase(),x[c])return{url:a,type:c}}return null},x}o.exports=d()},77290:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={os:e(36580),browser:e(1350),features:e(90185),input:e(95872),audio:e(10720),video:e(53861),fullscreen:e(33553),canvasFeatures:e(98581)}},65246:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new Float32Array(20),d=new u({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(l){return this._matrix.set(l),this._dirty=!0,this},reset:function(){var l=this._matrix;return l.fill(0),l[0]=1,l[6]=1,l[12]=1,l[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var l=this._data;return this._dirty&&(l.set(this._matrix),l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,this._dirty=!1),l},brightness:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var n=l;return this.multiply([n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0],h)},saturate:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var n=l*2/3+1,r=(n-1)*-.5;return this.multiply([n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0],h)},desaturate:function(l){return l===void 0&&(l=!1),this.saturate(-1,l)},hue:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1),l=l/180*Math.PI;var n=Math.cos(l),r=Math.sin(l),f=.213,a=.715,c=.072;return this.multiply([f+n*(1-f)+r*-f,a+n*-a+r*-a,c+n*-c+r*(1-c),0,0,f+n*-f+r*.143,a+n*(1-a)+r*.14,c+n*-c+r*-.283,0,0,f+n*-f+r*-(1-f),a+n*-a+r*a,c+n*(1-c)+r*c,0,0,0,0,0,1,0],h)},grayscale:function(l,h){return l===void 0&&(l=1),h===void 0&&(h=!1),this.saturate(-l,h)},blackWhite:function(l){return l===void 0&&(l=!1),this.multiply(d.BLACK_WHITE,l)},contrast:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var n=l+1,r=-.5*(n-1);return this.multiply([n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0],h)},negative:function(l){return l===void 0&&(l=!1),this.multiply(d.NEGATIVE,l)},desaturateLuminance:function(l){return l===void 0&&(l=!1),this.multiply(d.DESATURATE_LUMINANCE,l)},sepia:function(l){return l===void 0&&(l=!1),this.multiply(d.SEPIA,l)},night:function(l,h){return l===void 0&&(l=.1),h===void 0&&(h=!1),this.multiply([l*-2,-l,0,0,0,-l,0,l,0,0,0,l,l*2,0,0,0,0,0,1,0],h)},lsd:function(l){return l===void 0&&(l=!1),this.multiply(d.LSD,l)},brown:function(l){return l===void 0&&(l=!1),this.multiply(d.BROWN,l)},vintagePinhole:function(l){return l===void 0&&(l=!1),this.multiply(d.VINTAGE,l)},kodachrome:function(l){return l===void 0&&(l=!1),this.multiply(d.KODACHROME,l)},technicolor:function(l){return l===void 0&&(l=!1),this.multiply(d.TECHNICOLOR,l)},polaroid:function(l){return l===void 0&&(l=!1),this.multiply(d.POLAROID,l)},shiftToBGR:function(l){return l===void 0&&(l=!1),this.multiply(d.SHIFT_BGR,l)},multiply:function(l,h){h===void 0&&(h=!1),h||this.reset();var n=this._matrix,r=x;return r.set(n),n.set([r[0]*l[0]+r[1]*l[5]+r[2]*l[10]+r[3]*l[15],r[0]*l[1]+r[1]*l[6]+r[2]*l[11]+r[3]*l[16],r[0]*l[2]+r[1]*l[7]+r[2]*l[12]+r[3]*l[17],r[0]*l[3]+r[1]*l[8]+r[2]*l[13]+r[3]*l[18],r[0]*l[4]+r[1]*l[9]+r[2]*l[14]+r[3]*l[19]+r[4],r[5]*l[0]+r[6]*l[5]+r[7]*l[10]+r[8]*l[15],r[5]*l[1]+r[6]*l[6]+r[7]*l[11]+r[8]*l[16],r[5]*l[2]+r[6]*l[7]+r[7]*l[12]+r[8]*l[17],r[5]*l[3]+r[6]*l[8]+r[7]*l[13]+r[8]*l[18],r[5]*l[4]+r[6]*l[9]+r[7]*l[14]+r[8]*l[19]+r[9],r[10]*l[0]+r[11]*l[5]+r[12]*l[10]+r[13]*l[15],r[10]*l[1]+r[11]*l[6]+r[12]*l[11]+r[13]*l[16],r[10]*l[2]+r[11]*l[7]+r[12]*l[12]+r[13]*l[17],r[10]*l[3]+r[11]*l[8]+r[12]*l[13]+r[13]*l[18],r[10]*l[4]+r[11]*l[9]+r[12]*l[14]+r[13]*l[19]+r[14],r[15]*l[0]+r[16]*l[5]+r[17]*l[10]+r[18]*l[15],r[15]*l[1]+r[16]*l[6]+r[17]*l[11]+r[18]*l[16],r[15]*l[2]+r[16]*l[7]+r[17]*l[12]+r[18]*l[17],r[15]*l[3]+r[16]*l[8]+r[17]*l[13]+r[18]*l[18],r[15]*l[4]+r[16]*l[9]+r[17]*l[14]+r[18]*l[19]+r[19]]),this._dirty=!0,this}});d.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],d.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],d.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],d.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],d.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],d.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],d.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],d.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],d.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],d.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],d.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],o.exports=d},39298:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72283),d=new u({initialize:function(h,n,r){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(h,n,r)},set:function(l,h,n){return l===void 0&&(l=0),h===void 0&&(h=0),n===void 0&&(n=0),this._rgb=[l,h,n],this.onChange(),this},equals:function(l,h,n){var r=this._rgb;return r[0]===l&&r[1]===h&&r[2]===n},onChange:function(){this.dirty=!0;var l=this._rgb;this.onChangeCallback.call(this,l[0],l[1],l[2])},r:{get:function(){return this._rgb[0]},set:function(l){this._rgb[0]=l,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(l){this._rgb[1]=l,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(l){this._rgb[2]=l,this.onChange()}},destroy:function(){this.onChangeCallback=null}});o.exports=d},84093:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};o.exports=T},32058:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),x=e(59994),d=e(73174),l=e(28417),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,x(r)+f),d(n,u(r)+a),n};o.exports=h},85535:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),x=e(40163),d=e(73174),l=e(74465),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,x(r)-f),d(n,u(r)+a),n};o.exports=h},9605:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),x=e(70271),d=e(73174),l=e(19298),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,x(r)+f),d(n,u(r)+a),n};o.exports=h},22529:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21843),x=e(59994),d=e(29568),l=function(h,n,r,f){return r===void 0&&(r=0),f===void 0&&(f=0),u(h,x(n)+r,d(n)+f),h};o.exports=l},5739:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29568),x=e(40163),d=e(81711),l=e(74465),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,x(r)-f),d(n,u(r)+a),n};o.exports=h},40327:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84093),x=[];x[u.BOTTOM_CENTER]=e(32058),x[u.BOTTOM_LEFT]=e(85535),x[u.BOTTOM_RIGHT]=e(9605),x[u.CENTER]=e(22529),x[u.LEFT_CENTER]=e(5739),x[u.RIGHT_CENTER]=e(27683),x[u.TOP_CENTER]=e(96439),x[u.TOP_LEFT]=e(81447),x[u.TOP_RIGHT]=e(47888),x[u.LEFT_BOTTOM]=x[u.BOTTOM_LEFT],x[u.LEFT_TOP]=x[u.TOP_LEFT],x[u.RIGHT_BOTTOM]=x[u.BOTTOM_RIGHT],x[u.RIGHT_TOP]=x[u.TOP_RIGHT];var d=function(l,h,n,r,f){return x[n](l,h,r,f)};o.exports=d},27683:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29568),x=e(70271),d=e(81711),l=e(19298),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,x(r)+f),d(n,u(r)+a),n};o.exports=h},96439:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59994),x=e(47196),d=e(28417),l=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,u(r)+f),l(n,x(r)-a),n};o.exports=h},81447:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40163),x=e(47196),d=e(74465),l=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,u(r)-f),l(n,x(r)-a),n};o.exports=h},47888:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70271),x=e(47196),d=e(19298),l=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,u(r)+f),l(n,x(r)-a),n};o.exports=h},46997:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BottomCenter:e(32058),BottomLeft:e(85535),BottomRight:e(9605),Center:e(22529),LeftCenter:e(5739),QuickSet:e(40327),RightCenter:e(27683),TopCenter:e(96439),TopLeft:e(81447),TopRight:e(47888)}},93545:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84093),x=e(98611),d={In:e(46997),To:e(86639)};d=x(!1,d,u),o.exports=d},27118:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),x=e(59994),d=e(28417),l=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,x(r)+f),l(n,u(r)+a),n};o.exports=h},84469:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),x=e(40163),d=e(74465),l=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,x(r)-f),l(n,u(r)+a),n};o.exports=h},51577:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),x=e(70271),d=e(19298),l=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,x(r)+f),l(n,u(r)+a),n};o.exports=h},90271:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),x=e(40163),d=e(73174),l=e(19298),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,x(r)-f),d(n,u(r)+a),n};o.exports=h},30466:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29568),x=e(40163),d=e(81711),l=e(19298),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,x(r)-f),d(n,u(r)+a),n};o.exports=h},50087:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40163),x=e(47196),d=e(19298),l=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,u(r)-f),l(n,x(r)-a),n};o.exports=h},82590:(o,T,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84093),x=[];x[u.BOTTOM_CENTER]=e(27118),x[u.BOTTOM_LEFT]=e(84469),x[u.BOTTOM_RIGHT]=e(51577),x[u.LEFT_BOTTOM]=e(90271),x[u.LEFT_CENTER]=e(30466),x[u.LEFT_TOP]=e(50087),x[u.RIGHT_BOTTOM]=e(13555),x[u.RIGHT_CENTER]=e(99049),x[u.RIGHT_TOP]=e(67788),x[u.TOP_CENTER]=e(78170),x[u.TOP_LEFT]=e(54145),x[u.TOP_RIGHT]=e(75548);var d=function(l,h,n,r,f){return x[n](l,h,r,f)};o.exports=d},13555:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),x=e(70271),d=e(73174),l=e(74465),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,x(r)+f),d(n,u(r)+a),n};o.exports=h},99049:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29568),x=e(70271),d=e(81711),l=e(74465),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,x(r)+f),d(n,u(r)+a),n};o.exports=h},67788:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70271),x=e(47196),d=e(74465),l=e(84349),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),d(n,u(r)+f),l(n,x(r)-a),n};o.exports=h},78170:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59994),x=e(47196),d=e(73174),l=e(28417),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,u(r)+f),d(n,x(r)-a),n};o.exports=h},54145:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(40163),x=e(47196),d=e(73174),l=e(74465),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,u(r)-f),d(n,x(r)-a),n};o.exports=h},75548:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70271),x=e(47196),d=e(73174),l=e(19298),h=function(n,r,f,a){return f===void 0&&(f=0),a===void 0&&(a=0),l(n,u(r)+f),d(n,x(r)-a),n};o.exports=h},86639:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BottomCenter:e(27118),BottomLeft:e(84469),BottomRight:e(51577),LeftBottom:e(90271),LeftCenter:e(30466),LeftTop:e(50087),QuickSet:e(82590),RightBottom:e(13555),RightCenter:e(99049),RightTop:e(67788),TopCenter:e(78170),TopLeft:e(54145),TopRight:e(75548)}},21843:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28417),x=e(81711),d=function(l,h,n){return u(l,h),x(l,n)};o.exports=d},97328:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.y+e.height-e.height*e.originY};o.exports=T},7126:(o,T,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97328),x=e(40163),d=e(70271),l=e(47196),h=e(74118),n=function(r,f){f===void 0&&(f=new h);var a=x(r),c=l(r);return f.x=a,f.y=c,f.width=d(r)-a,f.height=u(r)-c,f};o.exports=n},59994:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x-e.width*e.originX+e.width*.5};o.exports=T},29568:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.y-e.height*e.originY+e.height*.5};o.exports=T},40163:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x-e.width*e.originX};o.exports=T},52088:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.width*e.originX};o.exports=T},23379:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.height*e.originY};o.exports=T},70271:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x+e.width-e.width*e.originX};o.exports=T},47196:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.y-e.height*e.originY};o.exports=T},73174:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.y=u-e.height+e.height*e.originY,e};o.exports=T},28417:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.width*e.originX;return e.x=u+x-e.width*.5,e};o.exports=T},81711:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.height*e.originY;return e.y=u+x-e.height*.5,e};o.exports=T},74465:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x=u+e.width*e.originX,e};o.exports=T},19298:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x=u-e.width+e.width*e.originX,e};o.exports=T},84349:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.y=u+e.height*e.originY,e};o.exports=T},15252:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CenterOn:e(21843),GetBottom:e(97328),GetBounds:e(7126),GetCenterX:e(59994),GetCenterY:e(29568),GetLeft:e(40163),GetOffsetX:e(52088),GetOffsetY:e(23379),GetRight:e(70271),GetTop:e(47196),SetBottom:e(73174),SetCenterX:e(28417),SetCenterY:e(81711),SetLeft:e(74465),SetRight:e(19298),SetTop:e(84349)}},70616:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(e){var u=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return u.forEach(function(x){e.style["image-rendering"]=x}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};o.exports=T},61068:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86459),x=e(8213),d=[],l=!1,h=function(){var n=function(E,P,S,w,A){P===void 0&&(P=1),S===void 0&&(S=1),w===void 0&&(w=u.CANVAS),A===void 0&&(A=!1);var R,O=a(w);return O===null?(O={parent:E,canvas:document.createElement("canvas"),type:w},w===u.CANVAS&&d.push(O),R=O.canvas):(O.parent=E,R=O.canvas),A&&(O.parent=R),R.width=P,R.height=S,l&&w===u.CANVAS&&x.disable(R.getContext("2d",{willReadFrequently:!1})),R},r=function(E,P,S){return n(E,P,S,u.CANVAS)},f=function(E,P,S){return n(E,P,S,u.WEBGL)},a=function(E){if(E===void 0&&(E=u.CANVAS),E===u.WEBGL)return null;for(var P=0;P<d.length;P++){var S=d[P];if(!S.parent&&S.type===E)return S}return null},c=function(E){var P=E instanceof HTMLCanvasElement;d.forEach(function(S){(P&&S.canvas===E||!P&&S.parent===E)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},p=function(){var E=0;return d.forEach(function(P){P.parent&&E++}),E},v=function(){return d.length-p()},m=function(){l=!0},y=function(){l=!1};return{create2D:r,create:n,createWebGL:f,disableSmoothing:m,enableSmoothing:y,first:a,free:v,pool:d,remove:c,total:p}};o.exports=h()},8213:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",e=function(){var u=function(h){for(var n=["i","webkitI","msI","mozI","oI"],r=0;r<n.length;r++){var f=n[r]+"mageSmoothingEnabled";if(f in h)return f}return null},x=function(h){return T===""&&(T=u(h)),T&&(h[T]=!0),h},d=function(h){return T===""&&(T=u(h)),T&&(h[T]=!1),h},l=function(h){return T!==null?h[T]:null};return{disable:d,enable:x,getPrefix:u,isEnabled:l}};o.exports=e()},59271:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u="none"),e.style.msTouchAction=u,e.style["ms-touch-action"]=u,e.style["touch-action"]=u,e};o.exports=T},36505:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u="none");var x=["-webkit-","-khtml-","-moz-","-ms-",""];return x.forEach(function(d){e.style[d+"user-select"]=u}),e.style["-webkit-touch-callout"]=u,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};o.exports=T},23514:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CanvasInterpolation:e(70616),CanvasPool:e(61068),Smoothing:e(8213),TouchAction:e(59271),UserSelect:e(36505)}},27119:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(22946),d=e(5657),l=e(24650),h=e(68033),n=new u({initialize:function(f,a,c,p){f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(f,a,c,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(r,f,a,c,p){return c===void 0&&(c=255),p===void 0&&(p=!0),this._locked=!0,this.red=r,this.green=f,this.blue=a,this.alpha=c,this._locked=!1,this.update(p)},setGLTo:function(r,f,a,c){return c===void 0&&(c=1),this._locked=!0,this.redGL=r,this.greenGL=f,this.blueGL=a,this.alphaGL=c,this._locked=!1,this.update(!0)},setFromRGB:function(r){return this._locked=!0,this.red=r.r,this.green=r.g,this.blue=r.b,r.hasOwnProperty("a")&&(this.alpha=r.a),this._locked=!1,this.update(!0)},setFromHSV:function(r,f,a){return l(r,f,a,this)},update:function(r){if(r===void 0&&(r=!1),this._locked)return this;var f=this.r,a=this.g,c=this.b,p=this.a;return this._color=x(f,a,c),this._color32=d(f,a,c,p),this._rgba="rgba("+f+","+a+","+c+","+p/255+")",r&&h(f,a,c,this),this},updateHSV:function(){var r=this.r,f=this.g,a=this.b;return h(r,f,a,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(r){return this.setTo(r,r,r)},random:function(r,f){r===void 0&&(r=0),f===void 0&&(f=255);var a=Math.floor(r+Math.random()*(f-r)),c=Math.floor(r+Math.random()*(f-r)),p=Math.floor(r+Math.random()*(f-r));return this.setTo(a,c,p)},randomGray:function(r,f){r===void 0&&(r=0),f===void 0&&(f=255);var a=Math.floor(r+Math.random()*(f-r));return this.setTo(a,a,a)},saturate:function(r){return this.s+=r/100,this},desaturate:function(r){return this.s-=r/100,this},lighten:function(r){return this.v+=r/100,this},darken:function(r){return this.v-=r/100,this},brighten:function(r){var f=this.r,a=this.g,c=this.b;return f=Math.max(0,Math.min(255,f-Math.round(255*-(r/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(r/100)))),c=Math.max(0,Math.min(255,c-Math.round(255*-(r/100)))),this.setTo(f,a,c)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(r){this.gl[0]=Math.min(Math.abs(r),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(r){this.gl[1]=Math.min(Math.abs(r),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(r){this.gl[2]=Math.min(Math.abs(r),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(r){this.gl[3]=Math.min(Math.abs(r),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(r){r=Math.floor(Math.abs(r)),this.r=Math.min(r,255),this.gl[0]=r/255,this.update(!0)}},green:{get:function(){return this.g},set:function(r){r=Math.floor(Math.abs(r)),this.g=Math.min(r,255),this.gl[1]=r/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(r){r=Math.floor(Math.abs(r)),this.b=Math.min(r,255),this.gl[2]=r/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(r){r=Math.floor(Math.abs(r)),this.a=Math.min(r,255),this.gl[3]=r/255,this.update()}},h:{get:function(){return this._h},set:function(r){this._h=r,l(r,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(r){this._s=r,l(this._h,r,this._v,this)}},v:{get:function(){return this._v},set:function(r){this._v=r,l(this._h,this._s,r,this)}}});o.exports=n},30245:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22946),x=function(d){d===void 0&&(d=1024);var l=[],h=255,n,r=255,f=0,a=0;for(n=0;n<=h;n++)l.push({r,g:n,b:a,color:u(r,n,a)});for(f=255,n=h;n>=0;n--)l.push({r:n,g:f,b:a,color:u(n,f,a)});for(r=0,n=0;n<=h;n++,f--)l.push({r,g:f,b:n,color:u(r,f,n)});for(f=0,a=255,n=0;n<=h;n++,a--,r++)l.push({r,g:f,b:a,color:u(r,f,a)});if(d===1024)return l;var c=[],p=0,v=1024/d;for(n=0;n<d;n++)c.push(l[Math.floor(p)]),p+=v;return c};o.exports=x},86672:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(u.a=e>>>24),u};o.exports=T},25409:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=e.toString(16);return u.length===1?"0"+u:u};o.exports=T},22946:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e<<16|u<<8|x};o.exports=T},5657:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){return d<<24|e<<16|u<<8|x};o.exports=T},74777:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119),x=e(59998),d=function(l,h,n){var r=n,f=n,a=n;if(h!==0){var c=n<.5?n*(1+h):n+h-n*h,p=2*n-c;r=x(p,c,l+1/3),f=x(p,c,l),a=x(p,c,l-1/3)}var v=new u;return v.setGLTo(r,f,a,1)};o.exports=d},89263:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(24650),x=function(d,l){d===void 0&&(d=1),l===void 0&&(l=1);for(var h=[],n=0;n<=359;n++)h.push(u(n/359,d,l));return h};o.exports=x},24650:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22946);function x(l,h,n,r){var f=(l+h*6)%6,a=Math.min(f,4-f,1);return Math.round(255*(r-r*n*Math.max(0,a)))}var d=function(l,h,n,r){h===void 0&&(h=1),n===void 0&&(n=1);var f=x(5,l,h,n),a=x(3,l,h,n),c=x(1,l,h,n);return r?r.setTo?r.setTo(f,a,c,r.alpha,!0):(r.r=f,r.g=a,r.b=c,r.color=u(f,a,c),r):{r:f,g:a,b:c,color:u(f,a,c)}};o.exports=d},91487:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119),x=function(d){var l=new u;d=d.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,c,p,v){return c+c+p+p+v+v});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d);if(h){var n=parseInt(h[1],16),r=parseInt(h[2],16),f=parseInt(h[3],16);l.setTo(n,r,f)}return l};o.exports=x},59998:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?e+(u-e)*6*x:x<.5?u:x<.6666666666666666?e+(u-e)*(.6666666666666666-x)*6:e};o.exports=T},74853:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119),x=e(15978),d=function(l){var h=x(l);return new u(h.r,h.g,h.b,h.a)};o.exports=d},15978:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};o.exports=T},53756:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42798),x=function(h,n,r,f,a,c,p,v){p===void 0&&(p=100),v===void 0&&(v=0);var m=v/p;return{r:u(h,f,m),g:u(n,a,m),b:u(r,c,m)}},d=function(h,n,r,f){return r===void 0&&(r=100),f===void 0&&(f=0),x(h.r,h.g,h.b,n.r,n.g,n.b,r,f)},l=function(h,n,r,f,a,c){return a===void 0&&(a=100),c===void 0&&(c=0),x(h.r,h.g,h.b,n,r,f,a,c)};o.exports={RGBWithRGB:x,ColorWithRGB:l,ColorWithColor:d}},73904:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119),x=function(d){return new u(d.r,d.g,d.b,d.a)};o.exports=x},26841:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119),x=function(d){var l=new u,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(d.toLowerCase());if(h){var n=parseInt(h[1],10),r=parseInt(h[2],10),f=parseInt(h[3],10),a=h[4]!==void 0?parseFloat(h[4]):1;l.setTo(n,r,f,a*255)}return l};o.exports=x},68033:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){d===void 0&&(d={h:0,s:0,v:0}),e/=255,u/=255,x/=255;var l=Math.min(e,u,x),h=Math.max(e,u,x),n=h-l,r=0,f=h===0?0:n/h,a=h;return h!==l&&(h===e?r=(u-x)/n+(u<x?6:0):h===u?r=(x-e)/n+2:h===x&&(r=(e-u)/n+4),r/=6),d.hasOwnProperty("_h")?(d._h=r,d._s=f,d._v=a):(d.h=r,d.s=f,d.v=a),d};o.exports=T},4880:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25409),x=function(d,l,h,n,r){return n===void 0&&(n=255),r===void 0&&(r="#"),r==="#"?"#"+((1<<24)+(d<<16)+(l<<8)+h).toString(16).slice(1,7):"0x"+u(n)+u(d)+u(l)+u(h)};o.exports=x},37243:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(17489),x=e(27119),d=function(l,h){return l===void 0&&(l=0),h===void 0&&(h=255),new x(u(l,h),u(l,h),u(l,h))};o.exports=d},93222:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(91487),x=e(74853),d=e(73904),l=e(26841),h=function(n){var r=typeof n;switch(r){case"string":return n.substr(0,3).toLowerCase()==="rgb"?l(n):u(n);case"number":return x(n);case"object":return d(n)}};o.exports=h},95509:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27119);u.ColorSpectrum=e(30245),u.ColorToRGBA=e(86672),u.ComponentToHex=e(25409),u.GetColor=e(22946),u.GetColor32=e(5657),u.HexStringToColor=e(91487),u.HSLToColor=e(74777),u.HSVColorWheel=e(89263),u.HSVToRGB=e(24650),u.HueToComponent=e(59998),u.IntegerToColor=e(74853),u.IntegerToRGB=e(15978),u.Interpolate=e(53756),u.ObjectToColor=e(73904),u.RandomRGB=e(37243),u.RGBStringToColor=e(26841),u.RGBToHSV=e(68033),u.RGBToString=e(4880),u.ValueToColor=e(93222),o.exports=u},24816:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Align:e(93545),BaseShader:e(31053),Bounds:e(15252),Canvas:e(23514),Color:e(95509),ColorMatrix:e(65246),Masks:e(93310),RGB:e(39298)}},76756:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(61286),d=new u({initialize:function(h,n,r,f,a,c){n||(n=h.sys.make.image({x:r,y:f,key:a,frame:c,add:!1})),this.bitmapMask=n,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(l){this.bitmapMask=l},preRenderWebGL:function(l,h,n){l.pipelines.BITMAPMASK_PIPELINE.beginMask(this,h,n)},postRenderWebGL:function(l,h,n){l.pipelines.BITMAPMASK_PIPELINE.endMask(this,h,n)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(l,h,n,r,f){return new d(this.scene,l,h,n,r,f)}),o.exports=d},63037:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(d){return this.geometryMask=d,this},setInvertAlpha:function(d){return d===void 0&&(d=!0),this.invertAlpha=d,this},preRenderWebGL:function(d,l,h){var n=d.gl;d.flush(),d.maskStack.length===0&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),d.maskCount=0),d.currentCameraMask.mask!==this&&(d.currentMask.mask=this),d.maskStack.push({mask:this,camera:h}),this.applyStencil(d,h,!0),d.maskCount++},applyStencil:function(d,l,h){var n=d.gl,r=this.geometryMask,f=d.maskCount,a=255;n.colorMask(!1,!1,!1,!1),h?(n.stencilFunc(n.EQUAL,f,a),n.stencilOp(n.KEEP,n.KEEP,n.INCR),f++):(n.stencilFunc(n.EQUAL,f+1,a),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),this.level=f,r.renderWebGL(d,r,l),d.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.invertAlpha?n.stencilFunc(n.NOTEQUAL,f,a):n.stencilFunc(n.EQUAL,f,a)},postRenderWebGL:function(d){var l=d.gl;d.maskStack.pop(),d.maskCount--,d.flush();var h=d.currentMask;if(d.maskStack.length===0)h.mask=null,l.disable(l.STENCIL_TEST);else{var n=d.maskStack[d.maskStack.length-1];n.mask.applyStencil(d,n.camera,!1),d.currentCameraMask.mask!==n.mask?(h.mask=n.mask,h.camera=n.camera):h.mask=null}},preRenderCanvas:function(d,l,h){var n=this.geometryMask;d.currentContext.save(),n.renderCanvas(d,n,h,null,null,!0),d.currentContext.clip()},postRenderCanvas:function(d){d.currentContext.restore()},destroy:function(){this.geometryMask=null}});o.exports=x},93310:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BitmapMask:e(76756),GeometryMask:e(63037)}},31053:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h,n,r){(!h||h==="")&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!n||n==="")&&(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=l,this.fragmentSrc=h,this.vertexSrc=n,this.uniforms=r}});o.exports=x},99584:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x;if(u)typeof u=="string"?x=document.getElementById(u):typeof u=="object"&&u.nodeType===1&&(x=u);else if(e.parentElement||u===null)return e;return x||(x=document.body),x.appendChild(e),e};o.exports=T},85178:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99584),x=function(d){var l=d.config;if(!(!l.parent||!l.domCreateContainer)){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+d.scale.width+"px;","height: "+d.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+l.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),d.domContainer=h,u(h,l.parent)}};o.exports=x},21546:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36580),x=function(d){if(document.readyState==="complete"||document.readyState==="interactive"){d();return}var l=function(){document.removeEventListener("deviceready",l,!0),document.removeEventListener("DOMContentLoaded",l,!0),window.removeEventListener("load",l,!0),d()};document.body?u.cordova?document.addEventListener("deviceready",l,!1):(document.addEventListener("DOMContentLoaded",l,!0),window.addEventListener("load",l,!0)):window.setTimeout(l,20)};o.exports=x},74181:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){if(!e)return window.innerHeight;var u=Math.abs(window.orientation),x={w:0,h:0},d=document.createElement("div");return d.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(d),x.w=u===90?d.offsetHeight:window.innerWidth,x.h=u===90?window.innerWidth:d.offsetHeight,document.documentElement.removeChild(d),d=null,Math.abs(window.orientation)!==90?x.h:x.w};o.exports=T},9229:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(55301),x=function(d,l){var h=window.screen,n=h?h.orientation||h.mozOrientation||h.msOrientation:!1;if(n&&typeof n.type=="string")return n.type;if(typeof n=="string")return n;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return u.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return u.ORIENTATION.LANDSCAPE}else return l>d?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE};o.exports=x},2893:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u;return e!==""&&(typeof e=="string"?u=document.getElementById(e):e&&e.nodeType===1&&(u=e)),u||(u=document.body),u};o.exports=T},89200:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u="";try{if(window.DOMParser){var x=new DOMParser;u=x.parseFromString(e,"text/xml")}else u=new ActiveXObject("Microsoft.XMLDOM"),u.loadXML(e)}catch{u=null}return!u||!u.documentElement||u.getElementsByTagName("parsererror").length?null:u};o.exports=T},55638:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){e.parentNode&&e.parentNode.removeChild(e)};o.exports=T},27385:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72283),d=new u({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var h=this;this.step=function n(r){h.callback(r),h.isRunning&&(h.timeOutID=window.requestAnimationFrame(n))},this.stepTimeout=function n(){h.isRunning&&(h.timeOutID=window.setTimeout(n,h.delay)),h.callback(window.performance.now())}},start:function(l,h,n){this.isRunning||(this.callback=l,this.isSetTimeOut=h,this.delay=n,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});o.exports=d},3590:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={AddToDOM:e(99584),DOMContentLoaded:e(21546),GetInnerHeight:e(74181),GetScreenOrientation:e(9229),GetTarget:e(2893),ParseXML:e(89200),RemoveFromDOM:e(55638),RequestAnimationFrame:e(27385)};o.exports=u},78491:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(6659),d=e(91963),l=new u({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});d.register("EventEmitter",l,"events"),o.exports=l},95146:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={EventEmitter:e(78491)}},20170:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r){r===void 0&&(r=1),x.call(this,d.BARREL,n),this.amount=r}});o.exports=l},51182:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a,c,p,v){f===void 0&&(f=1),a===void 0&&(a=1),c===void 0&&(c=1),p===void 0&&(p=1),v===void 0&&(v=4),x.call(this,d.BLOOM,n),this.steps=v,this.offsetX=f,this.offsetY=a,this.blurStrength=c,this.strength=p,this.glcolor=[1,1,1],r!=null&&(this.color=r)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}}});o.exports=l},51498:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a,c,p,v){f===void 0&&(f=2),a===void 0&&(a=2),c===void 0&&(c=1),v===void 0&&(v=4),x.call(this,d.BLUR,n),this.quality=0,this.x=f,this.y=a,this.steps=v,this.strength=c,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}}});o.exports=l},12042:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a,c,p,v,m){r===void 0&&(r=.5),f===void 0&&(f=1),a===void 0&&(a=.2),c===void 0&&(c=!1),p===void 0&&(p=1),v===void 0&&(v=1),m===void 0&&(m=1),x.call(this,d.BOKEH,n),this.radius=r,this.amount=f,this.contrast=a,this.isTiltShift=c,this.strength=m,this.blurX=p,this.blurY=v}});o.exports=l},69900:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a,c,p){r===void 0&&(r=8),c===void 0&&(c=1),p===void 0&&(p=.005),x.call(this,d.CIRCLE,n),this.scale=c,this.feather=p,this.thickness=r,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],f!=null&&(this.color=f),a!=null&&(this.backgroundColor=a)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}},backgroundColor:{get:function(){var h=this.glcolor2;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor2;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}}});o.exports=l},48991:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(65246),d=e(47406),l=new u({Extends:x,initialize:function(n){x.call(this),this.type=d.COLOR_MATRIX,this.gameObject=n,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});o.exports=l},47551:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h){this.type=l,this.gameObject=h,this.active=!0},setActive:function(d){return this.active=d,this},destroy:function(){this.gameObject=null,this.active=!1}});o.exports=x},47909:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a){r===void 0&&(r="__WHITE"),f===void 0&&(f=.005),a===void 0&&(a=.005),x.call(this,d.DISPLACEMENT,n),this.x=f,this.y=a,this.glTexture,this.setTexture(r)},setTexture:function(h){var n=this.gameObject.scene.sys.textures.getFrame(h);return n&&(this.glTexture=n.glTexture),this}});o.exports=l},18919:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a,c){f===void 0&&(f=4),a===void 0&&(a=0),c===void 0&&(c=!1),x.call(this,d.GLOW,n),this.outerStrength=f,this.innerStrength=a,this.knockout=c,this.glcolor=[1,1,1,1],r!==void 0&&(this.color=r)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}}});o.exports=l},62494:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a,c,p,v,m,y){a===void 0&&(a=.2),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=1),y===void 0&&(y=0),x.call(this,d.GRADIENT,n),this.alpha=a,this.size=y,this.fromX=c,this.fromY=p,this.toX=v,this.toY=m,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],r!=null&&(this.color1=r),f!=null&&(this.color2=f)},color1:{get:function(){var h=this.glcolor1;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var n=this.glcolor1;n[0]=h>>16&255,n[1]=h>>8&255,n[2]=h&255}},color2:{get:function(){var h=this.glcolor2;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var n=this.glcolor2;n[0]=h>>16&255,n[1]=h>>8&255,n[2]=h&255}}});o.exports=l},68897:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r){r===void 0&&(r=1),x.call(this,d.PIXELATE,n),this.amount=r}});o.exports=l},58575:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a,c,p,v,m){r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=.1),c===void 0&&(c=1),v===void 0&&(v=6),m===void 0&&(m=1),x.call(this,d.SHADOW,n),this.x=r,this.y=f,this.decay=a,this.power=c,this.glcolor=[0,0,0,1],this.samples=v,this.intensity=m,p!==void 0&&(this.color=p)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var n=this.glcolor;n[0]=(h>>16&255)/255,n[1]=(h>>8&255)/255,n[2]=(h&255)/255}}});o.exports=l},33755:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a,c){r===void 0&&(r=.5),f===void 0&&(f=.5),a===void 0&&(a=3),c===void 0&&(c=!1),x.call(this,d.SHINE,n),this.speed=r,this.lineWidth=f,this.gradient=a,this.reveal=c}});o.exports=l},24949:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a,c){r===void 0&&(r=.5),f===void 0&&(f=.5),a===void 0&&(a=.5),c===void 0&&(c=.5),x.call(this,d.VIGNETTE,n),this.x=r,this.y=f,this.radius=a,this.strength=c}});o.exports=l},66241:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47551),d=e(47406),l=new u({Extends:x,initialize:function(n,r,f,a,c){r===void 0&&(r=.1),f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=!1),x.call(this,d.WIPE,n),this.progress=0,this.wipeWidth=r,this.direction=f,this.axis=a,this.reveal=c}});o.exports=l},47406:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};o.exports=T},96910:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),x=e(47406),d={Barrel:e(20170),Controller:e(47551),Bloom:e(51182),Blur:e(51498),Bokeh:e(12042),Circle:e(69900),ColorMatrix:e(48991),Displacement:e(47909),Glow:e(18919),Gradient:e(62494),Pixelate:e(68897),Shadow:e(58575),Shine:e(33755),Vignette:e(24949),Wipe:e(66241)};d=u(!1,d,x),o.exports=d},88933:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),x=e(20494),d=function(l,h,n){h.x=x(n,"x",0),h.y=x(n,"y",0),h.depth=x(n,"depth",0),h.flipX=x(n,"flipX",!1),h.flipY=x(n,"flipY",!1);var r=x(n,"scale",null);typeof r=="number"?h.setScale(r):r!==null&&(h.scaleX=x(r,"x",1),h.scaleY=x(r,"y",1));var f=x(n,"scrollFactor",null);typeof f=="number"?h.setScrollFactor(f):f!==null&&(h.scrollFactorX=x(f,"x",1),h.scrollFactorY=x(f,"y",1)),h.rotation=x(n,"rotation",0);var a=x(n,"angle",null);a!==null&&(h.angle=a),h.alpha=x(n,"alpha",1);var c=x(n,"origin",null);if(typeof c=="number")h.setOrigin(c);else if(c!==null){var p=x(c,"x",.5),v=x(c,"y",.5);h.setOrigin(p,v)}h.blendMode=x(n,"blendMode",u.NORMAL),h.visible=x(n,"visible",!0);var m=x(n,"add",!0);return m&&l.sys.displayList.add(h),h.preUpdate&&l.sys.updateList.add(h),h};o.exports=d},32291:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20494),x=function(d,l){var h=u(l,"anims",null);if(h===null)return d;if(typeof h=="string")d.anims.play(h);else if(typeof h=="object"){var n=d.anims,r=u(h,"key",void 0);if(r){var f=u(h,"startFrame",void 0),a=u(h,"delay",0),c=u(h,"repeat",0),p=u(h,"repeatDelay",0),v=u(h,"yoyo",!1),m=u(h,"play",!1),y=u(h,"delayedPlay",0),E={key:r,delay:a,repeat:c,repeatDelay:p,yoyo:v,startFrame:f};m?n.play(E):y>0?n.playAfterDelay(E,y):n.load(E)}}return d};o.exports=x},91713:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(71207),d=e(91963),l=e(56631),h=e(7599),n=e(17922),r=new u({Extends:x,initialize:function(a){x.call(this,a),this.sortChildrenFlag=!1,this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.parentContainer&&f.parentContainer.remove(f),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(l.ADDED_TO_SCENE,f,this.scene),this.events.emit(h.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(l.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,f,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(n(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,a){return f._depth-a._depth},getChildren:function(){return this.list},shutdown:function(){for(var f=this.list;f.length;)f[0].destroy(!0);this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});d.register("DisplayList",r,"displayList"),o.exports=r},89980:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(48129),d=e(81078),l=e(6659),h=e(56631),n=e(7599),r=new u({Extends:l,initialize:function(a,c){l.call(this),this.scene=a,this.displayList=null,this.type=c,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),a.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new d(this)),this},setData:function(f,a){return this.data||(this.data=new d(this)),this.data.set(f,a),this},incData:function(f,a){return this.data||(this.data=new d(this)),this.data.inc(f,a),this},toggleData:function(f){return this.data||(this.data=new d(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new d(this)),this.data.get(f)},setInteractive:function(f,a,c){return this.scene.sys.input.enable(this,f,a,c),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(f){var a=this.displayList&&this.displayList.active?this.displayList.willRender(f):!0;return!(!a||r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,a=this.parentContainer,c=[];a&&(c.unshift(a.getIndex(f)),f=a,a.parentContainer);)a=a.parentContainer;return this.displayList?c.unshift(this.displayList.getIndex(f)):c.unshift(this.scene.sys.displayList.getIndex(f)),c},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),f.events.emit(n.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f&&f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(n.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(f){!this.scene||this.ignoreDestroy||(f===void 0&&(f=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this,f),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,o.exports=r},99325:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(91963),d=e(7599),l=new u({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(h,n){l.prototype.hasOwnProperty(h)||(l.prototype[h]=n)},l.remove=function(h){l.prototype.hasOwnProperty(h)&&delete l.prototype[h]},x.register("GameObjectCreator",l,"make"),o.exports=l},61286:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(91963),d=e(7599),l=new u({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(h,n){l.prototype.hasOwnProperty(h)||(l.prototype[h]=n)},l.remove=function(h){l.prototype.hasOwnProperty(h)&&delete l.prototype[h]},x.register("GameObjectFactory",l,"add"),o.exports=l},73329:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(69360),x=new u,d=new u,l=new u,h={camera:x,sprite:d,calc:l},n=function(r,f,a){var c=x,p=d,v=l;return p.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),c.copyFrom(f.matrix),a?(c.multiplyWithOffset(a,-f.scrollX*r.scrollFactorX,-f.scrollY*r.scrollFactorY),p.e=r.x,p.f=r.y):(p.e-=f.scrollX*r.scrollFactorX,p.f-=f.scrollY*r.scrollFactorY),c.multiply(p,v),h};o.exports=n},92034:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(74623),d=e(91963),l=e(7599),h=new u({Extends:x,initialize:function(r){x.call(this),this.checkQueue=!0,this.scene=r,this.systems=r.sys,r.sys.events.once(l.BOOT,this.boot,this),r.sys.events.on(l.START,this.start,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(l.PRE_UPDATE,this.update,this),n.on(l.UPDATE,this.sceneUpdate,this),n.once(l.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(n,r){for(var f=this._active,a=f.length,c=0;c<a;c++){var p=f[c];p.active&&p.preUpdate.call(p,n,r)}},shutdown:function(){for(var n=this._active.length;n--;)this._active[n].destroy(!0);for(n=this._pending.length;n--;)this._pending[n].destroy(!0);for(n=this._destroy.length;n--;)this._destroy[n].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var r=this.systems.events;r.off(l.PRE_UPDATE,this.update,this),r.off(l.UPDATE,this.sceneUpdate,this),r.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});d.register("UpdateList",h,"updateList"),o.exports=h},8810:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l,h,n,r,f,a,c,p,v,m,y){var E=x.x-u.displayOriginX+l,P=x.y-u.displayOriginY+h,S=E+x.w,w=P+x.h,A=n.getXRound(E,P,r),R=n.getYRound(E,P,r),O=n.getXRound(E,w,r),L=n.getYRound(E,w,r),b=n.getXRound(S,w,r),D=n.getYRound(S,w,r),I=n.getXRound(S,P,r),B=n.getYRound(S,P,r);e.batchQuad(u,A,R,O,L,b,D,I,B,d.u0,d.v0,d.u1,d.v1,f,a,c,p,v,m,y)};o.exports=T},82173:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){if(x===void 0&&(x=!1),d===void 0)return d={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},d;var l=e.text,h=l.length,n=e.maxWidth,r=e.wordWrapCharCode,f=Number.MAX_VALUE,a=Number.MAX_VALUE,c=0,p=0,v=e.fontData.chars,m=e.fontData.lineHeight,y=e.letterSpacing,E=e.lineSpacing,P=0,S=0,w=0,A=null,R=e._align,O=0,L=0,b=e.fontSize/e.fontData.size,D=b*e.scaleX,I=b*e.scaleY,B=null,V=0,Y=[],k=Number.MAX_VALUE,W=0,G=0,U=0,F,N=[],z=[],X=null;if(n>0){for(F=0;F<h;F++){if(w=l.charCodeAt(F),w===10){X!==null&&(N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*I,w:X.w*D,h:X.h*I,cr:!0}),X=null),P=0,S+=m+E,B=null;continue}if(A=v[w],!!A){if(B!==null)var H=A.kerning[V];w===r?X!==null&&(N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*I,w:X.w*D,h:X.h*I,cr:!1}),X=null):(X===null&&(X={word:"",i:F,x:P,y:S,w:0,h:m,cr:!1}),X.word=X.word.concat(l[F]),X.w+=A.xOffset+A.xAdvance+(H!==void 0?H:0)),P+=A.xAdvance+y,B=A,V=w}}X!==null&&N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*I,w:X.w*D,h:X.h*I,cr:!1}),P=0,S=0,B=null,V=0;var $,K=0,Z=[];for(F=0;F<N.length;F++){var J=N[F],j=J.x,Q=J.x+J.w;if($){var tt=j-($.x+$.w);K=j-(tt+$.w),$=null}var _=j-K,it=Q-K;_>n||it>n?(Z.push(J.i-1),J.cr?(Z.push(J.i+J.word.length),K=0,$=null):$=J):J.cr&&(Z.push(J.i+J.word.length),K=0,$=null)}var ht=function(Gt,Ut,kt){return Gt.substr(0,Ut)+kt+Gt.substr(Ut+1)};for(F=Z.length-1;F>=0;F--)l=ht(l,Z[F],`
`);d.wrappedText=l,h=l.length,N=[],X=null}var lt=0;for(F=0;F<h;F++){if(w=l.charCodeAt(F),w===10){X!==null&&(N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*I,w:X.w*D,h:X.h*I}),X=null),P=0,S+=m+E,B=null,Y[G]=U,U>W&&(W=U),U<k&&(k=U),G++,U=0;continue}if(A=v[w],!!A){if(O=P,L=S,B!==null){var ot=A.kerning[V];O+=ot!==void 0?ot:0}f>O&&(f=O),a>L&&(a=L);var et=O+A.xAdvance,at=L+m;c<et&&(c=et),p<at&&(p=at);var rt=A.xOffset+A.xAdvance+(ot!==void 0?ot:0);w===r?X!==null&&(N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*I,w:X.w*D,h:X.h*I}),X=null):(X===null&&(X={word:"",i:lt,x:P,y:S,w:0,h:m}),X.word=X.word.concat(l[F]),X.w+=rt),z.push({i:lt,idx:F,char:l[F],code:w,x:(A.xOffset+O)*b,y:(A.yOffset+S)*b,w:A.width*b,h:A.height*b,t:S*b,r:et*b,b:m*b,line:G,glyph:A}),P+=A.xAdvance+y+(ot!==void 0?ot:0),B=A,V=w,U=et*b,lt++}}if(X!==null&&N.push({word:X.word,i:X.i,x:X.x*D,y:X.y*I,w:X.w*D,h:X.h*I}),Y[G]=U,U>W&&(W=U),U<k&&(k=U),R>0)for(var gt=0;gt<z.length;gt++){var pt=z[gt];if(R===1){var Lt=(W-Y[pt.line])/2;pt.x+=Lt,pt.r+=Lt}else if(R===2){var At=W-Y[pt.line];pt.x+=At,pt.r+=At}}var Tt=d.local,xt=d.global,Rt=d.lines;return Tt.x=f*b,Tt.y=a*b,Tt.width=c*b,Tt.height=p*b,xt.x=e.x-e._displayOriginX+f*D,xt.y=e.y-e._displayOriginY+a*I,xt.width=c*D,xt.height=p*I,Rt.shortest=k,Rt.longest=W,Rt.lengths=Y,u&&(Tt.x=Math.ceil(Tt.x),Tt.y=Math.ceil(Tt.y),Tt.width=Math.ceil(Tt.width),Tt.height=Math.ceil(Tt.height),xt.x=Math.ceil(xt.x),xt.y=Math.ceil(xt.y),xt.width=Math.ceil(xt.width),xt.height=Math.ceil(xt.height),Rt.shortest=Math.ceil(k),Rt.longest=Math.ceil(W)),x&&(e._displayOriginX=e.originX*Tt.width,e._displayOriginY=e.originY*Tt.height,xt.x=e.x-e._displayOriginX*e.scaleX,xt.y=e.y-e._displayOriginY*e.scaleY,u&&(xt.x=Math.ceil(xt.x),xt.y=Math.ceil(xt.y))),d.words=N,d.characters=z,d.lines.height=m,d.scale=b,d.scaleX=e.scaleX,d.scaleY=e.scaleY,d};o.exports=T},68298:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(31476),x=function(d,l,h,n,r,f,a){var c=d.sys.textures.get(h),p=c.get(n),v=d.sys.cache.xml.get(r);if(p&&v){var m=u(v,p,f,a,c);return d.sys.cache.bitmapFont.add(l,{data:m,texture:h,frame:n,fromAtlas:!0}),!0}else return!1};o.exports=x},39860:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10850),x=function(d,l){var h=l.width,n=l.height,r=Math.floor(h/2),f=Math.floor(n/2),a=u(l,"chars","");if(a!==""){var c=u(l,"image",""),p=d.sys.textures.getFrame(c),v=p.cutX,m=p.cutY,y=p.source.width,E=p.source.height,P=u(l,"offset.x",0),S=u(l,"offset.y",0),w=u(l,"spacing.x",0),A=u(l,"spacing.y",0),R=u(l,"lineSpacing",0),O=u(l,"charsPerRow",null);O===null&&(O=y/h,O>a.length&&(O=a.length));for(var L=P,b=S,D={retroFont:!0,font:c,size:h,lineHeight:n+R,chars:{}},I=0,B=0;B<a.length;B++){var V=a.charCodeAt(B),Y=(v+L)/y,k=(m+b)/E,W=(v+L+h)/y,G=(m+b+n)/E;D.chars[V]={x:L,y:b,width:h,height:n,centerX:r,centerY:f,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:Y,v0:k,u1:W,v1:G},I++,I===O?(I=0,L=P,b+=n+A):L+=h+w}var U={data:D,frame:null,texture:c};return U}};o.exports=x},31476:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(u,x){return parseInt(u.getAttribute(x),10)}var e=function(u,x,d,l,h){d===void 0&&(d=0),l===void 0&&(l=0);var n=x.cutX,r=x.cutY,f=x.source.width,a=x.source.height,c=x.sourceIndex,p={},v=u.getElementsByTagName("info")[0],m=u.getElementsByTagName("common")[0];p.font=v.getAttribute("face"),p.size=T(v,"size"),p.lineHeight=T(m,"lineHeight")+l,p.chars={};var y=u.getElementsByTagName("char"),E=x!==void 0&&x.trimmed;if(E)var P=x.height,S=x.width;for(var w=0;w<y.length;w++){var A=y[w],R=T(A,"id"),O=String.fromCharCode(R),L=T(A,"x"),b=T(A,"y"),D=T(A,"width"),I=T(A,"height");E&&(L<S&&(S=L),b<P&&(P=b)),E&&P!==0&&S!==0&&(L-=x.x,b-=x.y);var B=(n+L)/f,V=(r+b)/a,Y=(n+L+D)/f,k=(r+b+I)/a;if(p.chars[R]={x:L,y:b,width:D,height:I,centerX:Math.floor(D/2),centerY:Math.floor(I/2),xOffset:T(A,"xoffset"),yOffset:T(A,"yoffset"),xAdvance:T(A,"xadvance")+d,data:{},kerning:{},u0:B,v0:V,u1:Y,v1:k},h&&D!==0&&I!==0){var W=h.add(O,c,L,b,D,I);W&&W.setUVs(D,I,B,V,Y,k)}}var G=u.getElementsByTagName("kerning");for(w=0;w<G.length;w++){var U=G[w],F=T(U,"first"),N=T(U,"second"),z=T(U,"amount");p.chars[N].kerning[F]=z}return p};o.exports=e},55873:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66863),x=e(98611),d={Parse:e(39860)};d=x(!1,d,u),o.exports=d},66863:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};o.exports=T},13468:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44616),x=e(56694),d=e(88899),l=new x({Extends:u,Mixins:[d],initialize:function(n,r,f,a,c,p,v){u.call(this,n,r,f,a,c,p,v),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,n){return this.cropWidth=h,this.cropHeight=n,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});o.exports=l},93438:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(49584),x=function(d,l,h,n){var r=l._text,f=r.length,a=d.currentContext;if(!(f===0||!u(d,a,l,h,n))){h.addToRenderList(l);var c=l.fromAtlas?l.frame:l.texture.frames.__BASE,p=l.displayCallback,v=l.callbackData,m=l.fontData.chars,y=l.fontData.lineHeight,E=l._letterSpacing,P=0,S=0,w=0,A=null,R=0,O=0,L=0,b=0,D=0,I=0,B=null,V=0,Y=l.frame.source.image,k=c.cutX,W=c.cutY,G=0,U=0,F=l._fontSize/l.fontData.size,N=l._align,z=0,X=0;l.getTextBounds(!1);var H=l._bounds.lines;N===1?X=(H.longest-H.lengths[0])/2:N===2&&(X=H.longest-H.lengths[0]),a.translate(-l.displayOriginX,-l.displayOriginY);var $=h.roundPixels;l.cropWidth>0&&l.cropHeight>0&&(a.beginPath(),a.rect(0,0,l.cropWidth,l.cropHeight),a.clip());for(var K=0;K<f;K++){if(U=F,G=0,w=r.charCodeAt(K),w===10){z++,N===1?X=(H.longest-H.lengths[z])/2:N===2&&(X=H.longest-H.lengths[z]),P=0,S+=y,B=null;continue}if(A=m[w],!!A){if(R=k+A.x,O=W+A.y,L=A.width,b=A.height,D=A.xOffset+P-l.scrollX,I=A.yOffset+S-l.scrollY,B!==null){var Z=A.kerning[V];D+=Z!==void 0?Z:0}if(p){v.index=K,v.charCode=w,v.x=D,v.y=I,v.scale=U,v.rotation=G,v.data=A.data;var J=p(v);D=J.x,I=J.y,U=J.scale,G=J.rotation}D*=U,I*=U,D+=X,P+=A.xAdvance+E+(Z!==void 0?Z:0),B=A,V=w,!(L===0||b===0||w===32)&&($&&(D=Math.round(D),I=Math.round(I)),a.save(),a.translate(D,I),a.rotate(G),a.scale(U,U),a.drawImage(Y,R,O,L,b,0,0,L,b),a.restore())}}a.restore()}};o.exports=x},67513:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13468),x=e(88933),d=e(99325),l=e(20494);d.register("dynamicBitmapText",function(h,n){h===void 0&&(h={});var r=l(h,"font",""),f=l(h,"text",""),a=l(h,"size",!1),c=new u(this.scene,0,0,r,f,a);return n!==void 0&&(h.add=n),x(this.scene,c,h),c})},94145:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13468),x=e(61286);x.register("dynamicBitmapText",function(d,l,h,n,r){return this.displayList.add(new u(this.scene,d,l,h,n,r))})},88899:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(16873),d=e(93438),o.exports={renderWebGL:x,renderCanvas:d}},16873:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=e(69360),d=e(75512),l=new x,h=function(n,r,f,a){var c=r.text,p=c.length;if(p!==0){f.addToRenderList(r);var v=n.pipelines.set(r.pipeline,r),m=u(r,f,a);n.pipelines.preBatch(r);var y=m.sprite,E=m.calc,P=l,S=r.cropWidth>0||r.cropHeight>0;S&&(v.flush(),n.pushScissor(E.tx,E.ty,r.cropWidth*E.scaleX,r.cropHeight*E.scaleY));var w=r.frame,A=w.glTexture,R=r.tintFill,O=d.getTintAppendFloatAlpha(r.tintTopLeft,f.alpha*r._alphaTL),L=d.getTintAppendFloatAlpha(r.tintTopRight,f.alpha*r._alphaTR),b=d.getTintAppendFloatAlpha(r.tintBottomLeft,f.alpha*r._alphaBL),D=d.getTintAppendFloatAlpha(r.tintBottomRight,f.alpha*r._alphaBR),I=v.setGameObject(r),B=0,V=0,Y=0,k=0,W=r.letterSpacing,G,U=0,F=0,N,z=r.scrollX,X=r.scrollY,H=r.fontData,$=H.chars,K=H.lineHeight,Z=r.fontSize/H.size,J=0,j=r._align,Q=0,tt=0,_=r.getTextBounds(!1);r.maxWidth>0&&(c=_.wrappedText,p=c.length);var it=r._bounds.lines;j===1?tt=(it.longest-it.lengths[0])/2:j===2&&(tt=it.longest-it.lengths[0]);for(var ht=f.roundPixels,lt=r.displayCallback,ot=r.callbackData,et=0;et<p;et++){if(Y=c.charCodeAt(et),Y===10){Q++,j===1?tt=(it.longest-it.lengths[Q])/2:j===2&&(tt=it.longest-it.lengths[Q]),B=0,V+=K,N=null;continue}if(G=$[Y],!!G){U=G.width,F=G.height;var at=G.xOffset+B-z,rt=G.yOffset+V-X;if(N!==null){var gt=G.kerning[k];at+=gt!==void 0?gt:0}if(B+=G.xAdvance+W,N=G,k=Y,!(U===0||F===0||Y===32)){if(Z=r.fontSize/r.fontData.size,J=0,lt){ot.color=0,ot.tint.topLeft=O,ot.tint.topRight=L,ot.tint.bottomLeft=b,ot.tint.bottomRight=D,ot.index=et,ot.charCode=Y,ot.x=at,ot.y=rt,ot.scale=Z,ot.rotation=J,ot.data=G.data;var pt=lt(ot);at=pt.x,rt=pt.y,Z=pt.scale,J=pt.rotation,pt.color?(O=pt.color,L=pt.color,b=pt.color,D=pt.color):(O=pt.tint.topLeft,L=pt.tint.topRight,b=pt.tint.bottomLeft,D=pt.tint.bottomRight),O=d.getTintAppendFloatAlpha(O,f.alpha*r._alphaTL),L=d.getTintAppendFloatAlpha(L,f.alpha*r._alphaTR),b=d.getTintAppendFloatAlpha(b,f.alpha*r._alphaBL),D=d.getTintAppendFloatAlpha(D,f.alpha*r._alphaBR)}at*=Z,rt*=Z,at-=r.displayOriginX,rt-=r.displayOriginY,at+=tt,P.applyITRS(at,rt,J,Z,Z),E.multiply(P,y);var Lt=G.u0,At=G.v0,Tt=G.u1,xt=G.v1,Rt=U,Gt=F,Ut=y.e,kt=y.f,de=Gt*y.c+y.e,Ze=Gt*y.d+y.f,Je=Rt*y.a+Gt*y.c+y.e,li=Rt*y.b+Gt*y.d+y.f,ui=Rt*y.a+y.e,je=Rt*y.b+y.f;ht&&(Ut=Math.round(Ut),kt=Math.round(kt),de=Math.round(de),Ze=Math.round(Ze),Je=Math.round(Je),li=Math.round(li),ui=Math.round(ui),je=Math.round(je)),v.batchQuad(r,Ut,kt,de,Ze,Je,li,ui,je,Lt,At,Tt,xt,O,L,b,D,R,A,I)}}}S&&(v.flush(),n.popScissor()),n.pipelines.postBatch(r)}};o.exports=h},44616:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(82897),d=e(64937),l=e(89980),h=e(82173),n=e(68298),r=e(31476),f=e(74118),a=e(84557),c=new u({Extends:l,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Texture,d.Tint,d.Transform,d.Visible,a],initialize:function(v,m,y,E,P,S,w){P===void 0&&(P=""),w===void 0&&(w=0),l.call(this,v,"BitmapText"),this.font=E;var A=this.scene.sys.cache.bitmapFont.get(E);A||console.warn("Invalid BitmapText key: "+E),this.fontData=A.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=w,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(m,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(P)},setLeftAlign:function(){return this._align=c.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=c.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=c.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,v,m,y){return p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=.5),this.dropShadowX=p,this.dropShadowY=v,this.dropShadowColor=m,this.dropShadowAlpha=y,this},setCharacterTint:function(p,v,m,y,E,P,S){p===void 0&&(p=0),v===void 0&&(v=1),m===void 0&&(m=!1),y===void 0&&(y=-1),E===void 0&&(E=y,P=y,S=y);var w=this.text.length;v===-1&&(v=w),p<0&&(p=w+p),p=x(p,0,w-1);for(var A=x(p+v,p,w),R=this.charColors,O=p;O<A;O++){var L=R[O];if(y===-1)R[O]=null;else{var b=m?1:0;L?(L.tintEffect=b,L.tintTL=y,L.tintTR=E,L.tintBL=P,L.tintBR=S):R[O]={tintEffect:b,tintTL:y,tintTR:E,tintBL:P,tintBR:S}}}return this},setWordTint:function(p,v,m,y,E,P,S){v===void 0&&(v=1);for(var w=this.getTextBounds(),A=w.words,R=typeof p=="number",O=0,L=0;L<A.length;L++){var b=A[L];if((R&&L===p||!R&&b.word===p)&&(this.setCharacterTint(b.i,b.word.length,m,y,E,P,S),O++,O===v))return this}return this},getTextBounds:function(p){var v=this._bounds;return(this._dirty||p||this.scaleX!==v.scaleX||this.scaleY!==v.scaleY)&&(h(this,p,!0,v),this._dirty=!1),v},getCharacterAt:function(p,v,m){for(var y=this.getLocalPoint(p,v,null,m),E=this.getTextBounds(),P=E.characters,S=new f,w=0;w<P.length;w++){var A=P[w];if(S.setTo(A.x,A.t,A.r-A.x,A.b),S.contains(y.x,y.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,v,m){if(v===void 0&&(v=this._fontSize),m===void 0&&(m=this._align),p!==this.font){var y=this.scene.sys.cache.bitmapFont.get(p);y&&(this.font=p,this.fontData=y.data,this._fontSize=v,this._align=m,this.fromAtlas=y.fromAtlas===!0,this.setTexture(y.texture,y.frame),h(this,!1,!0,this._bounds))}return this},setMaxWidth:function(p,v){return this._maxWidth=p,this._dirty=!0,v!==void 0&&(this.wordWrapCharCode=v),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=d.ToJSON(this),v={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=v,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});c.ALIGN_LEFT=0,c.ALIGN_CENTER=1,c.ALIGN_RIGHT=2,c.ParseFromAtlas=n,c.ParseXMLBitmapFont=r,o.exports=c},97545:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(49584),x=function(d,l,h,n){var r=l._text,f=r.length,a=d.currentContext;if(!(f===0||!u(d,a,l,h,n))){h.addToRenderList(l);var c=l.fromAtlas?l.frame:l.texture.frames.__BASE,p=l.fontData.chars,v=l.fontData.lineHeight,m=l._letterSpacing,y=l._lineSpacing,E=0,P=0,S=0,w=null,A=0,R=0,O=0,L=0,b=0,D=0,I=null,B=0,V=c.source.image,Y=c.cutX,k=c.cutY,W=l._fontSize/l.fontData.size,G=l._align,U=0,F=0,N=l.getTextBounds(!1);l.maxWidth>0&&(r=N.wrappedText,f=r.length);var z=l._bounds.lines;G===1?F=(z.longest-z.lengths[0])/2:G===2&&(F=z.longest-z.lengths[0]),a.translate(-l.displayOriginX,-l.displayOriginY);for(var X=h.roundPixels,H=0;H<f;H++){if(S=r.charCodeAt(H),S===10){U++,G===1?F=(z.longest-z.lengths[U])/2:G===2&&(F=z.longest-z.lengths[U]),E=0,P+=v+y,I=null;continue}if(w=p[S],!!w){if(A=Y+w.x,R=k+w.y,O=w.width,L=w.height,b=w.xOffset+E,D=w.yOffset+P,I!==null){var $=w.kerning[B];b+=$!==void 0?$:0}b*=W,D*=W,b+=F,E+=w.xAdvance+m+($!==void 0?$:0),I=w,B=S,!(O===0||L===0||S===32)&&(X&&(b=Math.round(b),D=Math.round(D)),a.save(),a.translate(b,D),a.scale(W,W),a.drawImage(V,A,R,O,L,0,0,O,L),a.restore())}}a.restore()}};o.exports=x},95499:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44616),x=e(88933),d=e(99325),l=e(20494),h=e(10850);d.register("bitmapText",function(n,r){n===void 0&&(n={});var f=h(n,"font",""),a=l(n,"text",""),c=l(n,"size",!1),p=h(n,"align",0),v=new u(this.scene,0,0,f,a,c,p);return r!==void 0&&(n.add=r),x(this.scene,v,n),v})},21797:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44616),x=e(61286);x.register("bitmapText",function(d,l,h,n,r,f){return this.displayList.add(new u(this.scene,d,l,h,n,r,f))})},84557:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(26372),d=e(97545),o.exports={renderWebGL:x,renderCanvas:d}},26372:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8810),x=e(73329),d=e(75512),l=function(h,n,r,f){var a=n._text,c=a.length;if(c!==0){r.addToRenderList(n);var p=h.pipelines.set(n.pipeline,n),v=x(n,r,f).calc;h.pipelines.preBatch(n);var m=r.roundPixels,y=r.alpha,E=n.charColors,P=n.tintFill,S=d.getTintAppendFloatAlpha,w=S(n.tintTopLeft,y*n._alphaTL),A=S(n.tintTopRight,y*n._alphaTR),R=S(n.tintBottomLeft,y*n._alphaBL),O=S(n.tintBottomRight,y*n._alphaBR),L=n.frame.glTexture,b=p.setGameObject(n),D=n.getTextBounds(!1),I,B,V,Y=D.characters,k=n.dropShadowX,W=n.dropShadowY,G=k!==0||W!==0;if(G){var U=n.dropShadowColor,F=n.dropShadowAlpha,N=S(U,y*F*n._alphaTL),z=S(U,y*F*n._alphaTR),X=S(U,y*F*n._alphaBL),H=S(U,y*F*n._alphaBR);for(I=0;I<Y.length;I++)B=Y[I],V=B.glyph,!(B.code===32||V.width===0||V.height===0)&&u(p,n,B,V,k,W,v,m,N,z,X,H,1,L,b)}for(I=0;I<Y.length;I++)if(B=Y[I],V=B.glyph,!(B.code===32||V.width===0||V.height===0))if(E[B.i]){var $=E[B.i],K=$.tintEffect,Z=S($.tintTL,y*n._alphaTL),J=S($.tintTR,y*n._alphaTR),j=S($.tintBL,y*n._alphaBL),Q=S($.tintBR,y*n._alphaBR);u(p,n,B,V,0,0,v,m,Z,J,j,Q,K,L,b)}else u(p,n,B,V,0,0,v,m,w,A,R,O,P,L,b);h.pipelines.postBatch(n)}};o.exports=l},52816:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92246),x=e(41664),d=e(56694),l=e(64937),h=e(82047),n=e(89980),r=e(71207),f=new d({Extends:n,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.Texture,l.Transform,l.Visible,u],initialize:function(c,p,v,m,y){n.call(this,c,"Blitter"),this.setTexture(m,y),this.setPosition(p,v),this.initPipeline(),this.initPostPipeline(),this.children=new r,this.renderList=[],this.dirty=!1},create:function(a,c,p,v,m){v===void 0&&(v=!0),m===void 0&&(m=this.children.length),p===void 0?p=this.frame:p instanceof h||(p=this.texture.get(p));var y=new x(this,a,c,p,v);return this.children.addAt(y,m,!1),this.dirty=!0,y},createFromCallback:function(a,c,p,v){for(var m=this.createMultiple(c,p,v),y=0;y<m.length;y++){var E=m[y];a.call(this,E,y)}return m},createMultiple:function(a,c,p){c===void 0&&(c=this.frame.name),p===void 0&&(p=!0),Array.isArray(c)||(c=[c]);var v=[],m=this;return c.forEach(function(y){for(var E=0;E<a;E++)v.push(m.create(0,0,y,p))}),v},childCanRender:function(a){return a.visible&&a.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});o.exports=f},33177:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=u.getRenderList();if(l.length!==0){var h=e.currentContext,n=x.alpha*u.alpha;if(n!==0){x.addToRenderList(u),h.globalCompositeOperation=e.blendModes[u.blendMode],h.imageSmoothingEnabled=!u.frame.source.scaleMode;var r=u.x-x.scrollX*u.scrollFactorX,f=u.y-x.scrollY*u.scrollFactorY;h.save(),d&&d.copyToContext(h);for(var a=x.roundPixels,c=0;c<l.length;c++){var p=l[c],v=p.flipX||p.flipY,m=p.frame,y=m.canvasData,E=m.x,P=m.y,S=1,w=1,A=p.alpha*n;A!==0&&(h.globalAlpha=A,v?(p.flipX&&(S=-1,E-=y.width),p.flipY&&(w=-1,P-=y.height),y.width>0&&y.height>0&&(h.save(),h.translate(p.x+r,p.y+f),h.scale(S,w),h.drawImage(m.source.image,y.x,y.y,y.width,y.height,E,P,y.width,y.height),h.restore())):(a&&(E=Math.round(E),P=Math.round(P)),y.width>0&&y.height>0&&h.drawImage(m.source.image,y.x,y.y,y.width,y.height,E+p.x+r,P+p.y+f,y.width,y.height)))}h.restore()}}};o.exports=T},68452:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(52816),x=e(88933),d=e(99325),l=e(20494);d.register("blitter",function(h,n){h===void 0&&(h={});var r=l(h,"key",null),f=l(h,"frame",null),a=new u(this.scene,0,0,r,f);return n!==void 0&&(h.add=n),x(this.scene,a,h),a})},38906:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(52816),x=e(61286);x.register("blitter",function(d,l,h,n){return this.displayList.add(new u(this.scene,d,l,h,n))})},92246:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(89165),d=e(33177),o.exports={renderWebGL:x,renderCanvas:d}},89165:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(69360),x=e(75512),d=new u,l=function(h,n,r,f){var a=n.getRenderList(),c=r.alpha*n.alpha;if(!(a.length===0||c===0)){r.addToRenderList(n);var p=h.pipelines.set(this.pipeline,n),v=r.scrollX*n.scrollFactorX,m=r.scrollY*n.scrollFactorY,y=d.copyFrom(r.matrix);f&&(y.multiplyWithOffset(f,-v,-m),v=0,m=0);var E=n.x-v,P=n.y-m,S=-1,w=!1,A=r.roundPixels;h.pipelines.preBatch(n);for(var R=0;R<a.length;R++){var O=a[R],L=O.frame,b=O.alpha*c;if(b!==0){var D=L.width,I=L.height,B=E+O.x+L.x,V=P+O.y+L.y;O.flipX&&(D*=-1,B+=L.width),O.flipY&&(I*=-1,V+=L.height);var Y=y.setQuad(B,V,B+D,V+I,A),k=x.getTintAppendFloatAlpha(O.tint,b);if(L.sourceIndex!==S){var W=p.setGameObject(n,L);S=L.sourceIndex}p.batchQuad(n,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],L.u0,L.v0,L.u1,L.v1,k,k,k,k,w,L.glTexture,W)&&(S=-1)}}h.pipelines.postBatch(n)}};o.exports=l},41664:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(82047),d=new u({initialize:function(h,n,r,f,a){this.parent=h,this.x=n,this.y=r,this.frame=f,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(l){return l===void 0?this.frame=this.parent.frame:l instanceof x&&l.texture===this.parent.texture?this.frame=l:this.frame=this.parent.texture.get(l),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(l,h,n){return this.x=l,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(l,h){return this.x=l,this.y=h,this},setFlipX:function(l){return this.flipX=l,this},setFlipY:function(l){return this.flipY=l,this},setFlip:function(l,h){return this.flipX=l,this.flipY=h,this},setVisible:function(l){return this.visible=l,this},setAlpha:function(l){return this.alpha=l,this},setTint:function(l){return this.tint=l,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(l){this.parent.dirty|=this._visible!==l,this._visible=l}},alpha:{get:function(){return this._alpha},set:function(l){this.parent.dirty|=this._alpha>0!=l>0,this._alpha=l}}});o.exports=d},97123:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=2,d={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l,h,n,r){return l===void 0&&(l=1),h===void 0?this.alpha=l:(this._alphaTL=u(l,0,1),this._alphaTR=u(h,0,1),this._alphaBL=u(n,0,1),this._alphaBR=u(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(l){var h=u(l,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,h===0?this.renderFlags&=~x:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(l){var h=u(l,0,1);this._alphaTL=h,h!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(l){var h=u(l,0,1);this._alphaTR=h,h!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(l){var h=u(l,0,1);this._alphaBL=h,h!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(l){var h=u(l,0,1);this._alphaBR=h,h!==0&&(this.renderFlags|=x)}}};o.exports=d},15720:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=2,d={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l){return l===void 0&&(l=1),this.alpha=l,this},alpha:{get:function(){return this._alpha},set:function(l){var h=u(l,0,1);this._alpha=h,h===0?this.renderFlags&=~x:this.renderFlags|=x}}};o.exports=d},69732:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),x={_blendMode:u.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(d){typeof d=="string"&&(d=u[d]),d|=0,d>=-1&&(this._blendMode=d)}},setBlendMode:function(d){return this.blendMode=d,this}};o.exports=x},28284:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};o.exports=T},85293:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(e,u,x,d){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,u,x,d,this.flipX,this.flipY);else{var l=e;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};o.exports=T},14975:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};o.exports=T},88677:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(96910),d=e(72677),l=new u({initialize:function(n,r){this.gameObject=n,this.isPost=r,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(h){return h===void 0&&(h=0),this.padding=h,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(h){if(!this.isPost){var n=this.gameObject.scene.sys.renderer;n&&n.pipelines?(this.gameObject.pipeline=n.pipelines.FX_PIPELINE,h!==void 0&&(this.padding=h),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var h=this.list,n=0;n<h.length;n++)h[n].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(h){var n;if(this.isPost){var r=this.gameObject.getPostPipeline(String(h.type));for(Array.isArray(r)||(r=[r]),n=0;n<r.length;n++){var f=r[n];if(f.controller===h){this.gameObject.removePostPipeline(f),h.destroy();break}}}else{var a=this.list;for(n=0;n<a.length;n++)a[n]===h&&(d(a,n),h.destroy())}return this.gameObject},disable:function(h){return h===void 0&&(h=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,h&&this.clear(),this.gameObject},add:function(h,n){if(this.isPost){var r=String(h.type);this.gameObject.setPostPipeline(r,n);var f=this.gameObject.getPostPipeline(r);if(f)return Array.isArray(f)&&(f=f.pop()),f.controller=h,h}else return this.enabled||this.enable(),this.list.push(h),h},addGlow:function(h,n,r,f,a,c){return this.add(new x.Glow(this.gameObject,h,n,r,f),{quality:a,distance:c})},addShadow:function(h,n,r,f,a,c,p){return this.add(new x.Shadow(this.gameObject,h,n,r,f,a,c,p))},addPixelate:function(h){return this.add(new x.Pixelate(this.gameObject,h))},addVignette:function(h,n,r,f){return this.add(new x.Vignette(this.gameObject,h,n,r,f))},addShine:function(h,n,r,f){return this.add(new x.Shine(this.gameObject,h,n,r,f))},addBlur:function(h,n,r,f,a,c){return this.add(new x.Blur(this.gameObject,h,n,r,f,a,c))},addGradient:function(h,n,r,f,a,c,p,v){return this.add(new x.Gradient(this.gameObject,h,n,r,f,a,c,p,v))},addBloom:function(h,n,r,f,a,c){return this.add(new x.Bloom(this.gameObject,h,n,r,f,a,c))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(h,n,r,f,a){return this.add(new x.Circle(this.gameObject,h,n,r,f,a))},addBarrel:function(h){return this.add(new x.Barrel(this.gameObject,h))},addDisplacement:function(h,n,r){return this.add(new x.Displacement(this.gameObject,h,n,r))},addWipe:function(h,n,r){return this.add(new x.Wipe(this.gameObject,h,n,r))},addReveal:function(h,n,r){return this.add(new x.Wipe(this.gameObject,h,n,r,!0))},addBokeh:function(h,n,r){return this.add(new x.Bokeh(this.gameObject,h,n,r))},addTiltShift:function(h,n,r,f,a,c){return this.add(new x.Bokeh(this.gameObject,h,n,r,!0,f,a,c))},destroy:function(){this.clear(),this.gameObject=null}});o.exports=l},92972:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,u){return this.flipX=e,this.flipY=u,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};o.exports=T},80693:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=e(2386),d=e(93736),l={prepareBoundsOutput:function(h,n){if(n===void 0&&(n=!1),this.rotation!==0&&x(h,this.x,this.y,this.rotation),n&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(h.x,h.y,h)}return h},getCenter:function(h,n){return h===void 0&&(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,n)},getTopLeft:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,n)},getTopCenter:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,n)},getTopRight:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,n)},getLeftCenter:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,n)},getRightCenter:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,n)},getBottomLeft:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,n)},getBottomCenter:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,n)},getBottomRight:function(h,n){return h||(h=new d),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,n)},getBounds:function(h){h===void 0&&(h=new u);var n,r,f,a,c,p,v,m;if(this.parentContainer){var y=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),y.transformPoint(h.x,h.y,h),n=h.x,r=h.y,this.getTopRight(h),y.transformPoint(h.x,h.y,h),f=h.x,a=h.y,this.getBottomLeft(h),y.transformPoint(h.x,h.y,h),c=h.x,p=h.y,this.getBottomRight(h),y.transformPoint(h.x,h.y,h),v=h.x,m=h.y}else this.getTopLeft(h),n=h.x,r=h.y,this.getTopRight(h),f=h.x,a=h.y,this.getBottomLeft(h),c=h.x,p=h.y,this.getBottomRight(h),v=h.x,m=h.y;return h.x=Math.min(n,f,c,v),h.y=Math.min(r,a,p,m),h.width=Math.max(n,f,c,v)-h.x,h.height=Math.max(r,a,p,m)-h.y,h}};o.exports=l},39171:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(76756),x=e(63037),d={mask:null,setMask:function(l){return this.mask=l,this},clearMask:function(l){return l===void 0&&(l=!1),l&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(l,h,n,r,f){return l===void 0&&(this.texture||this.shader||this.geom)&&(l=this),new u(this.scene,l,h,n,r,f)},createGeometryMask:function(l){return l===void 0&&(this.type==="Graphics"||this.geom)&&(l=this),new x(this.scene,l)}};o.exports=d},28072:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,u){return e===void 0&&(e=.5),u===void 0&&(u=e),this.originX=e,this.originY=u,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,u){return e===void 0&&(e=0),u===void 0&&(u=e),this.displayOriginX=e,this.displayOriginY=u,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};o.exports=T},54211:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75606),x=e(63130),d=e(10850),l=e(55303),h=e(93736),n={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:l.PLAYING_FORWARD,setPath:function(r,f){f===void 0&&(f=this.pathConfig);var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this.path=r,f&&this.startFollow(f),this},setRotateToPath:function(r,f){return f===void 0&&(f=0),this.rotateToPath=r,this.pathRotationOffset=f,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,f){r===void 0&&(r={}),f===void 0&&(f=0);var a=this.pathTween;a&&a.isPlaying()&&a.stop(),typeof r=="number"&&(r={duration:r}),r.from=d(r,"from",0),r.to=d(r,"to",1);var c=x(r,"positionOnPath",!1);this.rotateToPath=x(r,"rotateToPath",!1),this.pathRotationOffset=d(r,"rotationOffset",0);var p=d(r,"startAt",f);if(p&&(r.onStart=function(m){var y=m.data[0];y.progress=p,y.elapsed=y.duration*p;var E=y.ease(y.progress);y.current=y.start+(y.end-y.start)*E,y.setTargetValue()}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),r.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),c&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=l.PLAYING_FORWARD,this.rotateToPath){var v=this.path.getPoint(.1);this.rotation=Math.atan2(v.y-this.y,v.x-this.x)+u(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r){var f=r.data[0],a=this.pathDelta,c=this.pathVector;if(a.copy(c).negate(),f.state===l.COMPLETE){this.path.getPoint(f.end,c),a.add(c),c.add(this.pathOffset),this.setPosition(c.x,c.y);return}else if(f.state!==l.PLAYING_FORWARD&&f.state!==l.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),c),a.add(c),c.add(this.pathOffset);var p=this.x,v=this.y;this.setPosition(c.x,c.y);var m=this.x-p,y=this.y-v;if(m===0&&y===0)return;if(f.state!==this._prevDirection){this._prevDirection=f.state;return}this.rotateToPath&&(this.rotation=Math.atan2(y,m)+u(this.pathRotationOffset))}}};o.exports=n},58210:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28699),x={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(d){this.pipelineData={};var l=this.scene.sys.renderer;if(!l)return!1;var h=l.pipelines;if(h){d===void 0&&(d=h.default);var n=h.get(d);if(n)return this.defaultPipeline=n,this.pipeline=n,!0}return!1},setPipeline:function(d,l,h){var n=this.scene.sys.renderer;if(!n)return this;var r=n.pipelines;if(r){var f=r.get(d);f&&(this.pipeline=f),l&&(this.pipelineData=h?u(l):l)}return this},setPipelineData:function(d,l){var h=this.pipelineData;return l===void 0?delete h[d]:h[d]=l,this},resetPipeline:function(d){return d===void 0&&(d=!1),this.pipeline=this.defaultPipeline,d&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};o.exports=x},44086:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28699),x=e(88677),d=e(72677),l={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(h){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),h&&(this.preFX=new x(this,!1))},setPostPipeline:function(h,n,r){var f=this.scene.sys.renderer;if(!f)return this;var a=f.pipelines;if(a){Array.isArray(h)||(h=[h]);for(var c=0;c<h.length;c++){var p=a.getPostPipeline(h[c],this,n);p&&this.postPipelines.push(p)}n&&(this.postPipelineData=r?u(n):n)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(h,n){var r=this.postPipelineData;return n===void 0?delete r[h]:r[h]=n,this},getPostPipeline:function(h){for(var n=typeof h=="string",r=this.postPipelines,f=[],a=0;a<r.length;a++){var c=r[a];(n&&c.name===h||!n&&c instanceof h)&&f.push(c)}return f.length===1?f[0]:f},resetPostPipeline:function(h){h===void 0&&(h=!1);for(var n=this.postPipelines,r=0;r<n.length;r++)n[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.postPipelineData={})},removePostPipeline:function(h){for(var n=typeof h=="string",r=this.postPipelines,f=r.length-1;f>=0;f--){var a=r[f];(n&&a.name===h||!n&&a===h)&&(a.destroy(),d(r,f))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};o.exports=l},45900:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,u){return u===void 0&&(u=e),this.scrollFactorX=e,this.scrollFactorY=u,this}};o.exports=T},31654:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};o.exports=T},82081:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82047),x=8,d={texture:null,frame:null,isCropped:!1,setTexture:function(l,h){return this.texture=this.scene.sys.textures.get(l),this.setFrame(h)},setFrame:function(l,h,n){return h===void 0&&(h=!0),n===void 0&&(n=!0),l instanceof u?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};o.exports=d},21850:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82047),x=8,d={texture:null,frame:null,isCropped:!1,setCrop:function(l,h,n,r){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l=="number")this.frame.setCropUVs(this._crop,l,h,n,r,this.flipX,this.flipY);else{var f=l;this.frame.setCropUVs(this._crop,f.x,f.y,f.width,f.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(l,h){return this.texture=this.scene.sys.textures.get(l),this.setFrame(h)},setFrame:function(l,h,n){return h===void 0&&(h=!0),n===void 0&&(n=!0),l instanceof u?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};o.exports=d},58072:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,u,x,d){return e===void 0&&(e=16777215),u===void 0&&(u=e,x=e,d=e),this.tintTopLeft=e,this.tintTopRight=u,this.tintBottomLeft=x,this.tintBottomRight=d,this.tintFill=!1,this},setTintFill:function(e,u,x,d){return this.setTint(e,u,x,d),this.tintFill=!0,this},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};o.exports=T},48129:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(u.textureKey=e.texture.key,u.frameKey=e.frame.name),u};o.exports=T},56584:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),x=e(69360),d=e(64462),l=e(35786),h=e(62138),n=e(93736),r=4,f={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this._scaleX=a,this._scaleY=a,a===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(a){this._scaleX=a,a===0?this.renderFlags&=~r:this._scaleY!==0&&(this.renderFlags|=r)}},scaleY:{get:function(){return this._scaleY},set:function(a){this._scaleY=a,a===0?this.renderFlags&=~r:this._scaleX!==0&&(this.renderFlags|=r)}},angle:{get:function(){return h(this._rotation*u.RAD_TO_DEG)},set:function(a){this.rotation=h(a)*u.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(a){this._rotation=l(a)}},setPosition:function(a,c,p,v){return a===void 0&&(a=0),c===void 0&&(c=a),p===void 0&&(p=0),v===void 0&&(v=0),this.x=a,this.y=c,this.z=p,this.w=v,this},copyPosition:function(a){return a.x!==void 0&&(this.x=a.x),a.y!==void 0&&(this.y=a.y),a.z!==void 0&&(this.z=a.z),a.w!==void 0&&(this.w=a.w),this},setRandomPosition:function(a,c,p,v){return a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),this.x=a+Math.random()*p,this.y=c+Math.random()*v,this},setRotation:function(a){return a===void 0&&(a=0),this.rotation=a,this},setAngle:function(a){return a===void 0&&(a=0),this.angle=a,this},setScale:function(a,c){return a===void 0&&(a=1),c===void 0&&(c=a),this.scaleX=a,this.scaleY=c,this},setX:function(a){return a===void 0&&(a=0),this.x=a,this},setY:function(a){return a===void 0&&(a=0),this.y=a,this},setZ:function(a){return a===void 0&&(a=0),this.z=a,this},setW:function(a){return a===void 0&&(a=0),this.w=a,this},getLocalTransformMatrix:function(a){return a===void 0&&(a=new x),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(a,c){a===void 0&&(a=new x);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(a);for(c||(c=new x),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)c.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),c.multiply(a,a),p=p.parentContainer;return a},getLocalPoint:function(a,c,p,v){p||(p=new n),v||(v=this.scene.sys.cameras.main);var m=v.scrollX,y=v.scrollY,E=a+m*this.scrollFactorX-m,P=c+y*this.scrollFactorY-y;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(E,P,p):d(E,P,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getParentRotation:function(){for(var a=0,c=this.parentContainer;c;)a+=c.rotation,c=c.parentContainer;return a}};o.exports=f},69360:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(83392),d=e(93736),l=new u({initialize:function(n,r,f,a,c,p){n===void 0&&(n=1),r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=1),c===void 0&&(c=0),p===void 0&&(p=0),this.matrix=new Float32Array([n,r,f,a,c,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,n=h[0],r=h[1],f=h[2],a=h[3];return n||r?r>0?Math.acos(n/this.scaleX):-Math.acos(n/this.scaleX):f||a?x.TAU-(a>0?Math.acos(-f/this.scaleY):-Math.acos(f/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,n){var r=this.matrix;return r[4]=r[0]*h+r[2]*n+r[4],r[5]=r[1]*h+r[3]*n+r[5],this},scale:function(h,n){var r=this.matrix;return r[0]*=h,r[1]*=h,r[2]*=n,r[3]*=n,this},rotate:function(h){var n=Math.sin(h),r=Math.cos(h),f=this.matrix,a=f[0],c=f[1],p=f[2],v=f[3];return f[0]=a*r+p*n,f[1]=c*r+v*n,f[2]=a*-n+p*r,f[3]=c*-n+v*r,this},multiply:function(h,n){var r=this.matrix,f=h.matrix,a=r[0],c=r[1],p=r[2],v=r[3],m=r[4],y=r[5],E=f[0],P=f[1],S=f[2],w=f[3],A=f[4],R=f[5],O=n===void 0?r:n.matrix;return O[0]=E*a+P*p,O[1]=E*c+P*v,O[2]=S*a+w*p,O[3]=S*c+w*v,O[4]=A*a+R*p+m,O[5]=A*c+R*v+y,O},multiplyWithOffset:function(h,n,r){var f=this.matrix,a=h.matrix,c=f[0],p=f[1],v=f[2],m=f[3],y=f[4],E=f[5],P=n*c+r*v+y,S=n*p+r*m+E,w=a[0],A=a[1],R=a[2],O=a[3],L=a[4],b=a[5];return f[0]=w*c+A*v,f[1]=w*p+A*m,f[2]=R*c+O*v,f[3]=R*p+O*m,f[4]=L*c+b*v+P,f[5]=L*p+b*m+S,this},transform:function(h,n,r,f,a,c){var p=this.matrix,v=p[0],m=p[1],y=p[2],E=p[3],P=p[4],S=p[5];return p[0]=h*v+n*y,p[1]=h*m+n*E,p[2]=r*v+f*y,p[3]=r*m+f*E,p[4]=a*v+c*y+P,p[5]=a*m+c*E+S,this},transformPoint:function(h,n,r){r===void 0&&(r={x:0,y:0});var f=this.matrix,a=f[0],c=f[1],p=f[2],v=f[3],m=f[4],y=f[5];return r.x=h*a+n*p+m,r.y=h*c+n*v+y,r},invert:function(){var h=this.matrix,n=h[0],r=h[1],f=h[2],a=h[3],c=h[4],p=h[5],v=n*a-r*f;return h[0]=a/v,h[1]=-r/v,h[2]=-f/v,h[3]=n/v,h[4]=(f*p-a*c)/v,h[5]=-(n*p-r*c)/v,this},copyFrom:function(h){var n=this.matrix;return n[0]=h.a,n[1]=h.b,n[2]=h.c,n[3]=h.d,n[4]=h.e,n[5]=h.f,this},copyFromArray:function(h){var n=this.matrix;return n[0]=h[0],n[1]=h[1],n[2]=h[2],n[3]=h[3],n[4]=h[4],n[5]=h[5],this},copyToContext:function(h){var n=this.matrix;return h.transform(n[0],n[1],n[2],n[3],n[4],n[5]),h},setToContext:function(h){var n=this.matrix;return h.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),h},copyToArray:function(h){var n=this.matrix;return h===void 0?h=[n[0],n[1],n[2],n[3],n[4],n[5]]:(h[0]=n[0],h[1]=n[1],h[2]=n[2],h[3]=n[3],h[4]=n[4],h[5]=n[5]),h},setTransform:function(h,n,r,f,a,c){var p=this.matrix;return p[0]=h,p[1]=n,p[2]=r,p[3]=f,p[4]=a,p[5]=c,this},decomposeMatrix:function(){var h=this.decomposedMatrix,n=this.matrix,r=n[0],f=n[1],a=n[2],c=n[3],p=r*c-f*a;if(h.translateX=n[4],h.translateY=n[5],r||f){var v=Math.sqrt(r*r+f*f);h.rotation=f>0?Math.acos(r/v):-Math.acos(r/v),h.scaleX=v,h.scaleY=p/v}else if(a||c){var m=Math.sqrt(a*a+c*c);h.rotation=Math.PI*.5-(c>0?Math.acos(-a/m):-Math.acos(a/m)),h.scaleX=p/m,h.scaleY=m}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,n,r,f,a){var c=this.matrix,p=Math.sin(r),v=Math.cos(r);return c[4]=h,c[5]=n,c[0]=v*f,c[1]=p*f,c[2]=-p*a,c[3]=v*a,this},applyInverse:function(h,n,r){r===void 0&&(r=new d);var f=this.matrix,a=f[0],c=f[1],p=f[2],v=f[3],m=f[4],y=f[5],E=1/(a*v+p*-c);return r.x=v*E*h+-p*E*n+(y*p-m*v)*E,r.y=a*E*n+-c*E*h+(-y*a+m*c)*E,r},setQuad:function(h,n,r,f,a,c){c===void 0&&(c=this.quad);var p=this.matrix,v=p[0],m=p[1],y=p[2],E=p[3],P=p[4],S=p[5];return c[0]=h*v+n*y+P,c[1]=h*m+n*E+S,c[2]=h*v+f*y+P,c[3]=h*m+f*E+S,c[4]=r*v+f*y+P,c[5]=r*m+f*E+S,c[6]=r*v+n*y+P,c[7]=r*m+n*E+S,a&&c.forEach(function(w,A){c[A]=Math.round(w)}),c},getX:function(h,n){return h*this.a+n*this.c+this.e},getY:function(h,n){return h*this.b+n*this.d+this.f},getXRound:function(h,n,r){var f=this.getX(h,n);return r&&(f=Math.round(f)),f},getYRound:function(h,n,r){var f=this.getY(h,n);return r&&(f=Math.round(f)),f},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});o.exports=l},59694:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(u){u?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)}},setVisible:function(u){return this.visible=u,this}};o.exports=e},64937:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Alpha:e(97123),AlphaSingle:e(15720),BlendMode:e(69732),ComputedSize:e(28284),Crop:e(85293),Depth:e(14975),Flip:e(92972),FX:e(88677),GetBounds:e(80693),Mask:e(39171),Origin:e(28072),PathFollower:e(54211),Pipeline:e(58210),PostPipeline:e(44086),ScrollFactor:e(45900),Size:e(31654),Texture:e(82081),TextureCrop:e(21850),Tint:e(58072),ToJSON:e(48129),Transform:e(56584),TransformMatrix:e(69360),Visible:e(59694)}},70339:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59959),x=e(95723),d=e(56694),l=e(64937),h=e(56631),n=e(89980),r=e(74118),f=e(98524),a=e(58795),c=e(93736),p=new d({Extends:n,Mixins:[l.AlphaSingle,l.BlendMode,l.ComputedSize,l.Depth,l.Mask,l.PostPipeline,l.Transform,l.Visible,f],initialize:function(m,y,E,P){n.call(this,m,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new l.TransformMatrix,this.tempTransformMatrix=new l.TransformMatrix,this._sortKey="",this._sysEvents=m.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(y,E),this.setBlendMode(x.SKIP_CHECK),P&&this.add(P)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new r),v.setTo(this.x,this.y,0,0),this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix(),y=m.transformPoint(this.x,this.y);v.setTo(y.x,y.y,0,0)}if(this.list.length>0){var E=this.list,P=new r,S=!1;v.setEmpty();for(var w=0;w<E.length;w++){var A=E[w];A.getBounds&&(A.getBounds(P),S?a(P,v,v):(v.setTo(P.x,P.y,P.width,P.height),S=!0))}}return v},addHandler:function(v){v.once(h.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.parentContainer=this,v.removeFromDisplayList(),v.addedToScene())},removeHandler:function(v){v.off(h.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer=null,v.removedFromScene(),v.addToDisplayList())},pointToContainer:function(v,m){m===void 0&&(m=new c),this.parentContainer?this.parentContainer.pointToContainer(v,m):(m.x=v.x,m.y=v.y);var y=this.tempTransformMatrix;return y.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),y.invert(),y.transformPoint(v.x,v.y,m),m},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(v){return u.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,m){return u.AddAt(this.list,v,m,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,m){return v?(m===void 0&&(m=function(y,E){return y[v]-E[v]}),u.StableSort(this.list,m),this):this},getByName:function(v){return u.GetFirst(this.list,"name",v)},getRandom:function(v,m){return u.GetRandom(this.list,v,m)},getFirst:function(v,m,y,E){return u.GetFirst(this.list,v,m,y,E)},getAll:function(v,m,y,E){return u.GetAll(this.list,v,m,y,E)},count:function(v,m,y,E){return u.CountAllMatching(this.list,v,m,y,E)},swap:function(v,m){return u.Swap(this.list,v,m),this},moveTo:function(v,m){return u.MoveTo(this.list,v,m),this},moveAbove:function(v,m){return u.MoveAbove(this.list,v,m),this},moveBelow:function(v,m){return u.MoveBelow(this.list,v,m),this},remove:function(v,m){var y=u.Remove(this.list,v,this.removeHandler,this);if(m&&y){Array.isArray(y)||(y=[y]);for(var E=0;E<y.length;E++)y[E].destroy()}return this},removeAt:function(v,m){var y=u.RemoveAt(this.list,v,this.removeHandler,this);return m&&y&&y.destroy(),this},removeBetween:function(v,m,y){var E=u.RemoveBetween(this.list,v,m,this.removeHandler,this);if(y)for(var P=0;P<E.length;P++)E[P].destroy();return this},removeAll:function(v){var m=this.list;if(v){for(var y=0;y<m.length;y++)m[y]&&m[y].scene&&(m[y].off(h.DESTROY,this.remove,this),m[y].destroy());this.list=[]}else u.RemoveBetween(m,0,m.length,this.removeHandler,this);return this},bringToTop:function(v){return u.BringToTop(this.list,v),this},sendToBack:function(v){return u.SendToBack(this.list,v),this},moveUp:function(v){return u.MoveUp(this.list,v),this},moveDown:function(v){return u.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(v,m,y){var E=u.Replace(this.list,v,m);return E&&(this.addHandler(m),this.removeHandler(v),y&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,m,y,E){return u.SetAll(this.list,v,m,y,E),this},each:function(v,m){var y=[null],E,P=this.list.slice(),S=P.length;for(E=2;E<arguments.length;E++)y.push(arguments[E]);for(E=0;E<S;E++)y[0]=P[E],v.apply(m,y);return this},iterate:function(v,m){var y=[null],E;for(E=2;E<arguments.length;E++)y.push(arguments[E]);for(E=0;E<this.list.length;E++)y[0]=this.list[E],v.apply(m,y);return this},setScrollFactor:function(v,m,y){return m===void 0&&(m=v),y===void 0&&(y=!1),this.scrollFactorX=v,this.scrollFactorY=m,y&&(u.SetAll(this.list,"scrollFactorX",v),u.SetAll(this.list,"scrollFactorY",m)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});o.exports=p},13916:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){x.addToRenderList(u);var l=u.list;if(l.length!==0){var h=u.localTransform;d?(h.loadIdentity(),h.multiply(d),h.translate(u.x,u.y),h.rotate(u.rotation),h.scale(u.scaleX,u.scaleY)):h.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var n=u.blendMode!==-1;n||e.setBlendMode(0);var r=u._alpha,f=u.scrollFactorX,a=u.scrollFactorY;u.mask&&u.mask.preRenderCanvas(e,null,x);for(var c=0;c<l.length;c++){var p=l[c];if(!!p.willRender(x)){var v=p.alpha,m=p.scrollFactorX,y=p.scrollFactorY;!n&&p.blendMode!==e.currentBlendMode&&e.setBlendMode(p.blendMode),p.setScrollFactor(m*f,y*a),p.setAlpha(v*r),p.renderCanvas(e,p,x,h),p.setAlpha(v),p.setScrollFactor(m,y)}}u.mask&&u.mask.postRenderCanvas(e)}};o.exports=T},44516:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(70339),d=e(99325),l=e(20494);d.register("container",function(h,n){h===void 0&&(h={});var r=l(h,"x",0),f=l(h,"y",0),a=l(h,"children",null),c=new x(this.scene,r,f,a);return n!==void 0&&(h.add=n),u(this.scene,c,h),c})},23400:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70339),x=e(61286);x.register("container",function(d,l,h){return this.displayList.add(new u(this.scene,d,l,h))})},98524:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(36934),d=e(13916),o.exports={renderWebGL:x,renderCanvas:d}},36934:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){x.addToRenderList(u);var l=u.list,h=l.length;if(h!==0){var n=u.localTransform;d?(n.loadIdentity(),n.multiply(d),n.translate(u.x,u.y),n.rotate(u.rotation),n.scale(u.scaleX,u.scaleY)):n.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),e.pipelines.preBatch(u);var r=u.blendMode!==-1;r||e.setBlendMode(0);for(var f=u.alpha,a=u.scrollFactorX,c=u.scrollFactorY,p=0;p<h;p++){var v=l[p];if(!!v.willRender(x)){var m,y,E,P;if(v.alphaTopLeft!==void 0)m=v.alphaTopLeft,y=v.alphaTopRight,E=v.alphaBottomLeft,P=v.alphaBottomRight;else{var S=v.alpha;m=S,y=S,E=S,P=S}var w=v.scrollFactorX,A=v.scrollFactorY;!r&&v.blendMode!==e.currentBlendMode&&e.setBlendMode(v.blendMode);var R=v.mask;R&&R.preRenderWebGL(e,v,x);var O=v.type;O!==e.currentType&&(e.newType=!0,e.currentType=O),e.nextTypeMatch=p<h-1?l[p+1].type===e.currentType:!1,v.setScrollFactor(w*a,A*c),v.setAlpha(m*f,y*f,E*f,P*f),v.renderWebGL(e,v,x,n,u),v.setAlpha(m,y,E,P),v.setScrollFactor(w,A),R&&R.postRenderWebGL(e,x),e.newType=!1}}e.pipelines.postBatch(u)}};o.exports=T},2452:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(11603),l=e(89980),h=e(42911),n=e(55638),r=e(7599),f=e(51729),a=new u({Extends:l,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,d],initialize:function(p,v,m,y,E,P){l.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new f,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(v,m),typeof y=="string"?y[0]==="#"?this.setElement(y.substr(1),E,P):this.createElement(y,E,P):y&&this.setElement(y,E,P),p.sys.events.on(r.SLEEP,this.handleSceneEvent,this),p.sys.events.on(r.WAKE,this.handleSceneEvent,this),p.sys.events.on(r.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(c){var p=this.node,v=p.style;p&&(v.display=c.settings.visible?"block":"none")},setSkew:function(c,p){return c===void 0&&(c=0),p===void 0&&(p=c),this.skewX=c,this.skewY=p,this},setPerspective:function(c){return this.parent.style.perspective=c+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(c){this.parent.style.perspective=c+"px"}},addListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.addEventListener(c[p],this.handler,!1)}return this},removeListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.removeEventListener(c[p],this.handler)}return this},dispatchNativeEvent:function(c){this.emit(c.type,c)},createElement:function(c,p,v){return this.setElement(document.createElement(c),p,v)},setElement:function(c,p,v){this.removeElement();var m;if(typeof c=="string"?(c[0]==="#"&&(c=c.substr(1)),m=document.getElementById(c)):typeof c=="object"&&c.nodeType===1&&(m=c),!m)return this;if(this.node=m,p&&h(p))for(var y in p)m.style[y]=p[y];else typeof p=="string"&&(m.style=p);return m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),v&&(m.innerText=v),this.updateSize()},createFromCache:function(c,p){var v=this.cache.get(c);return v&&this.createFromHTML(v,p),this},createFromHTML:function(c,p){p===void 0&&(p="div"),this.removeElement();var v=document.createElement(p);return this.node=v,v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),v.innerHTML=c,this.updateSize()},removeElement:function(){return this.node&&(n(this.node),this.node=null),this},updateSize:function(){var c=this.node,p=c.getBoundingClientRect();return this.width=c.clientWidth,this.height=c.clientHeight,this.displayWidth=p.width||0,this.displayHeight=p.height||0,this},getChildByProperty:function(c,p){if(this.node){for(var v=this.node.querySelectorAll("*"),m=0;m<v.length;m++)if(v[m][c]===p)return v[m]}return null},getChildByID:function(c){return this.getChildByProperty("id",c)},getChildByName:function(c){return this.getChildByProperty("name",c)},setClassName:function(c){return this.node&&(this.node.className=c,this.updateSize()),this},setText:function(c){return this.node&&(this.node.innerText=c,this.updateSize()),this},setHTML:function(c){return this.node&&(this.node.innerHTML=c,this.updateSize()),this},preRender:function(){var c=this.parentContainer,p=this.node;p&&c&&!c.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(r.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(r.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(r.PRE_RENDER,this.preRender,this)}});o.exports=a},66070:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2452),x=e(89980),d=e(69360),l=new d,h=new d,n=new d,r=function(f,a,c,p){if(!!a.node){var v=a.node.style,m=a.scene.sys.settings;if(!v||!m.visible||x.RENDER_MASK!==a.renderFlags||a.cameraFilter!==0&&a.cameraFilter&c.id||a.parentContainer&&!a.parentContainer.willRender()){v.display="none";return}var y=a.parentContainer,E=c.alpha*a.alpha;y&&(E*=y.alpha);var P=l,S=h,w=n,A=0,R=0,O="0%",L="0%";p?(A=a.width*a.scaleX*a.originX,R=a.height*a.scaleY*a.originY,S.applyITRS(a.x-A,a.y-R,a.rotation,a.scaleX,a.scaleY),P.copyFrom(c.matrix),P.multiplyWithOffset(p,-c.scrollX*a.scrollFactorX,-c.scrollY*a.scrollFactorY),S.e=a.x-A,S.f=a.y-R,P.multiply(S,w)):(A=a.width*a.originX,R=a.height*a.originY,S.applyITRS(a.x-A,a.y-R,a.rotation,a.scaleX,a.scaleY),P.copyFrom(c.matrix),O=100*a.originX+"%",L=100*a.originY+"%",S.e-=c.scrollX*a.scrollFactorX,S.f-=c.scrollY*a.scrollFactorY,P.multiply(S,w)),a.transformOnly||(v.display="block",v.opacity=E,v.zIndex=a._depth,v.pointerEvents=a.pointerEvents,v.mixBlendMode=u[a._blendMode]),v.transform=w.getCSSMatrix()+" skew("+a.skewX+"rad, "+a.skewY+"rad) rotate3d("+a.rotate3d.x+","+a.rotate3d.y+","+a.rotate3d.z+","+a.rotate3d.w+a.rotate3dAngle+")",v.transformOrigin=O+" "+L}};o.exports=r},66788:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(38943),x=e(61286);x.register("dom",function(d,l,h,n,r){var f=new u(this.scene,d,l,h,n,r);return this.displayList.add(f),f})},11603:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(66070),d=e(66070),o.exports={renderWebGL:x,renderCanvas:d}},65492:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addedtoscene"},98398:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},40239:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removedfromscene"},17286:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},31496:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="created"},89587:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="error"},59792:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="locked"},96342:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},6017:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="playing"},49614:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="play"},24418:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="seeked"},87318:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="seeking"},50009:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stalled"},61922:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stop"},79501:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="textureready"},4052:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="unlocked"},54857:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="unsupported"},56631:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADDED_TO_SCENE:e(65492),DESTROY:e(98398),REMOVED_FROM_SCENE:e(40239),VIDEO_COMPLETE:e(17286),VIDEO_CREATED:e(31496),VIDEO_ERROR:e(89587),VIDEO_LOCKED:e(59792),VIDEO_LOOP:e(96342),VIDEO_PLAY:e(49614),VIDEO_PLAYING:e(6017),VIDEO_SEEKED:e(24418),VIDEO_SEEKING:e(87318),VIDEO_STALLED:e(50009),VIDEO_STOP:e(61922),VIDEO_TEXTURE:e(79501),VIDEO_UNLOCKED:e(4052),VIDEO_UNSUPPORTED:e(54857)}},39419:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(89980),l=e(79394),h=new u({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,l],initialize:function(r){d.call(this,r,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});o.exports=h},96699:()=>{},41155:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39419),x=e(61286);x.register("extern",function(){var d=new u(this.scene);return this.displayList.add(d),d})},79394:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(81410),d=e(96699),o.exports={renderWebGL:x,renderCanvas:d}},81410:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=function(d,l,h,n){d.pipelines.clear();var r=u(l,h,n).calc;l.render.call(l,d,h,r),d.pipelines.rebind()};o.exports=x},36266:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(51052),x=e(56694),d=e(36266),l=e(64937),h=e(95669),n=e(89980),r=e(72632),f=e(10850),a=e(83392),c=e(60898),p=new x({Extends:n,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,c],initialize:function(m,y){var E=f(y,"x",0),P=f(y,"y",0);n.call(this,m,"Graphics"),this.setPosition(E,P),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(y)},setDefaultStyles:function(v){return f(v,"lineStyle",null)&&(this.defaultStrokeWidth=f(v,"lineStyle.width",1),this.defaultStrokeColor=f(v,"lineStyle.color",16777215),this.defaultStrokeAlpha=f(v,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),f(v,"fillStyle",null)&&(this.defaultFillColor=f(v,"fillStyle.color",16777215),this.defaultFillAlpha=f(v,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(v,m,y){return y===void 0&&(y=1),this.commandBuffer.push(d.LINE_STYLE,v,m,y),this._lineWidth=v,this},fillStyle:function(v,m){return m===void 0&&(m=1),this.commandBuffer.push(d.FILL_STYLE,v,m),this},fillGradientStyle:function(v,m,y,E,P,S,w,A){return P===void 0&&(P=1),S===void 0&&(S=P),w===void 0&&(w=P),A===void 0&&(A=P),this.commandBuffer.push(d.GRADIENT_FILL_STYLE,P,S,w,A,v,m,y,E),this},lineGradientStyle:function(v,m,y,E,P,S){return S===void 0&&(S=1),this.commandBuffer.push(d.GRADIENT_LINE_STYLE,v,S,m,y,E,P),this},beginPath:function(){return this.commandBuffer.push(d.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(d.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(d.FILL_PATH),this},fill:function(){return this.commandBuffer.push(d.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(d.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(d.STROKE_PATH),this},fillCircleShape:function(v){return this.fillCircle(v.x,v.y,v.radius)},strokeCircleShape:function(v){return this.strokeCircle(v.x,v.y,v.radius)},fillCircle:function(v,m,y){return this.beginPath(),this.arc(v,m,y,0,a.PI2),this.fillPath(),this},strokeCircle:function(v,m,y){return this.beginPath(),this.arc(v,m,y,0,a.PI2),this.strokePath(),this},fillRectShape:function(v){return this.fillRect(v.x,v.y,v.width,v.height)},strokeRectShape:function(v){return this.strokeRect(v.x,v.y,v.width,v.height)},fillRect:function(v,m,y,E){return this.commandBuffer.push(d.FILL_RECT,v,m,y,E),this},strokeRect:function(v,m,y,E){var P=this._lineWidth/2,S=v-P,w=v+P;return this.beginPath(),this.moveTo(v,m),this.lineTo(v,m+E),this.strokePath(),this.beginPath(),this.moveTo(v+y,m),this.lineTo(v+y,m+E),this.strokePath(),this.beginPath(),this.moveTo(S,m),this.lineTo(w+y,m),this.strokePath(),this.beginPath(),this.moveTo(S,m+E),this.lineTo(w+y,m+E),this.strokePath(),this},fillRoundedRect:function(v,m,y,E,P){P===void 0&&(P=20);var S=P,w=P,A=P,R=P;typeof P!="number"&&(S=r(P,"tl",20),w=r(P,"tr",20),A=r(P,"bl",20),R=r(P,"br",20));var O=S>=0,L=w>=0,b=A>=0,D=R>=0;return S=Math.abs(S),w=Math.abs(w),A=Math.abs(A),R=Math.abs(R),this.beginPath(),this.moveTo(v+S,m),this.lineTo(v+y-w,m),L?this.arc(v+y-w,m+w,w,-a.TAU,0):this.arc(v+y,m,w,Math.PI,a.TAU,!0),this.lineTo(v+y,m+E-R),D?this.arc(v+y-R,m+E-R,R,0,a.TAU):this.arc(v+y,m+E,R,-a.TAU,Math.PI,!0),this.lineTo(v+A,m+E),b?this.arc(v+A,m+E-A,A,a.TAU,Math.PI):this.arc(v,m+E,A,0,-a.TAU,!0),this.lineTo(v,m+S),O?this.arc(v+S,m+S,S,-Math.PI,-a.TAU):this.arc(v,m,S,a.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(v,m,y,E,P){P===void 0&&(P=20);var S=P,w=P,A=P,R=P,O=Math.min(y,E)/2;typeof P!="number"&&(S=r(P,"tl",20),w=r(P,"tr",20),A=r(P,"bl",20),R=r(P,"br",20));var L=S>=0,b=w>=0,D=A>=0,I=R>=0;return S=Math.min(Math.abs(S),O),w=Math.min(Math.abs(w),O),A=Math.min(Math.abs(A),O),R=Math.min(Math.abs(R),O),this.beginPath(),this.moveTo(v+S,m),this.lineTo(v+y-w,m),this.moveTo(v+y-w,m),b?this.arc(v+y-w,m+w,w,-a.TAU,0):this.arc(v+y,m,w,Math.PI,a.TAU,!0),this.lineTo(v+y,m+E-R),this.moveTo(v+y,m+E-R),I?this.arc(v+y-R,m+E-R,R,0,a.TAU):this.arc(v+y,m+E,R,-a.TAU,Math.PI,!0),this.lineTo(v+A,m+E),this.moveTo(v+A,m+E),D?this.arc(v+A,m+E-A,A,a.TAU,Math.PI):this.arc(v,m+E,A,0,-a.TAU,!0),this.lineTo(v,m+S),this.moveTo(v,m+S),L?this.arc(v+S,m+S,S,-Math.PI,-a.TAU):this.arc(v,m,S,a.TAU,0,!0),this.strokePath(),this},fillPointShape:function(v,m){return this.fillPoint(v.x,v.y,m)},fillPoint:function(v,m,y){return!y||y<1?y=1:(v-=y/2,m-=y/2),this.commandBuffer.push(d.FILL_RECT,v,m,y,y),this},fillTriangleShape:function(v){return this.fillTriangle(v.x1,v.y1,v.x2,v.y2,v.x3,v.y3)},strokeTriangleShape:function(v){return this.strokeTriangle(v.x1,v.y1,v.x2,v.y2,v.x3,v.y3)},fillTriangle:function(v,m,y,E,P,S){return this.commandBuffer.push(d.FILL_TRIANGLE,v,m,y,E,P,S),this},strokeTriangle:function(v,m,y,E,P,S){return this.commandBuffer.push(d.STROKE_TRIANGLE,v,m,y,E,P,S),this},strokeLineShape:function(v){return this.lineBetween(v.x1,v.y1,v.x2,v.y2)},lineBetween:function(v,m,y,E){return this.beginPath(),this.moveTo(v,m),this.lineTo(y,E),this.strokePath(),this},lineTo:function(v,m){return this.commandBuffer.push(d.LINE_TO,v,m),this},moveTo:function(v,m){return this.commandBuffer.push(d.MOVE_TO,v,m),this},strokePoints:function(v,m,y,E){m===void 0&&(m=!1),y===void 0&&(y=!1),E===void 0&&(E=v.length),this.beginPath(),this.moveTo(v[0].x,v[0].y);for(var P=1;P<E;P++)this.lineTo(v[P].x,v[P].y);return m&&this.lineTo(v[0].x,v[0].y),y&&this.closePath(),this.strokePath(),this},fillPoints:function(v,m,y,E){m===void 0&&(m=!1),y===void 0&&(y=!1),E===void 0&&(E=v.length),this.beginPath(),this.moveTo(v[0].x,v[0].y);for(var P=1;P<E;P++)this.lineTo(v[P].x,v[P].y);return m&&this.lineTo(v[0].x,v[0].y),y&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(v,m){m===void 0&&(m=32);var y=v.getPoints(m);return this.strokePoints(y,!0)},strokeEllipse:function(v,m,y,E,P){P===void 0&&(P=32);var S=new h(v,m,y,E),w=S.getPoints(P);return this.strokePoints(w,!0)},fillEllipseShape:function(v,m){m===void 0&&(m=32);var y=v.getPoints(m);return this.fillPoints(y,!0)},fillEllipse:function(v,m,y,E,P){P===void 0&&(P=32);var S=new h(v,m,y,E),w=S.getPoints(P);return this.fillPoints(w,!0)},arc:function(v,m,y,E,P,S,w){return S===void 0&&(S=!1),w===void 0&&(w=0),this.commandBuffer.push(d.ARC,v,m,y,E,P,S,w),this},slice:function(v,m,y,E,P,S,w){return S===void 0&&(S=!1),w===void 0&&(w=0),this.commandBuffer.push(d.BEGIN_PATH),this.commandBuffer.push(d.MOVE_TO,v,m),this.commandBuffer.push(d.ARC,v,m,y,E,P,S,w),this.commandBuffer.push(d.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(d.SAVE),this},restore:function(){return this.commandBuffer.push(d.RESTORE),this},translateCanvas:function(v,m){return this.commandBuffer.push(d.TRANSLATE,v,m),this},scaleCanvas:function(v,m){return this.commandBuffer.push(d.SCALE,v,m),this},rotateCanvas:function(v){return this.commandBuffer.push(d.ROTATE,v),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(v,m,y){var E=this.scene.sys,P=E.game.renderer;m===void 0&&(m=E.scale.width),y===void 0&&(y=E.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,m,y),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var S,w,A={willReadFrequently:!0};if(typeof v=="string")if(E.textures.exists(v)){S=E.textures.get(v);var R=S.getSourceImage();R instanceof HTMLCanvasElement&&(w=R.getContext("2d",A))}else S=E.textures.createCanvas(v,m,y),w=S.getSourceImage().getContext("2d",A);else v instanceof HTMLCanvasElement&&(w=v.getContext("2d",A));return w&&(this.renderCanvas(P,this,p.TargetCamera,null,w,!1),S&&S.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new u,o.exports=p},91543:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36266),x=e(49584),d=function(l,h,n,r,f,a){var c=h.commandBuffer,p=c.length,v=f||l.currentContext;if(!(p===0||!x(l,v,h,n,r))){n.addToRenderList(h);var m=1,y=1,E=0,P=0,S=1,w=0,A=0,R=0;v.beginPath();for(var O=0;O<p;++O){var L=c[O];switch(L){case u.ARC:v.arc(c[O+1],c[O+2],c[O+3],c[O+4],c[O+5],c[O+6]),O+=7;break;case u.LINE_STYLE:S=c[O+1],E=c[O+2],m=c[O+3],w=(E&16711680)>>>16,A=(E&65280)>>>8,R=E&255,v.strokeStyle="rgba("+w+","+A+","+R+","+m+")",v.lineWidth=S,O+=3;break;case u.FILL_STYLE:P=c[O+1],y=c[O+2],w=(P&16711680)>>>16,A=(P&65280)>>>8,R=P&255,v.fillStyle="rgba("+w+","+A+","+R+","+y+")",O+=2;break;case u.BEGIN_PATH:v.beginPath();break;case u.CLOSE_PATH:v.closePath();break;case u.FILL_PATH:a||v.fill();break;case u.STROKE_PATH:a||v.stroke();break;case u.FILL_RECT:a?v.rect(c[O+1],c[O+2],c[O+3],c[O+4]):v.fillRect(c[O+1],c[O+2],c[O+3],c[O+4]),O+=4;break;case u.FILL_TRIANGLE:v.beginPath(),v.moveTo(c[O+1],c[O+2]),v.lineTo(c[O+3],c[O+4]),v.lineTo(c[O+5],c[O+6]),v.closePath(),a||v.fill(),O+=6;break;case u.STROKE_TRIANGLE:v.beginPath(),v.moveTo(c[O+1],c[O+2]),v.lineTo(c[O+3],c[O+4]),v.lineTo(c[O+5],c[O+6]),v.closePath(),a||v.stroke(),O+=6;break;case u.LINE_TO:v.lineTo(c[O+1],c[O+2]),O+=2;break;case u.MOVE_TO:v.moveTo(c[O+1],c[O+2]),O+=2;break;case u.LINE_FX_TO:v.lineTo(c[O+1],c[O+2]),O+=5;break;case u.MOVE_FX_TO:v.moveTo(c[O+1],c[O+2]),O+=5;break;case u.SAVE:v.save();break;case u.RESTORE:v.restore();break;case u.TRANSLATE:v.translate(c[O+1],c[O+2]),O+=2;break;case u.SCALE:v.scale(c[O+1],c[O+2]),O+=2;break;case u.ROTATE:v.rotate(c[O+1]),O+=1;break;case u.GRADIENT_FILL_STYLE:O+=5;break;case u.GRADIENT_LINE_STYLE:O+=6;break}}v.restore()}};o.exports=d},41286:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99325),x=e(33182);u.register("graphics",function(d,l){d===void 0&&(d={}),l!==void 0&&(d.add=l);var h=new x(this.scene,d);return d.add&&this.scene.sys.displayList.add(h),h})},13122:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33182),x=e(61286);x.register("graphics",function(d){return this.displayList.add(new u(this.scene,d))})},60898:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(34429),d=e(91543),d=e(91543),o.exports={renderWebGL:x,renderCanvas:d}},34429:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(36266),x=e(73329),d=e(69360),l=e(75512),h=function(c,p,v){this.x=c,this.y=p,this.width=v},n=function(c,p,v){this.points=[],this.pointsLength=1,this.points[0]=new h(c,p,v)},r=[],f=new d,a=function(c,p,v,m){if(p.commandBuffer.length!==0){v.addToRenderList(p);var y=c.pipelines.set(p.pipeline,p);c.pipelines.preBatch(p);for(var E=x(p,v,m).calc,P=f.loadIdentity(),S=p.commandBuffer,w=v.alpha*p.alpha,A=1,R=y.fillTint,O=y.strokeTint,L=0,b=0,D=0,I=.01,B=Math.PI*2,V,Y=[],k=0,W=!0,G=null,U=l.getTintAppendFloatAlpha,F=0;F<S.length;F++)switch(V=S[F],V){case u.BEGIN_PATH:{Y.length=0,G=null,W=!0;break}case u.CLOSE_PATH:{W=!1,G&&G.points.length&&G.points.push(G.points[0]);break}case u.FILL_PATH:{for(k=0;k<Y.length;k++)y.batchFillPath(Y[k].points,P,E);break}case u.STROKE_PATH:{for(k=0;k<Y.length;k++)y.batchStrokePath(Y[k].points,A,W,P,E);break}case u.LINE_STYLE:{A=S[++F];var N=S[++F],z=S[++F]*w,X=U(N,z);O.TL=X,O.TR=X,O.BL=X,O.BR=X;break}case u.FILL_STYLE:{var H=S[++F],$=S[++F]*w,K=U(H,$);R.TL=K,R.TR=K,R.BL=K,R.BR=K;break}case u.GRADIENT_FILL_STYLE:{var Z=S[++F]*w,J=S[++F]*w,j=S[++F]*w,Q=S[++F]*w;R.TL=U(S[++F],Z),R.TR=U(S[++F],J),R.BL=U(S[++F],j),R.BR=U(S[++F],Q);break}case u.GRADIENT_LINE_STYLE:{A=S[++F];var tt=S[++F]*w;O.TL=U(S[++F],tt),O.TR=U(S[++F],tt),O.BL=U(S[++F],tt),O.BR=U(S[++F],tt);break}case u.ARC:{var _=0,it=S[++F],ht=S[++F],lt=S[++F],ot=S[++F],et=S[++F],at=S[++F],rt=S[++F];for(et-=ot,at?et<-B?et=-B:et>0&&(et=-B+et%B):et>B?et=B:et<0&&(et=B+et%B),G===null&&(G=new n(it+Math.cos(ot)*lt,ht+Math.sin(ot)*lt,A),Y.push(G),_+=I);_<1+rt;)D=et*_+ot,L=it+Math.cos(D)*lt,b=ht+Math.sin(D)*lt,G.points.push(new h(L,b,A)),_+=I;D=et+ot,L=it+Math.cos(D)*lt,b=ht+Math.sin(D)*lt,G.points.push(new h(L,b,A));break}case u.FILL_RECT:{y.batchFillRect(S[++F],S[++F],S[++F],S[++F],P,E);break}case u.FILL_TRIANGLE:{y.batchFillTriangle(S[++F],S[++F],S[++F],S[++F],S[++F],S[++F],P,E);break}case u.STROKE_TRIANGLE:{y.batchStrokeTriangle(S[++F],S[++F],S[++F],S[++F],S[++F],S[++F],A,P,E);break}case u.LINE_TO:{G!==null?G.points.push(new h(S[++F],S[++F],A)):(G=new n(S[++F],S[++F],A),Y.push(G));break}case u.MOVE_TO:{G=new n(S[++F],S[++F],A),Y.push(G);break}case u.SAVE:{r.push(P.copyToArray());break}case u.RESTORE:{P.copyFromArray(r.pop());break}case u.TRANSLATE:{it=S[++F],ht=S[++F],P.translate(it,ht);break}case u.SCALE:{it=S[++F],ht=S[++F],P.scale(it,ht);break}case u.ROTATE:{P.rotate(S[++F]);break}}c.pipelines.postBatch(p)}};o.exports=a},59192:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83979),x=e(56694),d=e(56631),l=e(6659),h=e(71608),n=e(72632),r=e(10850),f=e(19256),a=e(42911),c=e(75757),p=e(58403),v=e(13747),m=new x({Extends:l,initialize:function(E,P,S){l.call(this),S?P&&!Array.isArray(P)&&(P=[P]):Array.isArray(P)?a(P[0])&&(S=P,P=null):a(P)&&(S=P,P=null),this.scene=E,this.children=new p,this.isParent=!0,this.type="Group",this.classType=n(S,"classType",v),this.name=n(S,"name",""),this.active=n(S,"active",!0),this.maxSize=n(S,"maxSize",-1),this.defaultKey=n(S,"defaultKey",null),this.defaultFrame=n(S,"defaultFrame",null),this.runChildUpdate=n(S,"runChildUpdate",!1),this.createCallback=n(S,"createCallback",null),this.removeCallback=n(S,"removeCallback",null),this.createMultipleCallback=n(S,"createMultipleCallback",null),this.internalCreateCallback=n(S,"internalCreateCallback",null),this.internalRemoveCallback=n(S,"internalRemoveCallback",null),P&&this.addMultiple(P),S&&this.createMultiple(S),this.on(d.ADDED_TO_SCENE,this.addedToScene,this),this.on(d.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(y,E,P,S,w,A){if(y===void 0&&(y=0),E===void 0&&(E=0),P===void 0&&(P=this.defaultKey),S===void 0&&(S=this.defaultFrame),w===void 0&&(w=!0),A===void 0&&(A=!0),this.isFull())return null;var R=new this.classType(this.scene,y,E,P,S);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=w,R.setActive(A),this.add(R),R},createMultiple:function(y){if(this.isFull())return[];Array.isArray(y)||(y=[y]);var E=[];if(y[0].key)for(var P=0;P<y.length;P++){var S=this.createFromConfig(y[P]);E=E.concat(S)}return E},createFromConfig:function(y){if(this.isFull())return[];this.classType=n(y,"classType",this.classType);var E=n(y,"key",void 0),P=n(y,"frame",null),S=n(y,"visible",!0),w=n(y,"active",!0),A=[];if(E===void 0)return A;Array.isArray(E)||(E=[E]),Array.isArray(P)||(P=[P]);var R=n(y,"repeat",0),O=n(y,"randomKey",!1),L=n(y,"randomFrame",!1),b=n(y,"yoyo",!1),D=n(y,"quantity",!1),I=n(y,"frameQuantity",1),B=n(y,"max",0),V=c(E,P,{max:B,qty:D||I,random:O,randomB:L,repeat:R,yoyo:b});y.createCallback&&(this.createCallback=y.createCallback),y.removeCallback&&(this.removeCallback=y.removeCallback);for(var Y=0;Y<V.length;Y++){var k=this.create(0,0,V[Y].a,V[Y].b,S,w);if(!k)break;A.push(k)}if(f(y,"setXY")){var W=r(y,"setXY.x",0),G=r(y,"setXY.y",0),U=r(y,"setXY.stepX",0),F=r(y,"setXY.stepY",0);u.SetXY(A,W,G,U,F)}if(f(y,"setRotation")){var N=r(y,"setRotation.value",0),z=r(y,"setRotation.step",0);u.SetRotation(A,N,z)}if(f(y,"setScale")){var X=r(y,"setScale.x",1),H=r(y,"setScale.y",X),$=r(y,"setScale.stepX",0),K=r(y,"setScale.stepY",0);u.SetScale(A,X,H,$,K)}if(f(y,"setOrigin")){var Z=r(y,"setOrigin.x",.5),J=r(y,"setOrigin.y",Z),j=r(y,"setOrigin.stepX",0),Q=r(y,"setOrigin.stepY",0);u.SetOrigin(A,Z,J,j,Q)}if(f(y,"setAlpha")){var tt=r(y,"setAlpha.value",1),_=r(y,"setAlpha.step",0);u.SetAlpha(A,tt,_)}if(f(y,"setDepth")){var it=r(y,"setDepth.value",0),ht=r(y,"setDepth.step",0);u.SetDepth(A,it,ht)}if(f(y,"setScrollFactor")){var lt=r(y,"setScrollFactor.x",1),ot=r(y,"setScrollFactor.y",lt),et=r(y,"setScrollFactor.stepX",0),at=r(y,"setScrollFactor.stepY",0);u.SetScrollFactor(A,lt,ot,et,at)}var rt=n(y,"hitArea",null),gt=n(y,"hitAreaCallback",null);rt&&u.SetHitArea(A,rt,gt);var pt=n(y,"gridAlign",!1);return pt&&u.GridAlign(A,pt),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(y,E){if(!(!this.runChildUpdate||this.children.size===0))for(var P=this.children.entries.slice(),S=0;S<P.length;S++){var w=P[S];w.active&&w.update(y,E)}},add:function(y,E){return E===void 0&&(E=!1),this.isFull()?this:(this.children.set(y),this.internalCreateCallback&&this.internalCreateCallback.call(this,y),this.createCallback&&this.createCallback.call(this,y),E&&(y.addToDisplayList(this.scene.sys.displayList),y.addToUpdateList()),y.on(d.DESTROY,this.remove,this),this)},addMultiple:function(y,E){if(E===void 0&&(E=!1),Array.isArray(y))for(var P=0;P<y.length;P++)this.add(y[P],E);return this},remove:function(y,E,P){return E===void 0&&(E=!1),P===void 0&&(P=!1),this.children.contains(y)?(this.children.delete(y),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,y),this.removeCallback&&this.removeCallback.call(this,y),y.off(d.DESTROY,this.remove,this),P?y.destroy():E&&(y.removeFromDisplayList(),y.removeFromUpdateList()),this):this},clear:function(y,E){y===void 0&&(y=!1),E===void 0&&(E=!1);for(var P=this.children,S=0;S<P.size;S++){var w=P.entries[S];w.off(d.DESTROY,this.remove,this),E?w.destroy():y&&(w.removeFromDisplayList(),w.removeFromUpdateList())}return this.children.clear(),this},contains:function(y){return this.children.contains(y)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(y,E,P,S){return h(this.children.entries,y,E,P,S)},getFirst:function(y,E,P,S,w,A,R){return this.getHandler(!0,1,y,E,P,S,w,A,R)},getFirstNth:function(y,E,P,S,w,A,R,O){return this.getHandler(!0,y,E,P,S,w,A,R,O)},getLast:function(y,E,P,S,w,A,R){return this.getHandler(!1,1,y,E,P,S,w,A,R)},getLastNth:function(y,E,P,S,w,A,R,O){return this.getHandler(!1,y,E,P,S,w,A,R,O)},getHandler:function(y,E,P,S,w,A,R,O,L){P===void 0&&(P=!1),S===void 0&&(S=!1);var b,D,I=0,B=this.children.entries;if(y)for(D=0;D<B.length;D++)if(b=B[D],b.active===P){if(I++,I===E)break}else b=null;else for(D=B.length-1;D>=0;D--)if(b=B[D],b.active===P){if(I++,I===E)break}else b=null;return b?(typeof w=="number"&&(b.x=w),typeof A=="number"&&(b.y=A),b):S?this.create(w,A,R,O,L):null},get:function(y,E,P,S,w){return this.getFirst(!1,!0,y,E,P,S,w)},getFirstAlive:function(y,E,P,S,w,A){return this.getFirst(!0,y,E,P,S,w,A)},getFirstDead:function(y,E,P,S,w,A){return this.getFirst(!1,y,E,P,S,w,A)},playAnimation:function(y,E){return u.PlayAnimation(this.children.entries,y,E),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(y){y===void 0&&(y=!0);for(var E=0,P=0;P<this.children.size;P++)this.children.entries[P].active===y&&E++;return E},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var y=this.getTotalUsed(),E=this.maxSize===-1?999999999999:this.maxSize;return E-y},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},propertyValueSet:function(y,E,P,S,w){return u.PropertyValueSet(this.children.entries,y,E,P,S,w),this},propertyValueInc:function(y,E,P,S,w){return u.PropertyValueInc(this.children.entries,y,E,P,S,w),this},setX:function(y,E){return u.SetX(this.children.entries,y,E),this},setY:function(y,E){return u.SetY(this.children.entries,y,E),this},setXY:function(y,E,P,S){return u.SetXY(this.children.entries,y,E,P,S),this},incX:function(y,E){return u.IncX(this.children.entries,y,E),this},incY:function(y,E){return u.IncY(this.children.entries,y,E),this},incXY:function(y,E,P,S){return u.IncXY(this.children.entries,y,E,P,S),this},shiftPosition:function(y,E,P){return u.ShiftPosition(this.children.entries,y,E,P),this},angle:function(y,E){return u.Angle(this.children.entries,y,E),this},rotate:function(y,E){return u.Rotate(this.children.entries,y,E),this},rotateAround:function(y,E){return u.RotateAround(this.children.entries,y,E),this},rotateAroundDistance:function(y,E,P){return u.RotateAroundDistance(this.children.entries,y,E,P),this},setAlpha:function(y,E){return u.SetAlpha(this.children.entries,y,E),this},setTint:function(y,E,P,S){return u.SetTint(this.children.entries,y,E,P,S),this},setOrigin:function(y,E,P,S){return u.SetOrigin(this.children.entries,y,E,P,S),this},scaleX:function(y,E){return u.ScaleX(this.children.entries,y,E),this},scaleY:function(y,E){return u.ScaleY(this.children.entries,y,E),this},scaleXY:function(y,E,P,S){return u.ScaleXY(this.children.entries,y,E,P,S),this},setDepth:function(y,E){return u.SetDepth(this.children.entries,y,E),this},setBlendMode:function(y){return u.SetBlendMode(this.children.entries,y),this},setHitArea:function(y,E){return u.SetHitArea(this.children.entries,y,E),this},shuffle:function(){return u.Shuffle(this.children.entries),this},kill:function(y){this.children.contains(y)&&y.setActive(!1)},killAndHide:function(y){this.children.contains(y)&&(y.setActive(!1),y.setVisible(!1))},setVisible:function(y,E,P){return u.SetVisible(this.children.entries,y,E,P),this},toggleVisible:function(){return u.ToggleVisible(this.children.entries),this},destroy:function(y,E){y===void 0&&(y=!1),E===void 0&&(E=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(d.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(E,y),this.scene=void 0,this.children=void 0)}});o.exports=m},61295:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99325),x=e(59192);u.register("group",function(d){return new x(this.scene,null,d)})},62598:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59192),x=e(61286);x.register("group",function(d,l){return this.updateList.add(new u(this.scene,d,l))})},1539:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(89980),l=e(57322),h=new u({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,l],initialize:function(r,f,a,c,p){d.call(this,r,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,p),this.setPosition(f,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});o.exports=h},57786:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){x.addToRenderList(u),e.batchSprite(u,u.frame,x,d)};o.exports=T},83556:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(1539);x.register("image",function(h,n){h===void 0&&(h={});var r=d(h,"key",null),f=d(h,"frame",null),a=new l(this.scene,0,0,r,f);return n!==void 0&&(h.add=n),u(this.scene,a,h),a})},20927:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1539),x=e(61286);x.register("image",function(d,l,h,n){return this.displayList.add(new u(this.scene,d,l,h,n))})},57322:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(59390),d=e(57786),o.exports={renderWebGL:x,renderCanvas:d}},59390:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){x.addToRenderList(u),this.pipeline.batchSprite(u,x,d)};o.exports=T},48013:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Events:e(56631),DisplayList:e(91713),GameObjectCreator:e(99325),GameObjectFactory:e(61286),UpdateList:e(92034),Components:e(64937),GetCalcMatrix:e(73329),BuildGameObject:e(88933),BuildGameObjectAnimation:e(32291),GameObject:e(89980),BitmapText:e(44616),Blitter:e(52816),Bob:e(41664),Container:e(70339),DOMElement:e(38943),DynamicBitmapText:e(13468),Extern:e(39419),Graphics:e(33182),Group:e(59192),Image:e(1539),Layer:e(85305),Particles:e(27684),PathFollower:e(29598),RenderTexture:e(15996),RetroFont:e(55873),Rope:e(79968),Sprite:e(13747),Text:e(76555),GetTextSize:e(32979),MeasureText:e(27030),TextStyle:e(74744),TileSprite:e(35856),Zone:e(71030),Video:e(8630),Shape:e(91461),Arc:e(28593),Curve:e(15220),Ellipse:e(28591),Grid:e(39169),IsoBox:e(4415),IsoTriangle:e(65159),Line:e(579),Polygon:e(91249),Rectangle:e(517),Star:e(77843),Triangle:e(21873),Factories:{Blitter:e(38906),Container:e(23400),DOMElement:e(66788),DynamicBitmapText:e(94145),Extern:e(41155),Graphics:e(13122),Group:e(62598),Image:e(20927),Layer:e(17676),Particles:e(81212),PathFollower:e(19626),RenderTexture:e(29599),Rope:e(31982),Sprite:e(66135),StaticBitmapText:e(21797),Text:e(94627),TileSprite:e(20509),Zone:e(34546),Video:e(215),Arc:e(10369),Curve:e(10147),Ellipse:e(99869),Grid:e(9326),IsoBox:e(88154),IsoTriangle:e(67765),Line:e(85665),Polygon:e(88203),Rectangle:e(94355),Star:e(23962),Triangle:e(79296)},Creators:{Blitter:e(68452),Container:e(44516),DynamicBitmapText:e(67513),Graphics:e(41286),Group:e(61295),Image:e(83556),Layer:e(56378),Particles:e(765),RenderTexture:e(85692),Rope:e(96027),Sprite:e(89219),StaticBitmapText:e(95499),Text:e(75397),TileSprite:e(63950),Zone:e(24067),Video:e(65601)}};u.Shader=e(27902),u.Mesh=e(83321),u.NineSlice=e(44139),u.PointLight=e(13171),u.Plane=e(33412),u.Factories.Shader=e(51979),u.Factories.Mesh=e(8767),u.Factories.NineSlice=e(53778),u.Factories.PointLight=e(91201),u.Factories.Plane=e(58322),u.Creators.Shader=e(13908),u.Creators.Mesh=e(41839),u.Creators.NineSlice=e(40964),u.Creators.PointLight=e(162),u.Creators.Plane=e(10912),u.Light=e(14455),u.LightsManager=e(26193),u.LightsPlugin=e(50296),o.exports=u},85305:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),x=e(56694),d=e(64937),l=e(48129),h=e(81078),n=e(6659),r=e(56631),f=e(71207),a=e(58010),c=e(7599),p=e(17922),v=new x({Extends:f,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.PostPipeline,d.Visible,n,a],initialize:function(y,E){f.call(this,y),n.call(this),this.scene=y,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=y.sys,this.events=y.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(u.SKIP_CHECK),E&&this.add(E),y.sys.queueDepthSort()},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},setState:function(m){return this.state=m,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(m,y){return this.data||(this.data=new h(this)),this.data.set(m,y),this},incData:function(m,y){return this.data||(this.data=new h(this)),this.data.inc(m,y),this},toggleData:function(m){return this.data||(this.data=new h(this)),this.data.toggle(m),this},getData:function(m){return this.data||(this.data=new h(this)),this.data.get(m)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return l(this)},willRender:function(m){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&m.id)},getIndexList:function(){for(var m=this,y=this.parentContainer,E=[];y&&(E.unshift(y.getIndex(m)),m=y,y.parentContainer);)y=y.parentContainer;return E.unshift(this.displayList.getIndex(m)),E},addChildCallback:function(m){m.displayList&&m.displayList!==this&&m.removeFromDisplayList(),m.displayList||(this.queueDepthSort(),m.displayList=this,m.emit(r.ADDED_TO_SCENE,m,this.scene),this.events.emit(c.ADDED_TO_SCENE,m,this.scene))},removeChildCallback:function(m){this.queueDepthSort(),m.displayList=null,m.emit(r.REMOVED_FROM_SCENE,m,this.scene),this.events.emit(c.REMOVED_FROM_SCENE,m,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(m,y){return m._depth-y._depth},getChildren:function(){return this.list},addToDisplayList:function(m){return m===void 0&&(m=this.scene.sys.displayList),this.displayList&&this.displayList!==m&&this.removeFromDisplayList(),m.exists(this)||(this.displayList=m,m.add(this,!0),m.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),m.events.emit(c.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var m=this.displayList||this.scene.sys.displayList;return m.exists(this)&&(m.remove(this,!0),m.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),m.events.emit(c.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(m){if(!(!this.scene||this.ignoreDestroy)){this.emit(r.DESTROY,this);for(var y=this.list;y.length;)y[0].destroy(m);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});o.exports=v},834:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=u.list;if(d.length!==0){u.depthSort();var l=u.blendMode!==-1;l||e.setBlendMode(0);var h=u._alpha;u.mask&&u.mask.preRenderCanvas(e,null,x);for(var n=0;n<d.length;n++){var r=d[n];if(!!r.willRender(x)){var f=r.alpha;!l&&r.blendMode!==e.currentBlendMode&&e.setBlendMode(r.blendMode),r.setAlpha(f*h),r.renderCanvas(e,r,x),r.setAlpha(f)}}u.mask&&u.mask.postRenderCanvas(e)}};o.exports=T},56378:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(85305),d=e(99325),l=e(20494);d.register("layer",function(h,n){h===void 0&&(h={});var r=l(h,"children",null),f=new x(this.scene,r);return n!==void 0&&(h.add=n),u(this.scene,f,h),f})},17676:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85305),x=e(61286);x.register("layer",function(d){return this.displayList.add(new u(this.scene,d))})},58010:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(17576),d=e(834),o.exports={renderWebGL:x,renderCanvas:d}},17576:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=u.list,l=d.length;if(l!==0){u.depthSort(),e.pipelines.preBatch(u);var h=u.blendMode!==-1;h||e.setBlendMode(0);for(var n=u.alpha,r=0;r<l;r++){var f=d[r];if(!!f.willRender(x)){var a,c,p,v;if(f.alphaTopLeft!==void 0)a=f.alphaTopLeft,c=f.alphaTopRight,p=f.alphaBottomLeft,v=f.alphaBottomRight;else{var m=f.alpha;a=m,c=m,p=m,v=m}!h&&f.blendMode!==e.currentBlendMode&&e.setBlendMode(f.blendMode);var y=f.mask;y&&y.preRenderWebGL(e,f,x);var E=f.type;E!==e.currentType&&(e.newType=!0,e.currentType=E),e.nextTypeMatch=r<l-1?d[r+1].type===e.currentType:!1,f.setAlpha(a*n,c*n,p*n,v*n),f.renderWebGL(e,f,x),f.setAlpha(a,c,p,v),y&&y.postRenderWebGL(e,x),e.newType=!1}}e.pipelines.postBatch(u)}};o.exports=T},14455:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26673),x=e(56694),d=e(64937),l=e(39298),h=e(75512),n=new x({Extends:u,Mixins:[d.Origin,d.ScrollFactor,d.Transform,d.Visible],initialize:function(f,a,c,p,v,m,y){u.call(this,f,a,c),this.color=new l(p,v,m),this.intensity=y,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(c)},displayWidth:{get:function(){return this.diameter},set:function(r){this.diameter=r}},displayHeight:{get:function(){return this.diameter},set:function(r){this.diameter=r}},width:{get:function(){return this.diameter},set:function(r){this.diameter=r}},height:{get:function(){return this.diameter},set:function(r){this.diameter=r}},willRender:function(r){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},setColor:function(r){var f=h.getFloatsFromUintRGB(r);return this.color.set(f[0],f[1],f[2]),this},setIntensity:function(r){return this.intensity=r,this},setRadius:function(r){return this.radius=r,this}});n.RENDER_MASK=15,o.exports=n},26193:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26535),x=e(56694),d=e(53996),l=e(14455),h=e(13171),n=e(39298),r=e(72677),f=e(17922),a=e(75512),c=new x({initialize:function(){this.lights=[],this.ambientColor=new n(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,v,m,y,E,P){return this.systems.displayList.add(new h(this.scene,p,v,m,y,E,P))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var v=this.lights,m=p.worldView,y=[],E=0;E<v.length;E++){var P=v[E];P.willRender(p)&&u(P,m)&&y.push({light:P,distance:d(P.x,P.y,m.centerX,m.centerY)})}return y.length>this.maxLights&&(f(y,this.sortByDistance),y=y.slice(0,this.maxLights)),this.visibleLights=y.length,y},sortByDistance:function(p,v){return p.distance>=v.distance},setAmbientColor:function(p){var v=a.getFloatsFromUintRGB(p);return this.ambientColor.set(v[0],v[1],v[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,v,m,y,E){p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=128),y===void 0&&(y=16777215),E===void 0&&(E=1);var P=a.getFloatsFromUintRGB(y),S=new l(p,v,m,P[0],P[1],P[2],E);return this.lights.push(S),S},removeLight:function(p){var v=this.lights.indexOf(p);return v>=0&&r(this.lights,v),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});o.exports=c},50296:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(26193),d=e(91963),l=e(7599),h=new u({Extends:x,initialize:function(r){this.scene=r,this.systems=r.sys,r.sys.settings.isBooted||r.sys.events.once(l.BOOT,this.boot,this),x.call(this)},boot:function(){var n=this.systems.events;n.on(l.SHUTDOWN,this.shutdown,this),n.on(l.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});d.register("LightsPlugin",h,"lights"),o.exports=h},83321:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(75606),l=e(18693),h=e(89980),n=e(53267),r=e(67623),f=e(73329),a=e(16650),c=e(23464),p=e(23701),v=e(17922),m=e(70015),y=e(85769),E=new u({Extends:h,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,c],initialize:function(S,w,A,R,O,L,b,D,I,B,V,Y){w===void 0&&(w=0),A===void 0&&(A=0),R===void 0&&(R="__WHITE"),h.call(this,S,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new m,this.modelScale=new m(1,1,1),this.modelRotation=new m,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new a,this.viewPosition=new m,this.viewMatrix=new a,this.projectionMatrix=new a,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var k=S.sys.renderer;this.setPosition(w,A),this.setTexture(R,O),this.setSize(k.width,k.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(k.width,k.height),L&&this.addVertices(L,b,D,I,B,V,Y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(P){return this.viewPosition.addScale(m.LEFT,P),this.dirtyCache[10]=1,this},panY:function(P){return this.viewPosition.y+=m.DOWN.y*P,this.dirtyCache[10]=1,this},panZ:function(P){return this.viewPosition.z+=P,this.dirtyCache[10]=1,this},setPerspective:function(P,S,w,A,R){return w===void 0&&(w=45),A===void 0&&(A=.01),R===void 0&&(R=1e3),this.fov=w,this.projectionMatrix.perspective(d(w),P/S,A,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(P,S,w,A){return P===void 0&&(P=this.scene.sys.renderer.getAspectRatio()),S===void 0&&(S=1),w===void 0&&(w=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-P,P,-S,S,w,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(P){P.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(P,S,w,A,R,O,L,b,D){var I=this.scene.sys.cache.obj.get(P),B;return I&&(B=n(I,this,S,w,A,R,O,L,b,D)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",P),this},sortByDepth:function(P,S){return P.depth-S.depth},depthSort:function(){return v(this.faces,this.sortByDepth),this},addVertex:function(P,S,w,A,R,O,L){var b=new y(P,S,w,A,R,O,L);return this.vertices.push(b),b},addFace:function(P,S,w){var A=new l(P,S,w);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(P,S,w,A,R,O,L){var b=r(P,S,w,A,R,O,L);return b?(this.faces=this.faces.concat(b.faces),this.vertices=this.vertices.concat(b.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(P){return this.faces[P]},hasFaceAt:function(P,S,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var A=f(this,w).calc,R=this.faces,O=0;O<R.length;O++){var L=R[O];if(L.contains(P,S,A))return!0}return!1},getFaceAt:function(P,S,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var A=f(this,w).calc,R=this.faces,O=[],L=0;L<R.length;L++){var b=R[L];b.contains(P,S,A)&&O.push(b)}return v(O,this.sortByDepth)},setDebug:function(P,S){return this.debugGraphic=P,!P&&!S?this.debugCallback=null:S?this.debugCallback=S:this.debugCallback=this.renderDebug,this},isDirty:function(){var P=this.modelPosition,S=this.modelRotation,w=this.modelScale,A=this.dirtyCache,R=P.x,O=P.y,L=P.z,b=S.x,D=S.y,I=S.z,B=w.x,V=w.y,Y=w.z,k=this.getFaceCount(),W=A[0],G=A[1],U=A[2],F=A[3],N=A[4],z=A[5],X=A[6],H=A[7],$=A[8],K=A[9];return A[0]=R,A[1]=O,A[2]=L,A[3]=b,A[4]=D,A[5]=I,A[6]=B,A[7]=V,A[8]=Y,A[9]=k,W!==R||G!==O||U!==L||F!==b||N!==D||z!==I||X!==B||H!==V||$!==Y||K!==k},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var P=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!P[10]&&!this.isDirty())){var S=this.width,w=this.height,A=this.viewMatrix,R=this.viewPosition;P[10]&&(A.identity(),A.translate(R),A.invert(),P[10]=0);var O=this.transformMatrix;O.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var L=R.z,b=this.faces,D=0;D<b.length;D++)b[D].transformCoordinatesLocal(O,S,w,L);this.depthSort()}},renderDebug:function(P,S){for(var w=P.debugGraphic,A=0;A<S.length;A++){var R=S[A],O=R.vertex1.tx,L=R.vertex1.ty,b=R.vertex2.tx,D=R.vertex2.ty,I=R.vertex3.tx,B=R.vertex3.ty;w.strokeTriangle(O,L,b,D,I,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var P=this.faces,S=function(w,A,R){for(var O=0;O<P.length;O++){var L=P[O];if(L.contains(A,R))return!0}return!1};return this.scene.sys.input.enable(this,S),this},setTint:function(P){P===void 0&&(P=16777215);for(var S=this.vertices,w=0;w<S.length;w++)S[w].color=P;return this},uvScroll:function(P,S){for(var w=this.faces,A=0;A<w.length;A++)w[A].scrollUV(P,S);return this},uvScale:function(P,S){for(var w=this.faces,A=0;A<w.length;A++)w[A].scaleUV(P,S);return this},tint:{set:function(P){this.setTint(P)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(P){this.modelRotation.x=d(P)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(P){this.modelRotation.y=d(P)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(P){this.modelRotation.z=d(P)}}});o.exports=E},6317:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};o.exports=T},41839:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(10850),h=e(83321);x.register("mesh",function(n,r){n===void 0&&(n={});var f=d(n,"key",null),a=d(n,"frame",null),c=l(n,"vertices",[]),p=l(n,"uvs",[]),v=l(n,"indicies",[]),m=l(n,"containsZ",!1),y=l(n,"normals",[]),E=l(n,"colors",16777215),P=l(n,"alphas",1),S=new h(this.scene,0,0,f,a,c,p,v,m,y,E,P);return r!==void 0&&(n.add=r),u(this.scene,S,n),S})},8767:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83321),x=e(61286);x.register("mesh",function(d,l,h,n,r,f,a,c,p,v,m){return this.displayList.add(new u(this.scene,d,l,h,n,r,f,a,c,p,v,m))})},23464:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(57410),d=e(6317),o.exports={renderWebGL:x,renderCanvas:d}},57410:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=function(d,l,h,n){var r=l.faces,f=r.length;if(f!==0){h.addToRenderList(l);var a=d.pipelines.set(l.pipeline,l),c=u(l,h,n).calc;d.pipelines.preBatch(l);for(var p=a.setGameObject(l),v=a.vertexViewF32,m=a.vertexViewU32,y=a.vertexCount*a.currentShader.vertexComponentCount-1,E=l.tintFill,P=[],S=l.debugCallback,w=c.a,A=c.b,R=c.c,O=c.d,L=c.e,b=c.f,D=l.viewPosition.z,I=l.hideCCW,B=h.roundPixels,V=h.alpha*l.alpha,Y=0,k=0;k<f;k++){var W=r[k];!W.isInView(h,I,D,V,w,A,R,O,L,b,B)||(a.shouldFlush(3)&&(a.flush(),p=a.setGameObject(l),y=0),y=W.load(v,m,y,p,E),Y++,a.vertexCount+=3,a.currentBatch.count=a.vertexCount-a.currentBatch.start,S&&P.push(W))}l.totalFrame+=Y,S&&S.call(l,l,P),d.pipelines.postBatch(l)}};o.exports=x},44139:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(89980),l=e(94456),h=e(85769),n=new u({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,l],initialize:function(f,a,c,p,v,m,y,E,P,S,w){m===void 0&&(m=256),y===void 0&&(y=256),E===void 0&&(E=10),P===void 0&&(P=10),S===void 0&&(S=0),w===void 0&&(w=0),d.call(this,f,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1,this.is3Slice=S===0&&w===0;for(var A=this.is3Slice?18:54,R=0;R<A;R++)this.vertices.push(new h);this.setPosition(a,c),this.setTexture(p,v),this.setSlices(m,y,E,P,S,w),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(r,f,a,c,p,v){r===void 0&&(r=256),f===void 0&&(f=256),a===void 0&&(a=10),c===void 0&&(c=10),p===void 0&&(p=0),v===void 0&&(v=0);var m=p===0&&v===0;return this.is3Slice!==m?console.warn("Cannot change 9 slice to 3 slice"):(this._width=r,this._height=f,this.leftWidth=a,this.rightWidth=c,this.topHeight=p,this.bottomHeight=v,this.is3Slice&&(f=this.frame.height,this._height=f,this.topHeight=f,this.bottomHeight=0),this.updateVertices(),this.updateUVs()),this},updateUVs:function(){var r=this.leftWidth,f=this.rightWidth,a=this.topHeight,c=this.bottomHeight,p=this.frame.width,v=this.frame.height;this.updateQuadUVs(0,0,0,r/p,a/v),this.updateQuadUVs(6,r/p,0,1-f/p,a/v),this.updateQuadUVs(12,1-f/p,0,1,a/v),this.is3Slice||(this.updateQuadUVs(18,0,a/v,r/p,1-c/v),this.updateQuadUVs(24,r/p,a/v,1-f/p,1-c/v),this.updateQuadUVs(30,1-f/p,a/v,1,1-c/v),this.updateQuadUVs(36,0,1-c/v,r/p,1),this.updateQuadUVs(42,r/p,1-c/v,1-f/p,1),this.updateQuadUVs(48,1-f/p,1-c/v,1,1))},updateVertices:function(){var r=this.leftWidth,f=this.rightWidth,a=this.topHeight,c=this.bottomHeight,p=this.width,v=this.height;this.updateQuad(0,-.5,.5,-.5+r/p,.5-a/v),this.updateQuad(6,-.5+r/p,.5,.5-f/p,.5-a/v),this.updateQuad(12,.5-f/p,.5,.5,.5-a/v),this.is3Slice||(this.updateQuad(18,-.5,.5-a/v,-.5+r/p,-.5+c/v),this.updateQuad(24,-.5+r/p,.5-a/v,.5-f/p,-.5+c/v),this.updateQuad(30,.5-f/p,.5-a/v,.5,-.5+c/v),this.updateQuad(36,-.5,-.5+c/v,-.5+r/p,-.5),this.updateQuad(42,-.5+r/p,-.5+c/v,.5-f/p,-.5),this.updateQuad(48,.5-f/p,-.5+c/v,.5,-.5))},updateQuad:function(r,f,a,c,p){var v=this.width,m=this.height,y=this.originX,E=this.originY,P=this.vertices;P[r+0].resize(f,a,v,m,y,E),P[r+1].resize(f,p,v,m,y,E),P[r+2].resize(c,a,v,m,y,E),P[r+3].resize(f,p,v,m,y,E),P[r+4].resize(c,p,v,m,y,E),P[r+5].resize(c,a,v,m,y,E)},updateQuadUVs:function(r,f,a,c,p){var v=this.vertices,m=this.frame,y=m.u0,E=m.v0,P=m.u1,S=m.v1;if(y!==0||P!==1){var w=P-y;f=y+f*w,c=y+c*w}if(E!==0||S!==1){var A=S-E;a=E+a*A,p=E+p*A}v[r+0].setUVs(f,a),v[r+1].setUVs(f,p),v[r+2].setUVs(c,a),v[r+3].setUVs(f,p),v[r+4].setUVs(c,p),v[r+5].setUVs(c,a)},clearTint:function(){return this.setTint(16777215),this},setTint:function(r){return r===void 0&&(r=16777215),this.tint=r,this.tintFill=!1,this},setTintFill:function(r){return this.setTint(r),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(r){this._width=Math.max(r,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(r){this.is3Slice||(this._height=Math.max(r,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,f){this.width=r,this.height=f;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setDisplaySize:function(r,f){return this.displayWidth=r,this.displayHeight=f,this},originX:{get:function(){return this._originX},set:function(r){this._originX=r,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(r){this._originY=r,this.updateVertices()}},setOrigin:function(r,f){return r===void 0&&(r=.5),f===void 0&&(f=r),this._originX=r,this._originY=f,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var r=this.frame.height;this._height=r,this.topHeight=r,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});o.exports=n},40964:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(10850),h=e(44139);x.register("nineslice",function(n,r){n===void 0&&(n={});var f=d(n,"key",null),a=d(n,"frame",null),c=l(n,"width",256),p=l(n,"height",256),v=l(n,"leftWidth",10),m=l(n,"rightWidth",10),y=l(n,"topHeight",0),E=l(n,"bottomHeight",0),P=new h(this.scene,0,0,f,a,c,p,v,m,y,E);return r!==void 0&&(n.add=r),u(this.scene,P,n),P})},53778:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44139),x=e(61286);x.register("nineslice",function(d,l,h,n,r,f,a,c,p,v){return this.displayList.add(new u(this.scene,d,l,h,n,r,f,a,c,p,v))})},94456:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(27420),o.exports={renderWebGL:x,renderCanvas:d}},27420:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=e(75512),d=function(l,h,n,r){var f=h.vertices,a=f.length;if(a!==0){n.addToRenderList(h);var c=l.pipelines.set(h.pipeline,h),p=u(h,n,r,!1).calc;l.pipelines.preBatch(h);var v=c.setGameObject(h),m=c.vertexViewF32,y=c.vertexViewU32,E=c.vertexCount*c.currentShader.vertexComponentCount-1,P=n.roundPixels,S=h.tintFill,w=n.alpha*h.alpha,A=x.getTintAppendFloatAlpha(h.tint,w),R=c.vertexAvailable(),O=-1;R<a&&(O=R);for(var L=0;L<a;L++){var b=f[L];L===O&&(c.flush(),v=c.setGameObject(h),E=0),m[++E]=p.getXRound(b.vx,b.vy,P),m[++E]=p.getYRound(b.vx,b.vy,P),m[++E]=b.u,m[++E]=b.v,m[++E]=v,m[++E]=S,y[++E]=A,c.vertexCount++,c.currentBatch.count=c.vertexCount-c.currentBatch.start}l.pipelines.postBatch(h)}};o.exports=d},19737:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(93025),d=e(22946),l=e(21902),h=e(4840),n=e(15978),r=new u({Extends:x,initialize:function(a){x.call(this,a,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var f=this.propertyValue,a=f,c=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=f[0],this.ease=l("Linear"),this.interpolation=h("linear"),c=this.easedValueEmit,p=this.easeValueUpdate,a=f[0],this.active=!0;for(var v=0;v<f.length;v++){var m=n(f[v]);this.r.push(m.r),this.g.push(m.g),this.b.push(m.b)}}return this.onEmit=c,this.onUpdate=p,this.current=a,this},setEase:function(f){this.easeName=f,this.ease=l(f)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(f,a,c){var p=this.ease(c),v=this.interpolation(this.r,p),m=this.interpolation(this.g,p),y=this.interpolation(this.b,p),E=d(v,m,y);return this.current=E,E}});o.exports=r},93025:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(17489),x=e(82897),d=e(56694),l=e(61616),h=e(21902),n=e(72632),r=e(4840),f=e(88462),a=e(1071),c=new d({initialize:function(v,m,y){y===void 0&&(y=!1),this.propertyKey=v,this.propertyValue=m,this.defaultValue=m,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=y,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,v){p===void 0&&(p={}),v&&(this.propertyKey=v),this.propertyValue=n(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var v;switch(this.method){case 1:case 3:case 8:v=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(v=p);break;case 4:var m=(this.end-this.start)/this.steps;v=f(p,m),this.counter=v;break;case 5:case 6:case 7:v=x(p,this.start,this.end);break;case 9:v=this.start[0];break}return this.current=v,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var v=typeof p;if(v==="number")return 1;if(Array.isArray(p))return 2;if(v==="function")return 3;if(v==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.has(p,"interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,v=p,m=this.defaultEmit,y=this.defaultUpdate;switch(this.method){case 1:m=this.staticValueEmit;break;case 2:m=this.randomStaticValueEmit,v=p[0];break;case 3:this._onEmit=p,m=this.proxyEmit;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,m=this.steppedEmit,v=this.start;break;case 5:this.start=p.start,this.end=p.end;var E=this.has(p,"ease")?p.ease:"Linear";this.ease=h(E,p.easeParams),m=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,y=this.easeValueUpdate,v=this.start;break;case 6:this.start=p.min,this.end=p.max,m=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,v=this.start;break;case 7:var P=p.random;Array.isArray(P)&&(this.start=P[0],this.end=P[1]),m=this.randomRangedIntEmit,v=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,m=this.proxyEmit,y=this.proxyUpdate;break;case 9:this.start=p.values;var S=this.has(p,"ease")?p.ease:"Linear";this.ease=h(S,p.easeParams),this.interpolation=r(p.interpolation),m=this.easedValueEmit,y=this.easeValueUpdate,v=this.start[0];break}return this.onEmit=m,this.onUpdate=y,this.current=v,this},has:function(p,v){return p.hasOwnProperty(v)},hasBoth:function(p,v,m){return p.hasOwnProperty(v)&&p.hasOwnProperty(m)},hasEither:function(p,v,m){return p.hasOwnProperty(v)||p.hasOwnProperty(m)},defaultEmit:function(p,v,m){return m},defaultUpdate:function(p,v,m,y){return y},proxyEmit:function(p,v,m){var y=this._onEmit(p,v,m);return this.current=y,y},proxyUpdate:function(p,v,m,y){var E=this._onUpdate(p,v,m,y);return this.current=E,E},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,v){var m=l(this.start,this.end);return p&&p.data[v]&&(p.data[v].min=m,p.data[v].max=this.end),this.current=m,m},randomRangedIntEmit:function(p,v){var m=u(this.start,this.end);return p&&p.data[v]&&(p.data[v].min=m,p.data[v].max=this.end),this.current=m,m},steppedEmit:function(){var p=this.counter,v=p,m=(this.end-this.start)/this.steps;if(this.yoyo){var y;this.direction===0?(v+=m,v>=this.end&&(y=v-this.end,v=this.end-y,this.direction=1)):(v-=m,v<=this.start&&(y=this.start-v,v=this.start+y,this.direction=0)),this.counter=v}else this.counter=a(v+m,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,v){if(p&&p.data[v]){var m=p.data[v];m.min=this.start,m.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,v,m){var y=p.data[v],E,P=this.ease(m);return this.interpolation?E=this.interpolation(this.start,P):E=(y.max-y.min)*P+y.min,this.current=E,E},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});o.exports=c},87811:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=e(30891),l=new u({Extends:d,initialize:function(n,r,f,a,c){if(typeof n=="object"){var p=n;n=x(p,"x",0),r=x(p,"y",0),f=x(p,"power",0),a=x(p,"epsilon",100),c=x(p,"gravity",50)}else n===void 0&&(n=0),r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=100),c===void 0&&(c=50);d.call(this,n,r,!0),this._gravity=c,this._power=f*c,this._epsilon=a*a},update:function(h,n){var r=this.x-h.x,f=this.y-h.y,a=r*r+f*f;if(a!==0){var c=Math.sqrt(a);a<this._epsilon&&(a=this._epsilon);var p=this._power*n/(a*c)*100;h.velocityX+=r*p,h.velocityY+=f*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var n=this.power;this._gravity=h,this.power=n}}});o.exports=l},14909:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16569),x=e(82897),d=e(56694),l=e(75606),h=e(74118),n=e(2386),r=e(93736),f=new d({initialize:function(c){this.emitter=c,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new r,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=c.scene,this.anims=new u(this),this.bounds=new h},emit:function(a,c,p,v,m,y){return this.emitter.emit(a,c,p,v,m,y)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(a,c){a===void 0&&(a=0),c===void 0&&(c=0),this.x=a,this.y=c},fire:function(a,c){var p=this.emitter,v=p.ops,m=p.getAnim();if(m?this.anims.play(m):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),a===void 0?this.x+=v.x.onEmit(this,"x"):v.x.steps>0?this.x+=a+v.x.onEmit(this,"x"):this.x+=a,c===void 0?this.y+=v.y.onEmit(this,"y"):v.y.steps>0?this.y+=c+v.y.onEmit(this,"y"):this.y+=c,this.life=v.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=v.delay.onEmit(this,"delay"),this.holdCurrent=v.hold.onEmit(this,"hold"),this.scaleX=v.scaleX.onEmit(this,"scaleX"),this.scaleY=v.scaleY.active?v.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=v.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var y=v.speedX.onEmit(this,"speedX"),E=v.speedY.active?v.speedY.onEmit(this,"speedY"):y;if(p.radial){var P=l(v.angle.onEmit(this,"angle"));this.velocityX=Math.cos(P)*Math.abs(y),this.velocityY=Math.sin(P)*Math.abs(E)}else if(p.moveTo){var S=v.moveToX.onEmit(this,"moveToX"),w=v.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(S-this.x)/A,this.velocityY=(w-this.y)/A}else this.velocityX=y,this.velocityY=E;return p.acceleration&&(this.accelerationX=v.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=v.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=v.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=v.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=v.bounce.onEmit(this,"bounce"),this.alpha=v.alpha.onEmit(this,"alpha"),v.color.active?this.tint=v.color.onEmit(this,"tint"):this.tint=v.tint.onEmit(this,"tint"),!0},update:function(a,c,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=a,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=a,!1;this.anims.update(0,a);var v=this.emitter,m=v.ops,y=1-this.lifeCurrent/this.life;if(this.lifeT=y,this.x=m.x.onUpdate(this,"x",y,this.x),this.y=m.y.onUpdate(this,"y",y,this.y),v.moveTo){var E=m.moveToX.onUpdate(this,"moveToX",y,v.moveToX),P=m.moveToY.onUpdate(this,"moveToY",y,v.moveToY),S=this.lifeCurrent/1e3;this.velocityX=(E-this.x)/S,this.velocityY=(P-this.y)/S}return this.computeVelocity(v,a,c,p,y),this.scaleX=m.scaleX.onUpdate(this,"scaleX",y,this.scaleX),this.scaleY=this.scaleX,m.scaleY.active&&(this.scaleY=m.scaleY.onUpdate(this,"scaleY",y,this.scaleY)),this.angle=m.rotate.onUpdate(this,"rotate",y,this.angle),this.rotation=l(this.angle),v.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=m.alpha.onUpdate(this,"alpha",y,this.alpha),m.color.active?this.tint=m.color.onUpdate(this,"color",y,this.tint):this.tint=m.tint.onUpdate(this,"tint",y,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(a,c,p,v,m){var y=a.ops,E=this.velocityX,P=this.velocityY,S=y.accelerationX.onUpdate(this,"accelerationX",m,this.accelerationX),w=y.accelerationY.onUpdate(this,"accelerationY",m,this.accelerationY),A=y.maxVelocityX.onUpdate(this,"maxVelocityX",m,this.maxVelocityX),R=y.maxVelocityY.onUpdate(this,"maxVelocityY",m,this.maxVelocityY);this.bounce=y.bounce.onUpdate(this,"bounce",m,this.bounce),E+=a.gravityX*p+S*p,P+=a.gravityY*p+w*p,E=x(E,-A,A),P=x(P,-R,R),this.velocityX=E,this.velocityY=P,this.x+=E*p,this.y+=P*p,a.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var O=0;O<v.length;O++){var L=v[O];L.active&&L.update(this,c,p,m)}},setSizeToFrame:function(){},getBounds:function(a){a===void 0&&(a=this.emitter.getWorldTransformMatrix());var c=Math.abs(a.scaleX)*this.scaleX,p=Math.abs(a.scaleY)*this.scaleY,v=this.x,m=this.y,y=this.rotation,E=this.frame.width*c/2,P=this.frame.height*p/2,S=this.bounds,w=new r(v-E,m-P),A=new r(v+E,m-P),R=new r(v-E,m+P),O=new r(v+E,m+P);return y!==0&&(n(w,v,m,y),n(A,v,m,y),n(R,v,m,y),n(O,v,m,y)),a.transformPoint(w.x,w.y,w),a.transformPoint(A.x,A.y,A),a.transformPoint(R.x,R.y,R),a.transformPoint(O.x,O.y,O),S.x=Math.min(w.x,A.x,R.x,O.x),S.y=Math.min(w.y,A.y,R.y,O.y),S.width=Math.max(w.x,A.x,R.x,O.x)-S.x,S.height=Math.max(w.y,A.y,R.y,O.y)-S.y,S},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});o.exports=f},73106:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(30891),d=e(74118),l=new u({Extends:x,initialize:function(n,r,f,a,c,p,v,m){c===void 0&&(c=!0),p===void 0&&(p=!0),v===void 0&&(v=!0),m===void 0&&(m=!0),x.call(this,n,r,!0),this.bounds=new d(n,r,f,a),this.collideLeft=c,this.collideRight=p,this.collideTop=v,this.collideBottom=m},update:function(h){var n=this.bounds,r=-h.bounce,f=h.worldPosition;f.x<n.x&&this.collideLeft?(h.x+=n.x-f.x,h.velocityX*=r):f.x>n.right&&this.collideRight&&(h.x-=f.x-n.right,h.velocityX*=r),f.y<n.y&&this.collideTop?(h.y+=n.y-f.y,h.velocityY*=r):f.y>n.bottom&&this.collideBottom&&(h.y-=f.y-n.bottom,h.velocityY*=r)}});o.exports=l},9216:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(48129),l=e(29538),h=e(69361),n=e(54213),r=e(19737),f=e(93025),a=e(40629),c=e(89980),p=e(72632),v=e(72861),m=e(87811),y=e(53523),E=e(19256),P=e(7782),S=e(71207),w=e(14655),A=e(14909),R=e(68433),O=e(74118),L=e(90205),b=e(66458),D=e(69116),I=e(17922),B=e(69360),V=e(93736),Y=e(1071),k=e(73106),W=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],G=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],U=new u({Extends:c,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,D],initialize:function(N,z,X,H,$){c.call(this,N,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new f("accelerationX",0),accelerationY:new f("accelerationY",0),alpha:new f("alpha",1),angle:new f("angle",{min:0,max:360},!0),bounce:new f("bounce",0),color:new r("color"),delay:new f("delay",0,!0),hold:new f("hold",0,!0),lifespan:new f("lifespan",1e3,!0),maxVelocityX:new f("maxVelocityX",1e4),maxVelocityY:new f("maxVelocityY",1e4),moveToX:new f("moveToX",0),moveToY:new f("moveToY",0),quantity:new f("quantity",1,!0),rotate:new f("rotate",0),scaleX:new f("scaleX",1),scaleY:new f("scaleY",1),speedX:new f("speedX",0,!0),speedY:new f("speedY",0,!0),tint:new f("tint",16777215),x:new f("x",0),y:new f("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new V,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new B,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new S(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(z,X),this.setTexture(H),$&&this.setConfig($)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(F){if(!F)return this;var N=0,z="",X=this.ops;for(N=0;N<G.length;N++)z=G[N],X[z].loadConfig(F);for(N=0;N<W.length;N++)z=W[N],E(F,z)&&(this[z]=p(F,z));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,E(F,"speed")&&(X.speedX.loadConfig(F,"speed"),X.speedY.active=!1),(y(F,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),E(F,"scale")&&(X.scaleX.loadConfig(F,"scale"),X.scaleY.active=!1),E(F,"callbackScope")){var H=p(F,"callbackScope",null);this.emitCallbackScope=H,this.deathCallbackScope=H}if(E(F,"emitZone")&&this.addEmitZone(F.emitZone),E(F,"deathZone")&&this.addDeathZone(F.deathZone),E(F,"bounds")){var $=this.addParticleBounds(F.bounds);$.collideLeft=p(F,"collideLeft",!0),$.collideRight=p(F,"collideRight",!0),$.collideTop=p(F,"collideTop",!0),$.collideBottom=p(F,"collideBottom",!0)}return E(F,"followOffset")&&this.followOffset.setFromObject(p(F,"followOffset",0)),E(F,"texture")&&this.setTexture(F.texture),E(F,"frame")?this.setEmitterFrame(F.frame):E(F,"anim")&&this.setAnim(F.anim),E(F,"reserve")&&this.reserve(F.reserve),E(F,"advance")&&this.fastForward(F.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(a.START,this),this},toJSON:function(){var F=d(this),N=0,z="";for(N=0;N<W.length;N++)z=W[N],F[z]=this[z];var X=this.ops;for(N=0;N<G.length;N++)z=G[N],X[z]&&(F[z]=X[z].toJSON());return X.speedY.active||(delete F.speedX,F.speed=X.speedX.toJSON()),this.scaleX===this.scaleY&&(delete F.scaleX,delete F.scaleY,F.scale=X.scaleX.toJSON()),F},resetCounters:function(F,N){var z=this.counters;z.fill(0),z[0]=F,N&&(z[5]=1)},startFollow:function(F,N,z,X){return N===void 0&&(N=0),z===void 0&&(z=0),X===void 0&&(X=!1),this.follow=F,this.followOffset.set(N,z),this.trackVisible=X,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var F=this.frames,N=F.length,z;return N===1?z=F[0]:this.randomFrame?z=v(F):(z=F[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===N&&(this.currentFrame=0))),this.texture.get(z)},setEmitterFrame:function(F,N,z){N===void 0&&(N=!0),z===void 0&&(z=1),this.randomFrame=N,this.frameQuantity=z,this.currentFrame=0;var X=typeof F;if(this.frames.length=0,Array.isArray(F))this.frames=this.frames.concat(F);else if(X==="string"||X==="number")this.frames.push(F);else if(X==="object"){var H=F;F=p(H,"frames",null),F&&(this.frames=this.frames.concat(F));var $=p(H,"cycle",!1);this.randomFrame=!$,this.frameQuantity=p(H,"quantity",z)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var F=this.anims,N=F.length;if(N===0)return null;if(N===1)return F[0];if(this.randomAnim)return v(F);var z=F[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,N-1)),z},setAnim:function(F,N,z){N===void 0&&(N=!0),z===void 0&&(z=1),this.randomAnim=N,this.animQuantity=z,this.currentAnim=0;var X=typeof F;if(this.anims.length=0,Array.isArray(F))this.anims=this.anims.concat(F);else if(X==="string")this.anims.push(F);else if(X==="object"){var H=F;F=p(H,"anims",null),F&&(this.anims=this.anims.concat(F));var $=p(H,"cycle",!1);this.randomAnim=!$,this.animQuantity=p(H,"quantity",z)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(F){return F===void 0&&(F=!0),this.radial=F,this},addParticleBounds:function(F,N,z,X,H,$,K,Z){if(typeof F=="object"){var J=F;F=J.x,N=J.y,z=E(J,"w")?J.w:J.width,X=E(J,"h")?J.h:J.height}return this.addParticleProcessor(new k(F,N,z,X,H,$,K,Z))},setParticleSpeed:function(F,N){return N===void 0&&(N=F),this.ops.speedX.onChange(F),F===N?this.ops.speedY.active=!1:this.ops.speedY.onChange(N),this.radial=!0,this},setParticleScale:function(F,N){return F===void 0&&(F=1),N===void 0&&(N=F),this.ops.scaleX.onChange(F),this.ops.scaleY.onChange(N),this},setParticleGravity:function(F,N){return this.gravityX=F,this.gravityY=N,this},setParticleAlpha:function(F){return this.ops.alpha.onChange(F),this},setParticleTint:function(F){return this.ops.tint.onChange(F),this},setEmitterAngle:function(F){return this.ops.angle.onChange(F),this},setParticleLifespan:function(F){return this.ops.lifespan.onChange(F),this},setQuantity:function(F){return this.quantity=F,this},setFrequency:function(F,N){return this.frequency=F,this.flowCounter=F>0?F:0,N&&(this.quantity=N),this},addDeathZone:function(F){Array.isArray(F)||(F=[F]);for(var N,z=this.deathZones,X=0;X<F.length;X++)if(N=F[X],N instanceof h)z.push(N);else if(typeof N.contains=="function")N=new h(N,!0),z.push(N);else{var H=p(N,"type","onEnter"),$=p(N,"source",null);if($&&typeof $.contains=="function"){var K=H==="onEnter";N=new h($,K),z.push(N)}}return N},removeDeathZone:function(F){return b(this.deathZones,F),this},addEmitZone:function(F){Array.isArray(F)||(F=[F]);for(var N,z=this.emitZones,X=[],H=0;H<F.length;H++){if(N=F[H],N instanceof R||N instanceof n)z.push(N);else{var $=p(N,"type","random"),K=p(N,"source",null);if($==="random")N=new R(K);else if($==="edge"){var Z=p(N,"quantity",1),J=p(N,"stepRate",0),j=p(N,"yoyo",!1),Q=p(N,"seamless",!0),tt=p(N,"total",-1);N=new n(K,Z,J,j,Q,tt)}N&&z.push(N)}X.push(N)}return X},removeEmitZone:function(F){return b(this.emitZones,F),this.zoneIndex=0,this},getEmitZone:function(F){var N=this.emitZones,z=N.length;if(z!==0){var X=N[this.zoneIndex];X.getPoint(F),X.total>-1&&(this.zoneTotal++,this.zoneTotal===X.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===z&&(this.zoneIndex=0)))}},getDeathZone:function(F){for(var N=this.deathZones,z=0;z<N.length;z++){var X=N[z];if(X.willKill(F))return this.emit(a.DEATH_ZONE,this,F,X),!0}return!1},setEmitZone:function(F){var N;return isFinite(F)?N=F:N=this.emitZones.indexOf(F),N>=0&&(this.zoneIndex=N),this},addParticleProcessor:function(F){return this.processors.exists(F)||(F.emitter&&F.emitter.removeParticleProcessor(F),this.processors.add(F),F.emitter=this),F},removeParticleProcessor:function(F){return this.processors.exists(F)&&(this.processors.remove(F,!0),F.emitter=null),F},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(F){return this.addParticleProcessor(new m(F))},reserve:function(F){var N=this.dead;if(this.maxParticles>0){var z=this.getParticleCount();z+F>this.maxParticles&&(F=this.maxParticles-(z+F))}for(var X=0;X<F;X++)N.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(F,N){return F===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof F=="function"&&(this.emitCallback=F,N&&(this.emitCallbackScope=N)),this},onParticleDeath:function(F,N){return F===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof F=="function"&&(this.deathCallback=F,N&&(this.deathCallbackScope=N)),this},killAll:function(){for(var F=this.dead,N=this.alive;N.length>0;)F.push(N.pop());return this},forEachAlive:function(F,N){for(var z=this.alive,X=z.length,H=0;H<X;H++)F.call(N,z[H],this);return this},forEachDead:function(F,N){for(var z=this.dead,X=z.length,H=0;H<X;H++)F.call(N,z[H],this);return this},start:function(F,N){return F===void 0&&(F=0),this.emitting||(F>0&&this.fastForward(F),this.emitting=!0,this.resetCounters(this.frequency,!0),N!==void 0&&(this.duration=Math.abs(N)),this.emit(a.START,this)),this},stop:function(F){return F===void 0&&(F=!1),this.emitting&&(this.emitting=!1,F&&this.killAll(),this.emit(a.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(F,N){return F===void 0&&(F=""),N===void 0&&(N=this.true),this.sortProperty=F,this.sortOrderAsc=N,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(F){return this.sortProperty!==""?F=this.depthSortCallback:F=null,this.sortCallback=F,this},depthSort:function(){return I(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(F,N){var z=this.sortProperty;return this.sortOrderAsc?F[z]-N[z]:N[z]-F[z]},flow:function(F,N,z){return N===void 0&&(N=1),this.emitting=!1,this.frequency=F,this.quantity=N,z!==void 0&&(this.stopAfter=z),this.start()},explode:function(F,N,z){this.frequency=-1,this.resetCounters(-1,!0);var X=this.emitParticle(F,N,z);return this.emit(a.EXPLODE,this,X),X},emitParticleAt:function(F,N,z){return this.emitParticle(z,F,N)},emitParticle:function(F,N,z){if(!this.atLimit()){F===void 0&&(F=this.ops.quantity.onEmit());for(var X=this.dead,H=this.stopAfter,$=this.follow?this.follow.x+this.followOffset.x:N,K=this.follow?this.follow.y+this.followOffset.y:z,Z=0;Z<F;Z++){var J=X.pop();if(J||(J=new this.particleClass(this)),J.fire($,K)?(this.particleBringToTop?this.alive.push(J):this.alive.unshift(J),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,J,this)):this.dead.push(J),H>0&&(this.stopCounter++,this.stopCounter>=H)||this.atLimit())break}return J}},fastForward:function(F,N){N===void 0&&(N=1e3/60);var z=0;for(this.skipping=!0;z<Math.abs(F);)this.preUpdate(0,N),z+=N;return this.skipping=!1,this},preUpdate:function(F,N){N*=this.timeScale;var z=N/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var X=this.getProcessors(),H=this.alive,$=this.dead,K=0,Z=[],J=H.length;for(K=0;K<J;K++){var j=H[K];j.update(N,z,X)&&Z.push({index:K,particle:j})}if(J=Z.length,J>0){var Q=this.deathCallback,tt=this.deathCallbackScope;for(K=J-1;K>=0;K--){var _=Z[K];H.splice(_.index,1),$.push(_.particle),Q&&Q.call(tt,_.particle),_.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&H.length===0&&(this.completeFlag=0,this.emit(a.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=N;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=N,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(F){for(var N=this.getWorldTransformMatrix(),z=this.alive,X=z.length,H=[],$=0;$<X;$++){var K=z[$];L(F,K.getBounds(N))&&H.push(K)}return H},getBounds:function(F,N,z,X){F===void 0&&(F=0),N===void 0&&(N=0),z===void 0&&(z=1e3/60),X===void 0&&(X=new O);var H=this.getWorldTransformMatrix(),$,K,Z=this.alive,J=!1;if(X.setTo(0,0,0,0),N>0){var j=0;for(this.skipping=!0;j<Math.abs(N);){for(this.preUpdate(0,z),$=0;$<Z.length;$++)K=Z[$].getBounds(H),J?w(X,K):(J=!0,l(K,X));j+=z}this.skipping=!1}else for($=0;$<Z.length;$++)K=Z[$].getBounds(H),J?w(X,K):(J=!0,l(K,X));return F>0&&P(X,F,F),X},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(F){this.ops.x.onChange(F)}},particleY:{get:function(){return this.ops.y.current},set:function(F){this.ops.y.onChange(F)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(F){this.ops.accelerationX.onChange(F)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(F){this.ops.accelerationY.onChange(F)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(F){this.ops.maxVelocityX.onChange(F)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(F){this.ops.maxVelocityY.onChange(F)}},speed:{get:function(){return this.ops.speedX.current},set:function(F){this.ops.speedX.onChange(F),this.ops.speedY.onChange(F)}},speedX:{get:function(){return this.ops.speedX.current},set:function(F){this.ops.speedX.onChange(F)}},speedY:{get:function(){return this.ops.speedY.current},set:function(F){this.ops.speedY.onChange(F)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(F){this.ops.moveToX.onChange(F)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(F){this.ops.moveToY.onChange(F)}},bounce:{get:function(){return this.ops.bounce.current},set:function(F){this.ops.bounce.onChange(F)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(F){this.ops.scaleX.onChange(F)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(F){this.ops.scaleY.onChange(F)}},particleColor:{get:function(){return this.ops.color.current},set:function(F){this.ops.color.onChange(F)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(F){this.ops.color.setEase(F)}},particleTint:{get:function(){return this.ops.tint.current},set:function(F){this.ops.tint.onChange(F)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(F){this.ops.alpha.onChange(F)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(F){this.ops.lifespan.onChange(F)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(F){this.ops.angle.onChange(F)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(F){this.ops.rotate.onChange(F)}},quantity:{get:function(){return this.ops.quantity.current},set:function(F){this.ops.quantity.onChange(F)}},delay:{get:function(){return this.ops.delay.current},set:function(F){this.ops.delay.onChange(F)}},hold:{get:function(){return this.ops.hold.current},set:function(F){this.ops.hold.onChange(F)}},flowCounter:{get:function(){return this.counters[0]},set:function(F){this.counters[0]=F}},frameCounter:{get:function(){return this.counters[1]},set:function(F){this.counters[1]=F}},animCounter:{get:function(){return this.counters[2]},set:function(F){this.counters[2]=F}},elapsed:{get:function(){return this.counters[3]},set:function(F){this.counters[3]=F}},stopCounter:{get:function(){return this.counters[4]},set:function(F){this.counters[4]=F}},completeFlag:{get:function(){return this.counters[5]},set:function(F){this.counters[5]=F}},zoneIndex:{get:function(){return this.counters[6]},set:function(F){this.counters[6]=F}},zoneTotal:{get:function(){return this.counters[7]},set:function(F){this.counters[7]=F}},currentFrame:{get:function(){return this.counters[8]},set:function(F){this.counters[8]=F}},currentAnim:{get:function(){return this.counters[9]},set:function(F){this.counters[9]=F}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var F,N=this.ops;for(F=0;F<G.length;F++){var z=G[F];N[z].destroy()}for(F=0;F<this.alive.length;F++)this.alive[F].destroy();for(F=0;F<this.dead.length;F++)this.dead[F].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});o.exports=U},10456:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90205),x=e(69360),d=new x,l=new x,h=new x,n=new x,r=function(f,a,c,p){var v=d,m=l,y=h,E=n;p?(E.loadIdentity(),E.multiply(p),E.translate(a.x,a.y),E.rotate(a.rotation),E.scale(a.scaleX,a.scaleY)):E.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var P=f.currentContext,S=c.roundPixels,w=c.alpha,A=a.alpha,R=a.alive,O=R.length,L=a.viewBounds;if(!(!a.visible||O===0||L&&!u(L,c.worldView))){a.sortCallback&&a.depthSort(),c.addToRenderList(a);var b=a.scrollFactorX,D=a.scrollFactorY;P.save(),P.globalCompositeOperation=f.blendModes[a.blendMode];for(var I=0;I<O;I++){var B=R[I],V=B.alpha*A*w;if(!(V<=0||B.scaleX===0||B.scaleY===0)){y.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),v.copyFrom(c.matrix),v.multiplyWithOffset(E,-c.scrollX*b,-c.scrollY*D),y.e=B.x,y.f=B.y,v.multiply(y,m);var Y=B.frame,k=Y.canvasData;if(k.width>0&&k.height>0){var W=-Y.halfWidth,G=-Y.halfHeight;P.globalAlpha=V,P.save(),m.setToContext(P),S&&(W=Math.round(W),G=Math.round(G)),P.imageSmoothingEnabled=!Y.source.scaleMode,P.drawImage(Y.source.image,k.x,k.y,k.width,k.height,W,G,k.width,k.height),P.restore()}}}P.restore()}};o.exports=r},765:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(72632),h=e(9216);x.register("particles",function(n,r){n===void 0&&(n={});var f=d(n,"key",null),a=l(n,"config",null),c=new h(this.scene,0,0,f);return r!==void 0&&(n.add=r),u(this.scene,c,n),a&&c.setConfig(a),c})},81212:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(9216);u.register("particles",function(d,l,h,n){return d!==void 0&&typeof d=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,d,l,h,n))})},69116:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(10275),d=e(10456),o.exports={renderWebGL:x,renderCanvas:d}},10275:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90205),x=e(69360),d=e(75512),l=new x,h=new x,n=new x,r=new x,f=function(a,c,p,v){var m=a.pipelines.set(c.pipeline),y=l,E=h,P=n,S=r;v?(S.loadIdentity(),S.multiply(v),S.translate(c.x,c.y),S.rotate(c.rotation),S.scale(c.scaleX,c.scaleY)):S.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);var w=p.roundPixels,A=d.getTintAppendFloatAlpha,R=p.alpha,O=c.alpha,L=c.frame.glTexture;a.pipelines.preBatch(c);var b=c.alive,D=b.length,I=c.viewBounds;if(!(D===0||I&&!u(I,p.worldView))){c.sortCallback&&c.depthSort();var B=m.setGameObject(c,c.frame);p.addToRenderList(c),y.copyFrom(p.matrix),y.multiplyWithOffset(S,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),a.setBlendMode(c.blendMode),c.mask&&(c.mask.preRenderWebGL(a,c,p),a.pipelines.set(c.pipeline));for(var V=c.tintFill,Y=0;Y<D;Y++){var k=b[Y],W=k.alpha*O*R;if(!(W<=0||k.scaleX===0||k.scaleY===0)){P.applyITRS(k.x,k.y,k.rotation,k.scaleX,k.scaleY),P.e=k.x,P.f=k.y,y.multiply(P,E);var G=k.frame,U=-G.halfWidth,F=-G.halfHeight,N=E.setQuad(U,F,U+G.width,F+G.height,w),z=A(k.tint,W);m.shouldFlush(6)&&(m.flush(),B=m.setGameObject(c,c.frame)),m.batchQuad(c,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],G.u0,G.v0,G.u1,G.v1,z,z,z,z,V,L,B)}}c.mask&&c.mask.postRenderWebGL(a,p),a.pipelines.postBatch(c)}};o.exports=f},30891:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h,n){l===void 0&&(l=0),h===void 0&&(h=0),n===void 0&&(n=!0),this.emitter,this.x=l,this.y=h,this.active=n},update:function(){},destroy:function(){this.emitter=null}});o.exports=x},76100:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},26677:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="deathzone"},62736:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="explode"},56490:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},85715:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stop"},40629:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={COMPLETE:e(76100),DEATH_ZONE:e(26677),EXPLODE:e(62736),START:e(56490),STOP:e(85715)}},27684:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={EmitterColorOp:e(19737),EmitterOp:e(93025),Events:e(40629),GravityWell:e(87811),Particle:e(14909),ParticleBounds:e(73106),ParticleEmitter:e(9216),ParticleProcessor:e(30891),Zones:e(25962)}},69361:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h){this.source=l,this.killOnEnter=h},willKill:function(d){var l=d.worldPosition,h=this.source.contains(l.x,l.y);return h&&this.killOnEnter||!h&&!this.killOnEnter}});o.exports=x},54213:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h,n,r,f,a){r===void 0&&(r=!1),f===void 0&&(f=!0),a===void 0&&(a=-1),this.source=l,this.points=[],this.quantity=h,this.stepRate=n,this.yoyo=r,this.counter=-1,this.seamless=f,this._length=0,this._direction=0,this.total=a,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var d=this.points[0],l=this.points[this.points.length-1];d.x===l.x&&d.y===l.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(d){return this.source=d,this.updateSource()},getPoint:function(d){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var l=this.points[this.counter];l&&(d.x=l.x,d.y=l.y)}});o.exports=x},68433:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(93736),d=new u({initialize:function(h){this.source=h,this._tempVec=new x,this.total=-1},getPoint:function(l){var h=this._tempVec;this.source.getRandomPoint(h),l.x=h.x,l.y=h.y}});o.exports=d},25962:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DeathZone:e(69361),EdgeZone:e(54213),RandomZone:e(68433)}},29598:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(13747),l=new u({Extends:d,Mixins:[x.PathFollower],initialize:function(n,r,f,a,c,p){d.call(this,n,f,a,c,p),this.path=r},preUpdate:function(h,n){this.anims.update(h,n),this.pathUpdate(h)}});o.exports=l},19626:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(29598);u.register("follower",function(d,l,h,n,r){var f=new x(this.scene,d,l,h,n,r);return this.displayList.add(f),this.updateList.add(f),f})},33412:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16569),x=e(56694),d=e(99425),l=e(15978),h=e(83321),n=e(76583),r=new x({Extends:h,initialize:function(a,c,p,v,m,y,E,P){v||(v="__DEFAULT"),h.call(this,a,c,p,v,m),this.type="Plane",this.anims=new u(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(y,E,P),this.setSizeToFrame(!1),this.setViewHeight()},setGridSize:function(f,a,c){f===void 0&&(f=8),a===void 0&&(a=8),c===void 0&&(c=!1);var p=!1;return c&&(p=!0),this.gridWidth=f,this.gridHeight=a,this.isTiled=c,this.clear(),d({mesh:this,widthSegments:f,heightSegments:a,isOrtho:!1,tile:c,flipY:p}),this},setSizeToFrame:function(f){f===void 0&&(f=!0);var a=this.frame;if(this.setPerspective(this.width/a.width,this.height/a.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!f)return this;var c=this.gridWidth,p=this.gridHeight,v=this.vertices,m=a.u0,y=a.u1,E=a.v0,P=a.v1,S,w,A=0;if(this.isTiled)for(E=a.v1,P=a.v0,w=0;w<p;w++)for(S=0;S<c;S++)v[A++].setUVs(m,P),v[A++].setUVs(m,E),v[A++].setUVs(y,P),v[A++].setUVs(m,E),v[A++].setUVs(y,E),v[A++].setUVs(y,P);else{var R=c+1,O=p+1,L=y-m,b=P-E,D=[];for(w=0;w<O;w++)for(S=0;S<R;S++){var I=m+L*(S/c),B=E+b*(w/p);D.push(I,B)}for(w=0;w<p;w++)for(S=0;S<c;S++){var V=(S+R*w)*2,Y=(S+R*(w+1))*2,k=(S+1+R*(w+1))*2,W=(S+1+R*w)*2;v[A++].setUVs(D[V],D[V+1]),v[A++].setUVs(D[Y],D[Y+1]),v[A++].setUVs(D[W],D[W+1]),v[A++].setUVs(D[Y],D[Y+1]),v[A++].setUVs(D[k],D[k+1]),v[A++].setUVs(D[W],D[W+1])}}return this},setViewHeight:function(f){f===void 0&&(f=this.frame.height);var a=this.fov*(Math.PI/180);this.viewPosition.z=this.height/f/Math.tan(a/2),this.dirtyCache[10]=1},createCheckerboard:function(f,a,c,p,v){f===void 0&&(f=16777215),a===void 0&&(a=255),c===void 0&&(c=255),p===void 0&&(p=255),v===void 0&&(v=128);var m=this.scene.sys.renderer.gl,y=m.createTexture();m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,y),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);for(var E=l(f),P=l(a),S=[],w=0;w<16;w++)for(var A=0;A<16;A++)w<8&&A<8||w>7&&A>7?S.push(E.r,E.g,E.b,c):S.push(P.r,P.g,P.b,p);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,16,16,0,m.RGBA,m.UNSIGNED_BYTE,new Uint8Array(S)),y.isAlphaPremultiplied=!0,y.isRenderTexture=!1,y.width=16,y.height=16;var R=this.scene.sys.textures.addGLTexture(n(),y,16,16);return this.removeCheckerboard(),this._checkerboard=R,m.bindTexture(m.TEXTURE_2D,null),this.setTexture(R),this.setSizeToFrame(),this.setViewHeight(v),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(f,a){return this.anims.play(f,a)},playReverse:function(f,a){return this.anims.playReverse(f,a)},playAfterDelay:function(f,a){return this.anims.playAfterDelay(f,a)},playAfterRepeat:function(f,a){return this.anims.playAfterRepeat(f,a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},preUpdate:function(f,a){h.prototype.preUpdate.call(this,f,a),this.anims.update(f,a)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});o.exports=r},10912:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(32291),d=e(99325),l=e(20494),h=e(10850),n=e(33412);d.register("plane",function(r,f){r===void 0&&(r={});var a=l(r,"key",null),c=l(r,"frame",null),p=h(r,"width",8),v=h(r,"height",8),m=h(r,"tile",!1),y=new n(this.scene,0,0,a,c,p,v,m);f!==void 0&&(r.add=f);var E=h(r,"checkerboard",null);if(E){var P=h(E,"color1",16777215),S=h(E,"color2",255),w=h(E,"alpha1",255),A=h(E,"alpha2",255),R=h(E,"height",128);y.createCheckerboard(P,S,w,A,R)}return u(this.scene,y,r),x(y,r),y})},58322:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(33412),x=e(61286);x.register("plane",function(d,l,h,n,r,f,a){return this.displayList.add(new u(this.scene,d,l,h,n,r,f,a))})},13171:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(89980),l=e(74853),h=e(65641),n=e(71606),r=new u({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,n],initialize:function(a,c,p,v,m,y,E){v===void 0&&(v=16777215),m===void 0&&(m=128),y===void 0&&(y=1),E===void 0&&(E=.1),d.call(this,a,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(c,p),this.color=l(v),this.intensity=y,this.attenuation=E,this.width=m*2,this.height=m*2,this._radius=m},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this.width=f*2,this.height=f*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});o.exports=r},162:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(13171);x.register("pointlight",function(h,n){h===void 0&&(h={});var r=d(h,"color",16777215),f=d(h,"radius",128),a=d(h,"intensity",1),c=d(h,"attenuation",.1),p=new l(this.scene,0,0,r,f,a,c);return n!==void 0&&(h.add=n),u(this.scene,p,h),p})},91201:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(13171);u.register("pointlight",function(d,l,h,n,r,f){return this.displayList.add(new x(this.scene,d,l,h,n,r,f))})},71606:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(80590),o.exports={renderWebGL:x,renderCanvas:d}},80590:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=function(d,l,h,n){h.addToRenderList(l);var r=d.pipelines.set(l.pipeline),f=u(l,h,n).calc,a=l.width,c=l.height,p=-l._radius,v=-l._radius,m=p+a,y=v+c,E=f.getX(0,0),P=f.getY(0,0),S=f.getX(p,v),w=f.getY(p,v),A=f.getX(p,y),R=f.getY(p,y),O=f.getX(m,y),L=f.getY(m,y),b=f.getX(m,v),D=f.getY(m,v);d.pipelines.preBatch(l),r.batchPointLight(l,h,S,w,A,R,O,L,b,D,E,P),d.pipelines.postBatch(l)};o.exports=x},15996:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(845),d=e(1539),l=new u({Extends:d,initialize:function(n,r,f,a,c){r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=32),c===void 0&&(c=32);var p=new x(n.sys.textures,"",a,c);d.call(this,n,r,f,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(h,n){this.width=h,this.height=n,this.texture.setSize(h,n),this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=h,r.hitArea.height=n),this},resize:function(h,n){return this.setSize(h,n),this},saveTexture:function(h){var n=this.texture;return n.key=h,n.manager.addDynamicTexture(n)&&(this._saved=!0),n},fill:function(h,n,r,f,a,c){return this.texture.fill(h,n,r,f,a,c),this},clear:function(){return this.texture.clear(),this},stamp:function(h,n,r,f,a){return this.texture.stamp(h,n,r,f,a),this},erase:function(h,n,r){return this.texture.erase(h,n,r),this},draw:function(h,n,r,f,a){return this.texture.draw(h,n,r,f,a),this},drawFrame:function(h,n,r,f,a,c){return this.texture.drawFrame(h,n,r,f,a,c),this},repeat:function(h,n,r,f,a,c,p,v,m){return this.texture.repeat(h,n,r,f,a,c,p,v,m),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(h,n,r,f,a){return this.texture.batchDraw(h,n,r,f,a),this},batchDrawFrame:function(h,n,r,f,a,c){return this.texture.batchDrawFrame(h,n,r,f,a,c),this},endDraw:function(h){return this.texture.endDraw(h),this},snapshotArea:function(h,n,r,f,a,c,p){return this.texture.snapshotArea(h,n,r,f,a,c,p),this},snapshot:function(h,n,r){return this.snapshotArea(0,0,this.width,this.height,h,n,r)},snapshotPixel:function(h,n,r){return this.snapshotArea(h,n,1,1,r,"pixel")},preDestroy:function(){this._saved||this.texture.destroy()}});o.exports=l},85692:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(15996);x.register("renderTexture",function(h,n){h===void 0&&(h={});var r=d(h,"x",0),f=d(h,"y",0),a=d(h,"width",32),c=d(h,"height",32),p=new l(this.scene,r,f,a,c);return n!==void 0&&(h.add=n),u(this.scene,p,h),p})},29599:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(15996);u.register("renderTexture",function(d,l,h,n){return this.displayList.add(new x(this.scene,d,l,h,n))})},79968:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16569),x=e(56694),d=e(64937),l=e(89980),h=e(65641),n=e(58912),r=e(93736),f=new x({Extends:l,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Flip,d.Mask,d.Pipeline,d.PostPipeline,d.Size,d.Texture,d.Transform,d.Visible,d.ScrollFactor,n],initialize:function(c,p,v,m,y,E,P,S,w){m===void 0&&(m="__DEFAULT"),E===void 0&&(E=2),P===void 0&&(P=!0),l.call(this,c,"Rope"),this.anims=new u(this),this.points=E,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=m==="__DEFAULT",this.dirty=!1,this.horizontal=P,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(m,y),this.setPosition(p,v),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),Array.isArray(E)&&this.resizeArrays(E.length),this.setPoints(E,S,w),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,c){var p=this.anims.currentFrame;this.anims.update(a,c),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(a,c,p){return this.anims.play(a,c,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(a,c,p){return a===void 0&&(a=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(a,c,p))},setVertical:function(a,c,p){return a===void 0&&(a=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(a,c,p)):this},setTintFill:function(a){return a===void 0&&(a=!1),this.tintFill=a,this},setAlphas:function(a,c){var p=this.points.length;if(p<1)return this;var v=this.alphas;a===void 0?a=[1]:!Array.isArray(a)&&c===void 0&&(a=[a]);var m,y=0;if(c!==void 0)for(m=0;m<p;m++)y=m*2,v[y]=a,v[y+1]=c;else if(a.length===p)for(m=0;m<p;m++)y=m*2,v[y]=a[m],v[y+1]=a[m];else{var E=a[0];for(m=0;m<p;m++)y=m*2,a.length>y&&(E=a[y]),v[y]=E,a.length>y+1&&(E=a[y+1]),v[y+1]=E}return this},setColors:function(a){var c=this.points.length;if(c<1)return this;var p=this.colors;a===void 0?a=[16777215]:Array.isArray(a)||(a=[a]);var v,m=0;if(a.length===c)for(v=0;v<c;v++)m=v*2,p[m]=a[v],p[m+1]=a[v];else{var y=a[0];for(v=0;v<c;v++)m=v*2,a.length>m&&(y=a[m]),p[m]=y,a.length>m+1&&(y=a[m+1]),p[m+1]=y}return this},setPoints:function(a,c,p){if(a===void 0&&(a=2),typeof a=="number"){var v=a;v<2&&(v=2),a=[];var m,y,E;if(this.horizontal)for(E=-this.frame.halfWidth,y=this.frame.width/(v-1),m=0;m<v;m++)a.push({x:E+m*y,y:0});else for(E=-this.frame.halfHeight,y=this.frame.height/(v-1),m=0;m<v;m++)a.push({x:0,y:E+m*y})}var P=a.length,S=this.points.length;return P<1?(console.warn("Rope: Not enough points given"),this):(P===1&&(a.unshift({x:0,y:0}),P++),S!==P&&this.resizeArrays(P),this.dirty=!0,this.points=a,this.updateUVs(),c!=null&&this.setColors(c),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var a=this.uv,c=this.points.length,p=this.frame.u0,v=this.frame.v0,m=this.frame.u1,y=this.frame.v1,E=(m-p)/(c-1),P=(y-v)/(c-1),S=0;S<c;S++){var w=S*4,A,R,O,L;this.horizontal?(this._flipX?(A=m-S*E,O=m-S*E):(A=p+S*E,O=p+S*E),this._flipY?(R=y,L=v):(R=v,L=y)):(this._flipX?(A=p,O=m):(A=m,O=p),this._flipY?(R=y-S*P,L=y-S*P):(R=v+S*P,L=v+S*P)),a[w+0]=A,a[w+1]=R,a[w+2]=O,a[w+3]=L}return this},resizeArrays:function(a){var c=this.colors,p=this.alphas;this.vertices=new Float32Array(a*4),this.uv=new Float32Array(a*4),c=new Uint32Array(a*2),p=new Float32Array(a*2);for(var v=0;v<a*2;v++)c[v]=16777215,p[v]=1;return this.colors=c,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var a=this._perp,c=this.points,p=this.vertices,v=c.length;if(this.dirty=!1,!(v<1)){for(var m,y=c[0],E=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,P=0;P<v;P++){var S=c[P],w=P*4;P<v-1?m=c[P+1]:m=S,a.x=m.y-y.y,a.y=-(m.x-y.x);var A=a.length();a.x/=A,a.y/=A,a.x*=E,a.y*=E,p[w]=S.x+a.x,p[w+1]=S.y+a.y,p[w+2]=S.x-a.x,p[w+3]=S.y-a.y,y=S}return this}},setDebug:function(a,c){return this.debugGraphic=a,!a&&!c?this.debugCallback=null:c?this.debugCallback=c:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(a,c,p){var v=a.debugGraphic,m=p[0],y=p[1],E=p[2],P=p[3];v.lineBetween(m,y,E,P);for(var S=4;S<c;S+=4){var w=p[S+0],A=p[S+1],R=p[S+2],O=p[S+3];v.lineBetween(m,y,w,A),v.lineBetween(E,P,R,O),v.lineBetween(E,P,w,A),v.lineBetween(w,A,R,O),m=w,y=A,E=R,P=O}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(a){return this._flipX=a,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(a){return this._flipY=a,this.updateUVs()}}});o.exports=f},44598:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};o.exports=T},96027:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(10850),h=e(79968);x.register("rope",function(n,r){n===void 0&&(n={});var f=d(n,"key",null),a=d(n,"frame",null),c=d(n,"horizontal",!0),p=l(n,"points",void 0),v=l(n,"colors",void 0),m=l(n,"alphas",void 0),y=new h(this.scene,0,0,f,a,p,c,v,m);return r!==void 0&&(n.add=r),u(this.scene,y,n),y})},31982:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79968),x=e(61286);x.register("rope",function(d,l,h,n,r,f,a,c){return this.displayList.add(new u(this.scene,d,l,h,n,r,f,a,c))})},58912:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(49489),d=e(44598),o.exports={renderWebGL:x,renderCanvas:d}},49489:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=e(75512),d=function(l,h,n,r){n.addToRenderList(h);var f=l.pipelines.set(h.pipeline,h),a=u(h,n,r).calc,c=h.vertices,p=h.uv,v=h.colors,m=h.alphas,y=h.alpha,E=x.getTintAppendFloatAlpha,P=n.roundPixels,S=c.length,w=Math.floor(S*.5);f.flush(),l.pipelines.preBatch(h);var A=f.setGameObject(h),R=f.vertexViewF32,O=f.vertexViewU32,L=f.vertexCount*f.currentShader.vertexComponentCount-1,b=0,D=h.tintFill;h.dirty&&h.updateVertices();for(var I=h.debugCallback,B=[],V=0;V<S;V+=2){var Y=c[V+0],k=c[V+1],W=Y*a.a+k*a.c+a.e,G=Y*a.b+k*a.d+a.f;P&&(W=Math.round(W),G=Math.round(G)),R[++L]=W,R[++L]=G,R[++L]=p[V+0],R[++L]=p[V+1],R[++L]=A,R[++L]=D,O[++L]=E(v[b],n.alpha*(m[b]*y)),b++,I&&(B[V+0]=W,B[V+1]=G)}I&&I.call(h,h,S,B),f.vertexCount+=w,f.currentBatch.count=f.vertexCount-f.currentBatch.start,l.pipelines.postBatch(h)};o.exports=d},27902:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(89980),l=e(72632),h=e(98611),n=e(22440),r=e(24252),f=e(69360),a=new u({Extends:d,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,r],initialize:function(p,v,m,y,E,P,S,w){m===void 0&&(m=0),y===void 0&&(y=0),E===void 0&&(E=128),P===void 0&&(P=128),d.call(this,p,"Shader"),this.blendMode=-1,this.shader;var A=p.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(m,y),this.setSize(E,P),this.setOrigin(.5,.5),this.setShader(v,S,w)},willRender:function(c){return this.renderToTexture?!0:!(d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,p){if(p===void 0&&(p=!1),!this.renderToTexture){var v=this.width,m=this.height,y=this.renderer;this.glTexture=y.createTextureFromSource(null,v,m,0),this.glTexture.flipY=p,this.framebuffer=y.createFramebuffer(v,m,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=m,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture,v,m))}return this.shader&&(y.pipelines.clear(),this.load(),this.flush(),y.pipelines.rebind()),this},setShader:function(c,p,v){if(p===void 0&&(p=[]),typeof c=="string"){var m=this.scene.sys.cache.shader;if(!m.has(c))return console.warn("Shader missing: "+c),this;this.shader=m.get(c)}else this.shader=c;var y=this.gl,E=this.renderer;this.program&&y.deleteProgram(this.program);var P=E.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);y.uniformMatrix4fv(y.getUniformLocation(P,"uViewMatrix"),!1,this.viewMatrix),y.uniformMatrix4fv(y.getUniformLocation(P,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(P,"uResolution"),this.width,this.height),this.program=P;var S=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[S.getFullYear(),S.getMonth(),S.getDate(),S.getHours()*60*60+S.getMinutes()*60+S.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=h(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var A=0;A<4;A++)p[A]&&this.setSampler2D("iChannel"+A,p[A],A,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,p,v,m){var y=-1e3,E=1e3,P=1/(c-p),S=1/(v-m),w=1/(y-E),A=this.projectionMatrix;A[0]=-2*P,A[5]=-2*S,A[10]=2*w,A[12]=(c+p)*P,A[13]=(m+v)*S,A[14]=(E+y)*w;var R=this.program,O=this.gl,L=this.renderer;L.setProgram(R),O.uniformMatrix4fv(O.getUniformLocation(R,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=p,this._rendererHeight=v},initUniforms:function(){var c=this.gl,p=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var m in this.uniforms){var y=this.uniforms[m],E=y.type,P=p[E];y.uniformLocation=c.getUniformLocation(v,m),E!=="sampler2D"&&(y.glMatrix=P.matrix,y.glValueLength=P.length,y.glFunc=P.func)}},setSampler2DBuffer:function(c,p,v,m,y,E){y===void 0&&(y=0),E===void 0&&(E={});var P=this.uniforms[c];return P.value=p,E.width=v,E.height=m,P.textureData=E,this._textureCount=y,this.initSampler2D(P),this},setSampler2D:function(c,p,v,m){v===void 0&&(v=0);var y=this.scene.sys.textures;if(y.exists(p)){var E=y.getFrame(p);if(E.glTexture&&E.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,E.glTexture,E.width,E.height,v,m);var P=this.uniforms[c],S=E.source;P.textureKey=p,P.source=S.image,P.value=E.glTexture,S.isGLTexture&&(m||(m={}),m.width=S.width,m.height=S.height),m&&(P.textureData=m),this._textureCount=v,this.initSampler2D(P)}return this},setUniform:function(c,p){return n(this.uniforms,c,p),this},getUniform:function(c){return l(this.uniforms,c,null)},setChannel0:function(c,p){return this.setSampler2D("iChannel0",c,0,p)},setChannel1:function(c,p){return this.setSampler2D("iChannel1",c,1,p)},setChannel2:function(c,p){return this.setSampler2D("iChannel2",c,2,p)},setChannel3:function(c,p){return this.setSampler2D("iChannel3",c,3,p)},initSampler2D:function(c){if(!!c.value){var p=this.gl;p.activeTexture(p.TEXTURE0+this._textureCount),p.bindTexture(p.TEXTURE_2D,c.value);var v=c.textureData;if(v&&!c.value.isRenderTexture){var m=p[l(v,"magFilter","linear").toUpperCase()],y=p[l(v,"minFilter","linear").toUpperCase()],E=p[l(v,"wrapS","repeat").toUpperCase()],P=p[l(v,"wrapT","repeat").toUpperCase()],S=p[l(v,"format","rgba").toUpperCase()];if(v.repeat&&(E=p.REPEAT,P=p.REPEAT),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,!!v.flipY),v.width){var w=l(v,"width",512),A=l(v,"height",2),R=l(v,"border",0);p.texImage2D(p.TEXTURE_2D,0,S,w,A,R,S,p.UNSIGNED_BYTE,null)}else p.texImage2D(p.TEXTURE_2D,0,S,p.RGBA,p.UNSIGNED_BYTE,c.source);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,m),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,y),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,E),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,P)}this.renderer.setProgram(this.program),p.uniform1i(c.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var c=this.gl,p=this.uniforms,v,m,y,E,P,S=0;for(var w in p)v=p[w],y=v.glFunc,m=v.glValueLength,E=v.uniformLocation,P=v.value,P!==null&&(m===1?v.glMatrix?y.call(c,E,v.transpose,P):y.call(c,E,P):m===2?y.call(c,E,P.x,P.y):m===3?y.call(c,E,P.x,P.y,P.z):m===4?y.call(c,E,P.x,P.y,P.z,P.w):v.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+S),c.bindTexture(c.TEXTURE_2D,P),c.uniform1i(E,S),S++))},load:function(c){var p=this.gl,v=this.width,m=this.height,y=this.renderer,E=this.program,P=this.viewMatrix;if(!this.renderToTexture){var S=-this._displayOriginX,w=-this._displayOriginY;P[0]=c[0],P[1]=c[1],P[4]=c[2],P[5]=c[3],P[8]=c[4],P[9]=c[5],P[12]=P[0]*S+P[4]*w,P[13]=P[1]*S+P[5]*w}p.useProgram(E),p.uniformMatrix4fv(p.getUniformLocation(E,"uViewMatrix"),!1,P),p.uniform2f(p.getUniformLocation(E,"uResolution"),this.width,this.height);var A=this.uniforms,R=A.resolution;R.value.x=v,R.value.y=m,A.time.value=y.game.loop.getDuration();var O=this.pointer;if(O){var L=A.mouse,b=O.x/v,D=1-O.y/m;L.value.x=b.toFixed(2),L.value.y=D.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,p=this.height,v=this.program,m=this.gl,y=this.vertexBuffer,E=this.renderer,P=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(E.setFramebuffer(this.framebuffer),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT)),m.bindBuffer(m.ARRAY_BUFFER,y);var S=m.getAttribLocation(v,"inPosition");S!==-1&&(m.enableVertexAttribArray(S),m.vertexAttribPointer(S,2,m.FLOAT,!1,P,0));var w=this.vertexViewF32;w[3]=p,w[4]=c,w[5]=p,w[8]=c,w[9]=p,w[10]=c;var A=6;m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,A*P)),m.drawArrays(m.TRIANGLES,0,A),this.renderToTexture&&E.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var c=this.gl;c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});o.exports=a},10612:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};o.exports=T},13908:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(27902);x.register("shader",function(h,n){h===void 0&&(h={});var r=d(h,"key",null),f=d(h,"x",0),a=d(h,"y",0),c=d(h,"width",128),p=d(h,"height",128),v=new l(this.scene,r,f,a,c,p);return n!==void 0&&(h.add=n),u(this.scene,v,h),v})},51979:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27902),x=e(61286);x.register("shader",function(d,l,h,n,r,f,a){return this.displayList.add(new u(this.scene,d,l,h,n,r,f,a))})},24252:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(19782),d=e(10612),o.exports={renderWebGL:x,renderCanvas:d}},19782:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=function(d,l,h,n){if(!!l.shader){if(h.addToRenderList(l),d.pipelines.clear(),l.renderToTexture)l.load(),l.flush();else{var r=u(l,h,n).calc;(d.width!==l._rendererWidth||d.height!==l._rendererHeight)&&l.projOrtho(0,d.width,d.height,0),l.load(r.matrix),l.flush()}d.pipelines.rebind()}};o.exports=x},19543:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75512),x=function(d,l,h,n,r,f){for(var a=u.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*n),c=h.pathData,p=h.pathIndexes,v=0;v<p.length;v+=3){var m=p[v]*2,y=p[v+1]*2,E=p[v+2]*2,P=c[m+0]-r,S=c[m+1]-f,w=c[y+0]-r,A=c[y+1]-f,R=c[E+0]-r,O=c[E+1]-f,L=l.getX(P,S),b=l.getY(P,S),D=l.getX(w,A),I=l.getY(w,A),B=l.getX(R,O),V=l.getY(R,O);d.batchTri(h,L,b,D,I,B,V,0,0,1,1,a,a,a,2)}};o.exports=x},15608:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=x||u.fillColor,h=d||u.fillAlpha,n=(l&16711680)>>>16,r=(l&65280)>>>8,f=l&255;e.fillStyle="rgba("+n+","+r+","+f+","+h+")"};o.exports=T},17876:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=x||u.strokeColor,h=d||u.strokeAlpha,n=(l&16711680)>>>16,r=(l&65280)>>>8,f=l&255;e.strokeStyle="rgba("+n+","+r+","+f+","+h+")",e.lineWidth=u.lineWidth};o.exports=T},91461:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(89980),l=e(88829),h=new u({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(r,f,a){f===void 0&&(f="Shape"),d.call(this,r,f),this.geom=a,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new l,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(n,r){return r===void 0&&(r=1),n===void 0?this.isFilled=!1:(this.fillColor=n,this.fillAlpha=r,this.isFilled=!0),this},setStrokeStyle:function(n,r,f){return f===void 0&&(f=1),n===void 0?this.isStroked=!1:(this.lineWidth=n,this.strokeColor=r,this.strokeAlpha=f,this.isStroked=!0),this},setClosePath:function(n){return this.closePath=n,this},setSize:function(n,r){return this.width=n,this.height=r,this},setDisplaySize:function(n,r){return this.displayWidth=n,this.displayHeight=r,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}}});o.exports=h},50262:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75512),x=function(d,l,h,n,r){var f=d.strokeTint,a=u.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*h);f.TL=a,f.TR=a,f.BL=a,f.BR=a;var c=l.pathData,p=c.length-1,v=l.lineWidth,m=v/2,y=c[0]-n,E=c[1]-r;l.closePath||(p-=2);for(var P=2;P<p;P+=2){var S=c[P]-n,w=c[P+1]-r;d.batchLine(y,E,S,w,m,m,v,P-2,l.closePath?P===p-1:!1),y=S,E=w}};o.exports=x},28593:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2213),x=e(56694),d=e(75606),l=e(11117),h=e(26673),n=e(83392),r=e(91461),f=new x({Extends:r,Mixins:[u],initialize:function(c,p,v,m,y,E,P,S,w){p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=128),y===void 0&&(y=0),E===void 0&&(E=360),P===void 0&&(P=!1),r.call(this,c,"Arc",new h(0,0,m)),this._startAngle=y,this._endAngle=E,this._anticlockwise=P,this._iterations=.01,this.setPosition(p,v);var A=this.geom.radius*2;this.setSize(A,A),S!==void 0&&this.setFillStyle(S,w),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(a){this._iterations=a,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(a){this.geom.radius=a;var c=a*2;this.setSize(c,c),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(a){this._startAngle=a,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(a){this._endAngle=a,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(a){this._anticlockwise=a,this.updateData()}},setRadius:function(a){return this.radius=a,this},setIterations:function(a){return a===void 0&&(a=.01),this.iterations=a,this},setStartAngle:function(a,c){return this._startAngle=a,c!==void 0&&(this._anticlockwise=c),this.updateData()},setEndAngle:function(a,c){return this._endAngle=a,c!==void 0&&(this._anticlockwise=c),this.updateData()},updateData:function(){var a=this._iterations,c=a,p=this.geom.radius,v=d(this._startAngle),m=d(this._endAngle),y=this._anticlockwise,E=p,P=p;m-=v,y?m<-n.PI2?m=-n.PI2:m>0&&(m=-n.PI2+m%n.PI2):m>n.PI2?m=n.PI2:m<0&&(m=n.PI2+m%n.PI2);for(var S=[E+Math.cos(v)*p,P+Math.sin(v)*p],w;c<1;)w=m*c+v,S.push(E+Math.cos(w)*p,P+Math.sin(w)*p),c+=a;return w=m+v,S.push(E+Math.cos(w)*p,P+Math.sin(w)*p),S.push(E+Math.cos(v)*p,P+Math.sin(v)*p),this.pathIndexes=l(S),this.pathData=S,this}});o.exports=f},23560:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75606),x=e(15608),d=e(17876),l=e(49584),h=function(n,r,f,a){f.addToRenderList(r);var c=n.currentContext;if(l(n,c,r,f,a)){var p=r.radius;c.beginPath(),c.arc(p-r.originX*(p*2),p-r.originY*(p*2),p,u(r._startAngle),u(r._endAngle),r.anticlockwise),r.closePath&&c.closePath(),r.isFilled&&(x(c,r),c.fill()),r.isStroked&&(d(c,r),c.stroke()),c.restore()}};o.exports=h},10369:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28593),x=e(61286);x.register("arc",function(d,l,h,n,r,f,a,c){return this.displayList.add(new u(this.scene,d,l,h,n,r,f,a,c))}),x.register("circle",function(d,l,h,n,r){return this.displayList.add(new u(this.scene,d,l,h,0,360,!1,n,r))})},2213:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(58356),d=e(23560),o.exports={renderWebGL:x,renderCanvas:d}},58356:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=e(19543),d=e(50262),l=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),c=u(n,r,f),p=a.calcMatrix.copyFrom(c.calc),v=n._displayOriginX,m=n._displayOriginY,y=r.alpha*n.alpha;h.pipelines.preBatch(n),n.isFilled&&x(a,p,n,y,v,m),n.isStroked&&d(a,n,y,v,m),h.pipelines.postBatch(n)};o.exports=l},15220:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(87203),d=e(11117),l=e(74118),h=e(91461),n=new u({Extends:h,Mixins:[x],initialize:function(f,a,c,p,v,m){a===void 0&&(a=0),c===void 0&&(c=0),h.call(this,f,"Curve",p),this._smoothness=32,this._curveBounds=new l,this.closePath=!1,this.setPosition(a,c),v!==void 0&&this.setFillStyle(v,m),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){var r=this._curveBounds,f=this._smoothness;this.geom.getBounds(r,f),this.setSize(r.width,r.height),this.updateDisplayOrigin();for(var a=[],c=this.geom.getPoints(f),p=0;p<c.length;p++)a.push(c[p].x,c[p].y);return a.push(c[0].x,c[0].y),this.pathIndexes=d(a),this.pathData=a,this}});o.exports=n},4024:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),x=e(17876),d=e(49584),l=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var c=n._displayOriginX+n._curveBounds.x,p=n._displayOriginY+n._curveBounds.y,v=n.pathData,m=v.length-1,y=v[0]-c,E=v[1]-p;a.beginPath(),a.moveTo(y,E),n.closePath||(m-=2);for(var P=2;P<m;P+=2){var S=v[P]-c,w=v[P+1]-p;a.lineTo(S,w)}n.closePath&&a.closePath(),n.isFilled&&(u(a,n),a.fill()),n.isStroked&&(x(a,n),a.stroke()),a.restore()}};o.exports=l},10147:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(15220);u.register("curve",function(d,l,h,n,r){return this.displayList.add(new x(this.scene,d,l,h,n,r))})},87203:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(82958),d=e(4024),o.exports={renderWebGL:x,renderCanvas:d}},82958:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19543),x=e(73329),d=e(50262),l=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),c=x(n,r,f),p=a.calcMatrix.copyFrom(c.calc),v=n._displayOriginX+n._curveBounds.x,m=n._displayOriginY+n._curveBounds.y,y=r.alpha*n.alpha;h.pipelines.preBatch(n),n.isFilled&&u(a,p,n,y,v,m),n.isStroked&&d(a,n,y,v,m),h.pipelines.postBatch(n)};o.exports=l},28591:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(11117),d=e(84171),l=e(95669),h=e(91461),n=new u({Extends:h,Mixins:[d],initialize:function(f,a,c,p,v,m,y){a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=128),v===void 0&&(v=128),h.call(this,f,"Ellipse",new l(p/2,v/2,p,v)),this._smoothness=64,this.setPosition(a,c),this.width=p,this.height=v,m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSize:function(r,f){return this.width=r,this.height=f,this.geom.setPosition(r/2,f/2),this.geom.setSize(r,f),this.updateData()},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){for(var r=[],f=this.geom.getPoints(this._smoothness),a=0;a<f.length;a++)r.push(f[a].x,f[a].y);return r.push(f[0].x,f[0].y),this.pathIndexes=x(r),this.pathData=r,this}});o.exports=n},55881:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),x=e(17876),d=e(49584),l=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var c=n._displayOriginX,p=n._displayOriginY,v=n.pathData,m=v.length-1,y=v[0]-c,E=v[1]-p;a.beginPath(),a.moveTo(y,E),n.closePath||(m-=2);for(var P=2;P<m;P+=2){var S=v[P]-c,w=v[P+1]-p;a.lineTo(S,w)}a.closePath(),n.isFilled&&(u(a,n),a.fill()),n.isStroked&&(x(a,n),a.stroke()),a.restore()}};o.exports=l},99869:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28591),x=e(61286);x.register("ellipse",function(d,l,h,n,r,f){return this.displayList.add(new u(this.scene,d,l,h,n,r,f))})},84171:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(17554),d=e(55881),o.exports={renderWebGL:x,renderCanvas:d}},17554:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19543),x=e(73329),d=e(50262),l=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),c=x(n,r,f),p=a.calcMatrix.copyFrom(c.calc),v=n._displayOriginX,m=n._displayOriginY,y=r.alpha*n.alpha;h.pipelines.preBatch(n),n.isFilled&&u(a,p,n,y,v,m),n.isStroked&&d(a,n,y,v,m),h.pipelines.postBatch(n)};o.exports=l},39169:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(91461),d=e(88059),l=new u({Extends:x,Mixins:[d],initialize:function(n,r,f,a,c,p,v,m,y,E,P){r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=128),c===void 0&&(c=128),p===void 0&&(p=32),v===void 0&&(v=32),x.call(this,n,"Grid",null),this.cellWidth=p,this.cellHeight=v,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(r,f),this.setSize(a,c),this.setFillStyle(m,y),E!==void 0&&this.setOutlineStyle(E,P),this.updateDisplayOrigin()},setFillStyle:function(h,n){return n===void 0&&(n=1),h===void 0?this.showCells=!1:(this.fillColor=h,this.fillAlpha=n,this.showCells=!0),this},setAltFillStyle:function(h,n){return n===void 0&&(n=1),h===void 0?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=n,this.showAltCells=!0),this},setOutlineStyle:function(h,n){return n===void 0&&(n=1),h===void 0?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=n,this.showOutline=!0),this}});o.exports=l},95525:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),x=e(17876),d=e(49584),l=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var c=-n._displayOriginX,p=-n._displayOriginY,v=r.alpha*n.alpha,m=n.width,y=n.height,E=n.cellWidth,P=n.cellHeight,S=Math.ceil(m/E),w=Math.ceil(y/P),A=E,R=P,O=E-(S*E-m),L=P-(w*P-y),b=n.showCells,D=n.showAltCells,I=n.showOutline,B=0,V=0,Y=0,k=0,W=0;if(I&&(A--,R--,O===E&&O--,L===P&&L--),b&&n.fillAlpha>0)for(u(a,n),V=0;V<w;V++)for(D&&(Y=V%2),B=0;B<S;B++){if(D&&Y){Y=0;continue}Y++,k=B<S-1?A:O,W=V<w-1?R:L,a.fillRect(c+B*E,p+V*P,k,W)}if(D&&n.altFillAlpha>0)for(u(a,n,n.altFillColor,n.altFillAlpha*v),V=0;V<w;V++)for(D&&(Y=V%2),B=0;B<S;B++){if(D&&!Y){Y=1;continue}Y=0,k=B<S-1?A:O,W=V<w-1?R:L,a.fillRect(c+B*E,p+V*P,k,W)}if(I&&n.outlineFillAlpha>0){for(x(a,n,n.outlineFillColor,n.outlineFillAlpha*v),B=1;B<S;B++){var G=B*E;a.beginPath(),a.moveTo(G+c,p),a.lineTo(G+c,y+p),a.stroke()}for(V=1;V<w;V++){var U=V*P;a.beginPath(),a.moveTo(c,U+p),a.lineTo(c+m,U+p),a.stroke()}}a.restore()}};o.exports=l},9326:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(39169);u.register("grid",function(d,l,h,n,r,f,a,c,p,v){return this.displayList.add(new x(this.scene,d,l,h,n,r,f,a,c,p,v))})},88059:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(50639),d=e(95525),o.exports={renderWebGL:x,renderCanvas:d}},50639:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=e(75512),d=function(l,h,n,r){n.addToRenderList(h);var f=l.pipelines.set(h.pipeline),a=u(h,n,r),c=f.calcMatrix.copyFrom(a.calc);c.translate(-h._displayOriginX,-h._displayOriginY);var p=n.alpha*h.alpha,v=h.width,m=h.height,y=h.cellWidth,E=h.cellHeight,P=Math.ceil(v/y),S=Math.ceil(m/E),w=y,A=E,R=y-(P*y-v),O=E-(S*E-m),L,b,D=h.showCells,I=h.showAltCells,B=h.showOutline,V=0,Y=0,k=0,W=0,G=0;if(B&&(w--,A--,R===y&&R--,O===E&&O--),l.pipelines.preBatch(h),D&&h.fillAlpha>0)for(L=f.fillTint,b=x.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*p),L.TL=b,L.TR=b,L.BL=b,L.BR=b,Y=0;Y<S;Y++)for(I&&(k=Y%2),V=0;V<P;V++){if(I&&k){k=0;continue}k++,W=V<P-1?w:R,G=Y<S-1?A:O,f.batchFillRect(V*y,Y*E,W,G)}if(I&&h.altFillAlpha>0)for(L=f.fillTint,b=x.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*p),L.TL=b,L.TR=b,L.BL=b,L.BR=b,Y=0;Y<S;Y++)for(I&&(k=Y%2),V=0;V<P;V++){if(I&&!k){k=1;continue}k=0,W=V<P-1?w:R,G=Y<S-1?A:O,f.batchFillRect(V*y,Y*E,W,G)}if(B&&h.outlineFillAlpha>0){var U=f.strokeTint,F=x.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*p);for(U.TL=F,U.TR=F,U.BL=F,U.BR=F,V=1;V<P;V++){var N=V*y;f.batchLine(N,0,N,m,1,1,1,0,!1)}for(Y=1;Y<S;Y++){var z=Y*E;f.batchLine(0,z,v,z,1,1,1,0,!1)}}l.pipelines.postBatch(h)};o.exports=d},4415:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72296),x=e(56694),d=e(91461),l=new x({Extends:d,Mixins:[u],initialize:function(n,r,f,a,c,p,v,m){r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=48),c===void 0&&(c=32),p===void 0&&(p=15658734),v===void 0&&(v=10066329),m===void 0&&(m=13421772),d.call(this,n,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=v,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(r,f),this.setSize(a,c),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,n,r){return h===void 0&&(h=!0),n===void 0&&(n=!0),r===void 0&&(r=!0),this.showTop=h,this.showLeft=n,this.showRight=r,this},setFillStyle:function(h,n,r){return this.fillTop=h,this.fillLeft=n,this.fillRight=r,this.isFilled=!0,this}});o.exports=l},32884:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),x=e(49584),d=function(l,h,n,r){n.addToRenderList(h);var f=l.currentContext;if(x(l,f,h,n,r)&&h.isFilled){var a=h.width,c=h.height,p=a/2,v=a/h.projection;h.showTop&&(u(f,h,h.fillTop),f.beginPath(),f.moveTo(-p,-c),f.lineTo(0,-v-c),f.lineTo(p,-c),f.lineTo(p,-1),f.lineTo(0,v-1),f.lineTo(-p,-1),f.lineTo(-p,-c),f.fill()),h.showLeft&&(u(f,h,h.fillLeft),f.beginPath(),f.moveTo(-p,0),f.lineTo(0,v),f.lineTo(0,v-c),f.lineTo(-p,-c),f.lineTo(-p,0),f.fill()),h.showRight&&(u(f,h,h.fillRight),f.beginPath(),f.moveTo(p,0),f.lineTo(0,v),f.lineTo(0,v-c),f.lineTo(p,-c),f.lineTo(p,0),f.fill()),f.restore()}};o.exports=d},88154:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(4415);u.register("isobox",function(d,l,h,n,r,f,a){return this.displayList.add(new x(this.scene,d,l,h,n,r,f,a))})},72296:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(33101),d=e(32884),o.exports={renderWebGL:x,renderCanvas:d}},33101:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=e(75512),d=function(l,h,n,r){n.addToRenderList(h);var f=l.pipelines.set(h.pipeline),a=u(h,n,r),c=f.calcMatrix.copyFrom(a.calc),p=h.width,v=h.height,m=p/2,y=p/h.projection,E=n.alpha*h.alpha;if(!!h.isFilled){var P,S,w,A,R,O,L,b,D;l.pipelines.preBatch(h),h.showTop&&(P=x.getTintAppendFloatAlpha(h.fillTop,E),S=c.getX(-m,-v),w=c.getY(-m,-v),A=c.getX(0,-y-v),R=c.getY(0,-y-v),O=c.getX(m,-v),L=c.getY(m,-v),b=c.getX(0,y-v),D=c.getY(0,y-v),f.batchQuad(h,S,w,A,R,O,L,b,D,0,0,1,1,P,P,P,P,2)),h.showLeft&&(P=x.getTintAppendFloatAlpha(h.fillLeft,E),S=c.getX(-m,0),w=c.getY(-m,0),A=c.getX(0,y),R=c.getY(0,y),O=c.getX(0,y-v),L=c.getY(0,y-v),b=c.getX(-m,-v),D=c.getY(-m,-v),f.batchQuad(h,S,w,A,R,O,L,b,D,0,0,1,1,P,P,P,P,2)),h.showRight&&(P=x.getTintAppendFloatAlpha(h.fillRight,E),S=c.getX(m,0),w=c.getY(m,0),A=c.getX(0,y),R=c.getY(0,y),O=c.getX(0,y-v),L=c.getY(0,y-v),b=c.getX(m,-v),D=c.getY(m,-v),f.batchQuad(h,S,w,A,R,O,L,b,D,0,0,1,1,P,P,P,P,2)),l.pipelines.postBatch(h)}};o.exports=d},65159:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(93387),d=e(91461),l=new u({Extends:d,Mixins:[x],initialize:function(n,r,f,a,c,p,v,m,y){r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a=48),c===void 0&&(c=32),p===void 0&&(p=!1),v===void 0&&(v=15658734),m===void 0&&(m=10066329),y===void 0&&(y=13421772),d.call(this,n,"IsoTriangle",null),this.projection=4,this.fillTop=v,this.fillLeft=m,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(r,f),this.setSize(a,c),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,n,r){return h===void 0&&(h=!0),n===void 0&&(n=!0),r===void 0&&(r=!0),this.showTop=h,this.showLeft=n,this.showRight=r,this},setFillStyle:function(h,n,r){return this.fillTop=h,this.fillLeft=n,this.fillRight=r,this.isFilled=!0,this}});o.exports=l},9923:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),x=e(49584),d=function(l,h,n,r){n.addToRenderList(h);var f=l.currentContext;if(x(l,f,h,n,r)&&h.isFilled){var a=h.width,c=h.height,p=a/2,v=a/h.projection,m=h.isReversed;h.showTop&&m&&(u(f,h,h.fillTop),f.beginPath(),f.moveTo(-p,-c),f.lineTo(0,-v-c),f.lineTo(p,-c),f.lineTo(0,v-c),f.fill()),h.showLeft&&(u(f,h,h.fillLeft),f.beginPath(),m?(f.moveTo(-p,-c),f.lineTo(0,v),f.lineTo(0,v-c)):(f.moveTo(-p,0),f.lineTo(0,v),f.lineTo(0,v-c)),f.fill()),h.showRight&&(u(f,h,h.fillRight),f.beginPath(),m?(f.moveTo(p,-c),f.lineTo(0,v),f.lineTo(0,v-c)):(f.moveTo(p,0),f.lineTo(0,v),f.lineTo(0,v-c)),f.fill()),f.restore()}};o.exports=d},67765:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(65159);u.register("isotriangle",function(d,l,h,n,r,f,a,c){return this.displayList.add(new x(this.scene,d,l,h,n,r,f,a,c))})},93387:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(54946),d=e(9923),o.exports={renderWebGL:x,renderCanvas:d}},54946:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=e(75512),d=function(l,h,n,r){n.addToRenderList(h);var f=l.pipelines.set(h.pipeline),a=u(h,n,r),c=f.calcMatrix.copyFrom(a.calc),p=h.width,v=h.height,m=p/2,y=p/h.projection,E=h.isReversed,P=n.alpha*h.alpha;if(!!h.isFilled){l.pipelines.preBatch(h);var S,w,A,R,O,L,b;if(h.showTop&&E){S=x.getTintAppendFloatAlpha(h.fillTop,P),w=c.getX(-m,-v),A=c.getY(-m,-v),R=c.getX(0,-y-v),O=c.getY(0,-y-v),L=c.getX(m,-v),b=c.getY(m,-v);var D=c.getX(0,y-v),I=c.getY(0,y-v);f.batchQuad(h,w,A,R,O,L,b,D,I,0,0,1,1,S,S,S,S,2)}h.showLeft&&(S=x.getTintAppendFloatAlpha(h.fillLeft,P),E?(w=c.getX(-m,-v),A=c.getY(-m,-v),R=c.getX(0,y),O=c.getY(0,y),L=c.getX(0,y-v),b=c.getY(0,y-v)):(w=c.getX(-m,0),A=c.getY(-m,0),R=c.getX(0,y),O=c.getY(0,y),L=c.getX(0,y-v),b=c.getY(0,y-v)),f.batchTri(h,w,A,R,O,L,b,0,0,1,1,S,S,S,2)),h.showRight&&(S=x.getTintAppendFloatAlpha(h.fillRight,P),E?(w=c.getX(m,-v),A=c.getY(m,-v),R=c.getX(0,y),O=c.getY(0,y),L=c.getX(0,y-v),b=c.getY(0,y-v)):(w=c.getX(m,0),A=c.getY(m,0),R=c.getX(0,y),O=c.getY(0,y),L=c.getX(0,y-v),b=c.getY(0,y-v)),f.batchTri(h,w,A,R,O,L,b,0,0,1,1,S,S,S,2)),l.pipelines.postBatch(h)}};o.exports=d},579:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(91461),d=e(88829),l=e(52660),h=new u({Extends:x,Mixins:[l],initialize:function(r,f,a,c,p,v,m,y,E){f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=128),m===void 0&&(m=0),x.call(this,r,"Line",new d(c,p,v,m));var P=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(f,a),this.setSize(P,S),y!==void 0&&this.setStrokeStyle(1,y,E),this.updateDisplayOrigin()},setLineWidth:function(n,r){return r===void 0&&(r=n),this._startWidth=n,this._endWidth=r,this.lineWidth=n,this},setTo:function(n,r,f,a){return this.geom.setTo(n,r,f,a),this}});o.exports=h},52044:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(17876),x=e(49584),d=function(l,h,n,r){n.addToRenderList(h);var f=l.currentContext;if(x(l,f,h,n,r)){var a=h._displayOriginX,c=h._displayOriginY;h.isStroked&&(u(f,h),f.beginPath(),f.moveTo(h.geom.x1-a,h.geom.y1-c),f.lineTo(h.geom.x2-a,h.geom.y2-c),f.stroke()),f.restore()}};o.exports=d},85665:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(579);u.register("line",function(d,l,h,n,r,f,a,c){return this.displayList.add(new x(this.scene,d,l,h,n,r,f,a,c))})},52660:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(46952),d=e(52044),o.exports={renderWebGL:x,renderCanvas:d}},46952:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=e(75512),d=function(l,h,n,r){n.addToRenderList(h);var f=l.pipelines.set(h.pipeline),a=u(h,n,r);f.calcMatrix.copyFrom(a.calc);var c=h._displayOriginX,p=h._displayOriginY,v=n.alpha*h.alpha;if(l.pipelines.preBatch(h),h.isStroked){var m=f.strokeTint,y=x.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*v);m.TL=y,m.TR=y,m.BL=y,m.BR=y;var E=h._startWidth,P=h._endWidth;f.batchLine(h.geom.x1-c,h.geom.y1-p,h.geom.x2-c,h.geom.y2-p,E,P,1,0,!1,a.sprite,a.camera)}l.pipelines.postBatch(h)};o.exports=d},91249:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70573),x=e(56694),d=e(11117),l=e(14045),h=e(8580),n=e(91461),r=e(18974),f=new x({Extends:n,Mixins:[u],initialize:function(c,p,v,m,y,E){p===void 0&&(p=0),v===void 0&&(v=0),n.call(this,c,"Polygon",new h(m));var P=l(this.geom);this.setPosition(p,v),this.setSize(P.width,P.height),y!==void 0&&this.setFillStyle(y,E),this.updateDisplayOrigin(),this.updateData()},smooth:function(a){a===void 0&&(a=1);for(var c=0;c<a;c++)r(this.geom);return this.updateData()},setTo:function(a){this.geom.setTo(a);var c=l(this.geom);return this.setSize(c.width,c.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var a=[],c=this.geom.points,p=0;p<c.length;p++)a.push(c[p].x,c[p].y);return a.push(c[0].x,c[0].y),this.pathIndexes=d(a),this.pathData=a,this}});o.exports=f},40834:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),x=e(17876),d=e(49584),l=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var c=n._displayOriginX,p=n._displayOriginY,v=n.pathData,m=v.length-1,y=v[0]-c,E=v[1]-p;a.beginPath(),a.moveTo(y,E),n.closePath||(m-=2);for(var P=2;P<m;P+=2){var S=v[P]-c,w=v[P+1]-p;a.lineTo(S,w)}n.closePath&&a.closePath(),n.isFilled&&(u(a,n),a.fill()),n.isStroked&&(x(a,n),a.stroke()),a.restore()}};o.exports=l},88203:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(91249);u.register("polygon",function(d,l,h,n,r){return this.displayList.add(new x(this.scene,d,l,h,n,r))})},70573:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(72841),d=e(40834),o.exports={renderWebGL:x,renderCanvas:d}},72841:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19543),x=e(73329),d=e(50262),l=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),c=x(n,r,f),p=a.calcMatrix.copyFrom(c.calc),v=n._displayOriginX,m=n._displayOriginY,y=r.alpha*n.alpha;h.pipelines.preBatch(n),n.isFilled&&u(a,p,n,y,v,m),n.isStroked&&d(a,n,y,v,m),h.pipelines.postBatch(n)};o.exports=l},517:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(74118),d=e(91461),l=e(37673),h=new u({Extends:d,Mixins:[l],initialize:function(r,f,a,c,p,v,m){f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=128),p===void 0&&(p=128),d.call(this,r,"Rectangle",new x(0,0,c,p)),this.setPosition(f,a),this.setSize(c,p),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},setSize:function(n,r){this.width=n,this.height=r,this.geom.setSize(n,r),this.updateData(),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=n,f.hitArea.height=r),this},updateData:function(){var n=[],r=this.geom,f=this._tempLine;return r.getLineA(f),n.push(f.x1,f.y1,f.x2,f.y2),r.getLineB(f),n.push(f.x2,f.y2),r.getLineC(f),n.push(f.x2,f.y2),r.getLineD(f),n.push(f.x2,f.y2),this.pathData=n,this}});o.exports=h},4091:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),x=e(17876),d=e(49584),l=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var c=n._displayOriginX,p=n._displayOriginY;n.isFilled&&(u(a,n),a.fillRect(-c,-p,n.width,n.height)),n.isStroked&&(x(a,n),a.beginPath(),a.rect(-c,-p,n.width,n.height),a.stroke()),a.restore()}};o.exports=l},94355:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(517);u.register("rectangle",function(d,l,h,n,r,f){return this.displayList.add(new x(this.scene,d,l,h,n,r,f))})},37673:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(43532),d=e(4091),o.exports={renderWebGL:x,renderCanvas:d}},43532:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=e(50262),d=e(75512),l=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),c=u(n,r,f);a.calcMatrix.copyFrom(c.calc);var p=n._displayOriginX,v=n._displayOriginY,m=r.alpha*n.alpha;if(h.pipelines.preBatch(n),n.isFilled){var y=a.fillTint,E=d.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*m);y.TL=E,y.TR=E,y.BL=E,y.BR=E,a.batchFillRect(-p,-v,n.width,n.height)}n.isStroked&&x(a,n,m,p,v),h.pipelines.postBatch(n)};o.exports=l},77843:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87956),x=e(56694),d=e(11117),l=e(91461),h=new x({Extends:l,Mixins:[u],initialize:function(r,f,a,c,p,v,m,y){f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=5),p===void 0&&(p=32),v===void 0&&(v=64),l.call(this,r,"Star",null),this._points=c,this._innerRadius=p,this._outerRadius=v,this.setPosition(f,a),this.setSize(v*2,v*2),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},setPoints:function(n){return this._points=n,this.updateData()},setInnerRadius:function(n){return this._innerRadius=n,this.updateData()},setOuterRadius:function(n){return this._outerRadius=n,this.updateData()},points:{get:function(){return this._points},set:function(n){this._points=n,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(n){this._innerRadius=n,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(n){this._outerRadius=n,this.updateData()}},updateData:function(){var n=[],r=this._points,f=this._innerRadius,a=this._outerRadius,c=Math.PI/2*3,p=Math.PI/r,v=a,m=a;n.push(v,m+-a);for(var y=0;y<r;y++)n.push(v+Math.cos(c)*a,m+Math.sin(c)*a),c+=p,n.push(v+Math.cos(c)*f,m+Math.sin(c)*f),c+=p;return n.push(v,m+-a),this.pathIndexes=d(n),this.pathData=n,this}});o.exports=h},11401:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),x=e(17876),d=e(49584),l=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var c=n._displayOriginX,p=n._displayOriginY,v=n.pathData,m=v.length-1,y=v[0]-c,E=v[1]-p;a.beginPath(),a.moveTo(y,E),n.closePath||(m-=2);for(var P=2;P<m;P+=2){var S=v[P]-c,w=v[P+1]-p;a.lineTo(S,w)}a.closePath(),n.isFilled&&(u(a,n),a.fill()),n.isStroked&&(x(a,n),a.stroke()),a.restore()}};o.exports=l},23962:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(77843),x=e(61286);x.register("star",function(d,l,h,n,r,f,a){return this.displayList.add(new u(this.scene,d,l,h,n,r,f,a))})},87956:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(12037),d=e(11401),o.exports={renderWebGL:x,renderCanvas:d}},12037:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19543),x=e(73329),d=e(50262),l=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),c=x(n,r,f),p=a.calcMatrix.copyFrom(c.calc),v=n._displayOriginX,m=n._displayOriginY,y=r.alpha*n.alpha;h.pipelines.preBatch(n),n.isFilled&&u(a,p,n,y,v,m),n.isStroked&&d(a,n,y,v,m),h.pipelines.postBatch(n)};o.exports=l},21873:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(91461),d=e(66349),l=e(70498),h=new u({Extends:x,Mixins:[l],initialize:function(r,f,a,c,p,v,m,y,E,P,S){f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=128),v===void 0&&(v=64),m===void 0&&(m=0),y===void 0&&(y=128),E===void 0&&(E=128),x.call(this,r,"Triangle",new d(c,p,v,m,y,E));var w=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(f,a),this.setSize(w,A),P!==void 0&&this.setFillStyle(P,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(n,r,f,a,c,p){return this.geom.setTo(n,r,f,a,c,p),this.updateData()},updateData:function(){var n=[],r=this.geom,f=this._tempLine;return r.getLineA(f),n.push(f.x1,f.y1,f.x2,f.y2),r.getLineB(f),n.push(f.x2,f.y2),r.getLineC(f),n.push(f.x2,f.y2),this.pathData=n,this}});o.exports=h},60213:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15608),x=e(17876),d=e(49584),l=function(h,n,r,f){r.addToRenderList(n);var a=h.currentContext;if(d(h,a,n,r,f)){var c=n._displayOriginX,p=n._displayOriginY,v=n.geom.x1-c,m=n.geom.y1-p,y=n.geom.x2-c,E=n.geom.y2-p,P=n.geom.x3-c,S=n.geom.y3-p;a.beginPath(),a.moveTo(v,m),a.lineTo(y,E),a.lineTo(P,S),a.closePath(),n.isFilled&&(u(a,n),a.fill()),n.isStroked&&(x(a,n),a.stroke()),a.restore()}};o.exports=l},79296:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(21873);u.register("triangle",function(d,l,h,n,r,f,a,c,p,v){return this.displayList.add(new x(this.scene,d,l,h,n,r,f,a,c,p,v))})},70498:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(72291),d=e(60213),o.exports={renderWebGL:x,renderCanvas:d}},72291:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=e(50262),d=e(75512),l=function(h,n,r,f){r.addToRenderList(n);var a=h.pipelines.set(n.pipeline),c=u(n,r,f);a.calcMatrix.copyFrom(c.calc);var p=n._displayOriginX,v=n._displayOriginY,m=r.alpha*n.alpha;if(h.pipelines.preBatch(n),n.isFilled){var y=a.fillTint,E=d.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*m);y.TL=E,y.TR=E,y.BL=E,y.BR=E;var P=n.geom.x1-p,S=n.geom.y1-v,w=n.geom.x2-p,A=n.geom.y2-v,R=n.geom.x3-p,O=n.geom.y3-v;a.batchFillTriangle(P,S,w,A,R,O,c.sprite,c.camera)}n.isStroked&&x(a,n,m,p,v),h.pipelines.postBatch(n)};o.exports=l},13747:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16569),x=e(56694),d=e(64937),l=e(89980),h=e(20791),n=new x({Extends:l,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,h],initialize:function(f,a,c,p,v){l.call(this,f,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(p,v),this.setPosition(a,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,f){this.anims.update(r,f)},play:function(r,f){return this.anims.play(r,f)},playReverse:function(r,f){return this.anims.playReverse(r,f)},playAfterDelay:function(r,f){return this.anims.playAfterDelay(r,f)},playAfterRepeat:function(r,f){return this.anims.playAfterRepeat(r,f)},chain:function(r){return this.anims.chain(r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(r){return this.anims.stopAfterDelay(r)},stopAfterRepeat:function(r){return this.anims.stopAfterRepeat(r)},stopOnFrame:function(r){return this.anims.stopOnFrame(r)},toJSON:function(){return d.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});o.exports=n},27573:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){x.addToRenderList(u),e.batchSprite(u,u.frame,x,d)};o.exports=T},89219:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(32291),d=e(99325),l=e(20494),h=e(13747);d.register("sprite",function(n,r){n===void 0&&(n={});var f=l(n,"key",null),a=l(n,"frame",null),c=new h(this.scene,0,0,f,a);return r!==void 0&&(n.add=r),u(this.scene,c,n),x(c,n),c})},66135:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(13747);u.register("sprite",function(d,l,h,n){return this.displayList.add(new x(this.scene,d,l,h,n))})},20791:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(21034),d=e(27573),o.exports={renderWebGL:x,renderCanvas:d}},21034:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){x.addToRenderList(u),u.pipeline.batchSprite(u,x,d)};o.exports=T},32979:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=e.canvas,l=e.context,h=e.style,n=[],r=0,f=x.length;h.maxLines>0&&h.maxLines<x.length&&(f=h.maxLines),h.syncFont(d,l);for(var a=0;a<f;a++){var c=h.strokeThickness;c+=l.measureText(x[a]).width,h.wordWrap&&(c-=l.measureText(" ").width),n[a]=Math.ceil(c),r=Math.max(r,n[a])}var p=u.fontSize+h.strokeThickness,v=p*f,m=e.lineSpacing;return f>1&&(v+=m*(f-1)),{width:r,height:v,lines:f,lineWidths:n,lineSpacing:m,lineHeight:p}};o.exports=T},27030:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),x=function(d){var l=u.create(this),h=l.getContext("2d",{willReadFrequently:!0});d.syncFont(l,h);var n=h.measureText(d.testString);if("actualBoundingBoxAscent"in n){var r=n.actualBoundingBoxAscent,f=n.actualBoundingBoxDescent;return u.remove(l),{ascent:r,descent:f,fontSize:r+f}}var a=Math.ceil(n.width*d.baselineX),c=a,p=2*c;c=c*d.baselineY|0,l.width=a,l.height=p,h.fillStyle="#f00",h.fillRect(0,0,a,p),h.font=d._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(d.testString,0,c);var v={ascent:0,descent:0,fontSize:0},m=h.getImageData(0,0,a,p);if(!m)return v.ascent=c,v.descent=c+6,v.fontSize=v.ascent+v.descent,u.remove(l),v;var y=m.data,E=y.length,P=a*4,S,w,A=0,R=!1;for(S=0;S<c;S++){for(w=0;w<P;w+=4)if(y[A+w]!==255){R=!0;break}if(!R)A+=P;else break}for(v.ascent=c-S,A=E-P,R=!1,S=p;S>c;S--){for(w=0;w<P;w+=4)if(y[A+w]!==255){R=!0;break}if(!R)A-=P;else break}return v.descent=S-c,v.fontSize=v.ascent+v.descent,u.remove(l),v};o.exports=x},76555:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99584),x=e(61068),d=e(56694),l=e(64937),h=e(89980),n=e(32979),r=e(10850),f=e(55638),a=e(80032),c=e(74744),p=new d({Extends:h,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,a],initialize:function(m,y,E,P,S){y===void 0&&(y=0),E===void 0&&(E=0),h.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(y,E),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.style=new c(this,S),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=m.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(P),S&&S.padding&&this.setPadding(S.padding),S&&S.lineSpacing&&this.setLineSpacing(S.lineSpacing)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var m=this.style;if(m.wordWrapCallback){var y=m.wordWrapCallback.call(m.wordWrapCallbackScope,v,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,m,y){for(var E="",P=v.replace(/ +/gi," ").split(this.splitRegExp),S=P.length,w=0;w<S;w++){var A=P[w],R="";A=A.replace(/^ *|\s*$/gi,"");var O=m.measureText(A).width;if(O<y){E+=A+`
`;continue}for(var L=y,b=A.split(" "),D=0;D<b.length;D++){var I=b[D],B=I+" ",V=m.measureText(B).width;if(V>L){if(D===0){for(var Y=B;Y.length&&(Y=Y.slice(0,-1),V=m.measureText(Y).width,!(V<=L)););if(!Y.length)throw new Error("wordWrapWidth < a single character");var k=I.substr(Y.length);b[D]=k,R+=Y}var W=b[D].length?D:D+1,G=b.slice(W).join(" ").replace(/[ \n]*$/gi,"");P.splice(w+1,0,G),S=P.length;break}else R+=B,L-=V}E+=R.replace(/[ \n]*$/gi,"")+`
`}return E=E.replace(/[\s|\n]*$/gi,""),E},basicWordWrap:function(v,m,y){for(var E="",P=v.split(this.splitRegExp),S=P.length-1,w=m.measureText(" ").width,A=0;A<=S;A++){for(var R=y,O=P[A].split(" "),L=O.length-1,b=0;b<=L;b++){var D=O[b],I=m.measureText(D).width,B=I;b<L&&(B+=w),B>R&&b>0&&(E+=`
`,R=y),E+=D,b<L?(E+=" ",R-=B):R-=I}A<S&&(E+=`
`)}return E},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(v);return m.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,m){m===void 0&&(m=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var y=this._text.concat(m?`
`+v:v);return y!==this._text&&(this._text=y,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,m){return this.style.setFixedSize(v,m)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,m){return this.style.setStroke(v,m)},setShadow:function(v,m,y,E,P,S){return this.style.setShadow(v,m,y,E,P,S)},setShadowOffset:function(v,m){return this.style.setShadowOffset(v,m)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,m){return this.style.setWordWrapWidth(v,m)},setWordWrapCallback:function(v,m){return this.style.setWordWrapCallback(v,m)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setPadding:function(v,m,y,E){if(typeof v=="object"){var P=v,S=r(P,"x",null);S!==null?(v=S,y=S):(v=r(P,"left",0),y=r(P,"right",v));var w=r(P,"y",null);w!==null?(m=w,E=w):(m=r(P,"top",0),E=r(P,"bottom",m))}else v===void 0&&(v=0),m===void 0&&(m=v),y===void 0&&(y=v),E===void 0&&(E=m);return this.padding.left=v,this.padding.top=m,this.padding.right=y,this.padding.bottom=E,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},updateText:function(){var v=this.canvas,m=this.context,y=this.style,E=y.resolution,P=y.metrics;y.syncFont(v,m);var S=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(S=this.runWordWrap(this._text));var w=S.split(this.splitRegExp),A=n(this,P,w),R=this.padding,O;y.fixedWidth===0?(this.width=A.width+R.left+R.right,O=A.width):(this.width=y.fixedWidth,O=this.width-R.left-R.right,O<A.width&&(O=A.width)),y.fixedHeight===0?this.height=A.height+R.top+R.bottom:this.height=y.fixedHeight;var L=this.width,b=this.height;this.updateDisplayOrigin(),L*=E,b*=E,L=Math.max(L,1),b=Math.max(b,1),v.width!==L||v.height!==b?(v.width=L,v.height=b,this.frame.setSize(L,b),y.syncFont(v,m),y.rtl&&(m.direction="rtl")):m.clearRect(0,0,L,b),m.save(),m.scale(E,E),y.backgroundColor&&(m.fillStyle=y.backgroundColor,m.fillRect(0,0,L,b)),y.syncStyle(v,m),m.translate(R.left,R.top);for(var D,I,B=0;B<A.lines;B++){if(D=y.strokeThickness/2,I=y.strokeThickness/2+B*A.lineHeight+P.ascent,B>0&&(I+=A.lineSpacing*B),y.rtl)D=L-D-R.left-R.right;else if(y.align==="right")D+=O-A.lineWidths[B];else if(y.align==="center")D+=(O-A.lineWidths[B])/2;else if(y.align==="justify"){var V=.85;if(A.lineWidths[B]/A.width>=V){var Y=A.width-A.lineWidths[B],k=m.measureText(" ").width,W=w[B].trim(),G=W.split(" ");Y+=(w[B].length-W.length)*k;for(var U=Math.floor(Y/k),F=0;U>0;)G[F]+=" ",F=(F+1)%(G.length-1||1),--U;w[B]=G.join(" ")}}this.autoRound&&(D=Math.round(D),I=Math.round(I)),y.strokeThickness&&(y.syncShadow(m,y.shadowStroke),m.strokeText(w[B],D,I)),y.color&&(y.syncShadow(m,y.shadowFill),m.fillText(w[B],D,I))}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var N=this.input;return N&&!N.customHitArea&&(N.hitArea.width=this.width,N.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=l.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=m,v},preDestroy:function(){this.style.rtl&&f(this.canvas),x.remove(this.canvas),this.texture.destroy()}});o.exports=p},71649:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){u.width===0||u.height===0||(x.addToRenderList(u),e.batchSprite(u,u.frame,x,d))};o.exports=T},75397:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(76555);x.register("text",function(h,n){h===void 0&&(h={});var r=d(h,"text",""),f=d(h,"style",null),a=d(h,"padding",null);a!==null&&(f.padding=a);var c=new l(this.scene,0,0,r,f);return n!==void 0&&(h.add=n),u(this.scene,c,h),c.autoRound=d(h,"autoRound",!0),c.resolution=d(h,"resolution",1),c})},94627:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(76555),x=e(61286);x.register("text",function(d,l,h,n){return this.displayList.add(new u(this.scene,d,l,h,n))})},80032:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(76128),d=e(71649),o.exports={renderWebGL:x,renderCanvas:d}},74744:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(20494),d=e(10850),l=e(27030),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new u({initialize:function(f,a){this.parent=f,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(a,!1,!0)},setStyle:function(r,f,a){f===void 0&&(f=!0),a===void 0&&(a=!1),r&&r.hasOwnProperty("fontSize")&&typeof r.fontSize=="number"&&(r.fontSize=r.fontSize.toString()+"px");for(var c in h){var p=a?h[c][1]:this[c];c==="wordWrapCallback"||c==="wordWrapCallbackScope"?this[c]=d(r,h[c][0],p):this[c]=x(r,h[c][0],p)}var v=d(r,"font",null);v!==null&&this.setFont(v,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var m=d(r,"fill",null);m!==null&&(this.color=m);var y=d(r,"metrics",!1);return y?this.metrics={ascent:d(y,"ascent",0),descent:d(y,"descent",0),fontSize:d(y,"fontSize",0)}:(f||!this.metrics)&&(this.metrics=l(this)),f?this.parent.updateText():this.parent},syncFont:function(r,f){f.font=this._font},syncStyle:function(r,f){f.textBaseline="alphabetic",f.fillStyle=this.color,f.strokeStyle=this.stroke,f.lineWidth=this.strokeThickness,f.lineCap="round",f.lineJoin="round"},syncShadow:function(r,f){f?(r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur):(r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowColor=0,r.shadowBlur=0)},update:function(r){return r&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=l(this)),this.parent.updateText()},setFont:function(r,f){f===void 0&&(f=!0);var a=r,c="",p="";if(typeof r!="string")a=d(r,"fontFamily","Courier"),c=d(r,"fontSize","16px"),p=d(r,"fontStyle","");else{var v=r.split(" "),m=0;p=v.length>2?v[m++]:"",c=v[m++]||"16px",a=v[m++]||"Courier"}return(a!==this.fontFamily||c!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=a,this.fontSize=c,this.fontStyle=p,f&&this.update(!0)),this.parent},setFontFamily:function(r){return this.fontFamily!==r&&(this.fontFamily=r,this.update(!0)),this.parent},setFontStyle:function(r){return this.fontStyle!==r&&(this.fontStyle=r,this.update(!0)),this.parent},setFontSize:function(r){return typeof r=="number"&&(r=r.toString()+"px"),this.fontSize!==r&&(this.fontSize=r,this.update(!0)),this.parent},setTestString:function(r){return this.testString=r,this.update(!0)},setFixedSize:function(r,f){return this.fixedWidth=r,this.fixedHeight=f,r&&(this.parent.width=r),f&&(this.parent.height=f),this.update(!1)},setBackgroundColor:function(r){return this.backgroundColor=r,this.update(!1)},setFill:function(r){return this.color=r,this.update(!1)},setColor:function(r){return this.color=r,this.update(!1)},setResolution:function(r){return this.resolution=r,this.update(!1)},setStroke:function(r,f){return f===void 0&&(f=this.strokeThickness),r===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==r||this.strokeThickness!==f)&&(this.stroke=r,this.strokeThickness=f,this.update(!0)),this.parent},setShadow:function(r,f,a,c,p,v){return r===void 0&&(r=0),f===void 0&&(f=0),a===void 0&&(a="#000"),c===void 0&&(c=0),p===void 0&&(p=!1),v===void 0&&(v=!0),this.shadowOffsetX=r,this.shadowOffsetY=f,this.shadowColor=a,this.shadowBlur=c,this.shadowStroke=p,this.shadowFill=v,this.update(!1)},setShadowOffset:function(r,f){return r===void 0&&(r=0),f===void 0&&(f=r),this.shadowOffsetX=r,this.shadowOffsetY=f,this.update(!1)},setShadowColor:function(r){return r===void 0&&(r="#000"),this.shadowColor=r,this.update(!1)},setShadowBlur:function(r){return r===void 0&&(r=0),this.shadowBlur=r,this.update(!1)},setShadowStroke:function(r){return this.shadowStroke=r,this.update(!1)},setShadowFill:function(r){return this.shadowFill=r,this.update(!1)},setWordWrapWidth:function(r,f){return f===void 0&&(f=!1),this.wordWrapWidth=r,this.wordWrapUseAdvanced=f,this.update(!1)},setWordWrapCallback:function(r,f){return f===void 0&&(f=null),this.wordWrapCallback=r,this.wordWrapCallbackScope=f,this.update(!1)},setAlign:function(r){return r===void 0&&(r="left"),this.align=r,this.update(!1)},setMaxLines:function(r){return r===void 0&&(r=0),this.maxLines=r,this.update(!1)},getTextMetrics:function(){var r=this.metrics;return{ascent:r.ascent,descent:r.descent,fontSize:r.fontSize}},toJSON:function(){var r={};for(var f in h)r[f]=this[f];return r.metrics=this.getTextMetrics(),r},destroy:function(){this.parent=void 0}});o.exports=n},76128:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75512),x=function(d,l,h,n){if(!(l.width===0||l.height===0)){h.addToRenderList(l);var r=l.frame,f=r.width,a=r.height,c=u.getTintAppendFloatAlpha,p=d.pipelines.set(l.pipeline,l),v=p.setTexture2D(r.glTexture,l);p.batchTexture(l,r.glTexture,f,a,l.x,l.y,f/l.style.resolution,a/l.style.resolution,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,f,a,c(l.tintTopLeft,h.alpha*l._alphaTL),c(l.tintTopRight,h.alpha*l._alphaTR),c(l.tintBottomLeft,h.alpha*l._alphaBL),c(l.tintBottomRight,h.alpha*l._alphaBR),l.tintFill,0,0,h,n,!1,v)}};o.exports=x},35856:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),x=e(56694),d=e(64937),l=e(89980),h=e(3504),n=e(8213),r=e(9271),f=e(93736),a=8,c=new x({Extends:l,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Crop,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Tint,d.Transform,d.Visible,r],initialize:function(v,m,y,E,P,S,w){var A=v.sys.renderer;l.call(this,v,"TileSprite");var R=v.sys.textures.get(S),O=R.get(w);O.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),R=v.sys.textures.get("__MISSING"),O=R.get()),R.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),R=v.sys.textures.get("__MISSING"),O=R.get()),!E||!P?(E=O.width,P=O.height):(E=Math.floor(E),P=Math.floor(P)),this._tilePosition=new f,this._tileScale=new f(1,1),this.dirty=!1,this.renderer=A,this.canvas=u.create(this,E,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=R,this.displayFrame=O,this._crop=this.resetCropObject(),this.texture=v.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=h(O.width),this.potHeight=h(O.height),this.fillCanvas=u.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,y),this.setSize(E,P),this.setFrame(w),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(p,v){return this.displayTexture=this.scene.sys.textures.get(p),this.setFrame(v)},setFrame:function(p){var v=this.displayTexture.get(p);return this.potWidth=h(v.width),this.potHeight=h(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=~a:this.renderFlags|=a,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(p,v){return p!==void 0&&(this.tilePositionX=p),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(p,v){return p===void 0&&(p=this.tileScaleX),v===void 0&&(v=p),this.tileScaleX=p,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var p=this.displayFrame;if(p.source.isRenderTexture||p.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,m=this.fillCanvas,y=this.potWidth,E=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=p.cutWidth,E=p.cutHeight),v.clearRect(0,0,y,E),m.width=y,m.height=E,v.drawImage(p.source.image,p.cutX,p.cutY,p.cutWidth,p.cutHeight,0,0,y,E),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=v.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var p=this.canvas;if((p.width!==this.width||p.height!==this.height)&&(p.width=this.width,p.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||n.disable(v);var m=this._tileScale.x,y=this._tileScale.y,E=this._tilePosition.x,P=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(m,y),v.translate(-E,-P),v.fillStyle=this.fillPattern,v.fillRect(E,P,this.width/m,this.height/y),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),u.remove(this.canvas),u.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(p){this._tilePosition.x=p,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(p){this._tilePosition.y=p,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(p){this._tileScale.x=p,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(p){this._tileScale.y=p,this.dirty=!0}}});o.exports=c},93305:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){u.updateCanvas(),x.addToRenderList(u),e.batchSprite(u,u.frame,x,d)};o.exports=T},63950:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(35856);x.register("tileSprite",function(h,n){h===void 0&&(h={});var r=d(h,"x",0),f=d(h,"y",0),a=d(h,"width",512),c=d(h,"height",512),p=d(h,"key",""),v=d(h,"frame",""),m=new l(this.scene,r,f,a,c,p,v);return n!==void 0&&(h.add=n),u(this.scene,m,h),m})},20509:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35856),x=e(61286);x.register("tileSprite",function(d,l,h,n,r,f){return this.displayList.add(new u(this.scene,d,l,h,n,r,f))})},9271:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(74287),d=e(93305),o.exports={renderWebGL:x,renderCanvas:d}},74287:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75512),x=function(d,l,h,n){l.updateCanvas();var r=l.width,f=l.height;if(!(r===0||f===0)){h.addToRenderList(l);var a=u.getTintAppendFloatAlpha,c=d.pipelines.set(l.pipeline,l),p=c.setTexture2D(l.fillPattern,l);c.batchTexture(l,l.fillPattern,l.displayFrame.width*l.tileScaleX,l.displayFrame.height*l.tileScaleY,l.x,l.y,r,f,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.originX*r,l.originY*f,0,0,r,f,a(l.tintTopLeft,h.alpha*l._alphaTL),a(l.tintTopRight,h.alpha*l._alphaTR),a(l.tintBottomLeft,h.alpha*l._alphaBL),a(l.tintBottomRight,h.alpha*l._alphaBR),l.tintFill,l.tilePositionX%l.displayFrame.width/l.displayFrame.width,l.tilePositionY%l.displayFrame.height/l.displayFrame.height,h,n,!1,p)}};o.exports=x},8630:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=e(56694),d=e(64937),l=e(56631),h=e(97081),n=e(89980),r=e(83392),f=e(76038),a=e(76583),c=e(77974),p=new x({Extends:n,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,c],initialize:function(m,y,E,P){n.call(this,m,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=a(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var S=m.sys.game;this._device=S.device.video,this.setPosition(y,E),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),S.events.on(h.PAUSE,this.globalPause,this),S.events.on(h.RESUME,this.globalResume,this);var w=m.sys.sound;w&&w.on(f.GLOBAL_MUTE,this.globalMute,this),P&&this.load(P)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(v){var m=this.scene.sys.cache.video.get(v);return m?(this.cacheKey=v,this.loadHandler(m.url,m.noAudio,m.crossOrigin)):console.warn("No video in cache for key: "+v),this},changeSource:function(v,m,y,E,P){m===void 0&&(m=!0),y===void 0&&(y=!1),this.cacheKey!==v&&(this.load(v),m&&this.play(y,E,P))},getVideoKey:function(){return this.cacheKey},loadURL:function(v,m,y){m===void 0&&(m=!1);var E=this._device.getVideoURL(v);return E?(this.cacheKey="",this.loadHandler(E.url,m,y)):console.warn("No supported video format found for "+v),this},loadMediaStream:function(v,m,y){return this.loadHandler(null,m,y,v)},loadHandler:function(v,m,y,E){m||(m=!1);var P=this.video;if(P?(this.removeLoadEventHandlers(),this.stop()):(P=document.createElement("video"),P.controls=!1,P.setAttribute("playsinline","playsinline"),P.setAttribute("preload","auto"),P.setAttribute("disablePictureInPicture","true")),m?(P.muted=!0,P.defaultMuted=!0,P.setAttribute("autoplay","autoplay")):(P.muted=!1,P.defaultMuted=!1,P.removeAttribute("autoplay")),y?P.setAttribute("crossorigin",y):P.removeAttribute("crossorigin"),E)if("srcObject"in P)try{P.srcObject=E}catch(S){if(S.name!=="TypeError")throw S;P.src=URL.createObjectURL(E)}else P.src=URL.createObjectURL(E);else P.src=v;return this.addLoadEventHandlers(),this.retry=0,this.video=P,this._playCalled=!1,P.load(),this},requestVideoFrame:function(v,m){var y=this.video;if(!!y){var E=m.width,P=m.height,S=this.videoTexture,w=this.videoTextureSource,A=!S||w.source!==y;A?(this._codePaused=y.paused,this._codeMuted=y.muted,S?(w.source=y,w.width=E,w.height=P,S.get().setSize(E,P)):(S=this.scene.sys.textures.create(this._key,y,E,P),S.add("__BASE",0,0,0,E,P),this.setTexture(S),this.videoTexture=S,this.videoTextureSource=S.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(l.VIDEO_TEXTURE,this,S)),this.setSizeToFrame(),this.updateDisplayOrigin()):w.update(),this.isStalled=!1,this.metadata=m;var R=m.mediaTime;A&&(this._lastUpdate=R,this.emit(l.VIDEO_CREATED,this,E,P),this.frameReady||(this.frameReady=!0,this.emit(l.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(y.loop?(y.currentTime=this._markerIn,this.emit(l.VIDEO_LOOP,this)):(this.stop(!1),this.emit(l.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(l.VIDEO_LOOP,this),this._lastUpdate=R,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(v,m,y){m===void 0&&(m=-1),y===void 0&&(y=r.MAX_SAFE_INTEGER);var E=this.video;return!E||this.isPlaying()?(E||console.warn("Video not loaded"),this):(v===void 0&&(v=E.loop),E.loop=v,this._markerIn=m,this._markerOut=y,this._playingMarker=m>-1&&y>m&&y<r.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=E.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var v=this.video;v&&(v.addEventListener("error",this._loadCallbackHandler),v.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var v=this.video;v&&(v.removeEventListener("error",this._loadCallbackHandler),v.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var v=this.video;if(v){var m=this._callbacks;for(var y in m)v.addEventListener(y,m[y])}},removeEventHandlers:function(){var v=this.video;if(v){var m=this._callbacks;for(var y in m)v.removeEventListener(y,m[y])}},createPlayPromise:function(v){v===void 0&&(v=!0);var m=this.video,y=m.play();if(y!==void 0){var E=this.playSuccess.bind(this),P=this.playError.bind(this);if(!v){var S=this;P=function(){S.failedPlayAttempts++}}y.then(E).catch(P)}else m.addEventListener("playing",this._callbacks.legacy),v||this.failedPlayAttempts++},addMarker:function(v,m,y){return!isNaN(m)&&m>=0&&!isNaN(y)&&y>m&&(this.markers[v]=[m,y]),this},playMarker:function(v,m){var y=this.markers[v];return y&&this.play(m,y[0],y[1]),this},removeMarker:function(v){return delete this.markers[v],this},snapshot:function(v,m){return v===void 0&&(v=this.width),m===void 0&&(m=this.height),this.snapshotArea(0,0,this.width,this.height,v,m)},snapshotArea:function(v,m,y,E,P,S){v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=this.width),E===void 0&&(E=this.height),P===void 0&&(P=y),S===void 0&&(S=E);var w=this.video,A=this.snapshotTexture;return A?(A.setSize(P,S),w&&A.context.drawImage(w,v,m,y,E,0,0,P,S)):(A=this.scene.sys.textures.createCanvas(a(),P,S),this.snapshotTexture=A,w&&A.context.drawImage(w,v,m,y,E,0,0,P,S)),A.update()},saveSnapshotTexture:function(v){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,v):this.snapshotTexture=this.scene.sys.textures.createCanvas(v,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(!!this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(l.VIDEO_UNLOCKED,this));var v=this.scene.sys.sound;v&&v.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(v){var m=v.name;m==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(l.VIDEO_LOCKED,this)):m==="NotSupportedError"?(this.stop(!1),this.emit(l.VIDEO_UNSUPPORTED,this,v)):(this.stop(!1),this.emit(l.VIDEO_ERROR,this,v))},legacyPlayHandler:function(){var v=this.video;v&&(this.playSuccess(),v.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(l.VIDEO_PLAYING,this)},loadErrorHandler:function(v){this.stop(!1),this.emit(l.VIDEO_ERROR,this,v)},stalledHandler:function(v){this.isStalled=!0,this.emit(l.VIDEO_STALLED,this,v)},completeHandler:function(){this._playCalled=!1,this.emit(l.VIDEO_COMPLETE,this)},preUpdate:function(v,m){var y=this.video;!y||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=m,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(v){var m=this.video;if(m){var y=m.duration;if(y!==1/0&&!isNaN(y)){var E=y*v;this.setCurrentTime(E)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(v){var m=this.video;if(m){if(typeof v=="string"){var y=v[0],E=parseFloat(v.substr(1));y==="+"?v=m.currentTime+E:y==="-"&&(v=m.currentTime-E)}m.currentTime=v}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(l.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(l.VIDEO_SEEKED,this)},getProgress:function(){var v=this.video;if(v){var m=v.duration;if(m!==1/0&&!isNaN(m))return v.currentTime/m}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(v){v===void 0&&(v=!0),this._codeMuted=v;var m=this.video;return m&&(m.muted=this._systemMuted?!0:v),this},isMuted:function(){return this._codeMuted},globalMute:function(v,m){this._systemMuted=m;var y=this.video;y&&(y.muted=this._codeMuted?!0:m)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(v){v===void 0&&(v=!0);var m=this.video;return this._codePaused=v,m&&!m.ended&&(v?m.paused||(this.removeEventHandlers(),m.pause()):v||(this._playCalled?m.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(v){return v===void 0&&(v=1),this.video&&(this.video.volume=u(v,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(v){return this.video&&(this.video.playbackRate=v),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(v){return v===void 0&&(v=!0),this.video&&(this.video.loop=v),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(v,m){return m===void 0&&(m=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,v),this.videoTextureSource.setFlipY(m)),this._key=v,this.flipY=m,!!this.videoTexture},stop:function(v){v===void 0&&(v=!0);var m=this.video;return m&&(this.removeEventHandlers(),m.cancelVideoFrameCallback(this._rfvCallbackId),m.pause()),this.retry=0,this._playCalled=!1,v&&this.emit(l.VIDEO_STOP,this),this},removeVideoElement:function(){var v=this.video;if(!!v){for(v.parentNode&&v.parentNode.removeChild(v);v.hasChildNodes();)v.removeChild(v.firstChild);v.removeAttribute("autoplay"),v.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var v=this.scene.sys.game.events;v.off(h.PAUSE,this.globalPause,this),v.off(h.RESUME,this.globalResume,this);var m=this.scene.sys.sound;m&&m.off(f.GLOBAL_MUTE,this.globalMute,this)}});o.exports=p},56933:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){u.videoTexture&&(x.addToRenderList(u),e.batchSprite(u,u.frame,x,d))};o.exports=T},65601:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88933),x=e(99325),d=e(20494),l=e(8630);x.register("video",function(h,n){h===void 0&&(h={});var r=d(h,"key",null),f=new l(this.scene,0,0,r);return n!==void 0&&(h.add=n),u(this.scene,f,h),f})},215:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8630),x=e(61286);x.register("video",function(d,l,h){return this.displayList.add(new u(this.scene,d,l,h))})},77974:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(83572),d=e(56933),o.exports={renderWebGL:x,renderCanvas:d}},83572:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){u.videoTexture&&(x.addToRenderList(u),u.pipeline.batchSprite(u,x,d))};o.exports=T},71030:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),x=e(26673),d=e(65650),l=e(56694),h=e(64937),n=e(89980),r=e(74118),f=e(94287),a=new l({Extends:n,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(p,v,m,y,E){y===void 0&&(y=1),E===void 0&&(E=y),n.call(this,p,"Zone"),this.setPosition(v,m),this.width=y,this.height=E,this.blendMode=u.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}},setSize:function(c,p,v){v===void 0&&(v=!0),this.width=c,this.height=p,this.updateDisplayOrigin();var m=this.input;return v&&m&&!m.customHitArea&&(m.hitArea.width=c,m.hitArea.height=p),this},setDisplaySize:function(c,p){return this.displayWidth=c,this.displayHeight=p,this},setCircleDropZone:function(c){return this.setDropZone(new x(0,0,c),d)},setRectangleDropZone:function(c,p){return this.setDropZone(new r(0,0,c,p),f)},setDropZone:function(c,p){return this.input||this.setInteractive(c,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(c,p,v){v.addToRenderList(p)},renderWebGL:function(c,p,v){v.addToRenderList(p)}});o.exports=a},24067:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99325),x=e(20494),d=e(71030);u.register("zone",function(l){var h=x(l,"x",0),n=x(l,"y",0),r=x(l,"width",1),f=x(l,"height",r);return new d(this.scene,h,n,r,f)})},34546:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71030),x=e(61286);x.register("zone",function(d,l,h,n){return this.displayList.add(new u(this.scene,d,l,h,n))})},95847:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};o.exports=T},26673:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(65650),d=e(94026),l=e(62941),h=e(52394),n=e(30977),r=new u({initialize:function(a,c,p){a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=h.CIRCLE,this.x=a,this.y=c,this._radius=p,this._diameter=p*2},contains:function(f,a){return x(this,f,a)},getPoint:function(f,a){return d(this,f,a)},getPoints:function(f,a,c){return l(this,f,a,c)},getRandomPoint:function(f){return n(this,f)},setTo:function(f,a,c){return this.x=f,this.y=a,this._radius=c,this._diameter=c*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(f,a){return a===void 0&&(a=f),this.x=f,this.y=a,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this._diameter=f*2}},diameter:{get:function(){return this._diameter},set:function(f){this._diameter=f,this._radius=f*.5}},left:{get:function(){return this.x-this._radius},set:function(f){this.x=f+this._radius}},right:{get:function(){return this.x+this._radius},set:function(f){this.x=f-this._radius}},top:{get:function(){return this.y-this._radius},set:function(f){this.y=f+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(f){this.y=f-this._radius}}});o.exports=r},37964:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return 2*(Math.PI*e.radius)};o.exports=T},72233:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l,h){return h===void 0&&(h=new u),h.x=d.x+d.radius*Math.cos(l),h.y=d.y+d.radius*Math.sin(l),h};o.exports=x},61761:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26673),x=function(d){return new u(d.x,d.y,d.radius)};o.exports=x},65650:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(e.radius>0&&u>=e.left&&u<=e.right&&x>=e.top&&x<=e.bottom){var d=(e.x-u)*(e.x-u),l=(e.y-x)*(e.y-x);return d+l<=e.radius*e.radius}else return!1};o.exports=T},39187:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65650),x=function(d,l){return u(d,l.x,l.y)};o.exports=x},58672:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65650),x=function(d,l){return u(d,l.x,l.y)&&u(d,l.right,l.y)&&u(d,l.x,l.bottom)&&u(d,l.right,l.bottom)};o.exports=x},42997:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x,e.y,e.radius)};o.exports=T},94894:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x===u.x&&e.y===u.y&&e.radius===u.radius};o.exports=T},48027:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=function(d,l){return l===void 0&&(l=new u),l.x=d.left,l.y=d.top,l.width=d.diameter,l.height=d.diameter,l};o.exports=x},94026:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72233),x=e(91806),d=e(83392),l=e(79967),h=function(n,r,f){f===void 0&&(f=new l);var a=x(r,0,d.PI2);return u(n,a,f)};o.exports=h},62941:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37964),x=e(72233),d=e(91806),l=e(83392),h=function(n,r,f,a){a===void 0&&(a=[]),!r&&f>0&&(r=u(n)/f);for(var c=0;c<r;c++){var p=d(c/r,0,l.PI2);a.push(x(n,p))}return a};o.exports=h},34585:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e.x+=u,e.y+=x,e};o.exports=T},88665:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x+=u.x,e.y+=u.y,e};o.exports=T},30977:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){l===void 0&&(l=new u);var h=2*Math.PI*Math.random(),n=Math.random()+Math.random(),r=n>1?2-n:n,f=r*Math.cos(h),a=r*Math.sin(h);return l.x=d.x+f*d.radius,l.y=d.y+a*d.radius,l};o.exports=x},6112:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26673);u.Area=e(95847),u.Circumference=e(37964),u.CircumferencePoint=e(72233),u.Clone=e(61761),u.Contains=e(65650),u.ContainsPoint=e(39187),u.ContainsRect=e(58672),u.CopyFrom=e(42997),u.Equals=e(94894),u.GetBounds=e(48027),u.GetPoint=e(94026),u.GetPoints=e(62941),u.Offset=e(34585),u.OffsetPoint=e(88665),u.Random=e(30977),o.exports=u},52394:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};o.exports=T},58605:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};o.exports=T},39507:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=e.width/2,x=e.height/2,d=Math.pow(u-x,2)/Math.pow(u+x,2);return Math.PI*(u+x)*(1+3*d/(10+Math.sqrt(4-3*d)))};o.exports=T},86998:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l,h){h===void 0&&(h=new u);var n=d.width/2,r=d.height/2;return h.x=d.x+n*Math.cos(l),h.y=d.y+r*Math.sin(l),h};o.exports=x},81773:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95669),x=function(d){return new u(d.x,d.y,d.width,d.height)};o.exports=x},72313:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(e.width<=0||e.height<=0)return!1;var d=(u-e.x)/e.width,l=(x-e.y)/e.height;return d*=d,l*=l,d+l<.25};o.exports=T},34368:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72313),x=function(d,l){return u(d,l.x,l.y)};o.exports=x},71431:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72313),x=function(d,l){return u(d,l.x,l.y)&&u(d,l.right,l.y)&&u(d,l.x,l.bottom)&&u(d,l.right,l.bottom)};o.exports=x},75459:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};o.exports=T},95669:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72313),d=e(95340),l=e(54978),h=e(52394),n=e(72006),r=new u({initialize:function(a,c,p,v){a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),this.type=h.ELLIPSE,this.x=a,this.y=c,this.width=p,this.height=v},contains:function(f,a){return x(this,f,a)},getPoint:function(f,a){return d(this,f,a)},getPoints:function(f,a,c){return l(this,f,a,c)},getRandomPoint:function(f){return n(this,f)},setTo:function(f,a,c,p){return this.x=f,this.y=a,this.width=c,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(f,a){return a===void 0&&(a=f),this.x=f,this.y=a,this},setSize:function(f,a){return a===void 0&&(a=f),this.width=f,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(f){this.x=f+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(f){this.y=f+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});o.exports=r},98068:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};o.exports=T},72897:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=function(d,l){return l===void 0&&(l=new u),l.x=d.left,l.y=d.top,l.width=d.width,l.height=d.height,l};o.exports=x},95340:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86998),x=e(91806),d=e(83392),l=e(79967),h=function(n,r,f){f===void 0&&(f=new l);var a=x(r,0,d.PI2);return u(n,a,f)};o.exports=h},54978:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(39507),x=e(86998),d=e(91806),l=e(83392),h=function(n,r,f,a){a===void 0&&(a=[]),!r&&f>0&&(r=u(n)/f);for(var c=0;c<r;c++){var p=d(c/r,0,l.PI2);a.push(x(n,p))}return a};o.exports=h},77951:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e.x+=u,e.y+=x,e};o.exports=T},36233:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x+=u.x,e.y+=u.y,e};o.exports=T},72006:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){l===void 0&&(l=new u);var h=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return l.x=d.x+n*Math.cos(h)*d.width/2,l.y=d.y+n*Math.sin(h)*d.height/2,l};o.exports=x},40652:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95669);u.Area=e(58605),u.Circumference=e(39507),u.CircumferencePoint=e(86998),u.Clone=e(81773),u.Contains=e(72313),u.ContainsPoint=e(34368),u.ContainsRect=e(71431),u.CopyFrom=e(75459),u.Equals=e(98068),u.GetBounds=e(72897),u.GetPoint=e(95340),u.GetPoints=e(54978),u.Offset=e(77951),u.OffsetPoint=e(36233),u.Random=e(72006),o.exports=u},84068:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(52394),x=e(98611),d={Circle:e(6112),Ellipse:e(40652),Intersects:e(7563),Line:e(28482),Mesh:e(14293),Point:e(63472),Polygon:e(44359),Rectangle:e(66658),Triangle:e(87619)};d=x(!1,d,u),o.exports=d},22184:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(53996),x=function(d,l){return u(d.x,d.y,l.x,l.y)<=d.radius+l.radius};o.exports=x},26535:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=u.width/2,d=u.height/2,l=Math.abs(e.x-u.x-x),h=Math.abs(e.y-u.y-d),n=x+e.radius,r=d+e.radius;if(l>n||h>r)return!1;if(l<=x||h<=d)return!0;var f=l-x,a=h-d,c=f*f,p=a*a,v=e.radius*e.radius;return c+p<=v};o.exports=T},71145:(o,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=e(22184),d=function(l,h,n){if(n===void 0&&(n=[]),x(l,h)){var r=l.x,f=l.y,a=l.radius,c=h.x,p=h.y,v=h.radius,m,y,E,P,S;if(f===p)S=(v*v-a*a-c*c+r*r)/(2*(r-c)),m=1,y=-2*p,E=c*c+S*S-2*c*S+p*p-v*v,P=y*y-4*m*E,P===0?n.push(new u(S,-y/(2*m))):P>0&&(n.push(new u(S,(-y+Math.sqrt(P))/(2*m))),n.push(new u(S,(-y-Math.sqrt(P))/(2*m))));else{var w=(r-c)/(f-p),A=(v*v-a*a-c*c+r*r-p*p+f*f)/(2*(f-p));m=w*w+1,y=2*f*w-2*A*w-2*r,E=r*r+f*f+A*A-a*a-2*f*A,P=y*y-4*m*E,P===0?(S=-y/(2*m),n.push(new u(S,A-S*w))):P>0&&(S=(-y+Math.sqrt(P))/(2*m),n.push(new u(S,A-S*w)),S=(-y-Math.sqrt(P))/(2*m),n.push(new u(S,A-S*w)))}}return n};o.exports=d},62508:(o,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26111),x=e(26535),d=function(l,h,n){if(n===void 0&&(n=[]),x(l,h)){var r=h.getLineA(),f=h.getLineB(),a=h.getLineC(),c=h.getLineD();u(r,l,n),u(f,l,n),u(a,l,n),u(c,l,n)}return n};o.exports=d},26111:(o,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=e(61472),d=function(l,h,n){if(n===void 0&&(n=[]),x(l,h)){var r=l.x1,f=l.y1,a=l.x2,c=l.y2,p=h.x,v=h.y,m=h.radius,y=a-r,E=c-f,P=r-p,S=f-v,w=y*y+E*E,A=2*(y*P+E*S),R=P*P+S*S-m*m,O=A*A-4*w*R,L,b;if(O===0){var D=-A/(2*w);L=r+D*y,b=f+D*E,D>=0&&D<=1&&n.push(new u(L,b))}else if(O>0){var I=(-A-Math.sqrt(O))/(2*w);L=r+I*y,b=f+I*E,I>=0&&I<=1&&n.push(new u(L,b));var B=(-A+Math.sqrt(O))/(2*w);L=r+B*y,b=f+B*E,B>=0&&B<=1&&n.push(new u(L,b))}}return n};o.exports=d},96537:(o,T,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70015),x=function(d,l,h,n){h===void 0&&(h=!1);var r=d.x1,f=d.y1,a=d.x2,c=d.y2,p=l.x1,v=l.y1,m=l.x2,y=l.y2,E=a-r,P=c-f,S=m-p,w=y-v,A=E*w-P*S;if(A===0)return null;var R,O,L;if(h){if(R=(E*(v-f)+P*(r-p))/(S*P-w*E),O=(p+S*R-r)/E,O<0||R<0||R>1)return null;L=O}else{if(R=((p-r)*w-(v-f)*S)/A,O=((f-v)*E-(r-p)*P)/A,R<0||R>1||O<0||O>1)return null;L=R}return n===void 0&&(n=new u),n.set(r+E*L,f+P*L,L)};o.exports=x},17647:(o,T,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(96537),x=e(88829),d=e(70015),l=new x,h=new d,n=function(r,f,a,c){a===void 0&&(a=!1),c===void 0&&(c=new d);var p=!1;c.set(),h.set();for(var v=f[0],m=1;m<f.length;m++){var y=f[m];l.setTo(v.x,v.y,y.x,y.y),v=y,u(r,l,a,h)&&(!p||h.z<c.z)&&(c.copy(h),p=!0)}return p?c:null};o.exports=n},68439:(o,T,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70015),x=e(51729),d=e(17647),l=new u,h=function(n,r,f,a){a===void 0&&(a=new x),Array.isArray(r)||(r=[r]);var c=!1;a.set(),l.set();for(var p=0;p<r.length;p++)d(n,r[p].points,f,l)&&(!c||l.z<a.z)&&(a.set(l.x,l.y,l.z,p),c=!0);return c?a:null};o.exports=h},9569:(o,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=e(25227),d=e(47910),l=function(h,n,r){if(r===void 0&&(r=[]),d(h,n))for(var f=n.getLineA(),a=n.getLineB(),c=n.getLineC(),p=n.getLineD(),v=[new u,new u,new u,new u],m=[x(f,h,v[0]),x(a,h,v[1]),x(c,h,v[2]),x(p,h,v[3])],y=0;y<4;y++)m[y]&&r.push(v[y]);return r};o.exports=l},7449:(o,T,e)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(51729),x=e(68439),d=e(88829),l=new d;function h(f,a,c,p,v){var m=Math.cos(f),y=Math.sin(f);l.setTo(a,c,a+m,c+y);var E=x(l,p,!0);E&&v.push(new u(E.x,E.y,f,E.w))}function n(f,a){return f.z-a.z}var r=function(f,a,c){Array.isArray(c)||(c=[c]);for(var p=[],v=[],m=0;m<c.length;m++)for(var y=c[m].points,E=0;E<y.length;E++){var P=Math.atan2(y[E].y-a,y[E].x-f);v.indexOf(P)===-1&&(h(P,f,a,c,p),h(P-1e-5,f,a,c,p),h(P+1e-5,f,a,c,p),v.push(P))}return p.sort(n)};o.exports=r},82931:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=e(90205),d=function(l,h,n){return n===void 0&&(n=new u),x(l,h)&&(n.x=Math.max(l.x,h.x),n.y=Math.max(l.y,h.y),n.width=Math.min(l.right,h.right)-n.x,n.height=Math.min(l.bottom,h.bottom)-n.y),n};o.exports=d},1946:(o,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(9569),x=e(90205),d=function(l,h,n){if(n===void 0&&(n=[]),x(l,h)){var r=l.getLineA(),f=l.getLineB(),a=l.getLineC(),c=l.getLineD();u(r,h,n),u(f,h,n),u(a,h,n),u(c,h,n)}return n};o.exports=d},34211:(o,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(20370),x=e(9569),d=function(l,h,n){if(n===void 0&&(n=[]),u(l,h)){var r=h.getLineA(),f=h.getLineB(),a=h.getLineC();x(r,l,n),x(f,l,n),x(a,l,n)}return n};o.exports=d},80511:(o,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26111),x=e(48411),d=function(l,h,n){if(n===void 0&&(n=[]),x(l,h)){var r=l.getLineA(),f=l.getLineB(),a=l.getLineC();u(r,h,n),u(f,h,n),u(a,h,n)}return n};o.exports=d},31343:(o,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=e(86117),d=e(25227),l=function(h,n,r){if(r===void 0&&(r=[]),x(h,n))for(var f=h.getLineA(),a=h.getLineB(),c=h.getLineC(),p=[new u,new u,new u],v=[d(f,n,p[0]),d(a,n,p[1]),d(c,n,p[2])],m=0;m<3;m++)v[m]&&r.push(p[m]);return r};o.exports=l},70534:(o,T,e)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(23589),x=e(31343),d=function(l,h,n){if(n===void 0&&(n=[]),u(l,h)){var r=h.getLineA(),f=h.getLineB(),a=h.getLineC();x(l,r,n),x(l,f,n),x(l,a,n)}return n};o.exports=d},61472:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65650),x=e(79967),d=new x,l=function(h,n,r){if(r===void 0&&(r=d),u(n,h.x1,h.y1))return r.x=h.x1,r.y=h.y1,!0;if(u(n,h.x2,h.y2))return r.x=h.x2,r.y=h.y2,!0;var f=h.x2-h.x1,a=h.y2-h.y1,c=n.x-h.x1,p=n.y-h.y1,v=f*f+a*a,m=f,y=a;if(v>0){var E=(c*f+p*a)/v;m*=E,y*=E}r.x=h.x1+m,r.y=h.y1+y;var P=m*m+y*y;return P<=v&&m*f+y*a>=0&&u(n,r.x,r.y)};o.exports=l},25227:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=e.x1,l=e.y1,h=e.x2,n=e.y2,r=u.x1,f=u.y1,a=u.x2,c=u.y2;if(d===h&&l===n||r===a&&f===c)return!1;var p=(c-f)*(h-d)-(a-r)*(n-l);if(p===0)return!1;var v=((a-r)*(l-f)-(c-f)*(d-r))/p,m=((h-d)*(l-f)-(n-l)*(d-r))/p;return v<0||v>1||m<0||m>1?!1:(x&&(x.x=d+v*(h-d),x.y=l+v*(n-l)),!0)};o.exports=T},47910:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.x1,d=e.y1,l=e.x2,h=e.y2,n=u.x,r=u.y,f=u.right,a=u.bottom,c=0;if(x>=n&&x<=f&&d>=r&&d<=a||l>=n&&l<=f&&h>=r&&h<=a)return!0;if(x<n&&l>=n){if(c=d+(h-d)*(n-x)/(l-x),c>r&&c<=a)return!0}else if(x>f&&l<=f&&(c=d+(h-d)*(f-x)/(l-x),c>=r&&c<=a))return!0;if(d<r&&h>=r){if(c=x+(l-x)*(r-d)/(h-d),c>=n&&c<=f)return!0}else if(d>a&&h<=a&&(c=x+(l-x)*(a-d)/(h-d),c>=n&&c<=f))return!0;return!1};o.exports=T},34426:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){x===void 0&&(x=1);var d=u.x1,l=u.y1,h=u.x2,n=u.y2,r=e.x,f=e.y,a=(h-d)*(h-d)+(n-l)*(n-l);if(a===0)return!1;var c=((r-d)*(h-d)+(f-l)*(n-l))/a;if(c<0)return Math.sqrt((d-r)*(d-r)+(l-f)*(l-f))<=x;if(c>=0&&c<=1){var p=((l-f)*(h-d)-(d-r)*(n-l))/a;return Math.abs(p)*Math.sqrt(a)<=x}else return Math.sqrt((h-r)*(h-r)+(n-f)*(n-f))<=x};o.exports=T},81414:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(34426),x=function(d,l){if(!u(d,l))return!1;var h=Math.min(l.x1,l.x2),n=Math.max(l.x1,l.x2),r=Math.min(l.y1,l.y2),f=Math.max(l.y1,l.y2);return d.x>=h&&d.x<=n&&d.y>=r&&d.y<=f};o.exports=x},90205:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.width<=0||e.height<=0||u.width<=0||u.height<=0?!1:!(e.right<u.x||e.bottom<u.y||e.x>u.right||e.y>u.bottom)};o.exports=T},20370:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25227),x=e(94287),d=e(86875),l=e(87279),h=function(n,r){if(r.left>n.right||r.right<n.left||r.top>n.bottom||r.bottom<n.top)return!1;var f=r.getLineA(),a=r.getLineB(),c=r.getLineC();if(x(n,f.x1,f.y1)||x(n,f.x2,f.y2)||x(n,a.x1,a.y1)||x(n,a.x2,a.y2)||x(n,c.x1,c.y1)||x(n,c.x2,c.y2))return!0;var p=n.getLineA(),v=n.getLineB(),m=n.getLineC(),y=n.getLineD();if(u(f,p)||u(f,v)||u(f,m)||u(f,y)||u(a,p)||u(a,v)||u(a,m)||u(a,y)||u(c,p)||u(c,v)||u(c,m)||u(c,y))return!0;var E=l(n),P=d(r,E,!0);return P.length>0};o.exports=h},8786:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l,h){return h===void 0&&(h=0),!(u>e.right+h||x<e.left-h||d>e.bottom+h||l<e.top-h)};o.exports=T},48411:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61472),x=e(60689),d=function(l,h){return l.left>h.right||l.right<h.left||l.top>h.bottom||l.bottom<h.top?!1:!!(x(l,h.x,h.y)||u(l.getLineA(),h)||u(l.getLineB(),h)||u(l.getLineC(),h))};o.exports=d},86117:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25227),x=function(d,l){return!!(d.contains(l.x1,l.y1)||d.contains(l.x2,l.y2)||u(d.getLineA(),l)||u(d.getLineB(),l)||u(d.getLineC(),l))};o.exports=x},23589:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(86875),x=e(18680),d=e(25227),l=function(h,n){if(h.left>n.right||h.right<n.left||h.top>n.bottom||h.bottom<n.top)return!1;var r=h.getLineA(),f=h.getLineB(),a=h.getLineC(),c=n.getLineA(),p=n.getLineB(),v=n.getLineC();if(d(r,c)||d(r,p)||d(r,v)||d(f,c)||d(f,p)||d(f,v)||d(a,c)||d(a,p)||d(a,v))return!0;var m=x(h),y=u(n,m,!0);return y.length>0||(m=x(n),y=u(h,m,!0),y.length>0)};o.exports=l},7563:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CircleToCircle:e(22184),CircleToRectangle:e(26535),GetCircleToCircle:e(71145),GetCircleToRectangle:e(62508),GetLineToCircle:e(26111),GetLineToLine:e(96537),GetLineToPoints:e(17647),GetLineToPolygon:e(68439),GetLineToRectangle:e(9569),GetRaysFromPointToPolygon:e(7449),GetRectangleIntersection:e(82931),GetRectangleToRectangle:e(1946),GetRectangleToTriangle:e(34211),GetTriangleToCircle:e(80511),GetTriangleToLine:e(31343),GetTriangleToTriangle:e(70534),LineToCircle:e(61472),LineToLine:e(25227),LineToRectangle:e(47910),PointToLine:e(34426),PointToLineSegment:e(81414),RectangleToRectangle:e(90205),RectangleToTriangle:e(20370),RectangleToValues:e(8786),TriangleToCircle:e(48411),TriangleToLine:e(86117),TriangleToTriangle:e(23589)}},50599:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};o.exports=T},58813:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){u===void 0&&(u=1),x===void 0&&(x=[]);var d=Math.round(e.x1),l=Math.round(e.y1),h=Math.round(e.x2),n=Math.round(e.y2),r=Math.abs(h-d),f=Math.abs(n-l),a=d<h?1:-1,c=l<n?1:-1,p=r-f;x.push({x:d,y:l});for(var v=1;!(d===h&&l===n);){var m=p<<1;m>-f&&(p-=f,d+=a),m<r&&(p+=r,l+=c),v%u===0&&x.push({x:d,y:l}),v++}return x};o.exports=T},88513:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=u-(e.x1+e.x2)/2,l=x-(e.y1+e.y2)/2;return e.x1+=d,e.y1+=l,e.x2+=d,e.y2+=l,e};o.exports=T},26718:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88829),x=function(d){return new u(d.x1,d.y1,d.x2,d.y2)};o.exports=x},88930:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2)};o.exports=T},90656:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2};o.exports=T},30897:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),x=function(d,l,h){h===void 0&&(h=l);var n=u(d),r=d.x2-d.x1,f=d.y2-d.y1;return l&&(d.x1=d.x1-r/n*l,d.y1=d.y1-f/n*l),h&&(d.x2=d.x2+r/n*h,d.y2=d.y2+f/n*h),d};o.exports=x},30684:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92951),x=e(21902),d=e(79967),l=function(h,n,r,f,a){f===void 0&&(f=0),a===void 0&&(a=[]);var c=[],p=h.x1,v=h.y1,m=h.x2-p,y=h.y2-v,E=x(n,a),P,S,w=r-1;for(P=0;P<w;P++)S=E(P/w),c.push(new d(p+m*S,v+y*S));if(S=E(1),c.push(new d(p+m*S,v+y*S)),f>0){var A=c[0],R=[A];for(P=1;P<c.length-1;P++){var O=c[P];u(A,O)>=f&&(R.push(O),A=O)}var L=c[c.length-1];return u(A,L)<f&&R.pop(),R.push(L),R}else return c};o.exports=l},20487:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){return l===void 0&&(l=new u),l.x=(d.x1+d.x2)/2,l.y=(d.y1+d.y2)/2,l};o.exports=x},11222:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l,h){h===void 0&&(h=new u);var n=d.x1,r=d.y1,f=d.x2,a=d.y2,c=(f-n)*(f-n)+(a-r)*(a-r);if(c===0)return h;var p=((l.x-n)*(f-n)+(l.y-r)*(a-r))/c;return h.x=n+p*(f-n),h.y=r+p*(a-r),h};o.exports=x},7377:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),x=e(50599),d=e(79967),l=function(h,n){n===void 0&&(n=new d);var r=x(h)-u.TAU;return n.x=Math.cos(r),n.y=Math.sin(r),n};o.exports=l},66464:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l,h){return h===void 0&&(h=new u),h.x=d.x1+(d.x2-d.x1)*l,h.y=d.y1+(d.y2-d.y1)*l,h};o.exports=x},8570:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),x=e(79967),d=function(l,h,n,r){r===void 0&&(r=[]),!h&&n>0&&(h=u(l)/n);for(var f=l.x1,a=l.y1,c=l.x2,p=l.y2,v=0;v<h;v++){var m=v/h,y=f+(c-f)*m,E=a+(p-a)*m;r.push(new x(y,E))}return r};o.exports=d},65269:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.x1,d=e.y1,l=e.x2,h=e.y2,n=(l-x)*(l-x)+(h-d)*(h-d);if(n===0)return!1;var r=((d-u.y)*(l-x)-(x-u.x)*(h-d))/n;return Math.abs(r)*Math.sqrt(n)};o.exports=T},82996:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.abs(e.y1-e.y2)};o.exports=T},16028:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};o.exports=T},88829:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(66464),d=e(8570),l=e(52394),h=e(74077),n=e(93736),r=new u({initialize:function(a,c,p,v){a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),this.type=l.LINE,this.x1=a,this.y1=c,this.x2=p,this.y2=v},getPoint:function(f,a){return x(this,f,a)},getPoints:function(f,a,c){return d(this,f,a,c)},getRandomPoint:function(f){return h(this,f)},setTo:function(f,a,c,p){return f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=0),this.x1=f,this.y1=a,this.x2=c,this.y2=p,this},getPointA:function(f){return f===void 0&&(f=new n),f.set(this.x1,this.y1),f},getPointB:function(f){return f===void 0&&(f=new n),f.set(this.x2,this.y2),f},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(f){this.x1<=this.x2?this.x1=f:this.x2=f}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(f){this.x1>this.x2?this.x1=f:this.x2=f}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(f){this.y1<=this.y2?this.y1=f:this.y2=f}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(f){this.y1>this.y2?this.y1=f:this.y2=f}}});o.exports=r},73273:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),x=e(1071),d=e(50599),l=function(h){var n=d(h)-u.TAU;return x(n,-Math.PI,Math.PI)};o.exports=l},96936:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),x=e(50599),d=function(l){return Math.cos(x(l)-u.TAU)};o.exports=d},43581:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),x=e(50599),d=function(l){return Math.sin(x(l)-u.TAU)};o.exports=d},13990:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e.x1+=u,e.y1+=x,e.x2+=u,e.y2+=x,e};o.exports=T},1298:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};o.exports=T},74077:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){l===void 0&&(l=new u);var h=Math.random();return l.x=d.x1+h*(d.x2-d.x1),l.y=d.y1+h*(d.y2-d.y1),l};o.exports=x},30473:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50599),x=e(73273),d=function(l,h){return 2*x(h)-Math.PI-u(l)};o.exports=d},25968:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1809),x=function(d,l){var h=(d.x1+d.x2)/2,n=(d.y1+d.y2)/2;return u(d,h,n,l)};o.exports=x},24296:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1809),x=function(d,l,h){return u(d,l.x,l.y,h)};o.exports=x},1809:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=Math.cos(d),h=Math.sin(d),n=e.x1-u,r=e.y1-x;return e.x1=n*l-r*h+u,e.y1=n*h+r*l+x,n=e.x2-u,r=e.y2-x,e.x2=n*l-r*h+u,e.y2=n*h+r*l+x,e};o.exports=T},88171:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l){return e.x1=u,e.y1=x,e.x2=u+Math.cos(d)*l,e.y2=x+Math.sin(d)*l,e};o.exports=T},82797:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};o.exports=T},41067:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.abs(e.x1-e.x2)};o.exports=T},28482:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(88829);u.Angle=e(50599),u.BresenhamPoints=e(58813),u.CenterOn=e(88513),u.Clone=e(26718),u.CopyFrom=e(88930),u.Equals=e(90656),u.Extend=e(30897),u.GetEasedPoints=e(30684),u.GetMidPoint=e(20487),u.GetNearestPoint=e(11222),u.GetNormal=e(7377),u.GetPoint=e(66464),u.GetPoints=e(8570),u.GetShortestDistance=e(65269),u.Height=e(82996),u.Length=e(16028),u.NormalAngle=e(73273),u.NormalX=e(96936),u.NormalY=e(43581),u.Offset=e(13990),u.PerpSlope=e(1298),u.Random=e(74077),u.ReflectAngle=e(30473),u.Rotate=e(25968),u.RotateAroundPoint=e(24296),u.RotateAroundXY=e(1809),u.SetToAngle=e(88171),u.Slope=e(82797),u.Width=e(41067),o.exports=u},18693:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(74118),d=e(93736);function l(n,r,f,a){var c=n-f,p=r-a,v=c*c+p*p;return Math.sqrt(v)}var h=new u({initialize:function(r,f,a){this.vertex1=r,this.vertex2=f,this.vertex3=a,this.bounds=new x,this._inCenter=new d},getInCenter:function(n){n===void 0&&(n=!0);var r=this.vertex1,f=this.vertex2,a=this.vertex3,c,p,v,m,y,E;n?(c=r.x,p=r.y,v=f.x,m=f.y,y=a.x,E=a.y):(c=r.vx,p=r.vy,v=f.vx,m=f.vy,y=a.vx,E=a.vy);var P=l(y,E,v,m),S=l(c,p,y,E),w=l(v,m,c,p),A=P+S+w;return this._inCenter.set((c*P+v*S+y*w)/A,(p*P+m*S+E*w)/A)},contains:function(n,r,f){var a=this.vertex1,c=this.vertex2,p=this.vertex3,v=a.vx,m=a.vy,y=c.vx,E=c.vy,P=p.vx,S=p.vy;if(f){var w=f.a,A=f.b,R=f.c,O=f.d,L=f.e,b=f.f;v=a.vx*w+a.vy*R+L,m=a.vx*A+a.vy*O+b,y=c.vx*w+c.vy*R+L,E=c.vx*A+c.vy*O+b,P=p.vx*w+p.vy*R+L,S=p.vx*A+p.vy*O+b}var D=P-v,I=S-m,B=y-v,V=E-m,Y=n-v,k=r-m,W=D*D+I*I,G=D*B+I*V,U=D*Y+I*k,F=B*B+V*V,N=B*Y+V*k,z=W*F-G*G,X=z===0?0:1/z,H=(F*U-G*N)*X,$=(W*N-G*U)*X;return H>=0&&$>=0&&H+$<1},isCounterClockwise:function(n){var r=this.vertex1,f=this.vertex2,a=this.vertex3,c=(f.vx-r.vx)*(a.vy-r.vy)-(f.vy-r.vy)*(a.vx-r.vx);return n<=0?c>=0:c<0},load:function(n,r,f,a,c){return f=this.vertex1.load(n,r,f,a,c),f=this.vertex2.load(n,r,f,a,c),f=this.vertex3.load(n,r,f,a,c),f},transformCoordinatesLocal:function(n,r,f,a){return this.vertex1.transformCoordinatesLocal(n,r,f,a),this.vertex2.transformCoordinatesLocal(n,r,f,a),this.vertex3.transformCoordinatesLocal(n,r,f,a),this},updateBounds:function(){var n=this.vertex1,r=this.vertex2,f=this.vertex3,a=this.bounds;return a.x=Math.min(n.vx,r.vx,f.vx),a.y=Math.min(n.vy,r.vy,f.vy),a.width=Math.max(n.vx,r.vx,f.vx)-a.x,a.height=Math.max(n.vy,r.vy,f.vy)-a.y,this},isInView:function(n,r,f,a,c,p,v,m,y,E,P){this.update(a,c,p,v,m,y,E,P);var S=this.vertex1,w=this.vertex2,A=this.vertex3;if(S.ta<=0&&w.ta<=0&&A.ta<=0||r&&!this.isCounterClockwise(f))return!1;var R=this.bounds;R.x=Math.min(S.tx,w.tx,A.tx),R.y=Math.min(S.ty,w.ty,A.ty),R.width=Math.max(S.tx,w.tx,A.tx)-R.x,R.height=Math.max(S.ty,w.ty,A.ty)-R.y;var O=n.x+n.width,L=n.y+n.height;return R.width<=0||R.height<=0||n.width<=0||n.height<=0?!1:!(R.right<n.x||R.bottom<n.y||R.x>O||R.y>L)},scrollUV:function(n,r){return this.vertex1.scrollUV(n,r),this.vertex2.scrollUV(n,r),this.vertex3.scrollUV(n,r),this},scaleUV:function(n,r){return this.vertex1.scaleUV(n,r),this.vertex2.scaleUV(n,r),this.vertex3.scaleUV(n,r),this},setColor:function(n){return this.vertex1.color=n,this.vertex2.color=n,this.vertex3.color=n,this},update:function(n,r,f,a,c,p,v,m){return this.vertex1.update(r,f,a,c,p,v,m,n),this.vertex2.update(r,f,a,c,p,v,m,n),this.vertex3.update(r,f,a,c,p,v,m,n),this},translate:function(n,r){r===void 0&&(r=0);var f=this.vertex1,a=this.vertex2,c=this.vertex3;return f.x+=n,f.y+=r,a.x+=n,a.y+=r,c.x+=n,c.y+=r,this},x:{get:function(){return this.getInCenter().x},set:function(n){var r=this.getInCenter();this.translate(n-r.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(n){var r=this.getInCenter();this.translate(0,n-r.y)}},alpha:{get:function(){var n=this.vertex1,r=this.vertex2,f=this.vertex3;return(n.alpha+r.alpha+f.alpha)/3},set:function(n){this.vertex1.alpha=n,this.vertex2.alpha=n,this.vertex3.alpha=n}},depth:{get:function(){var n=this.vertex1,r=this.vertex2,f=this.vertex3;return(n.vz+r.vz+f.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});o.exports=h},99425:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18693),x=e(72632),d=e(16650),l=e(70015),h=e(85769),n=new l,r=new l,f=new d,a=function(c){var p=x(c,"mesh"),v=x(c,"texture",null),m=x(c,"frame"),y=x(c,"width",1),E=x(c,"height",y),P=x(c,"widthSegments",1),S=x(c,"heightSegments",P),w=x(c,"x",0),A=x(c,"y",0),R=x(c,"z",0),O=x(c,"rotateX",0),L=x(c,"rotateY",0),b=x(c,"rotateZ",0),D=x(c,"zIsUp",!0),I=x(c,"isOrtho",p?p.dirtyCache[11]:!1),B=x(c,"colors",[16777215]),V=x(c,"alphas",[1]),Y=x(c,"tile",!1),k=x(c,"flipY",!1),W=x(c,"width",null),G={faces:[],verts:[]};n.set(w,A,R),r.set(O,L,b),f.fromRotationXYTranslation(r,n,D);var U;if(!v&&p)v=p.texture,m||(U=p.frame);else if(p&&typeof v=="string")v=p.scene.sys.textures.get(v);else if(!v)return G;U||(U=v.get(m)),!W&&I&&v&&p&&(y=U.width/p.height,E=U.height/p.height);var F=y/2,N=E/2,z=Math.floor(P),X=Math.floor(S),H=z+1,$=X+1,K=y/z,Z=E/X,J=[],j=[],Q,tt,_=0,it=1,ht=0,lt=1;U&&(_=U.u0,it=U.u1,k?(ht=U.v1,lt=U.v0):(ht=U.v0,lt=U.v1));var ot=it-_,et=lt-ht;for(tt=0;tt<$;tt++){var at=tt*Z-N;for(Q=0;Q<H;Q++){var rt=Q*K-F;j.push(rt,-at);var gt=_+ot*(Q/z),pt=ht+et*(tt/X);J.push(gt,pt)}}Array.isArray(B)||(B=[B]),Array.isArray(V)||(V=[V]);var Lt=0,At=0;for(tt=0;tt<X;tt++)for(Q=0;Q<z;Q++){var Tt=(Q+H*tt)*2,xt=(Q+H*(tt+1))*2,Rt=(Q+1+H*(tt+1))*2,Gt=(Q+1+H*tt)*2,Ut=B[At],kt=V[Lt],de=new h(j[Tt],j[Tt+1],0,J[Tt],J[Tt+1],Ut,kt).transformMat4(f),Ze=new h(j[xt],j[xt+1],0,J[xt],J[xt+1],Ut,kt).transformMat4(f),Je=new h(j[Gt],j[Gt+1],0,J[Gt],J[Gt+1],Ut,kt).transformMat4(f),li=new h(j[xt],j[xt+1],0,J[xt],J[xt+1],Ut,kt).transformMat4(f),ui=new h(j[Rt],j[Rt+1],0,J[Rt],J[Rt+1],Ut,kt).transformMat4(f),je=new h(j[Gt],j[Gt+1],0,J[Gt],J[Gt+1],Ut,kt).transformMat4(f);Y&&(de.setUVs(_,lt),Ze.setUVs(_,ht),Je.setUVs(it,lt),li.setUVs(_,ht),ui.setUVs(it,ht),je.setUVs(it,lt)),At++,At===B.length&&(At=0),Lt++,Lt===V.length&&(Lt=0),G.verts.push(de,Ze,Je,li,ui,je),G.faces.push(new u(de,Ze,Je),new u(li,ui,je))}return p&&(p.faces=p.faces.concat(G.faces),p.vertices=p.vertices.concat(G.verts)),G};o.exports=a},53267:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18693),x=e(16650),d=e(70015),l=e(85769),h=new d,n=new d,r=new x,f=function(a,c,p,v,m,y,E,P,S,w){p===void 0&&(p=1),v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=0),E===void 0&&(E=0),P===void 0&&(P=0),S===void 0&&(S=0),w===void 0&&(w=!0);var A={faces:[],verts:[]},R=a.materials;h.set(v,m,y),n.set(E,P,S),r.fromRotationXYTranslation(n,h,w);for(var O=0;O<a.models.length;O++)for(var L=a.models[O],b=L.vertices,D=L.textureCoords,I=L.faces,B=0;B<I.length;B++){var V=I[B],Y=V.vertices[0],k=V.vertices[1],W=V.vertices[2],G=b[Y.vertexIndex],U=b[k.vertexIndex],F=b[W.vertexIndex],N=Y.textureCoordsIndex,z=k.textureCoordsIndex,X=W.textureCoordsIndex,H=N===-1?{u:0,v:1}:D[N],$=z===-1?{u:0,v:0}:D[z],K=X===-1?{u:1,v:1}:D[X],Z=16777215;V.material!==""&&R[V.material]&&(Z=R[V.material]);var J=new l(G.x*p,G.y*p,G.z*p,H.u,H.v,Z).transformMat4(r),j=new l(U.x*p,U.y*p,U.z*p,$.u,$.v,Z).transformMat4(r),Q=new l(F.x*p,F.y*p,F.z*p,K.u,K.v,Z).transformMat4(r);A.verts.push(J,j,Q),A.faces.push(new u(J,j,Q))}return c&&(c.faces=c.faces.concat(A.faces),c.vertices=c.vertices.concat(A.verts)),A};o.exports=f},67623:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(18693),x=e(85769),d=function(l,h,n,r,f,a,c,p){if(r===void 0&&(r=!1),a===void 0&&(a=16777215),c===void 0&&(c=1),p===void 0&&(p=!1),l.length!==h.length&&!r){console.warn("GenerateVerts: vertices and uvs count not equal");return}var v={faces:[],vertices:[]},m,y,E,P,S,w,A,R,O,L,b,D=r?3:2,I=Array.isArray(a),B=Array.isArray(c);if(Array.isArray(n)&&n.length>0)for(m=0;m<n.length;m++){var V=n[m],Y=n[m]*2,k=n[m]*D;y=l[k],E=l[k+1],P=r?l[k+2]:0,S=h[Y],w=h[Y+1],p&&(w=1-w),A=I?a[V]:a,R=B?c[V]:c,O=0,L=0,b=0,f&&(O=f[k],L=f[k+1],b=r?f[k+2]:0),v.vertices.push(new x(y,E,P,S,w,A,R,O,L,b))}else{var W=0,G=0;for(m=0;m<l.length;m+=D)y=l[m],E=l[m+1],P=r?l[m+2]:0,S=h[W],w=h[W+1],A=I?a[G]:a,R=B?c[G]:c,O=0,L=0,b=0,f&&(O=f[m],L=f[m+1],b=r?f[m+2]:0),v.vertices.push(new x(y,E,P,S,w,A,R,O,L,b)),W+=2,G++}for(m=0;m<v.vertices.length;m+=3){var U=v.vertices[m],F=v.vertices[m+1],N=v.vertices[m+2];v.faces.push(new u(U,F,N))}return v};o.exports=d},27291:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,e="untitled",u="",x="";function d(y){var E=y.indexOf("#");return E>-1?y.substring(0,E):y}function l(y){return y.models.length===0&&y.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),u="",y.models[y.models.length-1]}function h(y,E){var P=y.length>=2?y[1]:e;E.models.push({faces:[],name:P,textureCoords:[],vertexNormals:[],vertices:[]}),u=""}function n(y){y.length===2&&(u=y[1])}function r(y,E){var P=y.length,S=P>=2?parseFloat(y[1]):0,w=P>=3?parseFloat(y[2]):0,A=P>=4?parseFloat(y[3]):0;l(E).vertices.push({x:S,y:w,z:A})}function f(y,E){var P=y.length,S=P>=2?parseFloat(y[1]):0,w=P>=3?parseFloat(y[2]):0,A=P>=4?parseFloat(y[3]):0;isNaN(S)&&(S=0),isNaN(w)&&(w=0),isNaN(A)&&(A=0),T&&(w=1-w),l(E).textureCoords.push({u:S,v:w,w:A})}function a(y,E){var P=y.length,S=P>=2?parseFloat(y[1]):0,w=P>=3?parseFloat(y[2]):0,A=P>=4?parseFloat(y[3]):0;l(E).vertexNormals.push({x:S,y:w,z:A})}function c(y,E){var P=y.length-1;if(!(P<3)){for(var S={group:u,material:x,vertices:[]},w=0;w<P;w++){var A=y[w+1],R=A.split("/"),O=R.length;if(!(O<1||O>3)){var L=0,b=0,D=0;L=parseInt(R[0],10),O>1&&R[1]!==""&&(b=parseInt(R[1],10)),O>2&&(D=parseInt(R[2],10)),L!==0&&(L<0&&(L=l(E).vertices.length+1+L),b-=1,L-=1,D-=1,S.vertices.push({textureCoordsIndex:b,vertexIndex:L,vertexNormalIndex:D}))}}l(E).faces.push(S)}}function p(y,E){y.length>=2&&E.materialLibraries.push(y[1])}function v(y){y.length>=2&&(x=y[1])}var m=function(y,E){E===void 0&&(E=!0),T=E;var P={materials:{},materialLibraries:[],models:[]};u="",x="";for(var S=y.split(`
`),w=0;w<S.length;w++){var A=d(S[w]),R=A.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":h(R,P);break;case"g":n(R);break;case"v":r(R,P);break;case"vt":f(R,P);break;case"vn":a(R,P);break;case"f":c(R,P);break;case"mtllib":p(R,P);break;case"usemtl":v(R);break}}return P};o.exports=m},76799:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22946),x=function(d){for(var l={},h=d.split(`
`),n="",r=0;r<h.length;r++){var f=h[r].trim();if(!(f.indexOf("#")===0||f==="")){var a=f.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":{n=a[1];break}case"kd":{var c=Math.floor(a[1]*255),p=a.length>=2?Math.floor(a[2]*255):c,v=a.length>=3?Math.floor(a[3]*255):c;l[n]=u(c,p,v);break}}}}return l};o.exports=x},15313:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l,h;if(x===void 0&&d===void 0){var n=e.getInCenter();l=n.x,h=n.y}var r=Math.cos(u),f=Math.sin(u),a=e.vertex1,c=e.vertex2,p=e.vertex3,v=a.x-l,m=a.y-h;a.set(v*r-m*f+l,v*f+m*r+h),v=c.x-l,m=c.y-h,c.set(v*r-m*f+l,v*f+m*r+h),v=p.x-l,m=p.y-h,p.set(v*r-m*f+l,v*f+m*r+h)};o.exports=T},85769:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(75512),d=e(70015),l=new u({Extends:d,initialize:function(n,r,f,a,c,p,v,m,y,E){p===void 0&&(p=16777215),v===void 0&&(v=1),m===void 0&&(m=0),y===void 0&&(y=0),E===void 0&&(E=0),d.call(this,n,r,f),this.vx=0,this.vy=0,this.vz=0,this.nx=m,this.ny=y,this.nz=E,this.u=a,this.v=c,this.color=p,this.alpha=v,this.tx=0,this.ty=0,this.ta=0,this.tu=a,this.tv=c},setUVs:function(h,n){return this.u=h,this.v=n,this.tu=h,this.tv=n,this},scrollUV:function(h,n){return this.tu+=h,this.tv+=n,this},scaleUV:function(h,n){return this.tu=this.u*h,this.tv=this.v*n,this},transformCoordinatesLocal:function(h,n,r,f){var a=this.x,c=this.y,p=this.z,v=h.val,m=a*v[0]+c*v[4]+p*v[8]+v[12],y=a*v[1]+c*v[5]+p*v[9]+v[13],E=a*v[2]+c*v[6]+p*v[10]+v[14],P=a*v[3]+c*v[7]+p*v[11]+v[15];this.vx=m/P*n,this.vy=-(y/P)*r,f<=0?this.vz=E/P:this.vz=-(E/P)},resize:function(h,n,r,f,a,c){return this.x=h,this.y=n,this.vx=this.x*r,this.vy=-this.y*f,this.vz=0,a<.5?this.vx+=r*(.5-a):a>.5&&(this.vx-=r*(a-.5)),c<.5?this.vy+=f*(.5-c):c>.5&&(this.vy-=f*(c-.5)),this},update:function(h,n,r,f,a,c,p,v){var m=this.vx*h+this.vy*r+a,y=this.vx*n+this.vy*f+c;return p&&(m=Math.round(m),y=Math.round(y)),this.tx=m,this.ty=y,this.ta=this.alpha*v,this},load:function(h,n,r,f,a){return h[++r]=this.tx,h[++r]=this.ty,h[++r]=this.tu,h[++r]=this.tv,h[++r]=f,h[++r]=a,n[++r]=x.getTintAppendFloatAlpha(this.color,this.ta),r}});o.exports=l},14293:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Face:e(18693),GenerateGridVerts:e(99425),GenerateObjVerts:e(53267),GenerateVerts:e(67623),ParseObj:e(27291),ParseObjMaterial:e(76799),RotateFace:e(15313),Vertex:e(85769)};o.exports=u},77601:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};o.exports=T},38933:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d){return new u(d.x,d.y)};o.exports=x},47103:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x,e.y)};o.exports=T},13625:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x===u.x&&e.y===u.y};o.exports=T},12536:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};o.exports=T},54205:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){if(l===void 0&&(l=new u),!Array.isArray(d))throw new Error("GetCentroid points argument must be an array");var h=d.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(h===1)l.x=d[0].x,l.y=d[0].y;else{for(var n=0;n<h;n++)l.x+=d[n].x,l.y+=d[n].y;l.x/=h,l.y/=h}return l};o.exports=x},50083:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};o.exports=T},82712:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x*e.x+e.y*e.y};o.exports=T},20052:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=function(d,l){l===void 0&&(l=new u);for(var h=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,a=0;a<d.length;a++){var c=d[a];c.x>h&&(h=c.x),c.x<n&&(n=c.x),c.y>r&&(r=c.y),c.y<f&&(f=c.y)}return l.x=n,l.y=f,l.width=h-n,l.height=r-f,l};o.exports=x},77154:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l,h,n){return h===void 0&&(h=0),n===void 0&&(n=new u),n.x=d.x+(l.x-d.x)*h,n.y=d.y+(l.y-d.y)*h,n};o.exports=x},42397:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.setTo(e.y,e.x)};o.exports=T},59464:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){return l===void 0&&(l=new u),l.setTo(-d.x,-d.y)};o.exports=x},79967:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(52394),d=new u({initialize:function(h,n){h===void 0&&(h=0),n===void 0&&(n=h),this.type=x.POINT,this.x=h,this.y=n},setTo:function(l,h){return l===void 0&&(l=0),h===void 0&&(h=l),this.x=l,this.y=h,this}});o.exports=d},53581:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=e(82712),d=function(l,h,n){n===void 0&&(n=new u);var r=l.x*h.x+l.y*h.y,f=r/x(h);return f!==0&&(n.x=f*h.x,n.y=f*h.y),n};o.exports=d},50817:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l,h){h===void 0&&(h=new u);var n=d.x*l.x+d.y*l.y;return n!==0&&(h.x=n*l.x,h.y=n*l.y),h};o.exports=x},40525:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50083),x=function(d,l){if(d.x!==0||d.y!==0){var h=u(d);d.x/=h,d.y/=h}return d.x*=l,d.y*=l,d};o.exports=x},63472:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967);u.Ceil=e(77601),u.Clone=e(38933),u.CopyFrom=e(47103),u.Equals=e(13625),u.Floor=e(12536),u.GetCentroid=e(54205),u.GetMagnitude=e(50083),u.GetMagnitudeSq=e(82712),u.GetRectangleFromPoints=e(20052),u.Interpolate=e(77154),u.Invert=e(42397),u.Negative=e(59464),u.Project=e(53581),u.ProjectUnit=e(50817),u.SetMagnitude=e(40525),o.exports=u},19631:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8580),x=function(d){return new u(d.points)};o.exports=x},45604:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){for(var d=!1,l=-1,h=e.points.length-1;++l<e.points.length;h=l){var n=e.points[l].x,r=e.points[l].y,f=e.points[h].x,a=e.points[h].y;(r<=x&&x<a||a<=x&&x<r)&&u<(f-n)*(x-r)/(a-r)+n&&(d=!d)}return d};o.exports=T},87289:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45604),x=function(d,l){return u(d,l.x,l.y)};o.exports=x},11117:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(G,U,F){F=F||2;var N=U&&U.length,z=N?U[0]*F:G.length,X=e(G,0,z,F,!0),H=[];if(!X||X.next===X.prev)return H;var $,K,Z,J,j,Q,tt;if(N&&(X=r(G,U,X,F)),G.length>80*F){$=Z=G[0],K=J=G[1];for(var _=F;_<z;_+=F)j=G[_],Q=G[_+1],j<$&&($=j),Q<K&&(K=Q),j>Z&&(Z=j),Q>J&&(J=Q);tt=Math.max(Z-$,J-K),tt=tt!==0?32767/tt:0}return x(X,H,F,$,K,tt,0),H}function e(G,U,F,N,z){var X,H;if(z===W(G,U,F,N)>0)for(X=U;X<F;X+=N)H=V(X,G[X],G[X+1],H);else for(X=F-N;X>=U;X-=N)H=V(X,G[X],G[X+1],H);return H&&A(H,H.next)&&(Y(H),H=H.next),H}function u(G,U){if(!G)return G;U||(U=G);var F=G,N;do if(N=!1,!F.steiner&&(A(F,F.next)||w(F.prev,F,F.next)===0)){if(Y(F),F=U=F.prev,F===F.next)break;N=!0}else F=F.next;while(N||F!==U);return U}function x(G,U,F,N,z,X,H){if(!!G){!H&&X&&v(G,N,z,X);for(var $=G,K,Z;G.prev!==G.next;){if(K=G.prev,Z=G.next,X?l(G,N,z,X):d(G)){U.push(K.i/F|0),U.push(G.i/F|0),U.push(Z.i/F|0),Y(G),G=Z.next,$=Z.next;continue}if(G=Z,G===$){H?H===1?(G=h(u(G),U,F),x(G,U,F,N,z,X,2)):H===2&&n(G,U,F,N,z,X):x(u(G),U,F,N,z,X,1);break}}}}function d(G){var U=G.prev,F=G,N=G.next;if(w(U,F,N)>=0)return!1;for(var z=U.x,X=F.x,H=N.x,$=U.y,K=F.y,Z=N.y,J=z<X?z<H?z:H:X<H?X:H,j=$<K?$<Z?$:Z:K<Z?K:Z,Q=z>X?z>H?z:H:X>H?X:H,tt=$>K?$>Z?$:Z:K>Z?K:Z,_=N.next;_!==U;){if(_.x>=J&&_.x<=Q&&_.y>=j&&_.y<=tt&&P(z,$,X,K,H,Z,_.x,_.y)&&w(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function l(G,U,F,N){var z=G.prev,X=G,H=G.next;if(w(z,X,H)>=0)return!1;for(var $=z.x,K=X.x,Z=H.x,J=z.y,j=X.y,Q=H.y,tt=$<K?$<Z?$:Z:K<Z?K:Z,_=J<j?J<Q?J:Q:j<Q?j:Q,it=$>K?$>Z?$:Z:K>Z?K:Z,ht=J>j?J>Q?J:Q:j>Q?j:Q,lt=y(tt,_,U,F,N),ot=y(it,ht,U,F,N),et=G.prevZ,at=G.nextZ;et&&et.z>=lt&&at&&at.z<=ot;){if(et.x>=tt&&et.x<=it&&et.y>=_&&et.y<=ht&&et!==z&&et!==H&&P($,J,K,j,Z,Q,et.x,et.y)&&w(et.prev,et,et.next)>=0||(et=et.prevZ,at.x>=tt&&at.x<=it&&at.y>=_&&at.y<=ht&&at!==z&&at!==H&&P($,J,K,j,Z,Q,at.x,at.y)&&w(at.prev,at,at.next)>=0))return!1;at=at.nextZ}for(;et&&et.z>=lt;){if(et.x>=tt&&et.x<=it&&et.y>=_&&et.y<=ht&&et!==z&&et!==H&&P($,J,K,j,Z,Q,et.x,et.y)&&w(et.prev,et,et.next)>=0)return!1;et=et.prevZ}for(;at&&at.z<=ot;){if(at.x>=tt&&at.x<=it&&at.y>=_&&at.y<=ht&&at!==z&&at!==H&&P($,J,K,j,Z,Q,at.x,at.y)&&w(at.prev,at,at.next)>=0)return!1;at=at.nextZ}return!0}function h(G,U,F){var N=G;do{var z=N.prev,X=N.next.next;!A(z,X)&&R(z,N,N.next,X)&&D(z,X)&&D(X,z)&&(U.push(z.i/F|0),U.push(N.i/F|0),U.push(X.i/F|0),Y(N),Y(N.next),N=G=X),N=N.next}while(N!==G);return u(N)}function n(G,U,F,N,z,X){var H=G;do{for(var $=H.next.next;$!==H.prev;){if(H.i!==$.i&&S(H,$)){var K=B(H,$);H=u(H,H.next),K=u(K,K.next),x(H,U,F,N,z,X,0),x(K,U,F,N,z,X,0);return}$=$.next}H=H.next}while(H!==G)}function r(G,U,F,N){var z=[],X,H,$,K,Z;for(X=0,H=U.length;X<H;X++)$=U[X]*N,K=X<H-1?U[X+1]*N:G.length,Z=e(G,$,K,N,!1),Z===Z.next&&(Z.steiner=!0),z.push(E(Z));for(z.sort(f),X=0;X<z.length;X++)F=a(z[X],F);return F}function f(G,U){return G.x-U.x}function a(G,U){var F=c(G,U);if(!F)return U;var N=B(F,G);return u(N,N.next),u(F,F.next)}function c(G,U){var F=U,N=G.x,z=G.y,X=-1/0,H;do{if(z<=F.y&&z>=F.next.y&&F.next.y!==F.y){var $=F.x+(z-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if($<=N&&$>X&&(X=$,H=F.x<F.next.x?F:F.next,$===N))return H}F=F.next}while(F!==U);if(!H)return null;var K=H,Z=H.x,J=H.y,j=1/0,Q;F=H;do N>=F.x&&F.x>=Z&&N!==F.x&&P(z<J?N:X,z,Z,J,z<J?X:N,z,F.x,F.y)&&(Q=Math.abs(z-F.y)/(N-F.x),D(F,G)&&(Q<j||Q===j&&(F.x>H.x||F.x===H.x&&p(H,F)))&&(H=F,j=Q)),F=F.next;while(F!==K);return H}function p(G,U){return w(G.prev,G,U.prev)<0&&w(U.next,G,G.next)<0}function v(G,U,F,N){var z=G;do z.z===0&&(z.z=y(z.x,z.y,U,F,N)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==G);z.prevZ.nextZ=null,z.prevZ=null,m(z)}function m(G){var U,F,N,z,X,H,$,K,Z=1;do{for(F=G,G=null,X=null,H=0;F;){for(H++,N=F,$=0,U=0;U<Z&&($++,N=N.nextZ,!!N);U++);for(K=Z;$>0||K>0&&N;)$!==0&&(K===0||!N||F.z<=N.z)?(z=F,F=F.nextZ,$--):(z=N,N=N.nextZ,K--),X?X.nextZ=z:G=z,z.prevZ=X,X=z;F=N}X.nextZ=null,Z*=2}while(H>1);return G}function y(G,U,F,N,z){return G=(G-F)*z|0,U=(U-N)*z|0,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,G|U<<1}function E(G){var U=G,F=G;do(U.x<F.x||U.x===F.x&&U.y<F.y)&&(F=U),U=U.next;while(U!==G);return F}function P(G,U,F,N,z,X,H,$){return(z-H)*(U-$)>=(G-H)*(X-$)&&(G-H)*(N-$)>=(F-H)*(U-$)&&(F-H)*(X-$)>=(z-H)*(N-$)}function S(G,U){return G.next.i!==U.i&&G.prev.i!==U.i&&!b(G,U)&&(D(G,U)&&D(U,G)&&I(G,U)&&(w(G.prev,G,U.prev)||w(G,U.prev,U))||A(G,U)&&w(G.prev,G,G.next)>0&&w(U.prev,U,U.next)>0)}function w(G,U,F){return(U.y-G.y)*(F.x-U.x)-(U.x-G.x)*(F.y-U.y)}function A(G,U){return G.x===U.x&&G.y===U.y}function R(G,U,F,N){var z=L(w(G,U,F)),X=L(w(G,U,N)),H=L(w(F,N,G)),$=L(w(F,N,U));return!!(z!==X&&H!==$||z===0&&O(G,F,U)||X===0&&O(G,N,U)||H===0&&O(F,G,N)||$===0&&O(F,U,N))}function O(G,U,F){return U.x<=Math.max(G.x,F.x)&&U.x>=Math.min(G.x,F.x)&&U.y<=Math.max(G.y,F.y)&&U.y>=Math.min(G.y,F.y)}function L(G){return G>0?1:G<0?-1:0}function b(G,U){var F=G;do{if(F.i!==G.i&&F.next.i!==G.i&&F.i!==U.i&&F.next.i!==U.i&&R(F,F.next,G,U))return!0;F=F.next}while(F!==G);return!1}function D(G,U){return w(G.prev,G,G.next)<0?w(G,U,G.next)>=0&&w(G,G.prev,U)>=0:w(G,U,G.prev)<0||w(G,G.next,U)<0}function I(G,U){var F=G,N=!1,z=(G.x+U.x)/2,X=(G.y+U.y)/2;do F.y>X!=F.next.y>X&&F.next.y!==F.y&&z<(F.next.x-F.x)*(X-F.y)/(F.next.y-F.y)+F.x&&(N=!N),F=F.next;while(F!==G);return N}function B(G,U){var F=new k(G.i,G.x,G.y),N=new k(U.i,U.x,U.y),z=G.next,X=U.prev;return G.next=U,U.prev=G,F.next=z,z.prev=F,N.next=F,F.prev=N,X.next=N,N.prev=X,N}function V(G,U,F,N){var z=new k(G,U,F);return N?(z.next=N.next,z.prev=N,N.next.prev=z,N.next=z):(z.prev=z,z.next=z),z}function Y(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function k(G,U,F){this.i=G,this.x=U,this.y=F,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(G,U,F,N){var z=U&&U.length,X=z?U[0]*F:G.length,H=Math.abs(W(G,0,X,F));if(z)for(var $=0,K=U.length;$<K;$++){var Z=U[$]*F,J=$<K-1?U[$+1]*F:G.length;H-=Math.abs(W(G,Z,J,F))}var j=0;for($=0;$<N.length;$+=3){var Q=N[$]*F,tt=N[$+1]*F,_=N[$+2]*F;j+=Math.abs((G[Q]-G[_])*(G[tt+1]-G[Q+1])-(G[Q]-G[tt])*(G[_+1]-G[Q+1]))}return H===0&&j===0?0:Math.abs((j-H)/H)};function W(G,U,F,N){for(var z=0,X=U,H=F-N;X<F;X+=N)z+=(G[H]-G[X])*(G[X+1]+G[H+1]),H=X;return z}T.flatten=function(G){for(var U=G[0][0].length,F={vertices:[],holes:[],dimensions:U},N=0,z=0;z<G.length;z++){for(var X=0;X<G[z].length;X++)for(var H=0;H<U;H++)F.vertices.push(G[z][X][H]);z>0&&(N+=G[z-1].length,F.holes.push(N))}return F},o.exports=T},14045:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=function(d,l){l===void 0&&(l=new u);for(var h=1/0,n=1/0,r=-h,f=-n,a,c=0;c<d.points.length;c++)a=d.points[c],h=Math.min(h,a.x),n=Math.min(n,a.y),r=Math.max(r,a.x),f=Math.max(f,a.y);return l.x=h,l.y=n,l.width=r-h,l.height=f-n,l};o.exports=x},98286:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=[]);for(var x=0;x<e.points.length;x++)u.push(e.points[x].x),u.push(e.points[x].y);return u};o.exports=T},89294:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),x=e(88829),d=e(5159),l=function(h,n,r,f){f===void 0&&(f=[]);var a=h.points,c=d(h);!n&&r>0&&(n=c/r);for(var p=0;p<n;p++)for(var v=c*(p/n),m=0,y=0;y<a.length;y++){var E=a[y],P=a[(y+1)%a.length],S=new x(E.x,E.y,P.x,P.y),w=u(S);if(v<m||v>m+w){m+=w;continue}var A=S.getPoint((v-m)/w);f.push(A);break}return f};o.exports=l},5159:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),x=e(88829),d=function(l){for(var h=l.points,n=0,r=0;r<h.length;r++){var f=h[r],a=h[(r+1)%h.length],c=new x(f.x,f.y,a.x,a.y);n+=u(c)}return n};o.exports=d},8580:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(45604),d=e(89294),l=e(52394),h=new u({initialize:function(r){this.type=l.POLYGON,this.area=0,this.points=[],r&&this.setTo(r)},contains:function(n,r){return x(this,n,r)},setTo:function(n){if(this.area=0,this.points=[],typeof n=="string"&&(n=n.split(" ")),!Array.isArray(n))return this;for(var r,f=Number.MAX_VALUE,a=0;a<n.length;a++)r={x:0,y:0},typeof n[a]=="number"||typeof n[a]=="string"?(r.x=parseFloat(n[a]),r.y=parseFloat(n[a+1]),a++):Array.isArray(n[a])?(r.x=n[a][0],r.y=n[a][1]):(r.x=n[a].x,r.y=n[a].y),this.points.push(r),r.y<f&&(f=r.y);return this.calculateArea(f),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var n=0,r,f,a=0;a<this.points.length-1;a++)r=this.points[a],f=this.points[a+1],n+=(f.x-r.x)*(r.y+f.y);return r=this.points[0],f=this.points[this.points.length-1],n+=(r.x-f.x)*(f.y+r.y),this.area=-n*.5,this.area},getPoints:function(n,r,f){return d(this,n,r,f)}});o.exports=h},32244:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.points.reverse(),e};o.exports=T},95874:o=>{function T(h,n){var r=h.x-n.x,f=h.y-n.y;return r*r+f*f}function e(h,n,r){var f=n.x,a=n.y,c=r.x-f,p=r.y-a;if(c!==0||p!==0){var v=((h.x-f)*c+(h.y-a)*p)/(c*c+p*p);v>1?(f=r.x,a=r.y):v>0&&(f+=c*v,a+=p*v)}return c=h.x-f,p=h.y-a,c*c+p*p}function u(h,n){for(var r=h[0],f=[r],a,c=1,p=h.length;c<p;c++)a=h[c],T(a,r)>n&&(f.push(a),r=a);return r!==a&&f.push(a),f}function x(h,n,r,f,a){for(var c=f,p,v=n+1;v<r;v++){var m=e(h[v],h[n],h[r]);m>c&&(p=v,c=m)}c>f&&(p-n>1&&x(h,n,p,f,a),a.push(h[p]),r-p>1&&x(h,p,r,f,a))}function d(h,n){var r=h.length-1,f=[h[0]];return x(h,0,r,n,f),f.push(h[r]),f}var l=function(h,n,r){n===void 0&&(n=1),r===void 0&&(r=!1);var f=h.points;if(f.length>2){var a=n*n;r||(f=u(f,a)),h.setTo(d(f,a))}return h};o.exports=l},18974:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(u,x){return u[0]=x[0],u[1]=x[1],u},e=function(u){var x,d=[],l=u.points;for(x=0;x<l.length;x++)d.push([l[x].x,l[x].y]);var h=[];for(d.length>0&&h.push(T([0,0],d[0])),x=0;x<d.length-1;x++){var n=d[x],r=d[x+1],f=n[0],a=n[1],c=r[0],p=r[1];h.push([.85*f+.15*c,.85*a+.15*p]),h.push([.15*f+.85*c,.15*a+.85*p])}return d.length>1&&h.push(T([0,0],d[d.length-1])),u.setTo(h)};o.exports=e},23490:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){for(var d=e.points,l=0;l<d.length;l++)d[l].x+=u,d[l].y+=x;return e};o.exports=T},44359:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8580);u.Clone=e(19631),u.Contains=e(45604),u.ContainsPoint=e(87289),u.Earcut=e(11117),u.GetAABB=e(14045),u.GetNumberArray=e(98286),u.GetPoints=e(89294),u.Perimeter=e(5159),u.Reverse=e(32244),u.Simplify=e(95874),u.Smooth=e(18974),u.Translate=e(23490),o.exports=u},1653:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.width*e.height};o.exports=T},33943:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};o.exports=T},58662:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};o.exports=T},79993:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e.x=u-e.width/2,e.y=x-e.height/2,e};o.exports=T},81572:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=function(d){return new u(d.x,d.y,d.width,d.height)};o.exports=x},94287:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e.width<=0||e.height<=0?!1:e.x<=u&&e.x+e.width>=u&&e.y<=x&&e.y+e.height>=x};o.exports=T},28687:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(94287),x=function(d,l){return u(d,l.x,l.y)};o.exports=x},73222:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.width*u.height>e.width*e.height?!1:u.x>e.x&&u.x<e.right&&u.right>e.x&&u.right<e.right&&u.y>e.y&&u.y<e.bottom&&u.bottom>e.y&&u.bottom<e.bottom};o.exports=T},29538:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};o.exports=T},87279:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x,y:e.y}),u.push({x:e.right,y:e.y}),u.push({x:e.right,y:e.bottom}),u.push({x:e.x,y:e.bottom}),u};o.exports=T},19989:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};o.exports=T},92628:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6700),x=function(d,l){var h=u(d);return h<u(l)?d.setSize(l.height*h,l.height):d.setSize(l.width,l.width/h),d.setPosition(l.centerX-d.width/2,l.centerY-d.height/2)};o.exports=x},85028:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6700),x=function(d,l){var h=u(d);return h>u(l)?d.setSize(l.height*h,l.height):d.setSize(l.width,l.width/h),d.setPosition(l.centerX-d.width/2,l.centerY-d.height/2)};o.exports=x},71356:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};o.exports=T},21687:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};o.exports=T},80222:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=e(83392),d=function(l,h){if(h===void 0&&(h=new u),l.length===0)return h;for(var n=Number.MAX_VALUE,r=Number.MAX_VALUE,f=x.MIN_SAFE_INTEGER,a=x.MIN_SAFE_INTEGER,c,p,v,m=0;m<l.length;m++)c=l[m],Array.isArray(c)?(p=c[0],v=c[1]):(p=c.x,v=c.y),n=Math.min(n,p),r=Math.min(r,v),f=Math.max(f,p),a=Math.max(a,v);return h.x=n,h.y=r,h.width=f-n,h.height=a-r,h};o.exports=d},75785:(o,T,e)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=function(d,l,h,n,r){return r===void 0&&(r=new u),r.setTo(Math.min(d,h),Math.min(l,n),Math.abs(d-h),Math.abs(l-n))};o.exports=x},6700:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.height===0?NaN:e.width/e.height};o.exports=T},35242:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){return l===void 0&&(l=new u),l.x=d.centerX,l.y=d.centerY,l};o.exports=x},47698:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85876),x=e(79967),d=function(l,h,n){if(n===void 0&&(n=new x),h<=0||h>=1)return n.x=l.x,n.y=l.y,n;var r=u(l)*h;return h>.5?(r-=l.width+l.height,r<=l.width?(n.x=l.right-r,n.y=l.bottom):(n.x=l.x,n.y=l.bottom-(r-l.width))):r<=l.width?(n.x=l.x+r,n.y=l.y):(n.x=l.right,n.y=l.y+(r-l.width)),n};o.exports=d},54932:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47698),x=e(85876),d=function(l,h,n,r){r===void 0&&(r=[]),!h&&n>0&&(h=x(l)/n);for(var f=0;f<h;f++){var a=f/h;r.push(u(l,a))}return r};o.exports=d},31591:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){return l===void 0&&(l=new u),l.x=d.width,l.y=d.height,l};o.exports=x},7782:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79993),x=function(d,l,h){var n=d.centerX,r=d.centerY;return d.setSize(d.width+l*2,d.height+h*2),u(d,n,r)};o.exports=x},66217:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=e(90205),d=function(l,h,n){return n===void 0&&(n=new u),x(l,h)?(n.x=Math.max(l.x,h.x),n.y=Math.max(l.y,h.y),n.width=Math.min(l.right,h.right)-n.x,n.height=Math.min(l.bottom,h.bottom)-n.y):n.setEmpty(),n};o.exports=d},40053:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(85876),x=e(79967),d=function(l,h,n,r){if(r===void 0&&(r=[]),!h&&!n)return r;h?n=Math.round(u(l)/h):h=u(l)/n;for(var f=l.x,a=l.y,c=0,p=0;p<n;p++)switch(r.push(new x(f,a)),c){case 0:f+=h,f>=l.right&&(c=1,a+=f-l.right,f=l.right);break;case 1:a+=h,a>=l.bottom&&(c=2,f-=a-l.bottom,a=l.bottom);break;case 2:f-=h,f<=l.left&&(c=3,a-=l.left-f,f=l.left);break;case 3:a-=h,a<=l.top&&(c=0,a=l.top);break}return r};o.exports=d},86673:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){for(var x=e.x,d=e.right,l=e.y,h=e.bottom,n=0;n<u.length;n++)x=Math.min(x,u[n].x),d=Math.max(d,u[n].x),l=Math.min(l,u[n].y),h=Math.max(h,u[n].y);return e.x=x,e.y=l,e.width=d-x,e.height=h-l,e};o.exports=T},14655:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=Math.min(e.x,u.x),d=Math.max(e.right,u.right);e.x=x,e.width=d-x;var l=Math.min(e.y,u.y),h=Math.max(e.bottom,u.bottom);return e.y=l,e.height=h-l,e};o.exports=T},44755:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=Math.min(e.x,u),l=Math.max(e.right,u);e.x=d,e.width=l-d;var h=Math.min(e.y,x),n=Math.max(e.bottom,x);return e.y=h,e.height=n-h,e};o.exports=T},74466:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e.x+=u,e.y+=x,e};o.exports=T},55946:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x+=u.x,e.y+=u.y,e};o.exports=T},97474:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x<u.right&&e.right>u.x&&e.y<u.bottom&&e.bottom>u.y};o.exports=T},85876:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return 2*(e.width+e.height)};o.exports=T},20243:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=e(75606),d=function(l,h,n){n===void 0&&(n=new u),h=x(h);var r=Math.sin(h),f=Math.cos(h),a=f>0?l.width/2:l.width/-2,c=r>0?l.height/2:l.height/-2;return Math.abs(a*r)<Math.abs(c*f)?c=a*r/f:a=c*f/r,n.x=a+l.centerX,n.y=c+l.centerY,n};o.exports=d},30001:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){return l===void 0&&(l=new u),l.x=d.x+Math.random()*d.width,l.y=d.y+Math.random()*d.height,l};o.exports=x},97691:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(17489),x=e(73222),d=e(79967),l=function(h,n,r){if(r===void 0&&(r=new d),x(h,n))switch(u(0,3)){case 0:r.x=h.x+Math.random()*(n.right-h.x),r.y=h.y+Math.random()*(n.top-h.y);break;case 1:r.x=n.x+Math.random()*(h.right-n.x),r.y=n.bottom+Math.random()*(h.bottom-n.bottom);break;case 2:r.x=h.x+Math.random()*(n.x-h.x),r.y=n.y+Math.random()*(h.bottom-n.y);break;case 3:r.x=n.right+Math.random()*(h.right-n.right),r.y=h.y+Math.random()*(n.bottom-h.y);break}return r};o.exports=l},74118:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(94287),d=e(47698),l=e(54932),h=e(52394),n=e(88829),r=e(30001),f=new u({initialize:function(c,p,v,m){c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),this.type=h.RECTANGLE,this.x=c,this.y=p,this.width=v,this.height=m},contains:function(a,c){return x(this,a,c)},getPoint:function(a,c){return d(this,a,c)},getPoints:function(a,c,p){return l(this,a,c,p)},getRandomPoint:function(a){return r(this,a)},setTo:function(a,c,p,v){return this.x=a,this.y=c,this.width=p,this.height=v,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(a,c){return c===void 0&&(c=a),this.x=a,this.y=c,this},setSize:function(a,c){return c===void 0&&(c=a),this.width=a,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(a){return a===void 0&&(a=new n),a.setTo(this.x,this.y,this.right,this.y),a},getLineB:function(a){return a===void 0&&(a=new n),a.setTo(this.right,this.y,this.right,this.bottom),a},getLineC:function(a){return a===void 0&&(a=new n),a.setTo(this.right,this.bottom,this.x,this.bottom),a},getLineD:function(a){return a===void 0&&(a=new n),a.setTo(this.x,this.bottom,this.x,this.y),a},left:{get:function(){return this.x},set:function(a){a>=this.right?this.width=0:this.width=this.right-a,this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){a<=this.x?this.width=0:this.width=a-this.x}},top:{get:function(){return this.y},set:function(a){a>=this.bottom?this.height=0:this.height=this.bottom-a,this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){a<=this.y?this.height=0:this.height=a-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(a){this.x=a-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(a){this.y=a-this.height/2}}});o.exports=f},51828:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.width===u.width&&e.height===u.height};o.exports=T},5691:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return x===void 0&&(x=u),e.width*=u,e.height*=x,e};o.exports=T},58795:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=function(d,l,h){h===void 0&&(h=new u);var n=Math.min(d.x,l.x),r=Math.min(d.y,l.y),f=Math.max(d.right,l.right)-n,a=Math.max(d.bottom,l.bottom)-r;return h.setTo(n,r,f,a)};o.exports=x},66658:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118);u.Area=e(1653),u.Ceil=e(33943),u.CeilAll=e(58662),u.CenterOn=e(79993),u.Clone=e(81572),u.Contains=e(94287),u.ContainsPoint=e(28687),u.ContainsRect=e(73222),u.CopyFrom=e(29538),u.Decompose=e(87279),u.Equals=e(19989),u.FitInside=e(92628),u.FitOutside=e(85028),u.Floor=e(71356),u.FloorAll=e(21687),u.FromPoints=e(80222),u.FromXY=e(75785),u.GetAspectRatio=e(6700),u.GetCenter=e(35242),u.GetPoint=e(47698),u.GetPoints=e(54932),u.GetSize=e(31591),u.Inflate=e(7782),u.Intersection=e(66217),u.MarchingAnts=e(40053),u.MergePoints=e(86673),u.MergeRect=e(14655),u.MergeXY=e(44755),u.Offset=e(74466),u.OffsetPoint=e(55946),u.Overlaps=e(97474),u.Perimeter=e(85876),u.PerimeterPoint=e(20243),u.Random=e(30001),u.RandomOutside=e(97691),u.SameDimensions=e(51828),u.Scale=e(5691),u.Union=e(58795),o.exports=u},19108:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=e.x1,x=e.y1,d=e.x2,l=e.y2,h=e.x3,n=e.y3;return Math.abs(((h-u)*(l-x)-(d-u)*(n-x))/2)};o.exports=T},41199:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66349),x=function(d,l,h){var n=h*(Math.sqrt(3)/2),r=d,f=l,a=d+h/2,c=l+n,p=d-h/2,v=l+n;return new u(r,f,a,c,p,v)};o.exports=x},88730:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(11117),x=e(66349),d=function(l,h,n,r,f){h===void 0&&(h=null),n===void 0&&(n=1),r===void 0&&(r=1),f===void 0&&(f=[]);for(var a=u(l,h),c,p,v,m,y,E,P,S,w,A=0;A<a.length;A+=3)c=a[A],p=a[A+1],v=a[A+2],m=l[c*2]*n,y=l[c*2+1]*r,E=l[p*2]*n,P=l[p*2+1]*r,S=l[v*2]*n,w=l[v*2+1]*r,f.push(new x(m,y,E,P,S,w));return f};o.exports=d},3635:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66349),x=function(d,l,h,n){n===void 0&&(n=h);var r=d,f=l,a=d,c=l-n,p=d+h,v=l;return new u(r,f,a,c,p,v)};o.exports=x},1882:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56595),x=e(9640),d=function(l,h,n,r){r===void 0&&(r=u);var f=r(l),a=h-f.x,c=n-f.y;return x(l,a,c)};o.exports=d},56595:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){return l===void 0&&(l=new u),l.x=(d.x1+d.x2+d.x3)/3,l.y=(d.y1+d.y2+d.y3)/3,l};o.exports=x},91835:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736);function x(l,h,n,r){return l*r-h*n}var d=function(l,h){h===void 0&&(h=new u);var n=l.x3,r=l.y3,f=l.x1-n,a=l.y1-r,c=l.x2-n,p=l.y2-r,v=2*x(f,a,c,p),m=x(a,f*f+a*a,p,c*c+p*p),y=x(f,f*f+a*a,c,c*c+p*p);return h.x=n-m/v,h.y=r+y/v,h};o.exports=d},97073:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26673),x=function(d,l){l===void 0&&(l=new u);var h=d.x1,n=d.y1,r=d.x2,f=d.y2,a=d.x3,c=d.y3,p=r-h,v=f-n,m=a-h,y=c-n,E=p*(h+r)+v*(n+f),P=m*(h+a)+y*(n+c),S=2*(p*(c-f)-v*(a-r)),w,A;if(Math.abs(S)<1e-6){var R=Math.min(h,r,a),O=Math.min(n,f,c);w=(Math.max(h,r,a)-R)*.5,A=(Math.max(n,f,c)-O)*.5,l.x=R+w,l.y=O+A,l.radius=Math.sqrt(w*w+A*A)}else l.x=(y*E-v*P)/S,l.y=(p*P-m*E)/S,w=l.x-h,A=l.y-n,l.radius=Math.sqrt(w*w+A*A);return l};o.exports=x},75974:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66349),x=function(d){return new u(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)};o.exports=x},60689:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=e.x3-e.x1,l=e.y3-e.y1,h=e.x2-e.x1,n=e.y2-e.y1,r=u-e.x1,f=x-e.y1,a=d*d+l*l,c=d*h+l*n,p=d*r+l*f,v=h*h+n*n,m=h*r+n*f,y=a*v-c*c,E=y===0?0:1/y,P=(v*p-c*m)*E,S=(a*m-c*p)*E;return P>=0&&S>=0&&P+S<1};o.exports=T},86875:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){x===void 0&&(x=!1),d===void 0&&(d=[]);for(var l=e.x3-e.x1,h=e.y3-e.y1,n=e.x2-e.x1,r=e.y2-e.y1,f=l*l+h*h,a=l*n+h*r,c=n*n+r*r,p=f*c-a*a,v=p===0?0:1/p,m,y,E,P,S,w,A=e.x1,R=e.y1,O=0;O<u.length&&(E=u[O].x-A,P=u[O].y-R,S=l*E+h*P,w=n*E+r*P,m=(c*S-a*w)*v,y=(f*w-a*S)*v,!(m>=0&&y>=0&&m+y<1&&(d.push({x:u[O].x,y:u[O].y}),x)));O++);return d};o.exports=T},51532:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60689),x=function(d,l){return u(d,l.x,l.y)};o.exports=x},42538:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};o.exports=T},18680:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x1,y:e.y1}),u.push({x:e.x2,y:e.y2}),u.push({x:e.x3,y:e.y3}),u};o.exports=T},29977:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2&&e.x3===u.x3&&e.y3===u.y3};o.exports=T},56088:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=e(16028),d=function(l,h,n){n===void 0&&(n=new u);var r=l.getLineA(),f=l.getLineB(),a=l.getLineC();if(h<=0||h>=1)return n.x=r.x1,n.y=r.y1,n;var c=x(r),p=x(f),v=x(a),m=c+p+v,y=m*h,E=0;return y<c?(E=y/c,n.x=r.x1+(r.x2-r.x1)*E,n.y=r.y1+(r.y2-r.y1)*E):y>c+p?(y-=c+p,E=y/v,n.x=a.x1+(a.x2-a.x1)*E,n.y=a.y1+(a.y2-a.y1)*E):(y-=c,E=y/p,n.x=f.x1+(f.x2-f.x1)*E,n.y=f.y1+(f.y2-f.y1)*E),n};o.exports=d},24402:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),x=e(79967),d=function(l,h,n,r){r===void 0&&(r=[]);var f=l.getLineA(),a=l.getLineB(),c=l.getLineC(),p=u(f),v=u(a),m=u(c),y=p+v+m;!h&&n>0&&(h=y/n);for(var E=0;E<h;E++){var P=y*(E/h),S=0,w=new x;P<p?(S=P/p,w.x=f.x1+(f.x2-f.x1)*S,w.y=f.y1+(f.y2-f.y1)*S):P>p+v?(P-=p+v,S=P/m,w.x=c.x1+(c.x2-c.x1)*S,w.y=c.y1+(c.y2-c.y1)*S):(P-=p,S=P/v,w.x=a.x1+(a.x2-a.x1)*S,w.y=a.y1+(a.y2-a.y1)*S),r.push(w)}return r};o.exports=d},83648:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967);function x(l,h,n,r){var f=l-n,a=h-r,c=f*f+a*a;return Math.sqrt(c)}var d=function(l,h){h===void 0&&(h=new u);var n=l.x1,r=l.y1,f=l.x2,a=l.y2,c=l.x3,p=l.y3,v=x(c,p,f,a),m=x(n,r,c,p),y=x(f,a,n,r),E=v+m+y;return h.x=(n*v+f*m+c*y)/E,h.y=(r*v+a*m+p*y)/E,h};o.exports=d},9640:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e.x1+=u,e.y1+=x,e.x2+=u,e.y2+=x,e.x3+=u,e.y3+=x,e};o.exports=T},95290:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16028),x=function(d){var l=d.getLineA(),h=d.getLineB(),n=d.getLineC();return u(l)+u(h)+u(n)};o.exports=x},99761:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(79967),x=function(d,l){l===void 0&&(l=new u);var h=d.x2-d.x1,n=d.y2-d.y1,r=d.x3-d.x1,f=d.y3-d.y1,a=Math.random(),c=Math.random();return a+c>=1&&(a=1-a,c=1-c),l.x=d.x1+(h*a+r*c),l.y=d.y1+(n*a+f*c),l};o.exports=x},21934:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19211),x=e(83648),d=function(l,h){var n=x(l);return u(l,n.x,n.y,h)};o.exports=d},68454:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19211),x=function(d,l,h){return u(d,l.x,l.y,h)};o.exports=x},19211:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=Math.cos(d),h=Math.sin(d),n=e.x1-u,r=e.y1-x;return e.x1=n*l-r*h+u,e.y1=n*h+r*l+x,n=e.x2-u,r=e.y2-x,e.x2=n*l-r*h+u,e.y2=n*h+r*l+x,n=e.x3-u,r=e.y3-x,e.x3=n*l-r*h+u,e.y3=n*h+r*l+x,e};o.exports=T},66349:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(60689),d=e(56088),l=e(24402),h=e(52394),n=e(88829),r=e(99761),f=new u({initialize:function(c,p,v,m,y,E){c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=0),E===void 0&&(E=0),this.type=h.TRIANGLE,this.x1=c,this.y1=p,this.x2=v,this.y2=m,this.x3=y,this.y3=E},contains:function(a,c){return x(this,a,c)},getPoint:function(a,c){return d(this,a,c)},getPoints:function(a,c,p){return l(this,a,c,p)},getRandomPoint:function(a){return r(this,a)},setTo:function(a,c,p,v,m,y){return a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=0),y===void 0&&(y=0),this.x1=a,this.y1=c,this.x2=p,this.y2=v,this.x3=m,this.y3=y,this},getLineA:function(a){return a===void 0&&(a=new n),a.setTo(this.x1,this.y1,this.x2,this.y2),a},getLineB:function(a){return a===void 0&&(a=new n),a.setTo(this.x2,this.y2,this.x3,this.y3),a},getLineC:function(a){return a===void 0&&(a=new n),a.setTo(this.x3,this.y3,this.x1,this.y1),a},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(a){var c=0;this.x1<=this.x2&&this.x1<=this.x3?c=this.x1-a:this.x2<=this.x1&&this.x2<=this.x3?c=this.x2-a:c=this.x3-a,this.x1-=c,this.x2-=c,this.x3-=c}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(a){var c=0;this.x1>=this.x2&&this.x1>=this.x3?c=this.x1-a:this.x2>=this.x1&&this.x2>=this.x3?c=this.x2-a:c=this.x3-a,this.x1-=c,this.x2-=c,this.x3-=c}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(a){var c=0;this.y1<=this.y2&&this.y1<=this.y3?c=this.y1-a:this.y2<=this.y1&&this.y2<=this.y3?c=this.y2-a:c=this.y3-a,this.y1-=c,this.y2-=c,this.y3-=c}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(a){var c=0;this.y1>=this.y2&&this.y1>=this.y3?c=this.y1-a:this.y2>=this.y1&&this.y2>=this.y3?c=this.y2-a:c=this.y3-a,this.y1-=c,this.y2-=c,this.y3-=c}}});o.exports=f},87619:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66349);u.Area=e(19108),u.BuildEquilateral=e(41199),u.BuildFromPolygon=e(88730),u.BuildRight=e(3635),u.CenterOn=e(1882),u.Centroid=e(56595),u.CircumCenter=e(91835),u.CircumCircle=e(97073),u.Clone=e(75974),u.Contains=e(60689),u.ContainsArray=e(86875),u.ContainsPoint=e(51532),u.CopyFrom=e(42538),u.Decompose=e(18680),u.Equals=e(29977),u.GetPoint=e(56088),u.GetPoints=e(24402),u.InCenter=e(83648),u.Perimeter=e(95290),u.Offset=e(9640),u.Random=e(99761),u.Rotate=e(21934),u.RotateAroundPoint=e(68454),u.RotateAroundXY=e(19211),o.exports=u},27395:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:u,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};o.exports=T},18104:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return function(x,d,l,h){var n=e.getPixelAlpha(d,l,h.texture.key,h.frame.name);return n&&n>=u}};o.exports=T},69898:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72687),d=e(6659),l=e(33963),h=e(97081),n=e(71064),r=e(7905),f=e(40398),a=e(37579),c=e(69360),p=e(64462),v=new u({initialize:function(y,E){this.game=y,this.scaleManager,this.canvas,this.config=E,this.enabled=!0,this.events=new d,this.isOver=!0,this.defaultCursor="",this.keyboard=E.inputKeyboard?new n(this):null,this.mouse=E.inputMouse?new r(this):null,this.touch=E.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=E.inputActivePointers,E.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var P=0;P<=this.pointersTotal;P++){var S=new f(this,P);S.smoothFactor=E.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=E.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new c,this._tempMatrix2=new c,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],y.events.once(h.BOOT,this.boot,this)},boot:function(){var m=this.game,y=m.events;this.canvas=m.canvas,this.scaleManager=m.scale,this.events.emit(l.MANAGER_BOOT),y.on(h.PRE_RENDER,this.preRender,this),y.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(m){this.isOver=!0,this.events.emit(l.GAME_OVER,m)},setCanvasOut:function(m){this.isOver=!1,this.events.emit(l.GAME_OUT,m)},preRender:function(){var m=this.game.loop.now,y=this.game.loop.delta,E=this.game.scene.getScenes(!0,!0);this.time=m,this.events.emit(l.MANAGER_UPDATE);for(var P=0;P<E.length;P++){var S=E[P];if(S.sys.input&&S.sys.input.updatePoll(m,y)&&this.globalTopOnly)return}},setDefaultCursor:function(m){this.defaultCursor=m,this.canvas.style.cursor!==m&&(this.canvas.style.cursor=m)},setCursor:function(m){m.cursor&&(this.canvas.style.cursor=m.cursor)},resetCursor:function(m){m.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(m){m===void 0&&(m=1);var y=[];this.pointersTotal+m>10&&(m=10-this.pointersTotal);for(var E=0;E<m;E++){var P=this.pointers.length,S=new f(this,P);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,y.push(S)}return y},updateInputPlugins:function(m,y){var E=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var P=0;P<E.length;P++){var S=E[P];if(S.sys.input){var w=S.sys.input.update(m,y);if(w&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(m){for(var y=this.pointers,E=[],P=0;P<m.changedTouches.length;P++)for(var S=m.changedTouches[P],w=1;w<this.pointersTotal;w++){var A=y[w];if(!A.active){A.touchstart(S,m),this.activePointer=A,E.push(A);break}}this.updateInputPlugins(x.TOUCH_START,E)},onTouchMove:function(m){for(var y=this.pointers,E=[],P=0;P<m.changedTouches.length;P++)for(var S=m.changedTouches[P],w=1;w<this.pointersTotal;w++){var A=y[w];if(A.active&&A.identifier===S.identifier){var R=document.elementFromPoint(S.pageX,S.pageY),O=R===this.canvas;!this.isOver&&O?this.setCanvasOver(m):this.isOver&&!O&&this.setCanvasOut(m),this.isOver&&(A.touchmove(S,m),this.activePointer=A,E.push(A));break}}this.updateInputPlugins(x.TOUCH_MOVE,E)},onTouchEnd:function(m){for(var y=this.pointers,E=[],P=0;P<m.changedTouches.length;P++)for(var S=m.changedTouches[P],w=1;w<this.pointersTotal;w++){var A=y[w];if(A.active&&A.identifier===S.identifier){A.touchend(S,m),E.push(A);break}}this.updateInputPlugins(x.TOUCH_END,E)},onTouchCancel:function(m){for(var y=this.pointers,E=[],P=0;P<m.changedTouches.length;P++)for(var S=m.changedTouches[P],w=1;w<this.pointersTotal;w++){var A=y[w];if(A.active&&A.identifier===S.identifier){A.touchcancel(S,m),E.push(A);break}}this.updateInputPlugins(x.TOUCH_CANCEL,E)},onMouseDown:function(m){var y=this.mousePointer;y.down(m),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(m){var y=this.mousePointer;y.move(m),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(m){var y=this.mousePointer;y.up(m),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(m){var y=this.mousePointer;y.wheel(m),this.activePointer=y,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(m){var y=this.mouse.locked;this.mousePointer.locked=y,this.events.emit(l.POINTERLOCK_CHANGE,m,y)},inputCandidate:function(m,y){var E=m.input;if(!E||!E.enabled||!m.willRender(y))return!1;var P=!0,S=m.parentContainer;if(S)do{if(!S.willRender(y)){P=!1;break}S=S.parentContainer}while(S);return P},hitTest:function(m,y,E,P){P===void 0&&(P=this._tempHitTest);var S=this._tempPoint,w=E.scrollX,A=E.scrollY;P.length=0;var R=m.x,O=m.y;E.getWorldPoint(R,O,S),m.worldX=S.x,m.worldY=S.y;for(var L={x:0,y:0},b=this._tempMatrix,D=this._tempMatrix2,I=0;I<y.length;I++){var B=y[I];if(!!this.inputCandidate(B,E)){var V=S.x+w*B.scrollFactorX-w,Y=S.y+A*B.scrollFactorY-A;B.parentContainer?(B.getWorldTransformMatrix(b,D),b.applyInverse(V,Y,L)):p(V,Y,B.x,B.y,B.rotation,B.scaleX,B.scaleY,L),this.pointWithinHitArea(B,L.x,L.y)&&P.push(B)}}return P},pointWithinHitArea:function(m,y,E){y+=m.displayOriginX,E+=m.displayOriginY;var P=m.input;return P&&P.hitAreaCallback(P.hitArea,y,E,m)?(P.localX=y,P.localY=E,!0):!1},pointWithinInteractiveObject:function(m,y,E){return m.hitArea?(y+=m.gameObject.displayOriginX,E+=m.gameObject.displayOriginY,m.localX=y,m.localY=E,m.hitAreaCallback(m.hitArea,y,E,m)):!1},transformPointer:function(m,y,E,P){var S=m.position,w=m.prevPosition;w.x=S.x,w.y=S.y;var A=this.scaleManager.transformX(y),R=this.scaleManager.transformY(E),O=m.smoothFactor;!P||O===0?(S.x=A,S.y=R):(S.x=A*O+w.x*(1-O),S.y=R*O+w.y*(1-O))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var m=0;m<this.pointers.length;m++)this.pointers[m].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});o.exports=v},12499:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(26673),x=e(65650),d=e(56694),l=e(72687),h=e(27395),n=e(18104),r=e(53996),f=e(95669),a=e(72313),c=e(33963),p=e(6659),v=e(72632),m=e(52394),y=e(63399),E=e(42911),P=e(91963),S=e(74118),w=e(94287),A=e(7599),R=e(66349),O=e(60689),L=new d({Extends:p,initialize:function(D){p.call(this),this.scene=D,this.systems=D.sys,this.settings=D.sys.settings,this.manager=D.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,y.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var I={cancelled:!1};this._eventContainer={stopPropagation:function(){I.cancelled=!0}},this._eventData=I,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,D.sys.events.once(A.BOOT,this.boot,this),D.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(c.BOOT)},start:function(){var b=this.systems.events;b.on(A.TRANSITION_START,this.transitionIn,this),b.on(A.TRANSITION_OUT,this.transitionOut,this),b.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),b.on(A.PRE_UPDATE,this.preUpdate,this),b.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(c.GAME_OUT,this.onGameOut,this),this.manager.events.on(c.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(c.START)},onGameOver:function(b){this.isActive()&&this.emit(c.GAME_OVER,b.timeStamp,b)},onGameOut:function(b){this.isActive()&&this.emit(c.GAME_OUT,b.timeStamp,b)},preUpdate:function(){this.pluginEvents.emit(c.PRE_UPDATE);var b=this._pendingRemoval,D=this._pendingInsertion,I=b.length,B=D.length;if(!(I===0&&B===0)){for(var V=this._list,Y=0;Y<I;Y++){var k=b[Y],W=V.indexOf(k);W>-1&&(V.splice(W,1),this.clear(k,!0))}this._pendingRemoval.length=0,this._list=V.concat(D.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(b,D){if(!this.isActive())return!1;if(this.pluginEvents.emit(c.UPDATE,b,D),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var I,B=this.manager,V=B.pointers,Y=B.pointersTotal;for(I=0;I<Y;I++)V[I].updateMotion();if(this._list.length===0)return!1;var k=this.pollRate;if(k===-1)return!1;if(k>0)if(this._pollTimer-=D,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var W=!1;for(I=0;I<Y;I++){var G=0,U=V[I];this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),G+=this.processOverOutEvents(U),this.getDragState(U)===2&&this.processDragThresholdEvent(U,b),G>0&&(W=!0)}return W},update:function(b,D){if(!this.isActive())return!1;for(var I=D.length,B=!1,V=0;V<I;V++){var Y=0,k=D[V];switch(this._tempZones=[],this._temp=this.hitTestPointer(k),this.sortGameObjects(this._temp,k),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),b){case l.MOUSE_DOWN:Y+=this.processDragDownEvent(k),Y+=this.processDownEvents(k),Y+=this.processOverOutEvents(k);break;case l.MOUSE_UP:Y+=this.processDragUpEvent(k),Y+=this.processUpEvents(k),Y+=this.processOverOutEvents(k);break;case l.TOUCH_START:Y+=this.processDragDownEvent(k),Y+=this.processDownEvents(k),Y+=this.processOverEvents(k);break;case l.TOUCH_END:case l.TOUCH_CANCEL:Y+=this.processDragUpEvent(k),Y+=this.processUpEvents(k),Y+=this.processOutEvents(k);break;case l.MOUSE_MOVE:case l.TOUCH_MOVE:Y+=this.processDragMoveEvent(k),Y+=this.processMoveEvents(k),Y+=this.processOverOutEvents(k);break;case l.MOUSE_WHEEL:Y+=this.processWheelEvent(k);break}Y>0&&(B=!0)}return this._updatedThisFrame=!0,B},clear:function(b,D){D===void 0&&(D=!1),this.disable(b);var I=b.input;I&&(this.removeDebug(b),I.gameObject=void 0,I.target=void 0,I.hitArea=void 0,I.hitAreaCallback=void 0,I.callbackContext=void 0,b.input=null),D||this.queueForRemoval(b);var B=this._draggable.indexOf(b);return B>-1&&this._draggable.splice(B,1),b},disable:function(b){var D=b.input;D&&(D.enabled=!1,D.dragState=0);var I=this._temp,B=this._drag,V=this._over,Y=this.manager,k=I.indexOf(b);k>-1&&I.splice(k,1);for(var W=0;W<Y.pointersTotal;W++)k=B[W].indexOf(b),k>-1&&B[W].splice(k,1),k=V[W].indexOf(b),k>-1&&(V[W].splice(k,1),Y.resetCursor(D));return this},enable:function(b,D,I,B){return B===void 0&&(B=!1),b.input?b.input.enabled=!0:this.setHitArea(b,D,I),b.input&&B&&!b.input.dropZone&&(b.input.dropZone=B),this},hitTestPointer:function(b){for(var D=this.cameras.getCamerasBelowPointer(b),I=0;I<D.length;I++){for(var B=D[I],V=this.manager.hitTest(b,this._list,B),Y=0;Y<V.length;Y++){var k=V[Y];k.input.dropZone&&this._tempZones.push(k)}if(V.length>0)return b.camera=B,V}return b.camera=D[0],[]},processDownEvents:function(b){var D=0,I=this._temp,B=this._eventData,V=this._eventContainer;B.cancelled=!1;for(var Y=!1,k=0;k<I.length;k++){var W=I[k];if(!(!W.input||!W.input.enabled)){if(D++,W.emit(c.GAMEOBJECT_POINTER_DOWN,b,W.input.localX,W.input.localY,V),B.cancelled||!W.input||!W.input.enabled){Y=!0;break}if(this.emit(c.GAMEOBJECT_DOWN,b,W,V),B.cancelled||!W.input){Y=!0;break}}}return!Y&&this.manager&&(b.downElement===this.manager.game.canvas?this.emit(c.POINTER_DOWN,b,I):this.emit(c.POINTER_DOWN_OUTSIDE,b)),D},getDragState:function(b){return this._dragState[b.id]},setDragState:function(b,D){this._dragState[b.id]=D},processDragThresholdEvent:function(b,D){var I=!1,B=this.dragTimeThreshold,V=this.dragDistanceThreshold;if((V>0&&r(b.x,b.y,b.downX,b.downY)>=V||B>0&&D>=b.downTime+B)&&(I=!0),I)return this.setDragState(b,3),this.processDragStartList(b)},processDragStartList:function(b){if(this.getDragState(b)!==3)return 0;for(var D=this._drag[b.id],I=0;I<D.length;I++){var B=D[I],V=B.input;V.dragState=2,V.dragStartX=B.x,V.dragStartY=B.y,V.dragStartXGlobal=b.worldX,V.dragStartYGlobal=b.worldY,V.dragX=V.dragStartXGlobal-V.dragStartX,V.dragY=V.dragStartYGlobal-V.dragStartY,B.emit(c.GAMEOBJECT_DRAG_START,b,V.dragX,V.dragY),this.emit(c.DRAG_START,b,B)}return this.setDragState(b,4),D.length},processDragDownEvent:function(b){var D=this._temp;if(this._draggable.length===0||D.length===0||!b.primaryDown||this.getDragState(b)!==0)return 0;this.setDragState(b,1);for(var I=[],B=0;B<D.length;B++){var V=D[B];V.input.draggable&&V.input.dragState===0&&I.push(V)}return I.length===0?(this.setDragState(b,0),0):(I.length>1&&(this.sortGameObjects(I,b),this.topOnly&&I.splice(1)),this._drag[b.id]=I,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(b,3),this.processDragStartList(b)):(this.setDragState(b,2),0))},processDragMoveEvent:function(b){if(this.getDragState(b)===2&&this.processDragThresholdEvent(b,this.manager.game.loop.now),this.getDragState(b)!==4)return 0;for(var D=this._tempZones,I=this._drag[b.id],B=0;B<I.length;B++){var V=I[B],Y=V.input,k=Y.target;if(k){var W=D.indexOf(k);W===0?(V.emit(c.GAMEOBJECT_DRAG_OVER,b,k),this.emit(c.DRAG_OVER,b,V,k)):W>0?(V.emit(c.GAMEOBJECT_DRAG_LEAVE,b,k),this.emit(c.DRAG_LEAVE,b,V,k),Y.target=D[0],k=Y.target,V.emit(c.GAMEOBJECT_DRAG_ENTER,b,k),this.emit(c.DRAG_ENTER,b,V,k)):(V.emit(c.GAMEOBJECT_DRAG_LEAVE,b,k),this.emit(c.DRAG_LEAVE,b,V,k),D[0]?(Y.target=D[0],k=Y.target,V.emit(c.GAMEOBJECT_DRAG_ENTER,b,k),this.emit(c.DRAG_ENTER,b,V,k)):Y.target=null)}else!k&&D[0]&&(Y.target=D[0],k=Y.target,V.emit(c.GAMEOBJECT_DRAG_ENTER,b,k),this.emit(c.DRAG_ENTER,b,V,k));var G,U;if(!V.parentContainer)G=b.worldX-Y.dragX,U=b.worldY-Y.dragY;else{var F=b.worldX-Y.dragStartXGlobal,N=b.worldY-Y.dragStartYGlobal,z=V.getParentRotation(),X=F*Math.cos(z)+N*Math.sin(z),H=N*Math.cos(z)-F*Math.sin(z);X*=1/V.parentContainer.scaleX,H*=1/V.parentContainer.scaleY,G=X+Y.dragStartX,U=H+Y.dragStartY}V.emit(c.GAMEOBJECT_DRAG,b,G,U),this.emit(c.DRAG,b,V,G,U)}return I.length},processDragUpEvent:function(b){for(var D=this._drag[b.id],I=0;I<D.length;I++){var B=D[I],V=B.input;if(V&&V.dragState===2){V.dragState=0,V.dragX=V.localX-B.displayOriginX,V.dragY=V.localY-B.displayOriginY;var Y=!1,k=V.target;k&&(B.emit(c.GAMEOBJECT_DROP,b,k),this.emit(c.DROP,b,B,k),V.target=null,Y=!0),B.input&&B.input.enabled&&(B.emit(c.GAMEOBJECT_DRAG_END,b,V.dragX,V.dragY,Y),this.emit(c.DRAG_END,b,B,Y))}}return this.setDragState(b,0),D.splice(0),0},processMoveEvents:function(b){var D=0,I=this._temp,B=this._eventData,V=this._eventContainer;B.cancelled=!1;for(var Y=!1,k=0;k<I.length;k++){var W=I[k];if(!(!W.input||!W.input.enabled)){if(D++,W.emit(c.GAMEOBJECT_POINTER_MOVE,b,W.input.localX,W.input.localY,V),B.cancelled||!W.input||!W.input.enabled){Y=!0;break}if(this.emit(c.GAMEOBJECT_MOVE,b,W,V),B.cancelled||!W.input||!W.input.enabled){Y=!0;break}if(this.topOnly)break}}return Y||this.emit(c.POINTER_MOVE,b,I),D},processWheelEvent:function(b){var D=0,I=this._temp,B=this._eventData,V=this._eventContainer;B.cancelled=!1;for(var Y=!1,k=b.deltaX,W=b.deltaY,G=b.deltaZ,U=0;U<I.length;U++){var F=I[U];if(!(!F.input||!F.input.enabled)){if(D++,F.emit(c.GAMEOBJECT_POINTER_WHEEL,b,k,W,G,V),B.cancelled||!F.input||!F.input.enabled){Y=!0;break}if(this.emit(c.GAMEOBJECT_WHEEL,b,F,k,W,G,V),B.cancelled||!F.input||!F.input.enabled){Y=!0;break}}}return Y||this.emit(c.POINTER_WHEEL,b,I,k,W,G),D},processOverEvents:function(b){var D=this._temp,I=0,B=D.length,V=[];if(B>0){var Y=this.manager,k=this._eventData,W=this._eventContainer;k.cancelled=!1;for(var G=!1,U=0;U<B;U++){var F=D[U];if(!(!F.input||!F.input.enabled)){if(V.push(F),Y.setCursor(F.input),F.emit(c.GAMEOBJECT_POINTER_OVER,b,F.input.localX,F.input.localY,W),I++,k.cancelled||!F.input||!F.input.enabled){G=!0;break}if(this.emit(c.GAMEOBJECT_OVER,b,F,W),k.cancelled||!F.input||!F.input.enabled){G=!0;break}}}G||this.emit(c.POINTER_OVER,b,V)}return this._over[b.id]=V,I},processOutEvents:function(b){var D=this._over[b.id],I=0,B=D.length;if(B>0){var V=this.manager,Y=this._eventData,k=this._eventContainer;Y.cancelled=!1;var W=!1;this.sortGameObjects(D,b);for(var G=0;G<B;G++){var U=D[G];if(U=D[G],!(!U.input||!U.input.enabled)){if(V.resetCursor(U.input),U.emit(c.GAMEOBJECT_POINTER_OUT,b,k),I++,Y.cancelled||!U.input||!U.input.enabled){W=!0;break}if(this.emit(c.GAMEOBJECT_OUT,b,U,k),Y.cancelled||!U.input||!U.input.enabled){W=!0;break}W||this.emit(c.POINTER_OUT,b,D)}}this._over[b.id]=[]}return I},processOverOutEvents:function(b){var D=this._temp,I,B,V=[],Y=[],k=[],W=this._over[b.id],G=this._drag[b.id],U=this.manager;for(I=0;I<W.length;I++)B=W[I],D.indexOf(B)===-1&&G.indexOf(B)===-1?V.push(B):k.push(B);for(I=0;I<D.length;I++)B=D[I],W.indexOf(B)===-1&&Y.push(B);var F=V.length,N=0,z=this._eventData,X=this._eventContainer;z.cancelled=!1;var H=!1;if(F>0){for(this.sortGameObjects(V,b),I=0;I<F;I++)if(B=V[I],!(!B.input||!B.input.enabled)){if(U.resetCursor(B.input),B.emit(c.GAMEOBJECT_POINTER_OUT,b,X),N++,z.cancelled||!B.input||!B.input.enabled){H=!0;break}if(this.emit(c.GAMEOBJECT_OUT,b,B,X),z.cancelled||!B.input||!B.input.enabled){H=!0;break}}H||this.emit(c.POINTER_OUT,b,V)}if(F=Y.length,z.cancelled=!1,H=!1,F>0){for(this.sortGameObjects(Y,b),I=0;I<F;I++)if(B=Y[I],!(!B.input||!B.input.enabled)){if(U.setCursor(B.input),B.emit(c.GAMEOBJECT_POINTER_OVER,b,B.input.localX,B.input.localY,X),N++,z.cancelled||!B.input||!B.input.enabled){H=!0;break}if(this.emit(c.GAMEOBJECT_OVER,b,B,X),z.cancelled||!B.input||!B.input.enabled){H=!0;break}}H||this.emit(c.POINTER_OVER,b,Y)}return W=k.concat(Y),this._over[b.id]=this.sortGameObjects(W,b),N},processUpEvents:function(b){var D=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var V=!1,Y=0;Y<D.length;Y++){var k=D[Y];if(!(!k.input||!k.input.enabled)){if(k.emit(c.GAMEOBJECT_POINTER_UP,b,k.input.localX,k.input.localY,B),I.cancelled||!k.input||!k.input.enabled){V=!0;break}if(this.emit(c.GAMEOBJECT_UP,b,k,B),I.cancelled||!k.input||!k.input.enabled){V=!0;break}}}return!V&&this.manager&&(b.upElement===this.manager.game.canvas?this.emit(c.POINTER_UP,b,D):this.emit(c.POINTER_UP_OUTSIDE,b)),D.length},queueForInsertion:function(b){return this._pendingInsertion.indexOf(b)===-1&&this._list.indexOf(b)===-1&&this._pendingInsertion.push(b),this},queueForRemoval:function(b){return this._pendingRemoval.push(b),this},setDraggable:function(b,D){D===void 0&&(D=!0),Array.isArray(b)||(b=[b]);for(var I=0;I<b.length;I++){var B=b[I];B.input.draggable=D;var V=this._draggable.indexOf(B);D&&V===-1?this._draggable.push(B):!D&&V>-1&&this._draggable.splice(V,1)}return this},makePixelPerfect:function(b){b===void 0&&(b=1);var D=this.systems.textures;return n(D,b)},setHitArea:function(b,D,I){if(D===void 0)return this.setHitAreaFromTexture(b);Array.isArray(b)||(b=[b]);var B=!1,V=!1,Y=!1,k=!1,W=!1,G=!0;if(E(D)){var U=D;D=v(U,"hitArea",null),I=v(U,"hitAreaCallback",null),B=v(U,"draggable",!1),V=v(U,"dropZone",!1),Y=v(U,"cursor",!1),k=v(U,"useHandCursor",!1),W=v(U,"pixelPerfect",!1);var F=v(U,"alphaTolerance",1);W&&(D={},I=this.makePixelPerfect(F)),(!D||!I)&&(this.setHitAreaFromTexture(b),G=!1)}else typeof D=="function"&&!I&&(I=D,D={});for(var N=0;N<b.length;N++){var z=b[N];if(W&&z.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var X=z.input?z.input:h(z,D,I);X.customHitArea=G,X.dropZone=V,X.cursor=k?"pointer":Y,z.input=X,B&&this.setDraggable(z),this.queueForInsertion(z)}return this},setHitAreaCircle:function(b,D,I,B,V){V===void 0&&(V=x);var Y=new u(D,I,B);return this.setHitArea(b,Y,V)},setHitAreaEllipse:function(b,D,I,B,V,Y){Y===void 0&&(Y=a);var k=new f(D,I,B,V);return this.setHitArea(b,k,Y)},setHitAreaFromTexture:function(b,D){D===void 0&&(D=w),Array.isArray(b)||(b=[b]);for(var I=0;I<b.length;I++){var B=b[I],V=B.frame,Y=0,k=0;if(B.width?(Y=B.width,k=B.height):V&&(Y=V.realWidth,k=V.realHeight),B.type==="Container"&&(Y===0||k===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}Y!==0&&k!==0&&(B.input=h(B,new S(0,0,Y,k),D),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(b,D,I,B,V,Y){Y===void 0&&(Y=w);var k=new S(D,I,B,V);return this.setHitArea(b,k,Y)},setHitAreaTriangle:function(b,D,I,B,V,Y,k,W){W===void 0&&(W=O);var G=new R(D,I,B,V,Y,k);return this.setHitArea(b,G,W)},enableDebug:function(b,D){D===void 0&&(D=65280);var I=b.input;if(!I||!I.hitArea)return this;var B=I.hitArea,V=B.type,Y=I.hitAreaDebug,k=this.systems.add,W=this.systems.updateList;Y&&(W.remove(Y),Y.destroy(),Y=null);var G=0,U=0;switch(V){case m.CIRCLE:Y=k.arc(0,0,B.radius),G=B.x-B.radius,U=B.y-B.radius;break;case m.ELLIPSE:Y=k.ellipse(0,0,B.width,B.height),G=B.x-B.width/2,U=B.y-B.height/2;break;case m.LINE:Y=k.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case m.POLYGON:Y=k.polygon(0,0,B.points);break;case m.RECTANGLE:Y=k.rectangle(0,0,B.width,B.height),G=B.x,U=B.y;break;case m.TRIANGLE:Y=k.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return Y&&(Y.isFilled=!1,Y.strokeColor=D,Y.preUpdate=function(){Y.setStrokeStyle(1/b.scale,Y.strokeColor),Y.setDisplayOrigin(b.displayOriginX,b.displayOriginY);var F=b.x,N=b.y,z=b.rotation,X=b.scaleX,H=b.scaleY;if(b.parentContainer){var $=b.getWorldTransformMatrix();F=$.tx,N=$.ty,z=$.rotation,X=$.scaleX,H=$.scaleY}Y.setRotation(z),Y.setScale(X,H),Y.setPosition(F+G*X,N+U*H),Y.setScrollFactor(b.scrollFactorX,b.scrollFactorY),Y.setDepth(b.depth)},W.add(Y),I.hitAreaDebug=Y),this},removeDebug:function(b){var D=b.input;if(D&&D.hitAreaDebug){var I=D.hitAreaDebug;this.systems.updateList.remove(I),I.destroy(),D.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(b){return this.pollRate=b,this._pollTimer=0,this},setGlobalTopOnly:function(b){return this.manager.globalTopOnly=b,this},setTopOnly:function(b){return this.topOnly=b,this},sortGameObjects:function(b,D){if(b.length<2||!D.camera)return b;var I=D.camera.renderList;return b.sort(function(B,V){var Y=Math.max(I.indexOf(B),0),k=Math.max(I.indexOf(V),0);return k-Y})},sortDropZones:function(b){return b.length<2?b:(this.scene.sys.depthSort(),b.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(b,D){if(!b.parentContainer&&!D.parentContainer)return this.displayList.getIndex(D)-this.displayList.getIndex(b);if(b.parentContainer===D.parentContainer)return D.parentContainer.getIndex(D)-b.parentContainer.getIndex(b);if(b.parentContainer===D)return-1;if(D.parentContainer===b)return 1;for(var I=b.getIndexList(),B=D.getIndexList(),V=Math.min(I.length,B.length),Y=0;Y<V;Y++){var k=I[Y],W=B[Y];if(k!==W)return W-k}return B.length-I.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(b){return this.manager.addPointer(b)},setDefaultCursor:function(b){return this.manager.setDefaultCursor(b),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(c.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var b=0;b<10;b++)this._drag[b]=[],this._over[b]=[];this.removeAllListeners();var D=this.manager;D.canvas.style.cursor=D.defaultCursor;var I=this.systems.events;I.off(A.TRANSITION_START,this.transitionIn,this),I.off(A.TRANSITION_OUT,this.transitionOut,this),I.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),I.off(A.PRE_UPDATE,this.preUpdate,this),D.events.off(c.GAME_OUT,this.onGameOut,this),D.events.off(c.GAME_OVER,this.onGameOver,this),I.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var b=this.manager.pointers,D=0;D<b.length;D++)b[D].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(c.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});P.register("InputPlugin",L,"input"),o.exports=L},63399:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10850),x={},d={};d.register=function(l,h,n,r,f){x[l]={plugin:h,mapping:n,settingsKey:r,configKey:f}},d.getPlugin=function(l){return x[l]},d.install=function(l){var h=l.scene.sys,n=h.settings.input,r=h.game.config;for(var f in x){var a=x[f].plugin,c=x[f].mapping,p=x[f].settingsKey,v=x[f].configKey;u(n,p,r[v])&&(l[c]=new a(l))}},d.remove=function(l){x.hasOwnProperty(l)&&delete x[l]},o.exports=d},40398:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(90447),x=e(56694),d=e(53996),l=e(88456),h=e(44521),n=e(93736),r=e(36580),f=new x({initialize:function(c,p){this.manager=c,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new n,this.prevPosition=new n,this.midPoint=new n(-1,-1),this.velocity=new n,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(a){var c=a.getWorldPoint(this.x,this.y);return this.worldX=c.x,this.worldY=c.y,this},positionToCamera:function(a,c){return a.getWorldPoint(this.x,this.y,c)},updateMotion:function(){var a=this.position.x,c=this.position.y,p=this.midPoint.x,v=this.midPoint.y;if(!(a===p&&c===v)){var m=h(this.motionFactor,p,a),y=h(this.motionFactor,v,c);l(m,a,.1)&&(m=a),l(y,c,.1)&&(y=c),this.midPoint.set(m,y);var E=a-m,P=c-y;this.velocity.set(E,P),this.angle=u(m,y,a,c),this.distance=Math.sqrt(E*E+P*P)}},up:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=a.timeStamp,this.wasTouch=!1)},down:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),r.macOS&&a.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=a.timeStamp),this.wasTouch=!1},move:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.locked&&(this.movementX=a.movementX||a.mozMovementX||a.webkitMovementX||0,this.movementY=a.movementY||a.mozMovementY||a.webkitMovementY||0),this.moveTime=a.timeStamp,this.wasTouch=!1},wheel:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.deltaX=a.deltaX,this.deltaY=a.deltaY,this.deltaZ=a.deltaZ,this.wasTouch=!1},touchstart:function(a,c){a.pointerId&&(this.pointerId=a.pointerId),this.identifier=a.identifier,this.target=a.target,this.active=!0,this.buttons=1,this.event=c,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=c.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(a,c){this.event=c,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.moveTime=c.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(a,c){this.buttons=0,this.event=c,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(a,c){this.buttons=0,this.event=c,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?u(this.downX,this.downY,this.x,this.y):u(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(a,c){a===void 0&&(a=10),c===void 0&&(c=[]);for(var p=this.prevPosition.x,v=this.prevPosition.y,m=this.position.x,y=this.position.y,E=0;E<a;E++){var P=1/a*E;c[E]={x:h(P,p,m),y:h(P,v,y)}}return c},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},time:{get:function(){return this.event?this.event.timeStamp:0}}});o.exports=f},72687:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};o.exports=T},14874:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},54168:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},526:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragend"},81623:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragenter"},94472:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drag"},9304:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragleave"},34265:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragover"},50151:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragstart"},98134:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drop"},56773:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectdown"},45824:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragend"},39578:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragenter"},72072:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drag"},82569:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragleave"},70833:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragover"},81442:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragstart"},32936:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drop"},99658:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectmove"},60515:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectout"},55254:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectover"},34782:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerdown"},41769:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointermove"},65588:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerout"},61640:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerover"},49342:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerup"},82662:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="wheel"},13058:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectup"},52426:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectwheel"},78072:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameout"},1545:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameover"},67137:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},27678:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="process"},22257:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},90379:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerlockchange"},88909:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerdown"},36548:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerdownoutside"},18483:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointermove"},22355:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerout"},7997:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerover"},66318:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerup"},94812:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerupoutside"},37310:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="wheel"},24196:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="preupdate"},27053:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="shutdown"},29413:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},25165:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},33963:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BOOT:e(14874),DESTROY:e(54168),DRAG_END:e(526),DRAG_ENTER:e(81623),DRAG:e(94472),DRAG_LEAVE:e(9304),DRAG_OVER:e(34265),DRAG_START:e(50151),DROP:e(98134),GAME_OUT:e(78072),GAME_OVER:e(1545),GAMEOBJECT_DOWN:e(56773),GAMEOBJECT_DRAG_END:e(45824),GAMEOBJECT_DRAG_ENTER:e(39578),GAMEOBJECT_DRAG:e(72072),GAMEOBJECT_DRAG_LEAVE:e(82569),GAMEOBJECT_DRAG_OVER:e(70833),GAMEOBJECT_DRAG_START:e(81442),GAMEOBJECT_DROP:e(32936),GAMEOBJECT_MOVE:e(99658),GAMEOBJECT_OUT:e(60515),GAMEOBJECT_OVER:e(55254),GAMEOBJECT_POINTER_DOWN:e(34782),GAMEOBJECT_POINTER_MOVE:e(41769),GAMEOBJECT_POINTER_OUT:e(65588),GAMEOBJECT_POINTER_OVER:e(61640),GAMEOBJECT_POINTER_UP:e(49342),GAMEOBJECT_POINTER_WHEEL:e(82662),GAMEOBJECT_UP:e(13058),GAMEOBJECT_WHEEL:e(52426),MANAGER_BOOT:e(67137),MANAGER_PROCESS:e(27678),MANAGER_UPDATE:e(22257),POINTER_DOWN:e(88909),POINTER_DOWN_OUTSIDE:e(36548),POINTER_MOVE:e(18483),POINTER_OUT:e(22355),POINTER_OVER:e(7997),POINTER_UP:e(66318),POINTER_UP_OUTSIDE:e(94812),POINTER_WHEEL:e(37310),POINTERLOCK_CHANGE:e(90379),PRE_UPDATE:e(24196),SHUTDOWN:e(27053),START:e(29413),UPDATE:e(25165)}},70848:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h){this.pad=l,this.events=l.events,this.index=h,this.value=0,this.threshold=.1},update:function(d){this.value=d},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});o.exports=x},21274:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(43200),d=new u({initialize:function(h,n){this.pad=h,this.events=h.manager,this.index=n,this.value=0,this.threshold=1,this.pressed=!1},update:function(l){this.value=l;var h=this.pad,n=this.index;l>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,h,this,l),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,n,l,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,h,this,l),this.pad.emit(x.GAMEPAD_BUTTON_UP,n,l,this))},destroy:function(){this.pad=null,this.events=null}});o.exports=d},75956:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70848),x=e(21274),d=e(56694),l=e(6659),h=e(93736),n=new d({Extends:l,initialize:function(f,a){l.call(this),this.manager=f,this.pad=a,this.id=a.id,this.index=a.index;for(var c=[],p=0;p<a.buttons.length;p++)c.push(new x(this,p));this.buttons=c;var v=[];for(p=0;p<a.axes.length;p++)v.push(new u(this,p));this.axes=v,this.vibration=a.vibrationActuator;var m={value:0,pressed:!1};this._LCLeft=c[14]?c[14]:m,this._LCRight=c[15]?c[15]:m,this._LCTop=c[12]?c[12]:m,this._LCBottom=c[13]?c[13]:m,this._RCLeft=c[2]?c[2]:m,this._RCRight=c[1]?c[1]:m,this._RCTop=c[3]?c[3]:m,this._RCBottom=c[0]?c[0]:m,this._FBLeftTop=c[4]?c[4]:m,this._FBLeftBottom=c[6]?c[6]:m,this._FBRightTop=c[5]?c[5]:m,this._FBRightBottom=c[7]?c[7]:m;var y={value:0};this._HAxisLeft=v[0]?v[0]:y,this._VAxisLeft=v[1]?v[1]:y,this._HAxisRight=v[2]?v[2]:y,this._VAxisRight=v[3]?v[3]:y,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(r){return this.axes[r].getValue()},setAxisThreshold:function(r){for(var f=0;f<this.axes.length;f++)this.axes[f].threshold=r},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(r){return this.buttons[r].value},isButtonDown:function(r){return this.buttons[r].pressed},update:function(r){if(!(r.timestamp<this._created)){var f,a=this.buttons,c=r.buttons,p=a.length;for(f=0;f<p;f++)a[f].update(c[f].value);var v=this.axes,m=r.axes;for(p=v.length,f=0;f<p;f++)v[f].update(m[f]);p>=2&&(this.leftStick.set(v[0].getValue(),v[1].getValue()),p>=4&&this.rightStick.set(v[2].getValue(),v[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var r;for(r=0;r<this.buttons.length;r++)this.buttons[r].destroy();for(r=0;r<this.axes.length;r++)this.axes[r].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});o.exports=n},1379:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(6659),d=e(43200),l=e(75956),h=e(10850),n=e(63399),r=e(33963),f=new u({Extends:x,initialize:function(c){x.call(this),this.scene=c.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=c,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,c.pluginEvents.once(r.BOOT,this.boot,this),c.pluginEvents.on(r.START,this.start,this)},boot:function(){var a=this.scene.sys.game,c=this.settings.input,p=a.config;this.enabled=h(c,"gamepad",p.inputGamepad)&&a.device.input.gamepads,this.target=h(c,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var a=this,c=this.target,p=function(v){v.defaultPrevented||!a.isActive()||(a.refreshPads(),a.queue.push(v))};this.onGamepadHandler=p,c.addEventListener("gamepadconnected",p,!1),c.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update);for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].removeAllListeners()},disconnectAll:function(){for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].pad.connected=!1},refreshPads:function(){var a=navigator.getGamepads();if(!a)this.disconnectAll();else for(var c=this.gamepads,p=0;p<a.length;p++){var v=a[p];if(!!v){var m=v.id,y=v.index,E=c[y];if(E)E.id!==m?(E.destroy(),c[y]=new l(this,v)):E.update(v);else{var P=new l(this,v);c[y]=P,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=P):this._pad3=P:this._pad2=P:this._pad1=P}}}},getAll:function(){for(var a=[],c=this.gamepads,p=0;p<c.length;p++)c[p]&&a.push(c[p]);return a},getPad:function(a){for(var c=this.gamepads,p=0;p<c.length;p++)if(c[p]&&c[p].index===a)return c[p]},update:function(){if(!!this.enabled){this.refreshPads();var a=this.queue.length;if(a!==0)for(var c=this.queue.splice(0,a),p=0;p<a;p++){var v=c[p],m=this.getPad(v.gamepad.index);v.type==="gamepadconnected"?this.emit(d.CONNECTED,m,v):v.type==="gamepaddisconnected"&&this.emit(d.DISCONNECTED,m,v)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var a=0;a<this.gamepads.length;a++)this.gamepads[a]&&this.gamepads[a].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",f,"gamepad","gamepad","inputGamepad"),o.exports=f},33171:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DUALSHOCK_4:e(74982),SNES_USB:e(33171),XBOX_360:e(43247)}},17344:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="down"},36635:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="up"},85724:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="connected"},55832:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="disconnected"},772:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="down"},33608:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="up"},43200:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BUTTON_DOWN:e(17344),BUTTON_UP:e(36635),CONNECTED:e(85724),DISCONNECTED:e(55832),GAMEPAD_BUTTON_DOWN:e(772),GAMEPAD_BUTTON_UP:e(33608)}},92636:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Axis:e(70848),Button:e(21274),Events:e(43200),Gamepad:e(75956),GamepadPlugin:e(1379),Configs:e(4898)}},20873:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72687),x=e(98611),d={CreatePixelPerfectHandler:e(18104),CreateInteractiveObject:e(27395),Events:e(33963),Gamepad:e(92636),InputManager:e(69898),InputPlugin:e(12499),InputPluginCache:e(63399),Keyboard:e(28388),Mouse:e(11343),Pointer:e(40398),Touch:e(77423)};d=x(!1,d,u),o.exports=d},71064:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66458),x=e(56694),d=e(97081),l=e(33963),h=e(11873),n=e(72283),r=new x({initialize:function(a){this.manager=a,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=n,this.onKeyUp=n,a.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputKeyboard,this.target=f.inputKeyboardEventTarget,this.addCapture(f.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(d.POST_STEP,this.postUpdate,this)},startListeners:function(){var f=this;this.onKeyDown=function(c){if(!(c.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(c),f.manager.events.emit(l.MANAGER_PROCESS);var p=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;f.preventDefault&&!p&&f.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}},this.onKeyUp=function(c){if(!(c.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(c),f.manager.events.emit(l.MANAGER_PROCESS);var p=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;f.preventDefault&&!p&&f.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}};var a=this.target;a&&(a.addEventListener("keydown",this.onKeyDown,!1),a.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var f=this.target;f.removeEventListener("keydown",this.onKeyDown,!1),f.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var a=this.captures,c=0;c<f.length;c++){var p=f[c];typeof p=="string"&&(p=h[p.trim().toUpperCase()]),a.indexOf(p)===-1&&a.push(p)}this.preventDefault=a.length>0},removeCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var a=this.captures,c=0;c<f.length;c++){var p=f[c];typeof p=="string"&&(p=h[p.toUpperCase()]),u(a,p)}this.preventDefault=a.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(d.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});o.exports=r},89666:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(6659),d=e(94030),l=e(97081),h=e(10850),n=e(33963),r=e(63399),f=e(50165),a=e(11873),c=e(95625),p=e(48044),v=e(7599),m=e(84314),y=new u({Extends:x,initialize:function(P){x.call(this),this.game=P.systems.game,this.scene=P.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=P,this.manager=P.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,P.pluginEvents.once(n.BOOT,this.boot,this),P.pluginEvents.on(n.START,this.start,this)},boot:function(){var E=this.settings.input;this.enabled=h(E,"keyboard",!0);var P=h(E,"keyboard.capture",null);P&&this.addCaptures(P),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(n.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this),this.game.events.on(l.BLUR,this.resetKeys,this),this.scene.sys.events.on(v.PAUSE,this.resetKeys,this),this.scene.sys.events.on(v.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(E){return this.manager.addCapture(E),this},removeCapture:function(E){return this.manager.removeCapture(E),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT,space:a.SPACE,shift:a.SHIFT})},addKeys:function(E,P,S){P===void 0&&(P=!0),S===void 0&&(S=!1);var w={};if(typeof E=="string"){E=E.split(",");for(var A=0;A<E.length;A++){var R=E[A].trim();R&&(w[R]=this.addKey(R,P,S))}}else for(var O in E)w[O]=this.addKey(E[O],P,S);return w},addKey:function(E,P,S){P===void 0&&(P=!0),S===void 0&&(S=!1);var w=this.keys;if(E instanceof f){var A=w.indexOf(E);return A>-1?w[A]=E:w[E.keyCode]=E,P&&this.addCapture(E.keyCode),E.setEmitOnRepeat(S),E}return typeof E=="string"&&(E=a[E.toUpperCase()]),w[E]||(w[E]=new f(this,E),P&&this.addCapture(E),w[E].setEmitOnRepeat(S)),w[E]},removeKey:function(E,P,S){P===void 0&&(P=!1),S===void 0&&(S=!1);var w=this.keys,A;if(E instanceof f){var R=w.indexOf(E);R>-1&&(A=this.keys[R],this.keys[R]=void 0)}else typeof E=="string"&&(E=a[E.toUpperCase()]);return w[E]&&(A=w[E],w[E]=void 0),A&&(A.plugin=null,S&&this.removeCapture(A.keyCode),P&&A.destroy()),this},removeAllKeys:function(E,P){E===void 0&&(E=!1),P===void 0&&(P=!1);for(var S=this.keys,w=0;w<S.length;w++){var A=S[w];A&&(S[w]=void 0,P&&this.removeCapture(A.keyCode),E&&A.destroy())}return this},createCombo:function(E,P){return new c(this,E,P)},checkDown:function(E,P){if(P===void 0&&(P=0),this.enabled&&E.isDown){var S=m(this.time-E.timeDown,P);if(S>E._tick)return E._tick=S,!0}return!1},update:function(){var E=this.manager.queue,P=E.length;if(!(!this.isActive()||P===0))for(var S=this.keys,w=0;w<P;w++){var A=E[w],R=A.keyCode,O=S[R],L=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(R===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=R,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(O&&(L=O.isDown,O.onDown(A)),!A.cancelled&&(!O||!L)&&(p[R]&&this.emit(d.KEY_DOWN+p[R],A),A.cancelled||this.emit(d.ANY_KEY_DOWN,A))):(O&&O.onUp(A),A.cancelled||(p[R]&&this.emit(d.KEY_UP+p[R],A),A.cancelled||this.emit(d.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var E=this.keys,P=0;P<E.length;P++)E[P]&&E[P].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(n.MANAGER_PROCESS,this.update,this),this.game.events.off(l.BLUR,this.resetKeys),this.scene.sys.events.off(v.PAUSE,this.resetKeys,this),this.scene.sys.events.off(v.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var E=this.keys,P=0;P<E.length;P++)E[P]&&E[P].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});r.register("KeyboardPlugin",y,"keyboard","keyboard","inputKeyboard"),o.exports=y},60258:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u.timeLastMatched=e.timeStamp,u.index++,u.index===u.size?!0:(u.current=u.keyCodes[u.index],!1)};o.exports=T},95625:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(94030),d=e(72632),l=e(2544),h=e(88754),n=new u({initialize:function(f,a,c){if(c===void 0&&(c={}),a.length<2)return!1;this.manager=f,this.enabled=!0,this.keyCodes=[];for(var p=0;p<a.length;p++){var v=a[p];typeof v=="string"?this.keyCodes.push(v.toUpperCase().charCodeAt(0)):typeof v=="number"?this.keyCodes.push(v):v.hasOwnProperty("keyCode")&&this.keyCodes.push(v.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=d(c,"resetOnWrongKey",!0),this.maxKeyDelay=d(c,"maxKeyDelay",0),this.resetOnMatch=d(c,"resetOnMatch",!1),this.deleteOnMatch=d(c,"deleteOnMatch",!1);var m=this,y=function(E){if(!(m.matched||!m.enabled)){var P=l(E,m);P&&(m.manager.emit(x.COMBO_MATCH,m,E),m.resetOnMatch?h(m):m.deleteOnMatch&&m.destroy())}};this.onKeyDown=y,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});o.exports=n},2544:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60258),x=function(d,l){if(l.matched)return!0;var h=!1,n=!1;if(d.keyCode===l.current)if(l.index>0&&l.maxKeyDelay>0){var r=l.timeLastMatched+l.maxKeyDelay;d.timeStamp<=r&&(n=!0,h=u(d,l))}else n=!0,h=u(d,l);return!n&&l.resetOnWrongKey&&(l.index=0,l.current=l.keyCodes[0]),h&&(l.timeLastMatched=d.timeStamp,l.matched=!0,l.timeMatched=d.timeStamp),h};o.exports=x},88754:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};o.exports=T},5044:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keydown"},40813:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keyup"},89319:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keycombomatch"},43267:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="down"},78595:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keydown-"},30056:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keyup-"},81939:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="up"},94030:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ANY_KEY_DOWN:e(5044),ANY_KEY_UP:e(40813),COMBO_MATCH:e(89319),DOWN:e(43267),KEY_DOWN:e(78595),KEY_UP:e(30056),UP:e(81939)}},28388:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Events:e(94030),KeyboardManager:e(71064),KeyboardPlugin:e(89666),Key:e(50165),KeyCodes:e(11873),KeyCombo:e(95625),AdvanceKeyCombo:e(60258),ProcessKeyCombo:e(2544),ResetKeyCombo:e(88754),JustDown:e(42460),JustUp:e(53162),DownDuration:e(64964),UpDuration:e(70331)}},64964:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=50);var x=e.plugin.game.loop.time-e.timeDown;return e.isDown&&x<u};o.exports=T},42460:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e._justDown?(e._justDown=!1,!0):!1};o.exports=T},53162:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e._justUp?(e._justUp=!1,!0):!1};o.exports=T},50165:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(6659),d=e(94030),l=new u({Extends:x,initialize:function(n,r){x.call(this),this.plugin=n,this.keyCode=r,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(d.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(d.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(d.UP,this,h))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});o.exports=l},11873:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};o.exports=T},48044:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(11873),x={};for(var d in u)x[u[d]]=d;o.exports=x},70331:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=50);var x=e.plugin.game.loop.time-e.timeUp;return e.isUp&&x<u};o.exports=T},7905:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(90185),d=e(33963),l=e(72283),h=new u({initialize:function(r){this.manager=r,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=l,this.onMouseDown=l,this.onMouseUp=l,this.onMouseDownWindow=l,this.onMouseUpWindow=l,this.onMouseOver=l,this.onMouseOut=l,this.onMouseWheel=l,this.pointerLockChange=l,this.isTop=!0,r.events.once(d.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputMouse,this.target=n.inputMouseEventTarget,this.passive=n.inputMousePassive,this.preventDefaultDown=n.inputMousePreventDefaultDown,this.preventDefaultUp=n.inputMousePreventDefaultUp,this.preventDefaultMove=n.inputMousePreventDefaultMove,this.preventDefaultWheel=n.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var n=this.target;n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var n=this.target;if(!!n){var r=this,f=this.manager,a=f.canvas,c=window&&window.focus&&f.game.config.autoFocus;this.onMouseMove=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&(f.onMouseMove(v),r.preventDefaultMove&&v.preventDefault())},this.onMouseDown=function(v){c&&window.focus(),!v.defaultPrevented&&r.enabled&&f&&f.enabled&&(f.onMouseDown(v),r.preventDefaultDown&&v.target===a&&v.preventDefault())},this.onMouseDownWindow=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&v.target!==a&&f.onMouseDown(v)},this.onMouseUp=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&(f.onMouseUp(v),r.preventDefaultUp&&v.target===a&&v.preventDefault())},this.onMouseUpWindow=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&v.target!==a&&f.onMouseUp(v)},this.onMouseOver=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&f.setCanvasOver(v)},this.onMouseOut=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&f.setCanvasOut(v)},this.onMouseWheel=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&f.onMouseWheel(v),r.preventDefaultWheel&&v.target===a&&v.preventDefault()};var p={passive:!0};if(n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mousedown",this.onMouseDown),n.addEventListener("mouseup",this.onMouseUp),n.addEventListener("mouseover",this.onMouseOver,p),n.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?n.addEventListener("wheel",this.onMouseWheel,{passive:!1}):n.addEventListener("wheel",this.onMouseWheel,p),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(v){var m=r.target;r.locked=document.pointerLockElement===m||document.mozPointerLockElement===m||document.webkitPointerLockElement===m,f.onPointerLockChange(v)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("mousedown",this.onMouseDown),n.removeEventListener("mouseup",this.onMouseUp),n.removeEventListener("mouseover",this.onMouseOver),n.removeEventListener("mouseout",this.onMouseOut),window&&(n=this.isTop?window.top:window,n.removeEventListener("mousedown",this.onMouseDownWindow),n.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});o.exports=h},11343:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={MouseManager:e(7905)}},37579:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(33963),d=e(72283),l=new u({initialize:function(n){this.manager=n,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=d,this.onTouchStartWindow=d,this.onTouchMove=d,this.onTouchEnd=d,this.onTouchEndWindow=d,this.onTouchCancel=d,this.onTouchCancelWindow=d,this.isTop=!0,n.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this.target;if(!!h){var n=this,r=this.manager,f=r.canvas,a=window&&window.focus&&r.game.config.autoFocus;this.onTouchMove=function(m){!m.defaultPrevented&&n.enabled&&r&&r.enabled&&(r.onTouchMove(m),n.capture&&m.cancelable&&m.preventDefault())},this.onTouchStart=function(m){a&&window.focus(),!m.defaultPrevented&&n.enabled&&r&&r.enabled&&(r.onTouchStart(m),n.capture&&m.cancelable&&m.target===f&&m.preventDefault())},this.onTouchStartWindow=function(m){!m.defaultPrevented&&n.enabled&&r&&r.enabled&&m.target!==f&&r.onTouchStart(m)},this.onTouchEnd=function(m){!m.defaultPrevented&&n.enabled&&r&&r.enabled&&(r.onTouchEnd(m),n.capture&&m.cancelable&&m.target===f&&m.preventDefault())},this.onTouchEndWindow=function(m){!m.defaultPrevented&&n.enabled&&r&&r.enabled&&m.target!==f&&r.onTouchEnd(m)},this.onTouchCancel=function(m){!m.defaultPrevented&&n.enabled&&r&&r.enabled&&(r.onTouchCancel(m),n.capture&&m.preventDefault())},this.onTouchCancelWindow=function(m){!m.defaultPrevented&&n.enabled&&r&&r.enabled&&r.onTouchCancel(m)};var c=this.capture,p={passive:!0},v={passive:!1};if(h.addEventListener("touchstart",this.onTouchStart,c?v:p),h.addEventListener("touchmove",this.onTouchMove,c?v:p),h.addEventListener("touchend",this.onTouchEnd,c?v:p),h.addEventListener("touchcancel",this.onTouchCancel,c?v:p),window&&r.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,v),window.top.addEventListener("touchend",this.onTouchEndWindow,v),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,v)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,v),window.addEventListener("touchend",this.onTouchEndWindow,v),window.addEventListener("touchcancel",this.onTouchCancelWindow,v),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),window&&(h=this.isTop?window.top:window,h.removeEventListener("touchstart",this.onTouchStartWindow),h.removeEventListener("touchend",this.onTouchEndWindow),h.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});o.exports=l},77423:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={TouchManager:e(37579)}},98035:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(683),l=e(72632),h=e(30750),n=e(43531),r=e(88490),f=e(33868),a=new u({initialize:function(p,v){if(this.loader=p,this.cache=l(v,"cache",!1),this.type=l(v,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=l(v,"key",!1);var m=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+m),!this.key)throw new Error("Invalid File key: "+this.key);var y=l(v,"url");y===void 0?y=p.path+m+"."+l(v,"extension",""):typeof y=="string"&&!y.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(y=p.path+y),this.url=y,this.src="",this.xhrSettings=f(l(v,"responseType",void 0)),l(v,"xhrSettings",!1)&&(this.xhrSettings=n(this.xhrSettings,l(v,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=l(v,"config",{}),this.multiFile,this.linkFile},setLink:function(c){this.linkFile=c,c.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===x.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=x.FILE_LOADING,this.src=h(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(c,p){var v=c.responseURL&&this.loader.localSchemes.some(function(E){return c.responseURL.indexOf(E)===0}),m=v&&p.target.status===0,y=!(p.target&&p.target.status!==200)||m;c.readyState===4&&c.status>=400&&c.status<=599&&(y=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,y)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(c){c.lengthComputable&&(this.bytesLoaded=c.loaded,this.bytesTotal=c.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(c){if(this.state!==x.FILE_PENDING_DESTROY){c===void 0&&(c=this.data);var p=this.key,v=this.type;this.loader.emit(d.FILE_COMPLETE,p,v,c),this.loader.emit(d.FILE_KEY_COMPLETE+v+"-"+p,p,v,c),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(c,p,v){if(typeof URL=="function")c.src=URL.createObjectURL(p);else{var m=new FileReader;m.onload=function(){c.removeAttribute("crossOrigin"),c.src="data:"+(p.type||v)+";base64,"+m.result.split(",")[1]},m.onerror=c.onerror,m.readAsDataURL(p)}},a.revokeObjectURL=function(c){typeof URL=="function"&&URL.revokeObjectURL(c.src)},o.exports=a},76846:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},e={install:function(u){for(var x in T)u[x]=T[x]},register:function(u,x){T[u]=x},destroy:function(){T={}}};o.exports=e},30750:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.url?e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:u+e.url:!1};o.exports=T},67285:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(58403),l=e(6659),h=e(683),n=e(76846),r=e(72632),f=e(10850),a=e(91963),c=e(7599),p=e(33868),v=new u({Extends:l,initialize:function(y){l.call(this);var E=y.sys.game.config,P=y.sys.settings.loader;this.scene=y,this.systems=y.sys,this.cacheManager=y.sys.cache,this.textureManager=y.sys.textures,this.sceneManager=y.sys.game.scene,n.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(P,"baseURL",E.loaderBaseURL)),this.setPath(r(P,"path",E.loaderPath)),this.setPrefix(r(P,"prefix",E.loaderPrefix)),this.maxParallelDownloads=r(P,"maxParallelDownloads",E.loaderMaxParallelDownloads),this.xhr=p(r(P,"responseType",E.loaderResponseType),r(P,"async",E.loaderAsync),r(P,"user",E.loaderUser),r(P,"password",E.loaderPassword),r(P,"timeout",E.loaderTimeout),r(P,"withCredentials",E.loaderWithCredentials)),this.crossOrigin=r(P,"crossOrigin",E.loaderCrossOrigin),this.imageLoadType=r(P,"imageLoadType",E.loaderImageLoadType),this.localSchemes=r(P,"localScheme",E.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new d,this.inflight=new d,this.queue=new d,this._deleteQueue=new d,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,y.sys.events.once(c.BOOT,this.boot,this),y.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return m===void 0&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++){var E=m[y];this.keyExists(E)||(this.list.set(E),this.emit(h.ADD,E.key,E.type,this,E),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var y=m.hasCacheConflict();return y||this.list.iterate(function(E){if(E.type===m.type&&E.key===m.key)return y=!0,!1}),!y&&this.isLoading()&&(this.inflight.iterate(function(E){if(E.type===m.type&&E.key===m.key)return y=!0,!1}),this.queue.iterate(function(E){if(E.type===m.type&&E.key===m.key)return y=!0,!1})),y},addPack:function(m,y){if(typeof y=="string"){var E=f(m,y);E&&(m={packKey:E})}var P=0,S=this.baseURL,w=this.path,A=this.prefix;for(var R in m)if(!!Object.prototype.hasOwnProperty.call(m,R)){var O=m[R],L=r(O,"baseURL",S),b=r(O,"path",w),D=r(O,"prefix",A),I=r(O,"files",null),B=r(O,"defaultType","void");if(Array.isArray(I)){this.setBaseURL(L),this.setPath(b),this.setPrefix(D);for(var V=0;V<I.length;V++){var Y=I[V],k=Y.hasOwnProperty("type")?Y.type:B;this[k]&&(this[k](Y),P++)}}}return this.setBaseURL(S),this.setPath(w),this.setPrefix(A),P>0},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){if((m.state===x.FILE_POPULATED||m.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,y){!this.inflight||(this.inflight.delete(m),this.updateProgress(),y?(this.totalComplete++,this.queue.set(m),this.emit(h.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(h.FILE_LOAD_ERROR,m),this.fileProcessComplete(m)))},fileProcessComplete:function(m){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(m.state===x.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===x.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&(m.multiFile.addToCache(),m.multiFile.pendingDestroy()):(m.addToCache(),m.pendingDestroy())),this.queue.delete(m),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,y){return this.save(JSON.stringify(m),y)},save:function(m,y,E){y===void 0&&(y="file.json"),E===void 0&&(E="application/json");var P=new Blob([m],{type:E}),S=URL.createObjectURL(P),w=document.createElement("a");return w.download=y,w.textContent="Download "+y,w.href=S,w.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,y=this.systems.settings.loader;this.setBaseURL(r(y,"baseURL",m.loaderBaseURL)),this.setPath(r(y,"path",m.loaderPath)),this.setPrefix(r(y,"prefix",m.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});a.register("Loader",v,"load"),o.exports=v},43531:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),x=e(33868),d=function(l,h){var n=l===void 0?x():u({},l);if(h)for(var r in h)h[r]!==void 0&&(n[r]=h[r]);return n};o.exports=d},45176:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(683),l=new u({initialize:function(n,r,f,a){var c=[];a.forEach(function(v){v&&c.push(v)}),this.loader=n,this.type=r,this.key=f,this.multiKeyIndex=n.multiKeyIndex++,this.files=c,this.state=x.FILE_PENDING,this.complete=!1,this.pending=c.length,this.failed=0,this.config={},this.baseURL=n.baseURL,this.path=n.path,this.prefix=n.prefix;for(var p=0;p<c.length;p++)c[p].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){var n=this.files.indexOf(h);n!==-1&&this.pending--},onFileFailed:function(h){var n=this.files.indexOf(h);n!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,h.type,h.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var h=this.key,n=this.type;this.loader.emit(d.FILE_COMPLETE,h,n),this.loader.emit(d.FILE_KEY_COMPLETE+n+"-"+h,h,n),this.loader.flagForRemoval(this);for(var r=0;r<this.files.length;r++)this.files[r].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});o.exports=l},88490:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43531),x=function(d,l){var h=u(l,d.xhrSettings),n=new XMLHttpRequest;if(n.open("GET",d.src,h.async,h.user,h.password),n.responseType=d.xhrSettings.responseType,n.timeout=h.timeout,h.headers)for(var r in h.headers)n.setRequestHeader(r,h.headers[r]);return h.header&&h.headerValue&&n.setRequestHeader(h.header,h.headerValue),h.requestedWith&&n.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&n.overrideMimeType(h.overrideMimeType),h.withCredentials&&(n.withCredentials=!0),n.onload=d.onLoad.bind(d,n),n.onerror=d.onError.bind(d,n),n.onprogress=d.onProgress.bind(d),n.send(),n};o.exports=x},33868:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l,h){return e===void 0&&(e=""),u===void 0&&(u=!0),x===void 0&&(x=""),d===void 0&&(d=""),l===void 0&&(l=0),h===void 0&&(h=!1),{responseType:e,async:u,user:x,password:d,timeout:l,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:h}};o.exports=T},12117:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};o.exports=T},7398:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addfile"},52187:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},36627:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="filecomplete"},81925:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="filecomplete-"},29774:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loaderror"},20943:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="load"},74693:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="fileprogress"},71176:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postprocess"},88984:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="progress"},72753:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},683:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD:e(7398),COMPLETE:e(52187),FILE_COMPLETE:e(36627),FILE_KEY_COMPLETE:e(81925),FILE_LOAD_ERROR:e(29774),FILE_LOAD:e(20943),FILE_PROGRESS:e(74693),POST_PROCESS:e(71176),PROGRESS:e(88984),START:e(72753)}},46468:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(70806),l=e(683),h=new u({Extends:d,initialize:function(r,f,a,c,p){d.call(this,r,f,a,c,p),this.type="animationJSON"},onProcess:function(){this.loader.once(l.POST_PROCESS,this.onLoadComplete,this),d.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(n,r,f,a){if(Array.isArray(n))for(var c=0;c<n.length;c++)this.addFile(new h(this,n[c]));else this.addFile(new h(this,n,r,a,f));return this}),o.exports=h},31648:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(72632),l=e(42927),h=e(42911),n=e(70806),r=e(45176),f=new u({Extends:r,initialize:function(c,p,v,m,y,E){var P,S;if(h(p)){var w=p;p=d(w,"key"),P=new l(c,{key:p,url:d(w,"textureURL"),extension:d(w,"textureExtension","png"),normalMap:d(w,"normalMap"),xhrSettings:d(w,"textureXhrSettings")}),S=new n(c,{key:p,url:d(w,"atlasURL"),extension:d(w,"atlasExtension","json"),xhrSettings:d(w,"atlasXhrSettings")})}else P=new l(c,p,v,y),S=new n(c,p,m,E);P.linkFile?r.call(this,c,"atlasjson",p,[P,S,P.linkFile]):r.call(this,c,"atlasjson",p,[P,S])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,c.data,p),c.addToCache(),this.complete=!0}}});x.register("aseprite",function(a,c,p,v,m){var y;if(Array.isArray(a))for(var E=0;E<a.length;E++)y=new f(this,a[E]),this.addFile(y.files);else y=new f(this,a,c,p,v,m),this.addFile(y.files);return this}),o.exports=f},73152:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(72632),l=e(42927),h=e(42911),n=e(70806),r=e(45176),f=new u({Extends:r,initialize:function(c,p,v,m,y,E){var P,S;if(h(p)){var w=p;p=d(w,"key"),P=new l(c,{key:p,url:d(w,"textureURL"),extension:d(w,"textureExtension","png"),normalMap:d(w,"normalMap"),xhrSettings:d(w,"textureXhrSettings")}),S=new n(c,{key:p,url:d(w,"atlasURL"),extension:d(w,"atlasExtension","json"),xhrSettings:d(w,"atlasXhrSettings")})}else P=new l(c,p,v,y),S=new n(c,p,m,E);P.linkFile?r.call(this,c,"atlasjson",p,[P,S,P.linkFile]):r.call(this,c,"atlasjson",p,[P,S])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,c.data,p),this.complete=!0}}});x.register("atlas",function(a,c,p,v,m){var y;if(Array.isArray(a))for(var E=0;E<a.length;E++)y=new f(this,a[E]),this.addFile(y.files);else y=new f(this,a,c,p,v,m),this.addFile(y.files);return this}),o.exports=f},24616:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(72632),l=e(42927),h=e(42911),n=e(45176),r=e(15297),f=new u({Extends:n,initialize:function(c,p,v,m,y,E){var P,S;if(h(p)){var w=p;p=d(w,"key"),P=new l(c,{key:p,url:d(w,"textureURL"),extension:d(w,"textureExtension","png"),normalMap:d(w,"normalMap"),xhrSettings:d(w,"textureXhrSettings")}),S=new r(c,{key:p,url:d(w,"atlasURL"),extension:d(w,"atlasExtension","xml"),xhrSettings:d(w,"atlasXhrSettings")})}else P=new l(c,p,v,y),S=new r(c,p,m,E);P.linkFile?n.call(this,c,"atlasxml",p,[P,S,P.linkFile]):n.call(this,c,"atlasxml",p,[P,S])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(a.key,a.data,c.data,p),this.complete=!0}}});x.register("atlasXML",function(a,c,p,v,m){var y;if(Array.isArray(a))for(var E=0;E<a.length;E++)y=new f(this,a[E]),this.addFile(y.files);else y=new f(this,a,c,p,v,m),this.addFile(y.files);return this}),o.exports=f},67448:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(30929),r=e(42911),f=new u({Extends:d,initialize:function(c,p,v,m,y){if(r(p)){var E=p;p=h(E,"key"),m=h(E,"xhrSettings"),y=h(E,"context",y)}var P={type:"audio",cache:c.cacheManager.audio,extension:v.type,responseType:"arraybuffer",key:p,url:v.url,xhrSettings:m,config:{context:y}};d.call(this,c,P)},onProcess:function(){this.state=x.FILE_PROCESSING;var a=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(c){a.data=c,a.onProcessComplete()},function(c){console.error("Error decoding audio: "+a.key+" - ",c?c.message:null),a.onProcessError()}),this.config.context=null}});f.create=function(a,c,p,v,m){var y=a.systems.game,E=y.config.audio,P=y.device.audio;r(c)&&(p=h(c,"url",[]),v=h(c,"config",{}));var S=f.getAudioURL(y,p);return S?P.webAudio&&!E.disableWebAudio?new f(a,c,S,m,y.sound.context):new n(a,c,S,v):(console.warn('No audio URLs for "%s" matched this device',c),null)},f.getAudioURL=function(a,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var v=h(c[p],"url",c[p]);if(v.indexOf("blob:")===0||v.indexOf("data:")===0)return{url:v,type:""};var m=v.match(/\.([a-zA-Z0-9]+)($|\?)/);if(m=h(c[p],"type",m?m[1]:"").toLowerCase(),a.device.audio[m])return{url:v,type:m}}return null},l.register("audio",function(a,c,p,v){var m=this.systems.game,y=m.config.audio,E=m.device.audio;if(y.noAudio||!E.webAudio&&!E.audioData)return this;var P;if(Array.isArray(a))for(var S=0;S<a.length;S++)P=f.create(this,a[S]),P&&this.addFile(P);else P=f.create(this,a,c,p,v),P&&this.addFile(P);return this}),o.exports=f},66109:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(67448),x=e(56694),d=e(76846),l=e(72632),h=e(42911),n=e(70806),r=e(45176),f=new x({Extends:r,initialize:function(c,p,v,m,y,E,P){if(h(p)){var S=p;p=l(S,"key"),v=l(S,"jsonURL"),m=l(S,"audioURL"),y=l(S,"audioConfig"),E=l(S,"audioXhrSettings"),P=l(S,"jsonXhrSettings")}var w;if(!m)w=new n(c,p,v,P),r.call(this,c,"audiosprite",p,[w]),this.config.resourceLoad=!0,this.config.audioConfig=y,this.config.audioXhrSettings=E;else{var A=u.create(c,p,m,y,E);A&&(w=new n(c,p,v,P),r.call(this,c,"audiosprite",p,[A,w]),this.config.resourceLoad=!1)}},onFileComplete:function(a){var c=this.files.indexOf(a);if(c!==-1&&(this.pending--,this.config.resourceLoad&&a.type==="json"&&a.data.hasOwnProperty("resources"))){var p=a.data.resources,v=l(this.config,"audioConfig"),m=l(this.config,"audioXhrSettings"),y=u.create(this.loader,a.key,p,v,m);y&&(this.addToMultiFile(y),this.loader.addFile(y))}},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1];a.addToCache(),c.addToCache(),this.complete=!0}}});d.register("audioSprite",function(a,c,p,v,m,y){var E=this.systems.game,P=E.config.audio,S=E.device.audio;if(P&&P.noAudio||!S.webAudio&&!S.audioData)return this;var w;if(Array.isArray(a))for(var A=0;A<a.length;A++)w=new f(this,a[A]),w.files&&this.addFile(w.files);else w=new f(this,a,c,p,v,m,y),w.files&&this.addFile(w.files);return this})},40612:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v,m){var y="bin";if(n(c)){var E=c;c=h(E,"key"),p=h(E,"url"),v=h(E,"xhrSettings"),y=h(E,"extension",y),m=h(E,"dataType",m)}var P={type:"binary",cache:a.cacheManager.binary,extension:y,responseType:"arraybuffer",key:c,url:p,xhrSettings:v,config:{dataType:m}};d.call(this,a,P)},onProcess:function(){this.state=x.FILE_PROCESSING;var f=this.config.dataType;this.data=f?new f(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});l.register("binary",function(f,a,c,p){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new r(this,f[v]));else this.addFile(new r(this,f,a,p,c));return this}),o.exports=r},54565:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(72632),l=e(42927),h=e(42911),n=e(45176),r=e(31476),f=e(15297),a=new u({Extends:n,initialize:function(p,v,m,y,E,P){var S,w;if(h(v)){var A=v;v=d(A,"key"),S=new l(p,{key:v,url:d(A,"textureURL"),extension:d(A,"textureExtension","png"),normalMap:d(A,"normalMap"),xhrSettings:d(A,"textureXhrSettings")}),w=new f(p,{key:v,url:d(A,"fontDataURL"),extension:d(A,"fontDataExtension","xml"),xhrSettings:d(A,"fontDataXhrSettings")})}else S=new l(p,v,m,E),w=new f(p,v,y,P);S.linkFile?n.call(this,p,"bitmapfont",v,[S,w,S.linkFile]):n.call(this,p,"bitmapfont",v,[S,w])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1];c.addToCache();var v=c.cache.get(c.key),m=r(p.data,c.cache.getFrame(c.key),0,0,v);this.loader.cacheManager.bitmapFont.add(c.key,{data:m,texture:c.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(c,p,v,m,y){var E;if(Array.isArray(c))for(var P=0;P<c.length;P++)E=new a(this,c[P]),this.addFile(E.files);else E=new a(this,c,p,v,m,y),this.addFile(E.files);return this}),o.exports=a},99898:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v){var m="css";if(n(c)){var y=c;c=h(y,"key"),p=h(y,"url"),v=h(y,"xhrSettings"),m=h(y,"extension",m)}var E={type:"script",cache:!1,extension:m,responseType:"text",key:c,url:p,xhrSettings:v};d.call(this,a,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("css",function(f,a,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new r(this,f[p]));else this.addFile(new r(this,f,a,c));return this}),o.exports=r},47375:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73152),x=e(40612),d=e(56694),l=e(76846),h=e(72632),n=e(42927),r=e(42911),f=e(70806),a=e(67409),c=e(30657),p=e(80802),v=e(45176),m=e(24904),y=new d({Extends:v,initialize:function(P,S,w,A){if(w.multiAtlasURL){var R=new f(P,{key:S,url:w.multiAtlasURL,xhrSettings:A,config:w});v.call(this,P,"texture",S,[R])}else{var O=w.textureURL.substr(w.textureURL.length-3);w.type||(w.type=O.toLowerCase()==="ktx"?"KTX":"PVR");var L=new x(P,{key:S,url:w.textureURL,extension:O,xhrSettings:A,config:w});if(w.atlasURL){var b=new f(P,{key:S,url:w.atlasURL,xhrSettings:A,config:w});v.call(this,P,"texture",S,[L,b])}else v.call(this,P,"texture",S,[L])}this.config=w},onFileComplete:function(E){var P=this.files.indexOf(E);if(P!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(E.type==="json"&&E.data.hasOwnProperty("textures")){var S=E.data.textures,w=this.config,A=this.loader,R=A.baseURL,O=A.path,L=A.prefix,b=h(w,"multiBaseURL",this.baseURL),D=h(w,"multiPath",this.path),I=h(w,"prefix",this.prefix),B=h(w,"textureXhrSettings");b&&A.setBaseURL(b),D&&A.setPath(D),I&&A.setPrefix(I);for(var V=0;V<S.length;V++){var Y=S[V].image,k="CMA"+this.multiKeyIndex+"_"+Y,W=new x(A,k,Y,B);if(this.addToMultiFile(W),A.addFile(W),S[V].normalMap){var G=new x(A,k,S[V].normalMap,B);G.type="normalMap",W.setLink(G),this.addToMultiFile(G),A.addFile(G)}}A.setBaseURL(R),A.setPath(O),A.setPrefix(L)}}},addToCache:function(){if(this.isReadyToProcess()){var E=this.config;if(E.multiAtlasURL)this.addMultiToCache();else{var P=this.loader.systems.renderer,S=this.loader.textureManager,w,A=this.files[0],R=this.files[1];if(E.type==="PVR"?w=m(A.data):E.type==="KTX"&&(w=a(A.data)),w&&P.supportsCompressedTexture(E.format,w.internalFormat)){w.format=P.getCompressedTextureName(E.format,w.internalFormat);var O=R&&R.data?R.data:null;S.addCompressedTexture(A.key,w,O)}}this.complete=!0}},addMultiToCache:function(){for(var E=this.config,P=this.files[0],S=[],w=[],A=[],R=this.loader.systems.renderer,O=this.loader.textureManager,L,b=1;b<this.files.length;b++){var D=this.files[b];if(D.type!=="normalMap")for(var I=D.key.indexOf("_"),B=D.key.substr(I+1),V=D.data,Y=0;Y<P.data.textures.length;Y++){var k=P.data.textures[Y];if(k.image===B){E.type==="PVR"?L=m(V):E.type==="KTX"&&(L=a(V)),L&&R.supportsCompressedTexture(E.format,L.internalFormat)&&(L.format=R.getCompressedTextureName(E.format,L.internalFormat),w.push(L),S.push(k),D.linkFile&&A.push(D.linkFile.data));break}}}A.length===0&&(A=void 0),O.addAtlasJSONArray(this.key,w,S,A),this.complete=!0}});l.register("texture",function(E,P,S){var w=this.systems.renderer,A=function(O,L,b,D){var I={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(r(L)){var B=L;L=h(B,"key"),b=h(B,"url"),D=h(B,"xhrSettings")}var V=!1;for(var Y in b)if(w.supportsCompressedTexture(Y)){var k=b[Y];typeof k=="string"?I.textureURL=k:I=c(k,I),I.format=Y.toUpperCase(),V=!0;break}if(!V)console.warn("No supported compressed texture format or IMG fallback",L);else if(I.format==="IMG"){var W,G;I.multiAtlasURL?(G=new p(O,L,I.multiAtlasURL,I.multiPath,I.multiBaseURL,D),W=G.files):I.atlasURL?(G=new u(O,L,I.textureURL,I.atlasURL,D),W=G.files):W=new n(O,L,I.textureURL,D),O.addFile(W)}else{var U=new y(O,L,I,D);O.addFile(U.files)}};if(Array.isArray(E))for(var R=0;R<E.length;R++)A(this,E[R]);else A(this,E,P,S);return this}),o.exports=y},46568:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=e(31053),f=new u({Extends:d,initialize:function(c,p,v,m,y){var E="glsl";if(n(p)){var P=p;p=h(P,"key"),v=h(P,"url"),m=h(P,"shaderType","fragment"),y=h(P,"xhrSettings"),E=h(P,"extension",E)}else m===void 0&&(m="fragment");var S={type:"glsl",cache:c.cacheManager.shader,extension:E,responseType:"text",key:p,url:v,config:{shaderType:m},xhrSettings:y};d.call(this,c,S)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a=this.data.split(`
`),c=this.extractBlock(a,0);if(c)for(;c;){var p=this.getShaderName(c.header),v=this.getShaderType(c.header),m=this.getShaderUniforms(c.header),y=c.shader;if(this.cache.has(p)){var E=this.cache.get(p);v==="fragment"?E.fragmentSrc=y:E.vertexSrc=y,E.uniforms||(E.uniforms=m)}else v==="fragment"?this.cache.add(p,new r(p,y,"",m)):this.cache.add(p,new r(p,"",y,m));c=this.extractBlock(a,c.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new r(this.key,this.data)):this.cache.add(this.key,new r(this.key,"",this.data))},getShaderName:function(a){for(var c=0;c<a.length;c++){var p=a[c].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(a){for(var c=0;c<a.length;c++){var p=a[c].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(a){for(var c={},p=0;p<a.length;p++){var v=a[p].trim();if(v.substring(0,8)==="uniform."){var m=v.indexOf(":");if(m){var y=v.substring(8,m);try{c[y]=JSON.parse(v.substring(m+1))}catch{console.warn("Invalid uniform JSON: "+y)}}}}return c},extractBlock:function(a,c){for(var p=-1,v=-1,m=-1,y=!1,E=!1,P=[],S=[],w=c;w<a.length;w++){var A=a[w].trim();if(A==="---")if(p===-1)p=w,y=!0;else if(y)v=w,y=!1,E=!0;else{E=!1;break}else y?P.push(A):E&&(S.push(A),m=w)}return!y&&v!==-1?{header:P,shader:S.join(`
`),offset:m}:null}});l.register("glsl",function(a,c,p,v){if(Array.isArray(a))for(var m=0;m<a.length;m++)this.addFile(new f(this,a[m]));else this.addFile(new f(this,a,c,p,v));return this}),o.exports=f},30929:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(683),d=e(98035),l=e(72632),h=e(30750),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v){if(n(c)){var m=c;c=l(m,"key"),v=l(m,"config",v)}var y={type:"audio",cache:a.cacheManager.audio,extension:p.type,key:c,url:p.url,config:v};d.call(this,a,y),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var f=0;f<this.data.length;f++){var a=this.data[f];a.oncanplaythrough=null,a.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(f){var a=f.target;a.oncanplaythrough=null,a.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var f=this.config&&this.config.instances||1;this.filesTotal=f,this.filesLoaded=0,this.percentComplete=0;for(var a=0;a<f;a++){var c=new Audio;c.dataset||(c.dataset={}),c.dataset.name=this.key+("0"+a).slice(-2),c.dataset.used="false",this.locked?c.dataset.locked="true":(c.dataset.locked="false",c.preload="auto",c.oncanplaythrough=this.onProgress.bind(this),c.onerror=this.onError.bind(this)),this.data.push(c)}for(a=0;a<this.data.length;a++)c=this.data[a],c.src=h(this,this.loader.baseURL),this.locked||c.load();this.locked&&setTimeout(this.onLoad.bind(this))}});o.exports=r},77459:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v){var m="html";if(n(c)){var y=c;c=h(y,"key"),p=h(y,"url"),v=h(y,"xhrSettings"),m=h(y,"extension",m)}var E={type:"text",cache:a.cacheManager.html,extension:m,responseType:"text",key:c,url:p,xhrSettings:v};d.call(this,a,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("html",function(f,a,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new r(this,f[p]));else this.addFile(new r(this,f,a,c));return this}),o.exports=r},9755:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v,m,y){v===void 0&&(v=512),m===void 0&&(m=512);var E="html";if(n(c)){var P=c;c=h(P,"key"),p=h(P,"url"),y=h(P,"xhrSettings"),E=h(P,"extension",E),v=h(P,"width",v),m=h(P,"height",m)}var S={type:"html",cache:a.textureManager,extension:E,responseType:"text",key:c,url:p,xhrSettings:y,config:{width:v,height:m}};d.call(this,a,S)},onProcess:function(){this.state=x.FILE_PROCESSING;var f=this.config.width,a=this.config.height,c=[];c.push('<svg width="'+f+'px" height="'+a+'px" viewBox="0 0 '+f+" "+a+'" xmlns="http://www.w3.org/2000/svg">'),c.push('<foreignObject width="100%" height="100%">'),c.push('<body xmlns="http://www.w3.org/1999/xhtml">'),c.push(this.xhrLoader.responseText),c.push("</body>"),c.push("</foreignObject>"),c.push("</svg>");var p=[c.join(`
`)],v=this;try{var m=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{v.state=x.FILE_ERRORED,v.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){d.revokeObjectURL(v.data),v.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(v.data),v.onProcessError()},d.createObjectURL(this.data,m,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("htmlTexture",function(f,a,c,p,v){if(Array.isArray(f))for(var m=0;m<f.length;m++)this.addFile(new r(this,f[m]));else this.addFile(new r(this,f,a,c,p,v));return this}),o.exports=r},42927:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=e(30750),f=new u({Extends:d,initialize:function a(c,p,v,m,y){var E="png",P;if(n(p)){var S=p;p=h(S,"key"),v=h(S,"url"),P=h(S,"normalMap"),m=h(S,"xhrSettings"),E=h(S,"extension",E),y=h(S,"frameConfig")}Array.isArray(v)&&(P=v[1],v=v[0]);var w={type:"image",cache:c.textureManager,extension:E,responseType:"blob",key:p,url:v,xhrSettings:m,config:y};if(d.call(this,c,w),P){var A=new a(c,this.key,P,m,y);A.type="normalMap",this.setLink(A),c.addFile(A)}this.useImageElementLoad=c.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){d.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(a.data),a.onProcessError()},d.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var a=this.state;this.state=x.FILE_PROCESSING,a===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=x.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){a.state=x.FILE_LOADED,a.loader.nextFile(a,!0)},this.data.onerror=function(){a.loader.nextFile(a,!1)},this.data.src=this.src}},addToCache:function(){var a=this.linkFile;a?a.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,a.data,this.data):this.cache.addImage(this.key,this.data,a.data)):this.cache.addImage(this.key,this.data)}});l.register("image",function(a,c,p){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new f(this,a[v]));else this.addFile(new f(this,a,c,p));return this}),o.exports=f},70806:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(10850),r=e(42911),f=new u({Extends:d,initialize:function(c,p,v,m,y){var E="json";if(r(p)){var P=p;p=h(P,"key"),v=h(P,"url"),m=h(P,"xhrSettings"),E=h(P,"extension",E),y=h(P,"dataKey",y)}var S={type:"json",cache:c.cacheManager.json,extension:E,responseType:"text",key:p,url:v,xhrSettings:m,config:y};d.call(this,c,S),r(v)&&(y?this.data=n(v,y):this.data=v,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var a=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var c=this.config;typeof c=="string"?this.data=n(a,c,a):this.data=a}this.onProcessComplete()}});l.register("json",function(a,c,p,v){if(Array.isArray(a))for(var m=0;m<a.length;m++)this.addFile(new f(this,a[m]));else this.addFile(new f(this,a,c,v,p));return this}),o.exports=f},80802:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(72632),l=e(42927),h=e(42911),n=e(70806),r=e(45176),f=new u({Extends:r,initialize:function(c,p,v,m,y,E,P){if(h(p)){var S=p;p=d(S,"key"),d(S,"url",!1)?v=d(S,"url"):v=d(S,"atlasURL"),E=d(S,"xhrSettings"),m=d(S,"path"),y=d(S,"baseURL"),P=d(S,"textureXhrSettings")}var w=new n(c,p,v,E);r.call(this,c,"multiatlas",p,[w]),this.config.path=m,this.config.baseURL=y,this.config.textureXhrSettings=P},onFileComplete:function(a){var c=this.files.indexOf(a);if(c!==-1&&(this.pending--,a.type==="json"&&a.data.hasOwnProperty("textures"))){var p=a.data.textures,v=this.config,m=this.loader,y=m.baseURL,E=m.path,P=m.prefix,S=d(v,"baseURL",this.baseURL),w=d(v,"path",this.path),A=d(v,"prefix",this.prefix),R=d(v,"textureXhrSettings");m.setBaseURL(S),m.setPath(w),m.setPrefix(A);for(var O=0;O<p.length;O++){var L=p[O].image,b="MA"+this.multiKeyIndex+"_"+L,D=new l(m,b,L,R);if(this.addToMultiFile(D),m.addFile(D),p[O].normalMap){var I=new l(m,b,p[O].normalMap,R);I.type="normalMap",D.setLink(I),this.addToMultiFile(I),m.addFile(I)}}m.setBaseURL(y),m.setPath(E),m.setPrefix(P)}},addToCache:function(){if(this.isReadyToProcess()){for(var a=this.files[0],c=[],p=[],v=[],m=1;m<this.files.length;m++){var y=this.files[m];if(y.type!=="normalMap")for(var E=y.key.indexOf("_"),P=y.key.substr(E+1),S=y.data,w=0;w<a.data.textures.length;w++){var A=a.data.textures[w];if(A.image===P){p.push(S),c.push(A),y.linkFile&&v.push(y.linkFile.data);break}}}v.length===0&&(v=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,c,v),this.complete=!0}}});x.register("multiatlas",function(a,c,p,v,m){var y;if(Array.isArray(a))for(var E=0;E<a.length;E++)y=new f(this,a[E]),this.addFile(y.files);else y=new f(this,a,c,p,v,m),this.addFile(y.files);return this}),o.exports=f},39034:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(72632),l=e(42911),h=e(45176),n=e(55188),r=new u({Extends:h,initialize:function(a,c,p,v){var m="js",y=[];if(l(c)){var E=c;c=d(E,"key"),p=d(E,"url"),v=d(E,"xhrSettings"),m=d(E,"extension",m)}Array.isArray(p)||(p=[p]);for(var P=0;P<p.length;P++){var S=new n(a,{key:c+"_"+P.toString(),url:p[P],extension:m,xhrSettings:v});S.onProcess=function(){this.onProcessComplete()},y.push(S)}h.call(this,a,"scripts",c,y)},addToCache:function(){if(this.isReadyToProcess()){for(var f=0;f<this.files.length;f++){var a=this.files[f];a.data=document.createElement("script"),a.data.language="javascript",a.data.type="text/javascript",a.data.defer=!1,a.data.text=a.xhrLoader.responseText,document.head.appendChild(a.data)}this.complete=!0}}});x.register("scripts",function(f,a,c){var p;if(Array.isArray(f))for(var v=0;v<f.length;v++)p=new r(this,f[v]),this.addFile(p.files);else p=new r(this,f,a,c),this.addFile(p.files);return this}),o.exports=r},85527:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(72632),l=e(42911),h=e(45176),n=e(27291),r=e(76799),f=e(86897),a=new u({Extends:h,initialize:function(p,v,m,y,E,P){var S,w,A=p.cacheManager.obj;if(l(v)){var R=v;v=d(R,"key"),S=new f(p,{key:v,type:"obj",cache:A,url:d(R,"url"),extension:d(R,"extension","obj"),xhrSettings:d(R,"xhrSettings"),config:{flipUV:d(R,"flipUV",E)}}),y=d(R,"matURL"),y&&(w=new f(p,{key:v,type:"mat",cache:A,url:y,extension:d(R,"matExtension","mat"),xhrSettings:d(R,"xhrSettings")}))}else S=new f(p,{key:v,url:m,type:"obj",cache:A,extension:"obj",xhrSettings:P,config:{flipUV:E}}),y&&(w=new f(p,{key:v,url:y,type:"mat",cache:A,extension:"mat",xhrSettings:P}));h.call(this,p,"obj",v,[S,w])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],v=n(c.data,c.config.flipUV);p&&(v.materials=r(p.data)),c.cache.add(c.key,v),this.complete=!0}}});x.register("obj",function(c,p,v,m,y){var E;if(Array.isArray(c))for(var P=0;P<c.length;P++)E=new a(this,c[P]),this.addFile(E.files);else E=new a(this,c,p,v,m,y),this.addFile(E.files);return this}),o.exports=a},3616:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(76846),l=e(70806),h=new u({Extends:l,initialize:function(r,f,a,c,p){l.call(this,r,f,a,c,p),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var n={};n[this.config]=this.data,this.data=n}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});d.register("pack",function(n,r,f,a){if(Array.isArray(n))for(var c=0;c<n.length;c++)this.addFile(new h(this,n[c]));else this.addFile(new h(this,n,r,a,f));return this}),o.exports=h},12217:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v,m,y){var E="js";if(n(c)){var P=c;c=h(P,"key"),p=h(P,"url"),y=h(P,"xhrSettings"),E=h(P,"extension",E),v=h(P,"start"),m=h(P,"mapping")}var S={type:"plugin",cache:!1,extension:E,responseType:"text",key:c,url:p,xhrSettings:y,config:{start:v,mapping:m}};d.call(this,a,S),typeof p=="function"&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,a=this.config,c=h(a,"start",!1),p=h(a,"mapping",null);if(this.state===x.FILE_POPULATED)f.install(this.key,this.data,c,p);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var v=f.install(this.key,window[this.key],c,p);(c||p)&&(this.loader.systems[p]=v,this.loader.scene[p]=v)}this.onProcessComplete()}});l.register("plugin",function(f,a,c,p,v){if(Array.isArray(f))for(var m=0;m<f.length;m++)this.addFile(new r(this,f[m]));else this.addFile(new r(this,f,a,c,p,v));return this}),o.exports=r},4474:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v,m){var y="svg";if(n(c)){var E=c;c=h(E,"key"),p=h(E,"url"),v=h(E,"svgConfig",{}),m=h(E,"xhrSettings"),y=h(E,"extension",y)}var P={type:"svg",cache:a.textureManager,extension:y,responseType:"text",key:c,url:p,xhrSettings:m,config:{width:h(v,"width"),height:h(v,"height"),scale:h(v,"scale")}};d.call(this,a,P)},onProcess:function(){this.state=x.FILE_PROCESSING;var f=this.xhrLoader.responseText,a=[f],c=this.config.width,p=this.config.height,v=this.config.scale;t:if(c&&p||v){var m=null,y=new DOMParser;m=y.parseFromString(f,"text/xml");var E=m.getElementsByTagName("svg")[0],P=E.hasAttribute("viewBox"),S=parseFloat(E.getAttribute("width")),w=parseFloat(E.getAttribute("height"));if(!P&&S&&w)E.setAttribute("viewBox","0  0 "+S+" "+w);else if(P&&!S&&!w){var A=E.getAttribute("viewBox").split(/\s+|,/);S=A[2],w=A[3]}if(v)if(S&&w)c=S*v,p=w*v;else break t;E.setAttribute("width",c.toString()+"px"),E.setAttribute("height",p.toString()+"px"),a=[new XMLSerializer().serializeToString(E)]}try{var R=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var O=this,L=!1;this.data.onload=function(){L||d.revokeObjectURL(O.data),O.onProcessComplete()},this.data.onerror=function(){L?O.onProcessError():(L=!0,d.revokeObjectURL(O.data),O.data.src="data:image/svg+xml,"+encodeURIComponent(a.join("")))},d.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("svg",function(f,a,c,p){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new r(this,f[v]));else this.addFile(new r(this,f,a,c,p));return this}),o.exports=r},95171:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v){var m="js";if(n(c)){var y=c;c=h(y,"key"),p=h(y,"url"),v=h(y,"xhrSettings"),m=h(y,"extension",m)}var E={type:"text",extension:m,responseType:"text",key:c,url:p,xhrSettings:v};d.call(this,a,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),a=eval;this.loader.sceneManager.add(this.key,a(f)),this.complete=!0}});l.register("sceneFile",function(f,a,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new r(this,f[p]));else this.addFile(new r(this,f,a,c));return this}),o.exports=r},82458:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v,m,y){var E="js";if(n(c)){var P=c;c=h(P,"key"),p=h(P,"url"),y=h(P,"xhrSettings"),E=h(P,"extension",E),v=h(P,"systemKey"),m=h(P,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:E,responseType:"text",key:c,url:p,xhrSettings:y,config:{systemKey:v,sceneKey:m}};d.call(this,a,S),typeof p=="function"&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,a=this.config,c=this.key,p=h(a,"systemKey",c),v=h(a,"sceneKey",c);this.state===x.FILE_POPULATED?f.installScenePlugin(p,this.data,v,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),f.installScenePlugin(p,window[this.key],v,this.loader.scene,!0)),this.onProcessComplete()}});l.register("scenePlugin",function(f,a,c,p,v){if(Array.isArray(f))for(var m=0;m<f.length;m++)this.addFile(new r(this,f[m]));else this.addFile(new r(this,f,a,c,p,v));return this}),o.exports=r},55188:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v,m){var y="js";if(n(c)){var E=c;c=h(E,"key"),p=h(E,"url"),v=h(E,"type","script"),m=h(E,"xhrSettings"),y=h(E,"extension",y)}else v===void 0&&(v="script");var P={type:v,cache:!1,extension:y,responseType:"text",key:c,url:p,xhrSettings:m};d.call(this,a,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("script",function(f,a,c,p){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new r(this,f[v]));else this.addFile(new r(this,f,a,c,p));return this}),o.exports=r},33536:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(76846),l=e(42927),h=new u({Extends:l,initialize:function(r,f,a,c,p){l.call(this,r,f,a,p,c),this.type="spritesheet"},addToCache:function(){var n=this.linkFile;n?n.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,n.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,n.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});d.register("spritesheet",function(n,r,f,a){if(Array.isArray(n))for(var c=0;c<n.length;c++)this.addFile(new h(this,n[c]));else this.addFile(new h(this,n,r,f,a));return this}),o.exports=h},86897:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=new u({Extends:d,initialize:function(a,c,p,v){var m="text",y="txt",E=a.cacheManager.text;if(n(c)){var P=c;c=h(P,"key"),p=h(P,"url"),v=h(P,"xhrSettings"),y=h(P,"extension",y),m=h(P,"type",m),E=h(P,"cache",E)}var S={type:m,cache:E,extension:y,responseType:"text",key:c,url:p,xhrSettings:v};d.call(this,a,S)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("text",function(f,a,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new r(this,f[p]));else this.addFile(new r(this,f,a,c));return this}),o.exports=r},58673:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=e(93560),f=new u({Extends:d,initialize:function(c,p,v,m){var y="csv";if(n(p)){var E=p;p=h(E,"key"),v=h(E,"url"),m=h(E,"xhrSettings"),y=h(E,"extension",y)}var P={type:"tilemapCSV",cache:c.cacheManager.tilemap,extension:y,responseType:"text",key:p,url:v,xhrSettings:m};d.call(this,c,P),this.tilemapFormat=r.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,a)}});l.register("tilemapCSV",function(a,c,p){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new f(this,a[v]));else this.addFile(new f(this,a,c,p));return this}),o.exports=f},98896:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(70806),l=e(93560),h=new u({Extends:d,initialize:function(r,f,a,c){d.call(this,r,f,a,c),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var n={format:l.WELTMEISTER,data:this.data};this.cache.add(this.key,n)}});x.register("tilemapImpact",function(n,r,f){if(Array.isArray(n))for(var a=0;a<n.length;a++)this.addFile(new h(this,n[a]));else this.addFile(new h(this,n,r,f));return this}),o.exports=h},50563:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(70806),l=e(93560),h=new u({Extends:d,initialize:function(r,f,a,c){d.call(this,r,f,a,c),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var n={format:l.TILED_JSON,data:this.data};this.cache.add(this.key,n)}});x.register("tilemapTiledJSON",function(n,r,f){if(Array.isArray(n))for(var a=0;a<n.length;a++)this.addFile(new h(this,n[a]));else this.addFile(new h(this,n,r,f));return this}),o.exports=h},82857:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(76846),d=e(72632),l=e(42927),h=e(42911),n=e(45176),r=e(86897),f=new u({Extends:n,initialize:function(c,p,v,m,y,E){var P,S;if(h(p)){var w=p;p=d(w,"key"),P=new l(c,{key:p,url:d(w,"textureURL"),extension:d(w,"textureExtension","png"),normalMap:d(w,"normalMap"),xhrSettings:d(w,"textureXhrSettings")}),S=new r(c,{key:p,url:d(w,"atlasURL"),extension:d(w,"atlasExtension","txt"),xhrSettings:d(w,"atlasXhrSettings")})}else P=new l(c,p,v,y),S=new r(c,p,m,E);P.linkFile?n.call(this,c,"unityatlas",p,[P,S,P.linkFile]):n.call(this,c,"unityatlas",p,[P,S])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(a.key,a.data,c.data,p),this.complete=!0}}});x.register("unityAtlas",function(a,c,p,v,m){var y;if(Array.isArray(a))for(var E=0;E<a.length;E++)y=new f(this,a[E]),this.addFile(y.files);else y=new f(this,a,c,p,v,m),this.addFile(y.files);return this}),o.exports=f},22833:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(30750),n=e(72632),r=e(42911),f=new u({Extends:d,initialize:function(c,p,v,m){if(m===void 0&&(m=!1),r(p)){var y=p;p=n(y,"key"),v=n(y,"url",[]),m=n(y,"noAudio",!1)}var E=c.systems.game.device.video.getVideoURL(v);E||console.warn("VideoFile: No supported format for "+p);var P={type:"video",cache:c.cacheManager.video,extension:E.type,key:p,url:E.url,config:{noAudio:m}};d.call(this,c,P)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=h(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});l.register("video",function(a,c,p){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new f(this,a[v]));else this.addFile(new f(this,a,c,p));return this}),o.exports=f},15297:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12117),d=e(98035),l=e(76846),h=e(72632),n=e(42911),r=e(89200),f=new u({Extends:d,initialize:function(c,p,v,m){var y="xml";if(n(p)){var E=p;p=h(E,"key"),v=h(E,"url"),m=h(E,"xhrSettings"),y=h(E,"extension",y)}var P={type:"xml",cache:c.cacheManager.xml,extension:y,responseType:"text",key:p,url:v,xhrSettings:m};d.call(this,c,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=r(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});l.register("xml",function(a,c,p){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new f(this,a[v]));else this.addFile(new f(this,a,c,p));return this}),o.exports=f},34034:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AnimationJSONFile:e(46468),AsepriteFile:e(31648),AtlasJSONFile:e(73152),AtlasXMLFile:e(24616),AudioFile:e(67448),AudioSpriteFile:e(66109),BinaryFile:e(40612),BitmapFontFile:e(54565),CompressedTextureFile:e(47375),CSSFile:e(99898),GLSLFile:e(46568),HTML5AudioFile:e(30929),HTMLFile:e(77459),HTMLTextureFile:e(9755),ImageFile:e(42927),JSONFile:e(70806),MultiAtlasFile:e(80802),MultiScriptFile:e(39034),OBJFile:e(85527),PackFile:e(3616),PluginFile:e(12217),SceneFile:e(95171),ScenePluginFile:e(82458),ScriptFile:e(55188),SpriteSheetFile:e(33536),SVGFile:e(4474),TextFile:e(86897),TilemapCSVFile:e(58673),TilemapImpactFile:e(98896),TilemapJSONFile:e(50563),UnityAtlasFile:e(82857),VideoFile:e(22833),XMLFile:e(15297)}},95695:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12117),x=e(98611),d={Events:e(683),FileTypes:e(34034),File:e(98035),FileTypesManager:e(76846),GetURL:e(30750),LoaderPlugin:e(67285),MergeXHRSettings:e(43531),MultiFile:e(45176),XHRLoader:e(88490),XHRSettings:e(33868)};d=x(!1,d,u),o.exports=d},26042:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=0,x=0;x<e.length;x++)u+=+e[x];return u/e.length};o.exports=T},22824:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(8034),x=function(d,l){return u(d)/u(l)/u(d-l)};o.exports=x},17489:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return Math.floor(Math.random()*(u-e+1)+e)};o.exports=T},14976:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l){var h=(d-u)*.5,n=(l-x)*.5,r=e*e,f=e*r;return(2*x-2*d+h+n)*f+(-3*x+3*d-2*h-n)*r+h*e+x};o.exports=T},89129:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){u===void 0&&(u=0),x===void 0&&(x=10);var d=Math.pow(x,-u);return Math.ceil(e*d)/d};o.exports=T},82897:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return Math.max(u,Math.min(x,e))};o.exports=T},75606:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),x=function(d){return d*u.DEG_TO_RAD};o.exports=x},767:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return Math.abs(e-u)};o.exports=T},9849:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=e(56694),d=e(16650),l=e(72283),h=new d,n=new x({initialize:function r(f,a,c,p){f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p=r.DefaultOrder),this._x=f,this._y=a,this._z=c,this._order=p,this.onChangeCallback=l},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,f,a,c){return c===void 0&&(c=this._order),this._x=r,this._y=f,this._z=a,this._order=c,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,f,a){return f===void 0&&(f=this._order),a===void 0&&(a=!1),h.fromQuat(r),this.setFromRotationMatrix(h,f,a)},setFromRotationMatrix:function(r,f,a){f===void 0&&(f=this._order),a===void 0&&(a=!1);var c=r.val,p=c[0],v=c[4],m=c[8],y=c[1],E=c[5],P=c[9],S=c[2],w=c[6],A=c[10],R=0,O=0,L=0,b=.99999;switch(f){case"XYZ":{O=Math.asin(u(m,-1,1)),Math.abs(m)<b?(R=Math.atan2(-P,A),L=Math.atan2(-v,p)):R=Math.atan2(w,E);break}case"YXZ":{R=Math.asin(-u(P,-1,1)),Math.abs(P)<b?(O=Math.atan2(m,A),L=Math.atan2(y,E)):O=Math.atan2(-S,p);break}case"ZXY":{R=Math.asin(u(w,-1,1)),Math.abs(w)<b?(O=Math.atan2(-S,A),L=Math.atan2(-v,E)):L=Math.atan2(y,p);break}case"ZYX":{O=Math.asin(-u(S,-1,1)),Math.abs(S)<b?(R=Math.atan2(w,A),L=Math.atan2(y,p)):L=Math.atan2(-v,E);break}case"YZX":{L=Math.asin(u(y,-1,1)),Math.abs(y)<b?(R=Math.atan2(-P,E),O=Math.atan2(-S,p)):O=Math.atan2(m,A);break}case"XZY":{L=Math.asin(-u(v,-1,1)),Math.abs(v)<b?(R=Math.atan2(w,E),O=Math.atan2(m,p)):R=Math.atan2(-P,A);break}}return this._x=R,this._y=O,this._z=L,this._order=f,a&&this.onChangeCallback(this),this}});n.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],n.DefaultOrder="XYZ",o.exports=n},8034:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){if(e===0)return 1;for(var u=e;--e;)u*=e;return u};o.exports=T},61616:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return Math.random()*(u-e)+e};o.exports=T},60679:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){u===void 0&&(u=0),x===void 0&&(x=10);var d=Math.pow(x,-u);return Math.floor(e*d)/d};o.exports=T},91806:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=function(d,l,h){return d=u(d,0,1),(h-l)*d+l};o.exports=x},79366:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e/u/1e3};o.exports=T},43776:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e==parseFloat(e)?!(e%2):void 0};o.exports=T},58442:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e===parseFloat(e)?!(e%2):void 0};o.exports=T},42798:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return(u-e)*x+e};o.exports=T},61072:o=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return x===void 0&&(x=0),e.clone().lerp(u,x)};o.exports=T},5341:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l){this.val=new Float32Array(9),l?this.copy(l):this.identity()},clone:function(){return new x(this)},set:function(d){return this.copy(d)},copy:function(d){var l=this.val,h=d.val;return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=h[6],l[7]=h[7],l[8]=h[8],this},fromMat4:function(d){var l=d.val,h=this.val;return h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[4],h[4]=l[5],h[5]=l[6],h[6]=l[8],h[7]=l[9],h[8]=l[10],this},fromArray:function(d){var l=this.val;return l[0]=d[0],l[1]=d[1],l[2]=d[2],l[3]=d[3],l[4]=d[4],l[5]=d[5],l[6]=d[6],l[7]=d[7],l[8]=d[8],this},identity:function(){var d=this.val;return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=1,d[5]=0,d[6]=0,d[7]=0,d[8]=1,this},transpose:function(){var d=this.val,l=d[1],h=d[2],n=d[5];return d[1]=d[3],d[2]=d[6],d[3]=l,d[5]=d[7],d[6]=h,d[7]=n,this},invert:function(){var d=this.val,l=d[0],h=d[1],n=d[2],r=d[3],f=d[4],a=d[5],c=d[6],p=d[7],v=d[8],m=v*f-a*p,y=-v*r+a*c,E=p*r-f*c,P=l*m+h*y+n*E;return P?(P=1/P,d[0]=m*P,d[1]=(-v*h+n*p)*P,d[2]=(a*h-n*f)*P,d[3]=y*P,d[4]=(v*l-n*c)*P,d[5]=(-a*l+n*r)*P,d[6]=E*P,d[7]=(-p*l+h*c)*P,d[8]=(f*l-h*r)*P,this):null},adjoint:function(){var d=this.val,l=d[0],h=d[1],n=d[2],r=d[3],f=d[4],a=d[5],c=d[6],p=d[7],v=d[8];return d[0]=f*v-a*p,d[1]=n*p-h*v,d[2]=h*a-n*f,d[3]=a*c-r*v,d[4]=l*v-n*c,d[5]=n*r-l*a,d[6]=r*p-f*c,d[7]=h*c-l*p,d[8]=l*f-h*r,this},determinant:function(){var d=this.val,l=d[0],h=d[1],n=d[2],r=d[3],f=d[4],a=d[5],c=d[6],p=d[7],v=d[8];return l*(v*f-a*p)+h*(-v*r+a*c)+n*(p*r-f*c)},multiply:function(d){var l=this.val,h=l[0],n=l[1],r=l[2],f=l[3],a=l[4],c=l[5],p=l[6],v=l[7],m=l[8],y=d.val,E=y[0],P=y[1],S=y[2],w=y[3],A=y[4],R=y[5],O=y[6],L=y[7],b=y[8];return l[0]=E*h+P*f+S*p,l[1]=E*n+P*a+S*v,l[2]=E*r+P*c+S*m,l[3]=w*h+A*f+R*p,l[4]=w*n+A*a+R*v,l[5]=w*r+A*c+R*m,l[6]=O*h+L*f+b*p,l[7]=O*n+L*a+b*v,l[8]=O*r+L*c+b*m,this},translate:function(d){var l=this.val,h=d.x,n=d.y;return l[6]=h*l[0]+n*l[3]+l[6],l[7]=h*l[1]+n*l[4]+l[7],l[8]=h*l[2]+n*l[5]+l[8],this},rotate:function(d){var l=this.val,h=l[0],n=l[1],r=l[2],f=l[3],a=l[4],c=l[5],p=Math.sin(d),v=Math.cos(d);return l[0]=v*h+p*f,l[1]=v*n+p*a,l[2]=v*r+p*c,l[3]=v*f-p*h,l[4]=v*a-p*n,l[5]=v*c-p*r,this},scale:function(d){var l=this.val,h=d.x,n=d.y;return l[0]=h*l[0],l[1]=h*l[1],l[2]=h*l[2],l[3]=n*l[3],l[4]=n*l[4],l[5]=n*l[5],this},fromQuat:function(d){var l=d.x,h=d.y,n=d.z,r=d.w,f=l+l,a=h+h,c=n+n,p=l*f,v=l*a,m=l*c,y=h*a,E=h*c,P=n*c,S=r*f,w=r*a,A=r*c,R=this.val;return R[0]=1-(y+P),R[3]=v+A,R[6]=m-w,R[1]=v-A,R[4]=1-(p+P),R[7]=E+S,R[2]=m+w,R[5]=E-S,R[8]=1-(p+y),this},normalFromMat4:function(d){var l=d.val,h=this.val,n=l[0],r=l[1],f=l[2],a=l[3],c=l[4],p=l[5],v=l[6],m=l[7],y=l[8],E=l[9],P=l[10],S=l[11],w=l[12],A=l[13],R=l[14],O=l[15],L=n*p-r*c,b=n*v-f*c,D=n*m-a*c,I=r*v-f*p,B=r*m-a*p,V=f*m-a*v,Y=y*A-E*w,k=y*R-P*w,W=y*O-S*w,G=E*R-P*A,U=E*O-S*A,F=P*O-S*R,N=L*F-b*U+D*G+I*W-B*k+V*Y;return N?(N=1/N,h[0]=(p*F-v*U+m*G)*N,h[1]=(v*W-c*F-m*k)*N,h[2]=(c*U-p*W+m*Y)*N,h[3]=(f*U-r*F-a*G)*N,h[4]=(n*F-f*W+a*k)*N,h[5]=(r*W-n*U-a*Y)*N,h[6]=(A*V-R*B+O*I)*N,h[7]=(R*D-w*V-O*b)*N,h[8]=(w*B-A*D+O*L)*N,this):null}});o.exports=x},16650:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(70015),d=1e-6,l=new u({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new l(this)},set:function(c){return this.copy(c)},setValues:function(c,p,v,m,y,E,P,S,w,A,R,O,L,b,D,I){var B=this.val;return B[0]=c,B[1]=p,B[2]=v,B[3]=m,B[4]=y,B[5]=E,B[6]=P,B[7]=S,B[8]=w,B[9]=A,B[10]=R,B[11]=O,B[12]=L,B[13]=b,B[14]=D,B[15]=I,this},copy:function(c){var p=c.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(c){return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(c,p,v){var m=h.fromQuat(v),y=m.val,E=p.x,P=p.y,S=p.z;return this.setValues(y[0]*E,y[1]*E,y[2]*E,0,y[4]*P,y[5]*P,y[6]*P,0,y[8]*S,y[9]*S,y[10]*S,0,c.x,c.y,c.z,1)},xyz:function(c,p,v){this.identity();var m=this.val;return m[12]=c,m[13]=p,m[14]=v,this},scaling:function(c,p,v){this.zero();var m=this.val;return m[0]=c,m[5]=p,m[10]=v,m[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var c=this.val,p=c[1],v=c[2],m=c[3],y=c[6],E=c[7],P=c[11];return c[1]=c[4],c[2]=c[8],c[3]=c[12],c[4]=p,c[6]=c[9],c[7]=c[13],c[8]=v,c[9]=y,c[11]=c[14],c[12]=m,c[13]=E,c[14]=P,this},getInverse:function(c){return this.copy(c),this.invert()},invert:function(){var c=this.val,p=c[0],v=c[1],m=c[2],y=c[3],E=c[4],P=c[5],S=c[6],w=c[7],A=c[8],R=c[9],O=c[10],L=c[11],b=c[12],D=c[13],I=c[14],B=c[15],V=p*P-v*E,Y=p*S-m*E,k=p*w-y*E,W=v*S-m*P,G=v*w-y*P,U=m*w-y*S,F=A*D-R*b,N=A*I-O*b,z=A*B-L*b,X=R*I-O*D,H=R*B-L*D,$=O*B-L*I,K=V*$-Y*H+k*X+W*z-G*N+U*F;return K?(K=1/K,this.setValues((P*$-S*H+w*X)*K,(m*H-v*$-y*X)*K,(D*U-I*G+B*W)*K,(O*G-R*U-L*W)*K,(S*z-E*$-w*N)*K,(p*$-m*z+y*N)*K,(I*k-b*U-B*Y)*K,(A*U-O*k+L*Y)*K,(E*H-P*z+w*F)*K,(v*z-p*H-y*F)*K,(b*G-D*k+B*V)*K,(R*k-A*G-L*V)*K,(P*N-E*X-S*F)*K,(p*X-v*N+m*F)*K,(D*Y-b*W-I*V)*K,(A*W-R*Y+O*V)*K)):this},adjoint:function(){var c=this.val,p=c[0],v=c[1],m=c[2],y=c[3],E=c[4],P=c[5],S=c[6],w=c[7],A=c[8],R=c[9],O=c[10],L=c[11],b=c[12],D=c[13],I=c[14],B=c[15];return this.setValues(P*(O*B-L*I)-R*(S*B-w*I)+D*(S*L-w*O),-(v*(O*B-L*I)-R*(m*B-y*I)+D*(m*L-y*O)),v*(S*B-w*I)-P*(m*B-y*I)+D*(m*w-y*S),-(v*(S*L-w*O)-P*(m*L-y*O)+R*(m*w-y*S)),-(E*(O*B-L*I)-A*(S*B-w*I)+b*(S*L-w*O)),p*(O*B-L*I)-A*(m*B-y*I)+b*(m*L-y*O),-(p*(S*B-w*I)-E*(m*B-y*I)+b*(m*w-y*S)),p*(S*L-w*O)-E*(m*L-y*O)+A*(m*w-y*S),E*(R*B-L*D)-A*(P*B-w*D)+b*(P*L-w*R),-(p*(R*B-L*D)-A*(v*B-y*D)+b*(v*L-y*R)),p*(P*B-w*D)-E*(v*B-y*D)+b*(v*w-y*P),-(p*(P*L-w*R)-E*(v*L-y*R)+A*(v*w-y*P)),-(E*(R*I-O*D)-A*(P*I-S*D)+b*(P*O-S*R)),p*(R*I-O*D)-A*(v*I-m*D)+b*(v*O-m*R),-(p*(P*I-S*D)-E*(v*I-m*D)+b*(v*S-m*P)),p*(P*O-S*R)-E*(v*O-m*R)+A*(v*S-m*P))},determinant:function(){var c=this.val,p=c[0],v=c[1],m=c[2],y=c[3],E=c[4],P=c[5],S=c[6],w=c[7],A=c[8],R=c[9],O=c[10],L=c[11],b=c[12],D=c[13],I=c[14],B=c[15],V=p*P-v*E,Y=p*S-m*E,k=p*w-y*E,W=v*S-m*P,G=v*w-y*P,U=m*w-y*S,F=A*D-R*b,N=A*I-O*b,z=A*B-L*b,X=R*I-O*D,H=R*B-L*D,$=O*B-L*I;return V*$-Y*H+k*X+W*z-G*N+U*F},multiply:function(c){var p=this.val,v=p[0],m=p[1],y=p[2],E=p[3],P=p[4],S=p[5],w=p[6],A=p[7],R=p[8],O=p[9],L=p[10],b=p[11],D=p[12],I=p[13],B=p[14],V=p[15],Y=c.val,k=Y[0],W=Y[1],G=Y[2],U=Y[3];return p[0]=k*v+W*P+G*R+U*D,p[1]=k*m+W*S+G*O+U*I,p[2]=k*y+W*w+G*L+U*B,p[3]=k*E+W*A+G*b+U*V,k=Y[4],W=Y[5],G=Y[6],U=Y[7],p[4]=k*v+W*P+G*R+U*D,p[5]=k*m+W*S+G*O+U*I,p[6]=k*y+W*w+G*L+U*B,p[7]=k*E+W*A+G*b+U*V,k=Y[8],W=Y[9],G=Y[10],U=Y[11],p[8]=k*v+W*P+G*R+U*D,p[9]=k*m+W*S+G*O+U*I,p[10]=k*y+W*w+G*L+U*B,p[11]=k*E+W*A+G*b+U*V,k=Y[12],W=Y[13],G=Y[14],U=Y[15],p[12]=k*v+W*P+G*R+U*D,p[13]=k*m+W*S+G*O+U*I,p[14]=k*y+W*w+G*L+U*B,p[15]=k*E+W*A+G*b+U*V,this},multiplyLocal:function(c){var p=this.val,v=c.val;return this.setValues(p[0]*v[0]+p[1]*v[4]+p[2]*v[8]+p[3]*v[12],p[0]*v[1]+p[1]*v[5]+p[2]*v[9]+p[3]*v[13],p[0]*v[2]+p[1]*v[6]+p[2]*v[10]+p[3]*v[14],p[0]*v[3]+p[1]*v[7]+p[2]*v[11]+p[3]*v[15],p[4]*v[0]+p[5]*v[4]+p[6]*v[8]+p[7]*v[12],p[4]*v[1]+p[5]*v[5]+p[6]*v[9]+p[7]*v[13],p[4]*v[2]+p[5]*v[6]+p[6]*v[10]+p[7]*v[14],p[4]*v[3]+p[5]*v[7]+p[6]*v[11]+p[7]*v[15],p[8]*v[0]+p[9]*v[4]+p[10]*v[8]+p[11]*v[12],p[8]*v[1]+p[9]*v[5]+p[10]*v[9]+p[11]*v[13],p[8]*v[2]+p[9]*v[6]+p[10]*v[10]+p[11]*v[14],p[8]*v[3]+p[9]*v[7]+p[10]*v[11]+p[11]*v[15],p[12]*v[0]+p[13]*v[4]+p[14]*v[8]+p[15]*v[12],p[12]*v[1]+p[13]*v[5]+p[14]*v[9]+p[15]*v[13],p[12]*v[2]+p[13]*v[6]+p[14]*v[10]+p[15]*v[14],p[12]*v[3]+p[13]*v[7]+p[14]*v[11]+p[15]*v[15])},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,p){var v=c.val,m=p.val,y=v[0],E=v[4],P=v[8],S=v[12],w=v[1],A=v[5],R=v[9],O=v[13],L=v[2],b=v[6],D=v[10],I=v[14],B=v[3],V=v[7],Y=v[11],k=v[15],W=m[0],G=m[4],U=m[8],F=m[12],N=m[1],z=m[5],X=m[9],H=m[13],$=m[2],K=m[6],Z=m[10],J=m[14],j=m[3],Q=m[7],tt=m[11],_=m[15];return this.setValues(y*W+E*N+P*$+S*j,w*W+A*N+R*$+O*j,L*W+b*N+D*$+I*j,B*W+V*N+Y*$+k*j,y*G+E*z+P*K+S*Q,w*G+A*z+R*K+O*Q,L*G+b*z+D*K+I*Q,B*G+V*z+Y*K+k*Q,y*U+E*X+P*Z+S*tt,w*U+A*X+R*Z+O*tt,L*U+b*X+D*Z+I*tt,B*U+V*X+Y*Z+k*tt,y*F+E*H+P*J+S*_,w*F+A*H+R*J+O*_,L*F+b*H+D*J+I*_,B*F+V*H+Y*J+k*_)},translate:function(c){return this.translateXYZ(c.x,c.y,c.z)},translateXYZ:function(c,p,v){var m=this.val;return m[12]=m[0]*c+m[4]*p+m[8]*v+m[12],m[13]=m[1]*c+m[5]*p+m[9]*v+m[13],m[14]=m[2]*c+m[6]*p+m[10]*v+m[14],m[15]=m[3]*c+m[7]*p+m[11]*v+m[15],this},scale:function(c){return this.scaleXYZ(c.x,c.y,c.z)},scaleXYZ:function(c,p,v){var m=this.val;return m[0]=m[0]*c,m[1]=m[1]*c,m[2]=m[2]*c,m[3]=m[3]*c,m[4]=m[4]*p,m[5]=m[5]*p,m[6]=m[6]*p,m[7]=m[7]*p,m[8]=m[8]*v,m[9]=m[9]*v,m[10]=m[10]*v,m[11]=m[11]*v,this},makeRotationAxis:function(c,p){var v=Math.cos(p),m=Math.sin(p),y=1-v,E=c.x,P=c.y,S=c.z,w=y*E,A=y*P;return this.setValues(w*E+v,w*P-m*S,w*S+m*P,0,w*P+m*S,A*P+v,A*S-m*E,0,w*S-m*P,A*S+m*E,y*S*S+v,0,0,0,0,1)},rotate:function(c,p){var v=this.val,m=p.x,y=p.y,E=p.z,P=Math.sqrt(m*m+y*y+E*E);if(Math.abs(P)<d)return this;P=1/P,m*=P,y*=P,E*=P;var S=Math.sin(c),w=Math.cos(c),A=1-w,R=v[0],O=v[1],L=v[2],b=v[3],D=v[4],I=v[5],B=v[6],V=v[7],Y=v[8],k=v[9],W=v[10],G=v[11],U=v[12],F=v[13],N=v[14],z=v[15],X=m*m*A+w,H=y*m*A+E*S,$=E*m*A-y*S,K=m*y*A-E*S,Z=y*y*A+w,J=E*y*A+m*S,j=m*E*A+y*S,Q=y*E*A-m*S,tt=E*E*A+w;return this.setValues(R*X+D*H+Y*$,O*X+I*H+k*$,L*X+B*H+W*$,b*X+V*H+G*$,R*K+D*Z+Y*J,O*K+I*Z+k*J,L*K+B*Z+W*J,b*K+V*Z+G*J,R*j+D*Q+Y*tt,O*j+I*Q+k*tt,L*j+B*Q+W*tt,b*j+V*Q+G*tt,U,F,N,z)},rotateX:function(c){var p=this.val,v=Math.sin(c),m=Math.cos(c),y=p[4],E=p[5],P=p[6],S=p[7],w=p[8],A=p[9],R=p[10],O=p[11];return p[4]=y*m+w*v,p[5]=E*m+A*v,p[6]=P*m+R*v,p[7]=S*m+O*v,p[8]=w*m-y*v,p[9]=A*m-E*v,p[10]=R*m-P*v,p[11]=O*m-S*v,this},rotateY:function(c){var p=this.val,v=Math.sin(c),m=Math.cos(c),y=p[0],E=p[1],P=p[2],S=p[3],w=p[8],A=p[9],R=p[10],O=p[11];return p[0]=y*m-w*v,p[1]=E*m-A*v,p[2]=P*m-R*v,p[3]=S*m-O*v,p[8]=y*v+w*m,p[9]=E*v+A*m,p[10]=P*v+R*m,p[11]=S*v+O*m,this},rotateZ:function(c){var p=this.val,v=Math.sin(c),m=Math.cos(c),y=p[0],E=p[1],P=p[2],S=p[3],w=p[4],A=p[5],R=p[6],O=p[7];return p[0]=y*m+w*v,p[1]=E*m+A*v,p[2]=P*m+R*v,p[3]=S*m+O*v,p[4]=w*m-y*v,p[5]=A*m-E*v,p[6]=R*m-P*v,p[7]=O*m-S*v,this},fromRotationTranslation:function(c,p){var v=c.x,m=c.y,y=c.z,E=c.w,P=v+v,S=m+m,w=y+y,A=v*P,R=v*S,O=v*w,L=m*S,b=m*w,D=y*w,I=E*P,B=E*S,V=E*w;return this.setValues(1-(L+D),R+V,O-B,0,R-V,1-(A+D),b+I,0,O+B,b-I,1-(A+L),0,p.x,p.y,p.z,1)},fromQuat:function(c){var p=c.x,v=c.y,m=c.z,y=c.w,E=p+p,P=v+v,S=m+m,w=p*E,A=p*P,R=p*S,O=v*P,L=v*S,b=m*S,D=y*E,I=y*P,B=y*S;return this.setValues(1-(O+b),A+B,R-I,0,A-B,1-(w+b),L+D,0,R+I,L-D,1-(w+O),0,0,0,0,1)},frustum:function(c,p,v,m,y,E){var P=1/(p-c),S=1/(m-v),w=1/(y-E);return this.setValues(y*2*P,0,0,0,0,y*2*S,0,0,(p+c)*P,(m+v)*S,(E+y)*w,-1,0,0,E*y*2*w,0)},perspective:function(c,p,v,m){var y=1/Math.tan(c/2),E=1/(v-m);return this.setValues(y/p,0,0,0,0,y,0,0,0,0,(m+v)*E,-1,0,0,2*m*v*E,0)},perspectiveLH:function(c,p,v,m){return this.setValues(2*v/c,0,0,0,0,2*v/p,0,0,0,0,-m/(v-m),1,0,0,v*m/(v-m),0)},ortho:function(c,p,v,m,y,E){var P=c-p,S=v-m,w=y-E;return P=P===0?P:1/P,S=S===0?S:1/S,w=w===0?w:1/w,this.setValues(-2*P,0,0,0,0,-2*S,0,0,0,0,2*w,0,(c+p)*P,(m+v)*S,(E+y)*w,1)},lookAtRH:function(c,p,v){var m=this.val;return a.subVectors(c,p),a.getLengthSquared()===0&&(a.z=1),a.normalize(),r.crossVectors(v,a),r.getLengthSquared()===0&&(Math.abs(v.z)===1?a.x+=1e-4:a.z+=1e-4,a.normalize(),r.crossVectors(v,a)),r.normalize(),f.crossVectors(a,r),m[0]=r.x,m[1]=r.y,m[2]=r.z,m[4]=f.x,m[5]=f.y,m[6]=f.z,m[8]=a.x,m[9]=a.y,m[10]=a.z,this},lookAt:function(c,p,v){var m=c.x,y=c.y,E=c.z,P=v.x,S=v.y,w=v.z,A=p.x,R=p.y,O=p.z;if(Math.abs(m-A)<d&&Math.abs(y-R)<d&&Math.abs(E-O)<d)return this.identity();var L=m-A,b=y-R,D=E-O,I=1/Math.sqrt(L*L+b*b+D*D);L*=I,b*=I,D*=I;var B=S*D-w*b,V=w*L-P*D,Y=P*b-S*L;I=Math.sqrt(B*B+V*V+Y*Y),I?(I=1/I,B*=I,V*=I,Y*=I):(B=0,V=0,Y=0);var k=b*Y-D*V,W=D*B-L*Y,G=L*V-b*B;return I=Math.sqrt(k*k+W*W+G*G),I?(I=1/I,k*=I,W*=I,G*=I):(k=0,W=0,G=0),this.setValues(B,k,L,0,V,W,b,0,Y,G,D,0,-(B*m+V*y+Y*E),-(k*m+W*y+G*E),-(L*m+b*y+D*E),1)},yawPitchRoll:function(c,p,v){this.zero(),h.zero(),n.zero();var m=this.val,y=h.val,E=n.val,P=Math.sin(v),S=Math.cos(v);return m[10]=1,m[15]=1,m[0]=S,m[1]=P,m[4]=-P,m[5]=S,P=Math.sin(p),S=Math.cos(p),y[0]=1,y[15]=1,y[5]=S,y[10]=S,y[9]=-P,y[6]=P,P=Math.sin(c),S=Math.cos(c),E[5]=1,E[15]=1,E[0]=S,E[2]=-P,E[8]=P,E[10]=S,this.multiplyLocal(h),this.multiplyLocal(n),this},setWorldMatrix:function(c,p,v,m,y){return this.yawPitchRoll(c.y,c.x,c.z),h.scaling(v.x,v.y,v.z),n.xyz(p.x,p.y,p.z),this.multiplyLocal(h),this.multiplyLocal(n),m&&this.multiplyLocal(m),y&&this.multiplyLocal(y),this},multiplyToMat4:function(c,p){var v=this.val,m=c.val,y=v[0],E=v[1],P=v[2],S=v[3],w=v[4],A=v[5],R=v[6],O=v[7],L=v[8],b=v[9],D=v[10],I=v[11],B=v[12],V=v[13],Y=v[14],k=v[15],W=m[0],G=m[1],U=m[2],F=m[3],N=m[4],z=m[5],X=m[6],H=m[7],$=m[8],K=m[9],Z=m[10],J=m[11],j=m[12],Q=m[13],tt=m[14],_=m[15];return p.setValues(W*y+G*w+U*L+F*B,G*E+G*A+U*b+F*V,U*P+G*R+U*D+F*Y,F*S+G*O+U*I+F*k,N*y+z*w+X*L+H*B,N*E+z*A+X*b+H*V,N*P+z*R+X*D+H*Y,N*S+z*O+X*I+H*k,$*y+K*w+Z*L+J*B,$*E+K*A+Z*b+J*V,$*P+K*R+Z*D+J*Y,$*S+K*O+Z*I+J*k,j*y+Q*w+tt*L+_*B,j*E+Q*A+tt*b+_*V,j*P+Q*R+tt*D+_*Y,j*S+Q*O+tt*I+_*k)},fromRotationXYTranslation:function(c,p,v){var m=p.x,y=p.y,E=p.z,P=Math.sin(c.x),S=Math.cos(c.x),w=Math.sin(c.y),A=Math.cos(c.y),R=m,O=y,L=E,b=-P,D=0-b*w,I=0-S*w,B=b*A,V=S*A;return v||(R=A*m+w*E,O=D*m+S*y+B*E,L=I*m+P*y+V*E),this.setValues(A,D,I,0,0,S,P,0,w,B,V,0,R,O,L,1)},getMaxScaleOnAxis:function(){var c=this.val,p=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],v=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],m=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(p,v,m))}}),h=new l,n=new l,r=new x,f=new x,a=new x;o.exports=l},69635:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return Math.min(e+u,x)};o.exports=T},37394:o=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=e.length;if(u===0)return 0;e.sort(function(d,l){return d-l});var x=Math.floor(u/2);return u%2===0?(e[x]+e[x-1])/2:e[x]};o.exports=T},17259:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return Math.max(e-u,x)};o.exports=T},61820:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){x===void 0&&(x=u+1);var l=(e-u)/(x-u);return l>1?d!==void 0?(l=(d-e)/(d-x),l<0&&(l=0)):l=1:l<0&&(l=0),l};o.exports=T},75003:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(5341),d=e(72283),l=e(70015),h=1e-6,n=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),f=new l(1,0,0),a=new l(0,1,0),c=new l,p=new x,v=new u({initialize:function(y,E,P,S){this.onChangeCallback=d,this.set(y,E,P,S)},x:{get:function(){return this._x},set:function(m){this._x=m,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(m){this._y=m,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(m){this._z=m,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(m){this._w=m,this.onChangeCallback(this)}},copy:function(m){return this.set(m)},set:function(m,y,E,P,S){return S===void 0&&(S=!0),typeof m=="object"?(this._x=m.x||0,this._y=m.y||0,this._z=m.z||0,this._w=m.w||0):(this._x=m||0,this._y=y||0,this._z=E||0,this._w=P||0),S&&this.onChangeCallback(this),this},add:function(m){return this._x+=m.x,this._y+=m.y,this._z+=m.z,this._w+=m.w,this.onChangeCallback(this),this},subtract:function(m){return this._x-=m.x,this._y-=m.y,this._z-=m.z,this._w-=m.w,this.onChangeCallback(this),this},scale:function(m){return this._x*=m,this._y*=m,this._z*=m,this._w*=m,this.onChangeCallback(this),this},length:function(){var m=this.x,y=this.y,E=this.z,P=this.w;return Math.sqrt(m*m+y*y+E*E+P*P)},lengthSq:function(){var m=this.x,y=this.y,E=this.z,P=this.w;return m*m+y*y+E*E+P*P},normalize:function(){var m=this.x,y=this.y,E=this.z,P=this.w,S=m*m+y*y+E*E+P*P;return S>0&&(S=1/Math.sqrt(S),this._x=m*S,this._y=y*S,this._z=E*S,this._w=P*S),this.onChangeCallback(this),this},dot:function(m){return this.x*m.x+this.y*m.y+this.z*m.z+this.w*m.w},lerp:function(m,y){y===void 0&&(y=0);var E=this.x,P=this.y,S=this.z,w=this.w;return this.set(E+y*(m.x-E),P+y*(m.y-P),S+y*(m.z-S),w+y*(m.w-w))},rotationTo:function(m,y){var E=m.x*y.x+m.y*y.y+m.z*y.z;return E<-.999999?(c.copy(f).cross(m).length()<h&&c.copy(a).cross(m),c.normalize(),this.setAxisAngle(c,Math.PI)):E>.999999?this.set(0,0,0,1):(c.copy(m).cross(y),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+E,this.normalize())},setAxes:function(m,y,E){var P=p.val;return P[0]=y.x,P[3]=y.y,P[6]=y.z,P[1]=E.x,P[4]=E.y,P[7]=E.z,P[2]=-m.x,P[5]=-m.y,P[8]=-m.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(m,y){y=y*.5;var E=Math.sin(y);return this.set(E*m.x,E*m.y,E*m.z,Math.cos(y))},multiply:function(m){var y=this.x,E=this.y,P=this.z,S=this.w,w=m.x,A=m.y,R=m.z,O=m.w;return this.set(y*O+S*w+E*R-P*A,E*O+S*A+P*w-y*R,P*O+S*R+y*A-E*w,S*O-y*w-E*A-P*R)},slerp:function(m,y){var E=this.x,P=this.y,S=this.z,w=this.w,A=m.x,R=m.y,O=m.z,L=m.w,b=E*A+P*R+S*O+w*L;b<0&&(b=-b,A=-A,R=-R,O=-O,L=-L);var D=1-y,I=y;if(1-b>h){var B=Math.acos(b),V=Math.sin(B);D=Math.sin((1-y)*B)/V,I=Math.sin(y*B)/V}return this.set(D*E+I*A,D*P+I*R,D*S+I*O,D*w+I*L)},invert:function(){var m=this.x,y=this.y,E=this.z,P=this.w,S=m*m+y*y+E*E+P*P,w=S?1/S:0;return this.set(-m*w,-y*w,-E*w,P*w)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(m){m*=.5;var y=this.x,E=this.y,P=this.z,S=this.w,w=Math.sin(m),A=Math.cos(m);return this.set(y*A+S*w,E*A+P*w,P*A-E*w,S*A-y*w)},rotateY:function(m){m*=.5;var y=this.x,E=this.y,P=this.z,S=this.w,w=Math.sin(m),A=Math.cos(m);return this.set(y*A-P*w,E*A+S*w,P*A+y*w,S*A-E*w)},rotateZ:function(m){m*=.5;var y=this.x,E=this.y,P=this.z,S=this.w,w=Math.sin(m),A=Math.cos(m);return this.set(y*A+E*w,E*A-y*w,P*A+S*w,S*A-P*w)},calculateW:function(){var m=this.x,y=this.y,E=this.z;return this.w=-Math.sqrt(1-m*m-y*y-E*E),this},setFromEuler:function(m,y){var E=m.x/2,P=m.y/2,S=m.z/2,w=Math.cos(E),A=Math.cos(P),R=Math.cos(S),O=Math.sin(E),L=Math.sin(P),b=Math.sin(S);switch(m.order){case"XYZ":{this.set(O*A*R+w*L*b,w*L*R-O*A*b,w*A*b+O*L*R,w*A*R-O*L*b,y);break}case"YXZ":{this.set(O*A*R+w*L*b,w*L*R-O*A*b,w*A*b-O*L*R,w*A*R+O*L*b,y);break}case"ZXY":{this.set(O*A*R-w*L*b,w*L*R+O*A*b,w*A*b+O*L*R,w*A*R-O*L*b,y);break}case"ZYX":{this.set(O*A*R-w*L*b,w*L*R+O*A*b,w*A*b-O*L*R,w*A*R+O*L*b,y);break}case"YZX":{this.set(O*A*R+w*L*b,w*L*R+O*A*b,w*A*b-O*L*R,w*A*R-O*L*b,y);break}case"XZY":{this.set(O*A*R-w*L*b,w*L*R-O*A*b,w*A*b+O*L*R,w*A*R+O*L*b,y);break}}return this},setFromRotationMatrix:function(m){var y=m.val,E=y[0],P=y[4],S=y[8],w=y[1],A=y[5],R=y[9],O=y[2],L=y[6],b=y[10],D=E+A+b,I;return D>0?(I=.5/Math.sqrt(D+1),this.set((L-R)*I,(S-O)*I,(w-P)*I,.25/I)):E>A&&E>b?(I=2*Math.sqrt(1+E-A-b),this.set(.25*I,(P+w)/I,(S+O)/I,(L-R)/I)):A>b?(I=2*Math.sqrt(1+A-E-b),this.set((P+w)/I,.25*I,(R+L)/I,(S-O)/I)):(I=2*Math.sqrt(1+b-E-A),this.set((S+O)/I,(R+L)/I,.25*I,(w-P)/I)),this},fromMat3:function(m){var y=m.val,E=y[0]+y[4]+y[8],P;if(E>0)P=Math.sqrt(E+1),this.w=.5*P,P=.5/P,this._x=(y[7]-y[5])*P,this._y=(y[2]-y[6])*P,this._z=(y[3]-y[1])*P;else{var S=0;y[4]>y[0]&&(S=1),y[8]>y[S*3+S]&&(S=2);var w=n[S],A=n[w];P=Math.sqrt(y[S*3+S]-y[w*3+w]-y[A*3+A]+1),r[S]=.5*P,P=.5/P,r[w]=(y[w*3+S]+y[S*3+w])*P,r[A]=(y[A*3+S]+y[S*3+A])*P,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(y[A*3+w]-y[w*3+A])*P}return this.onChangeCallback(this),this}});o.exports=v},23701:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),x=function(d){return d*u.RAD_TO_DEG};o.exports=x},16906:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=1);var x=Math.random()*2*Math.PI;return e.x=Math.cos(x)*u,e.y=Math.sin(x)*u,e};o.exports=T},52417:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=1);var x=Math.random()*2*Math.PI,d=Math.random()*2-1,l=Math.sqrt(1-d*d)*u;return e.x=Math.cos(x)*l,e.y=Math.sin(x)*l,e.z=d*u,e};o.exports=T},17915:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1),e.x=(Math.random()*2-1)*u,e.y=(Math.random()*2-1)*u,e.z=(Math.random()*2-1)*u,e.w=(Math.random()*2-1)*u,e};o.exports=T},52257:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.x,d=e.y;return e.x=x*Math.cos(u)-d*Math.sin(u),e.y=x*Math.sin(u)+d*Math.cos(u),e};o.exports=T},2386:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=Math.cos(d),h=Math.sin(d),n=e.x-u,r=e.y-x;return e.x=n*l-r*h+u,e.y=n*h+r*l+x,e};o.exports=T},72395:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l){var h=d+Math.atan2(e.y-x,e.x-u);return e.x=u+l*Math.cos(h),e.y=x+l*Math.sin(h),e};o.exports=T},41061:o=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l){return e.x=u+l*Math.cos(d),e.y=x+l*Math.sin(d),e};o.exports=T},93709:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(70015),x=e(16650),d=e(75003),l=new x,h=new d,n=new u,r=function(f,a,c){return h.setAxisAngle(a,c),l.fromRotationTranslation(h,n.set(0,0,0)),f.transformMat4(l)};o.exports=r},67233:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e>0?Math.ceil(e):Math.floor(e)};o.exports=T},64333:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){u===void 0&&(u=0),x===void 0&&(x=10);var d=Math.pow(x,-u);return Math.round(e*d)/d};o.exports=T},59533:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){u===void 0&&(u=1),x===void 0&&(x=1),d===void 0&&(d=1),d*=Math.PI/e;for(var l=[],h=[],n=0;n<e;n++)x-=u*d,u+=x*d,l[n]=x,h[n]=u;return{sin:h,cos:l,length:e}};o.exports=T},5514:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e<=u?0:e>=x?1:(e=(e-u)/(x-u),e*e*(3-2*e))};o.exports=T},87736:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e=Math.max(0,Math.min(1,(e-u)/(x-u))),e*e*e*(e*(e*6-15)+10)};o.exports=T},55805:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n){n===void 0&&(n=new u);var r=0,f=0,a=l*h;return d>0&&d<=a&&(d>l-1?(f=Math.floor(d/l),r=d-f*l):r=d),n.set(r,f)};o.exports=x},64462:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n,r,f,a,c){c===void 0&&(c=new u);var p=Math.sin(r),v=Math.cos(r),m=v*f,y=p*f,E=-p*a,P=v*a,S=1/(m*P+E*-y);return c.x=P*S*d+-E*S*l+(n*E-h*P)*S,c.y=m*S*l+-y*S*d+(-n*m+h*y)*S,c};o.exports=x},93736:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(88456),d=new u({initialize:function(h,n){this.x=0,this.y=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0):(n===void 0&&(n=h),this.x=h||0,this.y=n||0)},clone:function(){return new d(this.x,this.y)},copy:function(l){return this.x=l.x||0,this.y=l.y||0,this},setFromObject:function(l){return this.x=l.x||0,this.y=l.y||0,this},set:function(l,h){return h===void 0&&(h=l),this.x=l,this.y=h,this},setTo:function(l,h){return this.set(l,h)},setToPolar:function(l,h){return h==null&&(h=1),this.x=Math.cos(l)*h,this.y=Math.sin(l)*h,this},equals:function(l){return this.x===l.x&&this.y===l.y},fuzzyEquals:function(l,h){return x(this.x,l.x,h)&&x(this.y,l.y,h)},angle:function(){var l=Math.atan2(this.y,this.x);return l<0&&(l+=2*Math.PI),l},setAngle:function(l){return this.setToPolar(l,this.length())},add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l):(this.x=0,this.y=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(l){var h=l.x-this.x,n=l.y-this.y;return Math.sqrt(h*h+n*n)},distanceSq:function(l){var h=l.x-this.x,n=l.y-this.y;return h*h+n*n},length:function(){var l=this.x,h=this.y;return Math.sqrt(l*l+h*h)},setLength:function(l){return this.normalize().scale(l)},lengthSq:function(){var l=this.x,h=this.y;return l*l+h*h},normalize:function(){var l=this.x,h=this.y,n=l*l+h*h;return n>0&&(n=1/Math.sqrt(n),this.x=l*n,this.y=h*n),this},normalizeRightHand:function(){var l=this.x;return this.x=this.y*-1,this.y=l,this},normalizeLeftHand:function(){var l=this.x;return this.x=this.y,this.y=l*-1,this},dot:function(l){return this.x*l.x+this.y*l.y},cross:function(l){return this.x*l.y-this.y*l.x},lerp:function(l,h){h===void 0&&(h=0);var n=this.x,r=this.y;return this.x=n+h*(l.x-n),this.y=r+h*(l.y-r),this},transformMat3:function(l){var h=this.x,n=this.y,r=l.val;return this.x=r[0]*h+r[3]*n+r[6],this.y=r[1]*h+r[4]*n+r[7],this},transformMat4:function(l){var h=this.x,n=this.y,r=l.val;return this.x=r[0]*h+r[4]*n+r[12],this.y=r[1]*h+r[5]*n+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(l){var h=this.length();return h&&h>l&&this.scale(l/h),this},reflect:function(l){return l=l.clone().normalize(),this.subtract(l.scale(2*this.dot(l)))},mirror:function(l){return this.reflect(l).negate()},rotate:function(l){var h=Math.cos(l),n=Math.sin(l);return this.set(h*this.x-n*this.y,n*this.x+h*this.y)},project:function(l){var h=this.dot(l)/l.dot(l);return this.copy(l).scale(h)}});d.ZERO=new d,d.RIGHT=new d(1,0),d.LEFT=new d(-1,0),d.UP=new d(0,-1),d.DOWN=new d(0,1),d.ONE=new d(1,1),o.exports=d},70015:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h,n){this.x=0,this.y=0,this.z=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=h||0,this.z=n||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(d){return this.x=Math.min(this.x,d.x),this.y=Math.min(this.y,d.y),this.z=Math.min(this.z,d.z),this},max:function(d){return this.x=Math.max(this.x,d.x),this.y=Math.max(this.y,d.y),this.z=Math.max(this.z,d.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(d,l){return this.x=d.x+l.x,this.y=d.y+l.y,this.z=d.z+l.z,this},crossVectors:function(d,l){var h=d.x,n=d.y,r=d.z,f=l.x,a=l.y,c=l.z;return this.x=n*c-r*a,this.y=r*f-h*c,this.z=h*a-n*f,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this},set:function(d,l,h){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):(this.x=d||0,this.y=l||0,this.z=h||0),this},setFromMatrixPosition:function(d){return this.fromArray(d.val,12)},setFromMatrixColumn:function(d,l){return this.fromArray(d.val,l*4)},fromArray:function(d,l){return l===void 0&&(l=0),this.x=d[l],this.y=d[l+1],this.z=d[l+2],this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this},addScalar:function(d){return this.x+=d,this.y+=d,this.z+=d,this},addScale:function(d,l){return this.x+=d.x*l,this.y+=d.y*l,this.z+=d.z*l||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this},scale:function(d){return isFinite(d)?(this.x*=d,this.y*=d,this.z*=d):(this.x=0,this.y=0,this.z=0),this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(d){var l=d.x-this.x,h=d.y-this.y,n=d.z-this.z||0;return Math.sqrt(l*l+h*h+n*n)},distanceSq:function(d){var l=d.x-this.x,h=d.y-this.y,n=d.z-this.z||0;return l*l+h*h+n*n},length:function(){var d=this.x,l=this.y,h=this.z;return Math.sqrt(d*d+l*l+h*h)},lengthSq:function(){var d=this.x,l=this.y,h=this.z;return d*d+l*l+h*h},normalize:function(){var d=this.x,l=this.y,h=this.z,n=d*d+l*l+h*h;return n>0&&(n=1/Math.sqrt(n),this.x=d*n,this.y=l*n,this.z=h*n),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z},cross:function(d){var l=this.x,h=this.y,n=this.z,r=d.x,f=d.y,a=d.z;return this.x=h*a-n*f,this.y=n*r-l*a,this.z=l*f-h*r,this},lerp:function(d,l){l===void 0&&(l=0);var h=this.x,n=this.y,r=this.z;return this.x=h+l*(d.x-h),this.y=n+l*(d.y-n),this.z=r+l*(d.z-r),this},applyMatrix3:function(d){var l=this.x,h=this.y,n=this.z,r=d.val;return this.x=r[0]*l+r[3]*h+r[6]*n,this.y=r[1]*l+r[4]*h+r[7]*n,this.z=r[2]*l+r[5]*h+r[8]*n,this},applyMatrix4:function(d){var l=this.x,h=this.y,n=this.z,r=d.val,f=1/(r[3]*l+r[7]*h+r[11]*n+r[15]);return this.x=(r[0]*l+r[4]*h+r[8]*n+r[12])*f,this.y=(r[1]*l+r[5]*h+r[9]*n+r[13])*f,this.z=(r[2]*l+r[6]*h+r[10]*n+r[14])*f,this},transformMat3:function(d){var l=this.x,h=this.y,n=this.z,r=d.val;return this.x=l*r[0]+h*r[3]+n*r[6],this.y=l*r[1]+h*r[4]+n*r[7],this.z=l*r[2]+h*r[5]+n*r[8],this},transformMat4:function(d){var l=this.x,h=this.y,n=this.z,r=d.val;return this.x=r[0]*l+r[4]*h+r[8]*n+r[12],this.y=r[1]*l+r[5]*h+r[9]*n+r[13],this.z=r[2]*l+r[6]*h+r[10]*n+r[14],this},transformCoordinates:function(d){var l=this.x,h=this.y,n=this.z,r=d.val,f=l*r[0]+h*r[4]+n*r[8]+r[12],a=l*r[1]+h*r[5]+n*r[9]+r[13],c=l*r[2]+h*r[6]+n*r[10]+r[14],p=l*r[3]+h*r[7]+n*r[11]+r[15];return this.x=f/p,this.y=a/p,this.z=c/p,this},transformQuat:function(d){var l=this.x,h=this.y,n=this.z,r=d.x,f=d.y,a=d.z,c=d.w,p=c*l+f*n-a*h,v=c*h+a*l-r*n,m=c*n+r*h-f*l,y=-r*l-f*h-a*n;return this.x=p*c+y*-r+v*-a-m*-f,this.y=v*c+y*-f+m*-r-p*-a,this.z=m*c+y*-a+p*-f-v*-r,this},project:function(d){var l=this.x,h=this.y,n=this.z,r=d.val,f=r[0],a=r[1],c=r[2],p=r[3],v=r[4],m=r[5],y=r[6],E=r[7],P=r[8],S=r[9],w=r[10],A=r[11],R=r[12],O=r[13],L=r[14],b=r[15],D=1/(l*p+h*E+n*A+b);return this.x=(l*f+h*v+n*P+R)*D,this.y=(l*a+h*m+n*S+O)*D,this.z=(l*c+h*y+n*w+L)*D,this},projectViewMatrix:function(d,l){return this.applyMatrix4(d).applyMatrix4(l)},unprojectViewMatrix:function(d,l){return this.applyMatrix4(d).applyMatrix4(l)},unproject:function(d,l){var h=d.x,n=d.y,r=d.z,f=d.w,a=this.x-h,c=f-this.y-1-n,p=this.z;return this.x=2*a/r-1,this.y=2*c/f-1,this.z=2*p-1,this.project(l)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),o.exports=x},51729:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h,n,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=h||0,this.z=n||0,this.w=r||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this.w=d.w||0,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z&&this.w===d.w},set:function(d,l,h,n){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0,this.w=d.w||0):(this.x=d||0,this.y=l||0,this.z=h||0,this.w=n||0),this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this.w+=d.w||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this.w-=d.w||0,this},scale:function(d){return this.x*=d,this.y*=d,this.z*=d,this.w*=d,this},length:function(){var d=this.x,l=this.y,h=this.z,n=this.w;return Math.sqrt(d*d+l*l+h*h+n*n)},lengthSq:function(){var d=this.x,l=this.y,h=this.z,n=this.w;return d*d+l*l+h*h+n*n},normalize:function(){var d=this.x,l=this.y,h=this.z,n=this.w,r=d*d+l*l+h*h+n*n;return r>0&&(r=1/Math.sqrt(r),this.x=d*r,this.y=l*r,this.z=h*r,this.w=n*r),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,l){l===void 0&&(l=0);var h=this.x,n=this.y,r=this.z,f=this.w;return this.x=h+l*(d.x-h),this.y=n+l*(d.y-n),this.z=r+l*(d.z-r),this.w=f+l*(d.w-f),this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this.w*=d.w||1,this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this.w/=d.w||1,this},distance:function(d){var l=d.x-this.x,h=d.y-this.y,n=d.z-this.z||0,r=d.w-this.w||0;return Math.sqrt(l*l+h*h+n*n+r*r)},distanceSq:function(d){var l=d.x-this.x,h=d.y-this.y,n=d.z-this.z||0,r=d.w-this.w||0;return l*l+h*h+n*n+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(d){var l=this.x,h=this.y,n=this.z,r=this.w,f=d.val;return this.x=f[0]*l+f[4]*h+f[8]*n+f[12]*r,this.y=f[1]*l+f[5]*h+f[9]*n+f[13]*r,this.z=f[2]*l+f[6]*h+f[10]*n+f[14]*r,this.w=f[3]*l+f[7]*h+f[11]*n+f[15]*r,this},transformQuat:function(d){var l=this.x,h=this.y,n=this.z,r=d.x,f=d.y,a=d.z,c=d.w,p=c*l+f*n-a*h,v=c*h+a*l-r*n,m=c*n+r*h-f*l,y=-r*l-f*h-a*n;return this.x=p*c+y*-r+v*-a-m*-f,this.y=v*c+y*-f+m*-r-p*-a,this.z=m*c+y*-a+p*-f-v*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,o.exports=x},9557:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return Math.abs(e-u)<=x};o.exports=T},1071:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(e>=u&&e<=x)return e;var d=x-u;return u+((e-u)%d+d)%d};o.exports=T},90447:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){return Math.atan2(d-u,x-e)};o.exports=T},94240:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)};o.exports=T},84066:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return Math.atan2(u.x-e.x,u.y-e.y)};o.exports=T},9678:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){return Math.atan2(x-e,d-u)};o.exports=T},76861:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),x=function(d){return d>Math.PI&&(d-=u.PI2),Math.abs(((d+u.TAU)%u.PI2-u.PI2)%u.PI2)};o.exports=x},37570:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};o.exports=T},87597:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61616),x=function(){return u(-Math.PI,Math.PI)};o.exports=x},74493:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61616),x=function(){return u(-180,180)};o.exports=x},19049:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(37570),x=function(d){return u(d+Math.PI)};o.exports=x},90612:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),x=function(d,l,h){return h===void 0&&(h=.05),d===l||(Math.abs(l-d)<=h||Math.abs(l-d)>=u.PI2-h?d=l:(Math.abs(l-d)>Math.PI&&(l<d?l+=u.PI2:l-=u.PI2),l>d?d+=h:l<d&&(d-=h))),d};o.exports=x},93954:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=u-e;if(x===0)return 0;var d=Math.floor((x- -180)/360);return x-d*360};o.exports=T},35786:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1071),x=function(d){return u(d,-Math.PI,Math.PI)};o.exports=x},62138:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(1071),x=function(d){return u(d,-180,180)};o.exports=x},22153:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Between:e(90447),BetweenPoints:e(94240),BetweenPointsY:e(84066),BetweenY:e(9678),CounterClockwise:e(76861),Normalize:e(37570),Random:e(87597),RandomDegrees:e(74493),Reverse:e(19049),RotateTo:e(90612),ShortestBetween:e(93954),Wrap:e(35786),WrapDegrees:e(62138)}},83392:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};o.exports=T},53996:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=e-x,h=u-d;return Math.sqrt(l*l+h*h)};o.exports=T},92951:o=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.x-u.x,d=e.y-u.y;return Math.sqrt(x*x+d*d)};o.exports=T},12161:o=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.x-u.x,d=e.y-u.y;return x*x+d*d};o.exports=T},38057:o=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){return Math.max(Math.abs(e-x),Math.abs(u-d))};o.exports=T},33297:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l){return l===void 0&&(l=2),Math.sqrt(Math.pow(x-e,l)+Math.pow(d-u,l))};o.exports=T},90366:o=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){return Math.abs(e-x)+Math.abs(u-d)};o.exports=T},35032:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=e-x,h=u-d;return l*l+h*h};o.exports=T},10130:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Between:e(53996),BetweenPoints:e(92951),BetweenPointsSquared:e(12161),Chebyshev:e(38057),Power:e(33297),Snake:e(90366),Squared:e(35032)}},35060:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25265),x=e(57428),d=e(73214),l=e(71778),h=e(36468),n=e(88258),r=e(52910),f=e(67799),a=e(74083),c=e(92284),p=e(28035),v=e(8754);o.exports={Power0:r,Power1:f.Out,Power2:l.Out,Power3:a.Out,Power4:c.Out,Linear:r,Quad:f.Out,Cubic:l.Out,Quart:a.Out,Quint:c.Out,Sine:p.Out,Expo:n.Out,Circ:d.Out,Elastic:h.Out,Back:u.Out,Bounce:x.Out,Stepped:v,"Quad.easeIn":f.In,"Cubic.easeIn":l.In,"Quart.easeIn":a.In,"Quint.easeIn":c.In,"Sine.easeIn":p.In,"Expo.easeIn":n.In,"Circ.easeIn":d.In,"Elastic.easeIn":h.In,"Back.easeIn":u.In,"Bounce.easeIn":x.In,"Quad.easeOut":f.Out,"Cubic.easeOut":l.Out,"Quart.easeOut":a.Out,"Quint.easeOut":c.Out,"Sine.easeOut":p.Out,"Expo.easeOut":n.Out,"Circ.easeOut":d.Out,"Elastic.easeOut":h.Out,"Back.easeOut":u.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":f.InOut,"Cubic.easeInOut":l.InOut,"Quart.easeInOut":a.InOut,"Quint.easeInOut":c.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":n.InOut,"Circ.easeInOut":d.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":u.InOut,"Bounce.easeInOut":x.InOut}},25860:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1.70158),e*e*((u+1)*e-u)};o.exports=T},45264:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=1.70158);var x=u*1.525;return(e*=2)<1?.5*(e*e*((x+1)*e-x)):.5*((e-=2)*e*((x+1)*e+x)+2)};o.exports=T},36699:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1.70158),--e*e*((u+1)*e+u)+1};o.exports=T},25265:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:e(25860),Out:e(36699),InOut:e(45264)}},62191:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};o.exports=T},24799:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=!1;return e<.5?(e=1-e*2,u=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,u?(1-e)*.5:e*.5+.5};o.exports=T},60819:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};o.exports=T},57428:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:e(62191),Out:e(60819),InOut:e(24799)}},86855:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return 1-Math.sqrt(1-e*e)};o.exports=T},7280:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};o.exports=T},18058:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.sqrt(1- --e*e)};o.exports=T},73214:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:e(86855),Out:e(18058),InOut:e(7280)}},91532:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e*e*e};o.exports=T},63180:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};o.exports=T},16518:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return--e*e*e+1};o.exports=T},71778:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:e(91532),Out:e(16518),InOut:e(63180)}},24729:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(u===void 0&&(u=.1),x===void 0&&(x=.1),e===0)return 0;if(e===1)return 1;var d=x/4;return u<1?u=1:d=x*Math.asin(1/u)/(2*Math.PI),-(u*Math.pow(2,10*(e-=1))*Math.sin((e-d)*(2*Math.PI)/x))};o.exports=T},50325:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(u===void 0&&(u=.1),x===void 0&&(x=.1),e===0)return 0;if(e===1)return 1;var d=x/4;return u<1?u=1:d=x*Math.asin(1/u)/(2*Math.PI),(e*=2)<1?-.5*(u*Math.pow(2,10*(e-=1))*Math.sin((e-d)*(2*Math.PI)/x)):u*Math.pow(2,-10*(e-=1))*Math.sin((e-d)*(2*Math.PI)/x)*.5+1};o.exports=T},84074:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(u===void 0&&(u=.1),x===void 0&&(x=.1),e===0)return 0;if(e===1)return 1;var d=x/4;return u<1?u=1:d=x*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*e)*Math.sin((e-d)*(2*Math.PI)/x)+1};o.exports=T},36468:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:e(24729),Out:e(84074),InOut:e(50325)}},95638:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return Math.pow(2,10*(e-1))-.001};o.exports=T},10357:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};o.exports=T},14894:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return 1-Math.pow(2,-10*e)};o.exports=T},88258:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:e(95638),Out:e(14894),InOut:e(10357)}},33063:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Back:e(25265),Bounce:e(57428),Circular:e(73214),Cubic:e(71778),Elastic:e(36468),Expo:e(88258),Linear:e(52910),Quadratic:e(67799),Quartic:e(74083),Quintic:e(92284),Sine:e(28035),Stepped:e(8754)}},43927:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e};o.exports=T},52910:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=e(43927)},77471:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e*e};o.exports=T},83863:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};o.exports=T},44383:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e*(2-e)};o.exports=T},67799:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:e(77471),Out:e(44383),InOut:e(83863)}},48311:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e*e*e*e};o.exports=T},55248:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};o.exports=T},23135:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return 1- --e*e*e*e};o.exports=T},74083:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:e(48311),Out:e(23135),InOut:e(55248)}},7313:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e*e*e*e*e};o.exports=T},98759:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};o.exports=T},26670:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return--e*e*e*e*e+1};o.exports=T},92284:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:e(7313),Out:e(26670),InOut:e(98759)}},52929:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};o.exports=T},66333:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};o.exports=T},37255:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};o.exports=T},28035:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:e(52929),Out:e(37255),InOut:e(66333)}},52770:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1),e<=0?0:e>=1?1:((u*e|0)+1)*(1/u)};o.exports=T},8754:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=e(52770)},17247:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1e-4),Math.ceil(e-u)};o.exports=T},88456:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return x===void 0&&(x=1e-4),Math.abs(e-u)<x};o.exports=T},61824:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===void 0&&(u=1e-4),Math.floor(e+u)};o.exports=T},41935:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return x===void 0&&(x=1e-4),e>u-x};o.exports=T},54726:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return x===void 0&&(x=1e-4),e<u+x};o.exports=T},52778:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Ceil:e(17247),Equal:e(88456),Floor:e(61824),GreaterThan:e(41935),LessThan:e(54726)}},5923:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(83392),x=e(98611),d={Angle:e(22153),Distance:e(10130),Easing:e(33063),Fuzzy:e(52778),Interpolation:e(48528),Pow2:e(73773),Snap:e(23679),RandomDataGenerator:e(81429),Average:e(26042),Bernstein:e(22824),Between:e(17489),CatmullRom:e(14976),CeilTo:e(89129),Clamp:e(82897),DegToRad:e(75606),Difference:e(767),Euler:e(9849),Factorial:e(8034),FloatBetween:e(61616),FloorTo:e(60679),FromPercent:e(91806),GetSpeed:e(79366),IsEven:e(43776),IsEvenStrict:e(58442),Linear:e(42798),LinearXY:e(61072),MaxAdd:e(69635),Median:e(37394),MinSub:e(17259),Percent:e(61820),RadToDeg:e(23701),RandomXY:e(16906),RandomXYZ:e(52417),RandomXYZW:e(17915),Rotate:e(52257),RotateAround:e(2386),RotateAroundDistance:e(72395),RotateTo:e(41061),RoundAwayFromZero:e(67233),RoundTo:e(64333),SinCosTableGenerator:e(59533),SmootherStep:e(87736),SmoothStep:e(5514),ToXY:e(55805),TransformXY:e(64462),Within:e(9557),Wrap:e(1071),Vector2:e(93736),Vector3:e(70015),Vector4:e(51729),Matrix3:e(5341),Matrix4:e(16650),Quaternion:e(75003),RotateVec3:e(93709)};d=x(!1,d,u),o.exports=d},63210:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(22824),x=function(d,l){for(var h=0,n=d.length-1,r=0;r<=n;r++)h+=Math.pow(1-l,n-r)*Math.pow(l,r)*d[r]*u(n,r);return h};o.exports=x},88332:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14976),x=function(d,l){var h=d.length-1,n=h*l,r=Math.floor(n);return d[0]===d[h]?(l<0&&(r=Math.floor(n=h*(1+l))),u(n-r,d[(r-1+h)%h],d[r],d[(r+1)%h],d[(r+2)%h])):l<0?d[0]-(u(-n,d[0],d[0],d[1],d[1])-d[0]):l>1?d[h]-(u(n-h,d[h],d[h],d[h-1],d[h-1])-d[h]):u(n-r,d[r?r-1:0],d[r],d[h<r+1?h:r+1],d[h<r+2?h:r+2])};o.exports=x},34631:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(l,h){var n=1-l;return n*n*n*h}function e(l,h){var n=1-l;return 3*n*n*l*h}function u(l,h){return 3*(1-l)*l*l*h}function x(l,h){return l*l*l*h}var d=function(l,h,n,r,f){return T(l,h)+e(l,n)+u(l,r)+x(l,f)};o.exports=d},47614:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42798),x=function(d,l){var h=d.length-1,n=h*l,r=Math.floor(n);return l<0?u(d[0],d[1],n):l>1?u(d[h],d[h-1],h-n):u(d[r],d[r+1>h?h:r+1],n-r)};o.exports=x},16252:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(d,l){var h=1-d;return h*h*l}function e(d,l){return 2*(1-d)*d*l}function u(d,l){return d*d*l}var x=function(d,l,h,n){return T(d,l)+e(d,h)+u(d,n)};o.exports=x},44521:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(5514),x=function(d,l,h){return l+(h-l)*u(d,0,1)};o.exports=x},45507:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(87736),x=function(d,l,h){return l+(h-l)*u(d,0,1)};o.exports=x},48528:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Bezier:e(63210),CatmullRom:e(88332),CubicBezier:e(34631),Linear:e(47614),QuadraticBezier:e(16252),SmoothStep:e(44521),SmootherStep:e(45507)}},3504:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=Math.log(e)/.6931471805599453;return 1<<Math.ceil(u)};o.exports=T},28621:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e>0&&(e&e-1)===0&&u>0&&(u&u-1)===0};o.exports=T},2018:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e>0&&(e&e-1)===0};o.exports=T},73773:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={GetNext:e(3504),IsSize:e(28621),IsValue:e(2018)}},81429:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l){l===void 0&&(l=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],l&&this.init(l)},rnd:function(){var d=2091639*this.s0+this.c*23283064365386963e-26;return this.c=d|0,this.s0=this.s1,this.s1=this.s2,this.s2=d-this.c,this.s2},hash:function(d){var l,h=this.n;d=d.toString();for(var n=0;n<d.length;n++)h+=d.charCodeAt(n),l=.02519603282416938*h,h=l>>>0,l-=h,l*=h,h=l>>>0,l-=h,h+=l*4294967296;return this.n=h,(h>>>0)*23283064365386963e-26},init:function(d){typeof d=="string"?this.state(d):this.sow(d)},sow:function(d){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!d)for(var l=0;l<d.length&&d[l]!=null;l++){var h=d[l];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(d,l){return Math.floor(this.realInRange(0,l-d+1)+d)},between:function(d,l){return Math.floor(this.realInRange(0,l-d+1)+d)},realInRange:function(d,l){return this.frac()*(l-d)+d},normal:function(){return 1-2*this.frac()},uuid:function(){var d="",l="";for(l=d="";d++<36;l+=~d%5|d*3&4?(d^15?8^this.frac()*(d^20?16:4):4).toString(16):"-");return l},pick:function(d){return d[this.integerInRange(0,d.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(d){return d[~~(Math.pow(this.frac(),2)*(d.length-1)+.5)]},timestamp:function(d,l){return this.realInRange(d||9466848e5,l||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(d){return typeof d=="string"&&d.match(/^!rnd/)&&(d=d.split(","),this.c=parseFloat(d[1]),this.s0=parseFloat(d[2]),this.s1=parseFloat(d[3]),this.s2=parseFloat(d[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(d){for(var l=d.length-1,h=l;h>0;h--){var n=Math.floor(this.frac()*(h+1)),r=d[n];d[n]=d[h],d[h]=r}return d}});o.exports=x},82127:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){return x===void 0&&(x=0),u===0?e:(e-=x,e=u*Math.ceil(e/u),d?(x+e)/u:x+e)};o.exports=T},84314:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){return x===void 0&&(x=0),u===0?e:(e-=x,e=u*Math.floor(e/u),d?(x+e)/u:x+e)};o.exports=T},88462:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){return x===void 0&&(x=0),u===0?e:(e-=x,e=u*Math.round(e/u),d?(x+e)/u:x+e)};o.exports=T},23679:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Ceil:e(82127),Floor:e(84314),To:e(88462)}},92491:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */e(75205);var u=e(86459),x=e(98611),d={Actions:e(83979),Animations:e(13517),BlendModes:e(95723),Cache:e(45820),Cameras:e(44143),Core:e(80293),Class:e(56694),Create:e(84106),Curves:e(73962),Data:e(1999),Display:e(24816),DOM:e(3590),Events:e(95146),FX:e(96910),Game:e(15213),GameObjects:e(48013),Geom:e(84068),Input:e(20873),Loader:e(95695),Math:e(5923),Physics:e(53954),Plugins:e(45615),Renderer:e(42069),Scale:e(86754),ScaleModes:e(27394),Scene:e(87157),Scenes:e(20436),Structs:e(20010),Textures:e(87499),Tilemaps:e(52678),Time:e(97121),Tweens:e(75193),Utils:e(22178)};d.Sound=e(56751),d=x(!1,d,u),o.exports=d,e.g.Phaser=d},62832:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(7864),d=e(1539),l=new u({Extends:d,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(n,r,f,a,c){d.call(this,n,r,f,a,c),this.body=null}});o.exports=l},66150:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(75606),d=e(53996),l=e(35032),h=e(99523),n=e(72632),r=e(30657),f=e(2732),a=e(15147),c=e(91963),p=e(7599),v=e(93736),m=e(85233),y=new u({initialize:function(P){this.scene=P,this.systems=P.sys,this.config=this.getConfig(),this.world,this.add,P.sys.events.once(p.BOOT,this.boot,this),P.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new h(this.world));var E=this.systems.events;n(this.config,"customUpdate",!1)||E.on(p.UPDATE,this.world.update,this.world),E.on(p.POST_UPDATE,this.world.postUpdate,this.world),E.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var E=this.systems.game.config.physics,P=this.systems.settings.physics,S=r(n(P,"arcade",{}),n(E,"arcade",{}));return S},overlap:function(E,P,S,w,A){return S===void 0&&(S=null),w===void 0&&(w=null),A===void 0&&(A=S),this.world.collideObjects(E,P,S,w,A,!0)},collide:function(E,P,S,w,A){return S===void 0&&(S=null),w===void 0&&(w=null),A===void 0&&(A=S),this.world.collideObjects(E,P,S,w,A,!1)},collideTiles:function(E,P,S,w,A){return this.world.collideTiles(E,P,S,w,A)},overlapTiles:function(E,P,S,w,A){return this.world.overlapTiles(E,P,S,w,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(E,P,S,w,A,R){w===void 0&&(w=60);var O=Math.atan2(S-E.y,P-E.x);return E.body.acceleration.setToPolar(O,w),A!==void 0&&R!==void 0&&E.body.maxVelocity.set(A,R),O},accelerateToObject:function(E,P,S,w,A){return this.accelerateTo(E,P.x,P.y,S,w,A)},closest:function(E,P){P||(P=this.world.bodies.entries);for(var S=Number.MAX_VALUE,w=null,A=E.x,R=E.y,O=P.length,L=0;L<O;L++){var b=P[L],D=b.body||b;if(!(E===b||E===D||E===D.gameObject||E===D.center)){var I=l(A,R,D.center.x,D.center.y);I<S&&(w=b,S=I)}}return w},furthest:function(E,P){P||(P=this.world.bodies.entries);for(var S=-1,w=null,A=E.x,R=E.y,O=P.length,L=0;L<O;L++){var b=P[L],D=b.body||b;if(!(E===b||E===D||E===D.gameObject||E===D.center)){var I=l(A,R,D.center.x,D.center.y);I>S&&(w=b,S=I)}}return w},moveTo:function(E,P,S,w,A){w===void 0&&(w=60),A===void 0&&(A=0);var R=Math.atan2(S-E.y,P-E.x);return A>0&&(w=d(E.x,E.y,P,S)/(A/1e3)),E.body.velocity.setToPolar(R,w),R},moveToObject:function(E,P,S,w){return this.moveTo(E,P.x,P.y,S,w)},velocityFromAngle:function(E,P,S){return P===void 0&&(P=60),S===void 0&&(S=new v),S.setToPolar(x(E),P)},velocityFromRotation:function(E,P,S){return P===void 0&&(P=60),S===void 0&&(S=new v),S.setToPolar(E,P)},overlapRect:function(E,P,S,w,A,R){return a(this.world,E,P,S,w,A,R)},overlapCirc:function(E,P,S,w,A){return f(this.world,E,P,S,w,A)},shutdown:function(){if(!!this.world){var E=this.systems.events;E.off(p.UPDATE,this.world.update,this.world),E.off(p.POST_UPDATE,this.world.postUpdate,this.world),E.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});c.register("ArcadePhysics",y,"arcadePhysics"),o.exports=y},25084:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(7864),d=e(13747),l=new u({Extends:d,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(n,r,f,a,c){d.call(this,n,r,f,a,c),this.body=null}});o.exports=l},97602:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(47401),d=e(27037),l=e(23701),h=e(74118),n=e(94287),r=e(93736),f=new u({initialize:function(c,p){var v=64,m=64,y={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=p!==void 0;E&&p.displayWidth&&(v=p.displayWidth,m=p.displayHeight),E||(p=y),this.world=c,this.gameObject=E?p:void 0,this.isBody=!0,this.transform={x:p.x,y:p.y,rotation:p.angle,scaleX:p.scaleX,scaleY:p.scaleY,displayOriginX:p.displayOriginX,displayOriginY:p.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(p.x-p.scaleX*p.displayOriginX,p.y-p.scaleY*p.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=p.angle,this.preRotation=p.angle,this.width=v,this.height=m,this.sourceWidth=v,this.sourceHeight=m,p.frame&&(this.sourceWidth=p.frame.realWidth,this.sourceHeight=p.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(m/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new r,this.newVelocity=new r,this.deltaMax=new r,this.acceleration=new r,this.allowDrag=!0,this.drag=new r,this.allowGravity=!0,this.gravity=new r,this.bounce=new r,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new r(1e4,1e4),this.maxSpeed=-1,this.friction=new r(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=x.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=x.DYNAMIC_BODY,this._sx=p.scaleX,this._sy=p.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new h},updateBounds:function(){var a=this.gameObject,c=this.transform;if(a.parentContainer){var p=a.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=p.tx,c.y=p.ty,c.rotation=l(p.rotation),c.scaleX=p.scaleX,c.scaleY=p.scaleY,c.displayOriginX=a.displayOriginX,c.displayOriginY=a.displayOriginY}else c.x=a.x,c.y=a.y,c.rotation=a.angle,c.scaleX=a.scaleX,c.scaleY=a.scaleY,c.displayOriginX=a.displayOriginX,c.displayOriginY=a.displayOriginY;var v=!1;if(this.syncBounds){var m=a.getBounds(this._bounds);this.width=m.width,this.height=m.height,v=!0}else{var y=Math.abs(c.scaleX),E=Math.abs(c.scaleY);(this._sx!==y||this._sy!==E)&&(this.width=this.sourceWidth*y,this.height=this.sourceHeight*E,this._sx=y,this._sy=E,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var a=this.transform;this.position.x=a.x+a.scaleX*(this.offset.x-a.displayOriginX),this.position.y=a.y+a.scaleY*(this.offset.y-a.displayOriginY),this.updateCenter()},resetFlags:function(a){a===void 0&&(a=!1);var c=this.wasTouching,p=this.touching,v=this.blocked;a?(c.none=!0,c.up=!1,c.down=!1,c.left=!1,c.right=!1):(c.none=p.none,c.up=p.up,c.down=p.down,c.left=p.left,c.right=p.right),p.none=!0,p.up=!1,p.down=!1,p.left=!1,p.right=!1,v.none=!0,v.up=!1,v.down=!1,v.left=!1,v.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(a,c){a&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),a&&this.update(c)},update:function(a){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,a);var c=this.velocity.x,p=this.velocity.y;this.newVelocity.set(c*a,p*a),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(p,c),this.speed=Math.sqrt(c*c+p*p),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(d.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var a=this.position.x-this.prevFrame.x,c=this.position.y-this.prevFrame.y,p=this.gameObject;if(this.moves){var v=this.deltaMax.x,m=this.deltaMax.y;v!==0&&a!==0&&(a<0&&a<-v?a=-v:a>0&&a>v&&(a=v)),m!==0&&c!==0&&(c<0&&c<-m?c=-m:c>0&&c>m&&(c=m)),p&&(p.x+=a,p.y+=c)}a<0?this.facing=x.FACING_LEFT:a>0&&(this.facing=x.FACING_RIGHT),c<0?this.facing=x.FACING_UP:c>0&&(this.facing=x.FACING_DOWN),this.allowRotation&&p&&(p.angle+=this.deltaZ()),this._tx=a,this._ty=c},setBoundsRectangle:function(a){return this.customBoundsRectangle=a||this.world.bounds,this},checkWorldBounds:function(){var a=this.position,c=this.customBoundsRectangle,p=this.world.checkCollision,v=this.worldBounce?-this.worldBounce.x:-this.bounce.x,m=this.worldBounce?-this.worldBounce.y:-this.bounce.y,y=!1;return a.x<c.x&&p.left?(a.x=c.x,this.velocity.x*=v,this.blocked.left=!0,y=!0):this.right>c.right&&p.right&&(a.x=c.right-this.width,this.velocity.x*=v,this.blocked.right=!0,y=!0),a.y<c.y&&p.up?(a.y=c.y,this.velocity.y*=m,this.blocked.up=!0,y=!0):this.bottom>c.bottom&&p.down&&(a.y=c.bottom-this.height,this.velocity.y*=m,this.blocked.down=!0,y=!0),y&&(this.blocked.none=!1,this.updateCenter()),y},setOffset:function(a,c){return c===void 0&&(c=a),this.offset.set(a,c),this},setGameObject:function(a,c){return c===void 0&&(c=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=a,a.body&&(a.body=this),this.setSize(),this.world.add(this),this.enable=c,this},setSize:function(a,c,p){p===void 0&&(p=!0);var v=this.gameObject;if(v&&(!a&&v.frame&&(a=v.frame.realWidth),!c&&v.frame&&(c=v.frame.realHeight)),this.sourceWidth=a,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),p&&v&&v.getCenter){var m=(v.width-a)/2,y=(v.height-c)/2;this.offset.set(m,y)}return this.isCircle=!1,this.radius=0,this},setCircle:function(a,c,p){return c===void 0&&(c=this.offset.x),p===void 0&&(p=this.offset.y),a>0?(this.isCircle=!0,this.radius=a,this.sourceWidth=a*2,this.sourceHeight=a*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,p),this.updateCenter()):this.isCircle=!1,this},reset:function(a,c){this.stop();var p=this.gameObject;p&&(p.setPosition(a,c),this.rotation=p.angle,this.preRotation=p.angle);var v=this.position;p&&p.getTopLeft?p.getTopLeft(v):v.set(a,c),this.prev.copy(v),this.prevFrame.copy(v),p&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,c){if(!this.isCircle)return n(this,a,c);if(this.radius>0&&a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom){var p=(this.center.x-a)*(this.center.x-a),v=(this.center.y-c)*(this.center.y-c);return p+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(a){var c=this.position,p=c.x+this.halfWidth,v=c.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor),this.isCircle?a.strokeCircle(p,v,this.width/2):(this.checkCollision.up&&a.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&a.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&a.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&a.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(a.lineStyle(a.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),a.lineBetween(p,v,p+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(a,c,p,v){a===void 0&&(a=!0),this.collideWorldBounds=a;var m=c!==void 0,y=p!==void 0;return(m||y)&&(this.worldBounce||(this.worldBounce=new r),m&&(this.worldBounce.x=c),y&&(this.worldBounce.y=p)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(a,c){return this.velocity.set(a,c),a=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(a*a+c*c),this},setVelocityX:function(a){return this.setVelocity(a,this.velocity.y)},setVelocityY:function(a){return this.setVelocity(this.velocity.x,a)},setMaxVelocity:function(a,c){return this.maxVelocity.set(a,c),this},setMaxVelocityX:function(a){return this.maxVelocity.x=a,this},setMaxVelocityY:function(a){return this.maxVelocity.y=a,this},setMaxSpeed:function(a){return this.maxSpeed=a,this},setBounce:function(a,c){return this.bounce.set(a,c),this},setBounceX:function(a){return this.bounce.x=a,this},setBounceY:function(a){return this.bounce.y=a,this},setAcceleration:function(a,c){return this.acceleration.set(a,c),this},setAccelerationX:function(a){return this.acceleration.x=a,this},setAccelerationY:function(a){return this.acceleration.y=a,this},setAllowDrag:function(a){return a===void 0&&(a=!0),this.allowDrag=a,this},setAllowGravity:function(a){return a===void 0&&(a=!0),this.allowGravity=a,this},setAllowRotation:function(a){return a===void 0&&(a=!0),this.allowRotation=a,this},setDrag:function(a,c){return this.drag.set(a,c),this},setDamping:function(a){return this.useDamping=a,this},setDragX:function(a){return this.drag.x=a,this},setDragY:function(a){return this.drag.y=a,this},setGravity:function(a,c){return this.gravity.set(a,c),this},setGravityX:function(a){return this.gravity.x=a,this},setGravityY:function(a){return this.gravity.y=a,this},setFriction:function(a,c){return this.friction.set(a,c),this},setFrictionX:function(a){return this.friction.x=a,this},setFrictionY:function(a){return this.friction.y=a,this},setAngularVelocity:function(a){return this.angularVelocity=a,this},setAngularAcceleration:function(a){return this.angularAcceleration=a,this},setAngularDrag:function(a){return this.angularDrag=a,this},setMass:function(a){return this.mass=a,this},setImmovable:function(a){return a===void 0&&(a=!0),this.immovable=a,this},setEnable:function(a){return a===void 0&&(a=!0),this.enable=a,this},processX:function(a,c,p,v){this.x+=a,this.updateCenter(),c!==null&&(this.velocity.x=c);var m=this.blocked;p&&(m.left=!0,m.none=!1),v&&(m.right=!0,m.none=!1)},processY:function(a,c,p,v){this.y+=a,this.updateCenter(),c!==null&&(this.velocity.y=c);var m=this.blocked;p&&(m.up=!0,m.none=!1),v&&(m.down=!0,m.none=!1)},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});o.exports=f},3909:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h,n,r,f,a,c){this.world=l,this.name="",this.active=!0,this.overlapOnly=h,this.object1=n,this.object2=r,this.collideCallback=f,this.processCallback=a,this.callbackContext=c},setName:function(d){return this.name=d,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});o.exports=x},99523:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62832),x=e(25084),d=e(97602),l=e(56694),h=e(47401),n=e(10481),r=e(66634),f=e(46346),a=new l({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(c,p,v,m,y){return this.world.addCollider(c,p,v,m,y)},overlap:function(c,p,v,m,y){return this.world.addOverlap(c,p,v,m,y)},existing:function(c,p){var v=p?h.STATIC_BODY:h.DYNAMIC_BODY;return this.world.enableBody(c,v),c},staticImage:function(c,p,v,m){var y=new u(this.scene,c,p,v,m);return this.sys.displayList.add(y),this.world.enableBody(y,h.STATIC_BODY),y},image:function(c,p,v,m){var y=new u(this.scene,c,p,v,m);return this.sys.displayList.add(y),this.world.enableBody(y,h.DYNAMIC_BODY),y},staticSprite:function(c,p,v,m){var y=new x(this.scene,c,p,v,m);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,h.STATIC_BODY),y},sprite:function(c,p,v,m){var y=new x(this.scene,c,p,v,m);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,h.DYNAMIC_BODY),y},staticGroup:function(c,p){return this.sys.updateList.add(new f(this.world,this.world.scene,c,p))},group:function(c,p){return this.sys.updateList.add(new n(this.world,this.world.scene,c,p))},body:function(c,p,v,m){var y=new d(this.world);return y.position.set(c,p),v&&m&&y.setSize(v,m),this.world.add(y,h.DYNAMIC_BODY),y},staticBody:function(c,p,v,m){var y=new r(this.world);return y.position.set(c,p),v&&m&&y.setSize(v,m),this.world.add(y,h.STATIC_BODY),y},destroy:function(){this.world=null,this.scene=null,this.sys=null}});o.exports=a},75671:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47401),x=function(d,l,h,n){var r=0,f=d.deltaAbsX()+l.deltaAbsX()+n;return d._dx===0&&l._dx===0?(d.embedded=!0,l.embedded=!0):d._dx>l._dx?(r=d.right-l.x,r>f&&!h||d.checkCollision.right===!1||l.checkCollision.left===!1?r=0:(d.touching.none=!1,d.touching.right=!0,l.touching.none=!1,l.touching.left=!0,l.physicsType===u.STATIC_BODY&&!h&&(d.blocked.none=!1,d.blocked.right=!0),d.physicsType===u.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.left=!0))):d._dx<l._dx&&(r=d.x-l.width-l.x,-r>f&&!h||d.checkCollision.left===!1||l.checkCollision.right===!1?r=0:(d.touching.none=!1,d.touching.left=!0,l.touching.none=!1,l.touching.right=!0,l.physicsType===u.STATIC_BODY&&!h&&(d.blocked.none=!1,d.blocked.left=!0),d.physicsType===u.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.right=!0))),d.overlapX=r,l.overlapX=r,r};o.exports=x},66185:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47401),x=function(d,l,h,n){var r=0,f=d.deltaAbsY()+l.deltaAbsY()+n;return d._dy===0&&l._dy===0?(d.embedded=!0,l.embedded=!0):d._dy>l._dy?(r=d.bottom-l.y,r>f&&!h||d.checkCollision.down===!1||l.checkCollision.up===!1?r=0:(d.touching.none=!1,d.touching.down=!0,l.touching.none=!1,l.touching.up=!0,l.physicsType===u.STATIC_BODY&&!h&&(d.blocked.none=!1,d.blocked.down=!0),d.physicsType===u.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.up=!0))):d._dy<l._dy&&(r=d.y-l.bottom,-r>f&&!h||d.checkCollision.up===!1||l.checkCollision.down===!1?r=0:(d.touching.none=!1,d.touching.up=!0,l.touching.none=!1,l.touching.down=!0,l.physicsType===u.STATIC_BODY&&!h&&(d.blocked.none=!1,d.blocked.up=!0),d.physicsType===u.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.down=!0))),d.overlapY=r,l.overlapY=r,r};o.exports=x},10481:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25084),x=e(56694),d=e(47401),l=e(72632),h=e(59192),n=e(42911),r=new x({Extends:h,initialize:function(a,c,p,v){if(!p&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(p))v=p,p=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(p)&&n(p[0])){v=p[0];var m=this;p.forEach(function(y){y.internalCreateCallback=m.createCallbackHandler,y.internalRemoveCallback=m.removeCallbackHandler}),p=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=a,v.classType=l(v,"classType",u),this.physicsType=d.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:l(v,"collideWorldBounds",!1),setBoundsRectangle:l(v,"customBoundsRectangle",null),setAccelerationX:l(v,"accelerationX",0),setAccelerationY:l(v,"accelerationY",0),setAllowDrag:l(v,"allowDrag",!0),setAllowGravity:l(v,"allowGravity",!0),setAllowRotation:l(v,"allowRotation",!0),setDamping:l(v,"useDamping",!1),setBounceX:l(v,"bounceX",0),setBounceY:l(v,"bounceY",0),setDragX:l(v,"dragX",0),setDragY:l(v,"dragY",0),setEnable:l(v,"enable",!0),setGravityX:l(v,"gravityX",0),setGravityY:l(v,"gravityY",0),setFrictionX:l(v,"frictionX",0),setFrictionY:l(v,"frictionY",0),setMaxSpeed:l(v,"maxSpeed",-1),setMaxVelocityX:l(v,"maxVelocityX",1e4),setMaxVelocityY:l(v,"maxVelocityY",1e4),setVelocityX:l(v,"velocityX",0),setVelocityY:l(v,"velocityY",0),setAngularVelocity:l(v,"angularVelocity",0),setAngularAcceleration:l(v,"angularAcceleration",0),setAngularDrag:l(v,"angularDrag",0),setMass:l(v,"mass",1),setImmovable:l(v,"immovable",!1)},h.call(this,c,p,v),this.type="PhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,d.DYNAMIC_BODY);var a=f.body;for(var c in this.defaults)a[c](this.defaults[c])},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},setVelocity:function(f,a,c){c===void 0&&(c=0);for(var p=this.getChildren(),v=0;v<p.length;v++)p[v].body.velocity.set(f+v*c,a+v*c);return this},setVelocityX:function(f,a){a===void 0&&(a=0);for(var c=this.getChildren(),p=0;p<c.length;p++)c[p].body.velocity.x=f+p*a;return this},setVelocityY:function(f,a){a===void 0&&(a=0);for(var c=this.getChildren(),p=0;p<c.length;p++)c[p].body.velocity.y=f+p*a;return this}});o.exports=r},22916:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,e,u,x,d,l,h,n,r,f,a,c,p,v,m,y,E,P=function(L,b,D){T=L,e=b;var I=T.velocity.x,B=e.velocity.x;return u=T.pushable,r=T._dx<0,f=T._dx>0,a=T._dx===0,m=Math.abs(T.right-e.x)<=Math.abs(e.right-T.x),h=B-I*T.bounce.x,x=e.pushable,c=e._dx<0,p=e._dx>0,v=e._dx===0,y=!m,n=I-B*e.bounce.x,E=Math.abs(D),S()},S=function(){return f&&m&&e.blocked.right?(T.processX(-E,h,!1,!0),1):r&&y&&e.blocked.left?(T.processX(E,h,!0),1):p&&y&&T.blocked.right?(e.processX(-E,n,!1,!0),2):c&&m&&T.blocked.left?(e.processX(E,n,!0),2):0},w=function(){var L=T.velocity.x,b=e.velocity.x,D=Math.sqrt(b*b*e.mass/T.mass)*(b>0?1:-1),I=Math.sqrt(L*L*T.mass/e.mass)*(L>0?1:-1),B=(D+I)*.5;return D-=B,I-=B,d=B+D*T.bounce.x,l=B+I*e.bounce.x,r&&y?A(0):c&&m?A(1):f&&m?A(2):p&&y?A(3):!1},A=function(L){if(u&&x)E*=.5,L===0||L===3?(T.processX(E,d),e.processX(-E,l)):(T.processX(-E,d),e.processX(E,l));else if(u&&!x)L===0||L===3?T.processX(E,h,!0):T.processX(-E,h,!1,!0);else if(!u&&x)L===0||L===3?e.processX(-E,n,!1,!0):e.processX(E,n,!0);else{var b=E*.5;L===0?v?(T.processX(E,0,!0),e.processX(0,null,!1,!0)):p?(T.processX(b,0,!0),e.processX(-b,0,!1,!0)):(T.processX(b,e.velocity.x,!0),e.processX(-b,null,!1,!0)):L===1?a?(T.processX(0,null,!1,!0),e.processX(E,0,!0)):f?(T.processX(-b,0,!1,!0),e.processX(b,0,!0)):(T.processX(-b,null,!1,!0),e.processX(b,T.velocity.x,!0)):L===2?v?(T.processX(-E,0,!1,!0),e.processX(0,null,!0)):c?(T.processX(-b,0,!1,!0),e.processX(b,0,!0)):(T.processX(-b,e.velocity.x,!1,!0),e.processX(b,null,!0)):L===3&&(a?(T.processX(0,null,!0),e.processX(-E,0,!1,!0)):r?(T.processX(b,0,!0),e.processX(-b,0,!1,!0)):(T.processX(b,e.velocity.y,!0),e.processX(-b,null,!1,!0)))}return!0},R=function(L){L===1?e.velocity.x=0:m?e.processX(E,n,!0):e.processX(-E,n,!1,!0),T.moves&&(e.y+=(T.y-T.prev.y)*T.friction.y,e._dy=e.y-e.prev.y)},O=function(L){L===2?T.velocity.x=0:y?T.processX(E,h,!0):T.processX(-E,h,!1,!0),e.moves&&(T.y+=(e.y-e.prev.y)*e.friction.y,T._dy=T.y-T.prev.y)};o.exports={BlockCheck:S,Check:w,Set:P,Run:A,RunImmovableBody1:R,RunImmovableBody2:O}},67050:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,e,u,x,d,l,h,n,r,f,a,c,p,v,m,y,E,P=function(L,b,D){T=L,e=b;var I=T.velocity.y,B=e.velocity.y;return u=T.pushable,r=T._dy<0,f=T._dy>0,a=T._dy===0,m=Math.abs(T.bottom-e.y)<=Math.abs(e.bottom-T.y),h=B-I*T.bounce.y,x=e.pushable,c=e._dy<0,p=e._dy>0,v=e._dy===0,y=!m,n=I-B*e.bounce.y,E=Math.abs(D),S()},S=function(){return f&&m&&e.blocked.down?(T.processY(-E,h,!1,!0),1):r&&y&&e.blocked.up?(T.processY(E,h,!0),1):p&&y&&T.blocked.down?(e.processY(-E,n,!1,!0),2):c&&m&&T.blocked.up?(e.processY(E,n,!0),2):0},w=function(){var L=T.velocity.y,b=e.velocity.y,D=Math.sqrt(b*b*e.mass/T.mass)*(b>0?1:-1),I=Math.sqrt(L*L*T.mass/e.mass)*(L>0?1:-1),B=(D+I)*.5;return D-=B,I-=B,d=B+D*T.bounce.y,l=B+I*e.bounce.y,r&&y?A(0):c&&m?A(1):f&&m?A(2):p&&y?A(3):!1},A=function(L){if(u&&x)E*=.5,L===0||L===3?(T.processY(E,d),e.processY(-E,l)):(T.processY(-E,d),e.processY(E,l));else if(u&&!x)L===0||L===3?T.processY(E,h,!0):T.processY(-E,h,!1,!0);else if(!u&&x)L===0||L===3?e.processY(-E,n,!1,!0):e.processY(E,n,!0);else{var b=E*.5;L===0?v?(T.processY(E,0,!0),e.processY(0,null,!1,!0)):p?(T.processY(b,0,!0),e.processY(-b,0,!1,!0)):(T.processY(b,e.velocity.y,!0),e.processY(-b,null,!1,!0)):L===1?a?(T.processY(0,null,!1,!0),e.processY(E,0,!0)):f?(T.processY(-b,0,!1,!0),e.processY(b,0,!0)):(T.processY(-b,null,!1,!0),e.processY(b,T.velocity.y,!0)):L===2?v?(T.processY(-E,0,!1,!0),e.processY(0,null,!0)):c?(T.processY(-b,0,!1,!0),e.processY(b,0,!0)):(T.processY(-b,e.velocity.y,!1,!0),e.processY(b,null,!0)):L===3&&(a?(T.processY(0,null,!0),e.processY(-E,0,!1,!0)):r?(T.processY(b,0,!0),e.processY(-b,0,!1,!0)):(T.processY(b,e.velocity.y,!0),e.processY(-b,null,!1,!0)))}return!0},R=function(L){L===1?e.velocity.y=0:m?e.processY(E,n,!0):e.processY(-E,n,!1,!0),T.moves&&(e.x+=(T.x-T.prev.x)*T.friction.x,e._dx=e.x-e.prev.x)},O=function(L){L===2?T.velocity.y=0:y?T.processY(E,h,!0):T.processY(-E,h,!1,!0),e.moves&&(T.x+=(e.x-e.prev.x)*e.friction.x,T._dx=T.x-T.prev.x)};o.exports={BlockCheck:S,Check:w,Set:P,Run:A,RunImmovableBody1:R,RunImmovableBody2:O}},61777:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75671),x=e(22916),d=function(l,h,n,r,f){f===void 0&&(f=u(l,h,n,r));var a=l.immovable,c=h.immovable;if(n||f===0||a&&c||l.customSeparateX||h.customSeparateX)return f!==0||l.embedded&&h.embedded;var p=x.Set(l,h,f);return!a&&!c?p>0?!0:x.Check():(a?x.RunImmovableBody1(p):c&&x.RunImmovableBody2(p),!0)};o.exports=d},25299:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66185),x=e(67050),d=function(l,h,n,r,f){f===void 0&&(f=u(l,h,n,r));var a=l.immovable,c=h.immovable;if(n||f===0||a&&c||l.customSeparateY||h.customSeparateY)return f!==0||l.embedded&&h.embedded;var p=x.Set(l,h,f);return!a&&!c?p>0?!0:x.Check():(a?x.RunImmovableBody1(p):c&&x.RunImmovableBody2(p),!0)};o.exports=d},66634:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65650),x=e(56694),d=e(47401),l=e(94287),h=e(93736),n=new x({initialize:function(f,a){var c=64,p=64,v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=a!==void 0;m&&a.displayWidth&&(c=a.displayWidth,p=a.displayHeight),m||(a=v),this.world=f,this.gameObject=m?a:void 0,this.isBody=!0,this.debugShowBody=f.defaults.debugShowStaticBody,this.debugBodyColor=f.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(a.x-c*a.originX,a.y-p*a.originY),this.width=c,this.height=p,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=h.ZERO,this.allowGravity=!1,this.gravity=h.ZERO,this.bounce=h.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=d.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(r,f){return r&&r!==this.gameObject&&(this.gameObject.body=null,r.body=this,this.gameObject=r),f&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var r=this.gameObject;return r.getTopLeft(this.position),this.width=r.displayWidth,this.height=r.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(r,f){return f===void 0&&(f=r),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(r,f),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(r,f,a){a===void 0&&(a=!0);var c=this.gameObject;if(!r&&c.frame&&(r=c.frame.realWidth),!f&&c.frame&&(f=c.frame.realHeight),this.world.staticTree.remove(this),this.width=r,this.height=f,this.halfWidth=Math.floor(r/2),this.halfHeight=Math.floor(f/2),a&&c.getCenter){var p=c.displayWidth/2,v=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(p-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(r,f,a){return f===void 0&&(f=this.offset.x),a===void 0&&(a=this.offset.y),r>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=r,this.width=r*2,this.height=r*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,a),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(r,f){var a=this.gameObject;r===void 0&&(r=a.x),f===void 0&&(f=a.y),this.world.staticTree.remove(this),a.setPosition(r,f),a.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(r){return r.x=this.x,r.y=this.y,r.right=this.right,r.bottom=this.bottom,r},hitTest:function(r,f){return this.isCircle?u(this,r,f):l(this,r,f)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(r){var f=this.position,a=f.x+this.halfWidth,c=f.y+this.halfHeight;this.debugShowBody&&(r.lineStyle(r.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?r.strokeCircle(a,c,this.width/2):r.strokeRect(f.x,f.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(r){return r<=0&&(r=.1),this.mass=r,this},x:{get:function(){return this.position.x},set:function(r){this.world.staticTree.remove(this),this.position.x=r,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(r){this.world.staticTree.remove(this),this.position.y=r,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});o.exports=n},46346:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25084),x=e(56694),d=e(47401),l=e(72632),h=e(59192),n=e(42911),r=new x({Extends:h,initialize:function(a,c,p,v){!p&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:u}:n(p)?(v=p,p=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=l(v,"classType",u)):Array.isArray(p)&&n(p[0])?(v=p,p=null,v.forEach(function(m){m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=l(m,"classType",u)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=a,this.physicsType=d.STATIC_BODY,h.call(this,c,p,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,d.STATIC_BODY)},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var f=this.children.entries,a=0;a<f.length;a++)f[a].body.reset();return this}});o.exports=r},85233:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(94240),x=e(97602),d=e(82897),l=e(56694),h=e(3909),n=e(47401),r=e(53996),f=e(92951),a=e(6659),c=e(27037),p=e(88456),v=e(41935),m=e(54726),y=e(75671),E=e(66185),P=e(44662),S=e(10850),w=e(83392),A=e(74623),R=e(25163),O=e(74118),L=e(68687),b=e(27354),D=e(61777),I=e(25299),B=e(58403),V=e(66634),Y=e(28808),k=e(69360),W=e(93736),G=e(1071),U=new l({Extends:a,initialize:function(N,z){a.call(this),this.scene=N,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new A,this.gravity=new W(S(z,"gravity.x",0),S(z,"gravity.y",0)),this.bounds=new O(S(z,"x",0),S(z,"y",0),S(z,"width",N.sys.scale.width),S(z,"height",N.sys.scale.height)),this.checkCollision={up:S(z,"checkCollision.up",!0),down:S(z,"checkCollision.down",!0),left:S(z,"checkCollision.left",!0),right:S(z,"checkCollision.right",!0)},this.fps=S(z,"fps",60),this.fixedStep=S(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=S(z,"timeScale",1),this.OVERLAP_BIAS=S(z,"overlapBias",4),this.TILE_BIAS=S(z,"tileBias",16),this.forceX=S(z,"forceX",!1),this.isPaused=S(z,"isPaused",!1),this._total=0,this.drawDebug=S(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:S(z,"debugShowBody",!0),debugShowStaticBody:S(z,"debugShowStaticBody",!0),debugShowVelocity:S(z,"debugShowVelocity",!0),bodyDebugColor:S(z,"debugBodyColor",16711935),staticBodyDebugColor:S(z,"debugStaticBodyColor",255),velocityDebugColor:S(z,"debugVelocityColor",65280)},this.maxEntries=S(z,"maxEntries",16),this.useTree=S(z,"useTree",!0),this.tree=new L(this.maxEntries),this.staticTree=new L(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new k,this._tempMatrix2=new k,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(F,N){N===void 0&&(N=n.DYNAMIC_BODY),Array.isArray(F)||(F=[F]);for(var z=0;z<F.length;z++){var X=F[z];if(X.isParent)for(var H=X.getChildren(),$=0;$<H.length;$++){var K=H[$];K.isParent?this.enable(K,N):this.enableBody(K,N)}else this.enableBody(X,N)}},enableBody:function(F,N){return N===void 0&&(N=n.DYNAMIC_BODY),F.hasTransformComponent&&(F.body||(N===n.DYNAMIC_BODY?F.body=new x(this,F):N===n.STATIC_BODY&&(F.body=new V(this,F))),this.add(F.body)),F},add:function(F){return F.physicsType===n.DYNAMIC_BODY?this.bodies.set(F):F.physicsType===n.STATIC_BODY&&(this.staticBodies.set(F),this.staticTree.insert(F)),F.enable=!0,F},disable:function(F){Array.isArray(F)||(F=[F]);for(var N=0;N<F.length;N++){var z=F[N];if(z.isParent)for(var X=z.getChildren(),H=0;H<X.length;H++){var $=X[H];$.isParent?this.disable($):this.disableBody($.body)}else this.disableBody(z.body)}},disableBody:function(F){this.remove(F),F.enable=!1},remove:function(F){F.physicsType===n.DYNAMIC_BODY?(this.tree.remove(F),this.bodies.delete(F)):F.physicsType===n.STATIC_BODY&&(this.staticBodies.delete(F),this.staticTree.remove(F))},createDebugGraphic:function(){var F=this.scene.sys.add.graphics({x:0,y:0});return F.setDepth(Number.MAX_VALUE),this.debugGraphic=F,this.drawDebug=!0,F},setBounds:function(F,N,z,X,H,$,K,Z){return this.bounds.setTo(F,N,z,X),H!==void 0&&this.setBoundsCollision(H,$,K,Z),this},setBoundsCollision:function(F,N,z,X){return F===void 0&&(F=!0),N===void 0&&(N=!0),z===void 0&&(z=!0),X===void 0&&(X=!0),this.checkCollision.left=F,this.checkCollision.right=N,this.checkCollision.up=z,this.checkCollision.down=X,this},pause:function(){return this.isPaused=!0,this.emit(c.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(c.RESUME),this},addCollider:function(F,N,z,X,H){z===void 0&&(z=null),X===void 0&&(X=null),H===void 0&&(H=z);var $=new h(this,!1,F,N,z,X,H);return this.colliders.add($),$},addOverlap:function(F,N,z,X,H){z===void 0&&(z=null),X===void 0&&(X=null),H===void 0&&(H=z);var $=new h(this,!0,F,N,z,X,H);return this.colliders.add($),$},removeCollider:function(F){return this.colliders.remove(F),this},setFPS:function(F){return this.fps=F,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(F,N){if(!(this.isPaused||this.bodies.size===0)){var z,X=this._frameTime,H=this._frameTimeMS*this.timeScale;this._elapsed+=N;var $,K=this.bodies.entries,Z=this._elapsed>=H;for(this.fixedStep||(X=N*.001,Z=!0,this._elapsed=0),z=0;z<K.length;z++)$=K[z],$.enable&&$.preUpdate(Z,X);if(Z){this._elapsed-=H,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var J=this.colliders.update();for(z=0;z<J.length;z++){var j=J[z];j.active&&j.update()}this.emit(c.WORLD_STEP,X)}for(;this._elapsed>=H;)this._elapsed-=H,this.step(X)}},step:function(F){var N,z,X=this.bodies.entries,H=X.length;for(N=0;N<H;N++)z=X[N],z.enable&&z.update(F);this.useTree&&(this.tree.clear(),this.tree.load(X));var $=this.colliders.update();for(N=0;N<$.length;N++){var K=$[N];K.active&&K.update()}this.emit(c.WORLD_STEP,F),this.stepsLastFrame++},postUpdate:function(){var F,N,z=this.bodies.entries,X=z.length,H=this.bodies,$=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,F=0;F<X;F++)N=z[F],N.enable&&N.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),F=0;F<X;F++)N=z[F],N.willDrawDebug()&&N.drawDebug(K);for(z=$.entries,X=z.length,F=0;F<X;F++)N=z[F],N.willDrawDebug()&&N.drawDebug(K)}var Z=this.pendingDestroy;if(Z.size>0){var J=this.tree,j=this.staticTree;for(z=Z.entries,X=z.length,F=0;F<X;F++)N=z[F],N.physicsType===n.DYNAMIC_BODY?(J.remove(N),H.delete(N)):N.physicsType===n.STATIC_BODY&&(j.remove(N),$.delete(N)),N.world=void 0,N.gameObject=void 0;Z.clear()}},updateMotion:function(F,N){F.allowRotation&&this.computeAngularVelocity(F,N),this.computeVelocity(F,N)},computeAngularVelocity:function(F,N){var z=F.angularVelocity,X=F.angularAcceleration,H=F.angularDrag,$=F.maxAngular;X?z+=X*N:F.allowDrag&&H&&(H*=N,v(z-H,0,.1)?z-=H:m(z+H,0,.1)?z+=H:z=0),z=d(z,-$,$);var K=z-F.angularVelocity;F.angularVelocity+=K,F.rotation+=F.angularVelocity*N},computeVelocity:function(F,N){var z=F.velocity.x,X=F.acceleration.x,H=F.drag.x,$=F.maxVelocity.x,K=F.velocity.y,Z=F.acceleration.y,J=F.drag.y,j=F.maxVelocity.y,Q=F.speed,tt=F.maxSpeed,_=F.allowDrag,it=F.useDamping;F.allowGravity&&(z+=(this.gravity.x+F.gravity.x)*N,K+=(this.gravity.y+F.gravity.y)*N),X?z+=X*N:_&&H&&(it?(H=Math.pow(H,N),z*=H,Q=Math.sqrt(z*z+K*K),p(Q,0,.001)&&(z=0)):(H*=N,v(z-H,0,.01)?z-=H:m(z+H,0,.01)?z+=H:z=0)),Z?K+=Z*N:_&&J&&(it?(J=Math.pow(J,N),K*=J,Q=Math.sqrt(z*z+K*K),p(Q,0,.001)&&(K=0)):(J*=N,v(K-J,0,.01)?K-=J:m(K+J,0,.01)?K+=J:K=0)),z=d(z,-$,$),K=d(K,-j,j),F.velocity.set(z,K),tt>-1&&F.velocity.length()>tt&&(F.velocity.normalize().scale(tt),Q=tt),F.speed=Q},separate:function(F,N,z,X,H){var $,K,Z=!1,J=!0;if(!F.enable||!N.enable||F.checkCollision.none||N.checkCollision.none||!this.intersects(F,N)||z&&z.call(X,F.gameObject,N.gameObject)===!1)return Z;if(F.isCircle||N.isCircle){var j=this.separateCircle(F,N,H);j.result?(Z=!0,J=!1):($=j.x,K=j.y,J=!0)}if(J){var Q=!1,tt=!1,_=this.OVERLAP_BIAS;H?(Q=D(F,N,H,_,$),tt=I(F,N,H,_,K)):this.forceX||Math.abs(this.gravity.y+F.gravity.y)<Math.abs(this.gravity.x+F.gravity.x)?(Q=D(F,N,H,_,$),this.intersects(F,N)&&(tt=I(F,N,H,_,K))):(tt=I(F,N,H,_,K),this.intersects(F,N)&&(Q=D(F,N,H,_,$))),Z=Q||tt}return Z&&(H?(F.onOverlap||N.onOverlap)&&this.emit(c.OVERLAP,F.gameObject,N.gameObject,F,N):(F.onCollide||N.onCollide)&&this.emit(c.COLLIDE,F.gameObject,N.gameObject,F,N)),Z},separateCircle:function(F,N,z){y(F,N,!1,0),E(F,N,!1,0);var X=F.isCircle,H=N.isCircle,$=F.center,K=N.center,Z=F.immovable,J=N.immovable,j=F.velocity,Q=N.velocity,tt=0,_=!0;if(X!==H){_=!1;var it=$.x,ht=$.y,lt=F.halfWidth,ot=N.position.x,et=N.position.y,at=N.right,rt=N.bottom;H&&(it=K.x,ht=K.y,lt=N.halfWidth,ot=F.position.x,et=F.position.y,at=F.right,rt=F.bottom),ht<et?it<ot?tt=r(it,ht,ot,et)-lt:it>at&&(tt=r(it,ht,at,et)-lt):ht>rt&&(it<ot?tt=r(it,ht,ot,rt)-lt:it>at&&(tt=r(it,ht,at,rt)-lt)),tt*=-1}else tt=F.halfWidth+N.halfWidth-f($,K);F.overlapR=tt,N.overlapR=tt;var gt=u($,K),pt=(tt+w.EPSILON)*Math.cos(gt),Lt=(tt+w.EPSILON)*Math.sin(gt),At={overlap:tt,result:!1,x:pt,y:Lt};if(z&&(!_||_&&tt!==0))return At.result=!0,At;if(!_&&tt===0||Z&&J||F.customSeparateX||N.customSeparateX)return At.x=void 0,At.y=void 0,At;var Tt=!F.pushable&&!N.pushable;if(_){var xt=$.x-K.x,Rt=$.y-K.y,Gt=Math.sqrt(Math.pow(xt,2)+Math.pow(Rt,2)),Ut=(K.x-$.x)/Gt||0,kt=(K.y-$.y)/Gt||0,de=2*(j.x*Ut+j.y*kt-Q.x*Ut-Q.y*kt)/(F.mass+N.mass);(Z||J)&&(de*=2),Z||(j.x=j.x-de/F.mass*Ut,j.y=j.y-de/F.mass*kt,j.multiply(F.bounce)),J||(Q.x=Q.x+de/N.mass*Ut,Q.y=Q.y+de/N.mass*kt,Q.multiply(N.bounce)),!Z&&!J&&(pt*=.5,Lt*=.5),Z||(F.x-=pt,F.y-=Lt,F.updateCenter()),J||(N.x+=pt,N.y+=Lt,N.updateCenter()),At.result=!0}else!Z||F.pushable||Tt?(F.x-=pt,F.y-=Lt,F.updateCenter()):(!J||N.pushable||Tt)&&(N.x+=pt,N.y+=Lt,N.updateCenter()),At.x=void 0,At.y=void 0;return At},intersects:function(F,N){return F===N?!1:!F.isCircle&&!N.isCircle?!(F.right<=N.left||F.bottom<=N.top||F.left>=N.right||F.top>=N.bottom):F.isCircle?N.isCircle?f(F.center,N.center)<=F.halfWidth+N.halfWidth:this.circleBodyIntersects(F,N):this.circleBodyIntersects(N,F)},circleBodyIntersects:function(F,N){var z=d(F.center.x,N.left,N.right),X=d(F.center.y,N.top,N.bottom),H=(F.center.x-z)*(F.center.x-z),$=(F.center.y-X)*(F.center.y-X);return H+$<=F.halfWidth*F.halfWidth},overlap:function(F,N,z,X,H){return z===void 0&&(z=null),X===void 0&&(X=null),H===void 0&&(H=z),this.collideObjects(F,N,z,X,H,!0)},collide:function(F,N,z,X,H){return z===void 0&&(z=null),X===void 0&&(X=null),H===void 0&&(H=z),this.collideObjects(F,N,z,X,H,!1)},collideObjects:function(F,N,z,X,H,$){var K,Z;F.isParent&&(F.physicsType===void 0||N===void 0||F===N)&&(F=F.children.entries),N&&N.isParent&&N.physicsType===void 0&&(N=N.children.entries);var J=Array.isArray(F),j=Array.isArray(N);if(this._total=0,!J&&!j)this.collideHandler(F,N,z,X,H,$);else if(!J&&j)for(K=0;K<N.length;K++)this.collideHandler(F,N[K],z,X,H,$);else if(J&&!j)if(N)for(K=0;K<F.length;K++)this.collideHandler(F[K],N,z,X,H,$);else for(K=0;K<F.length;K++){var Q=F[K];for(Z=K+1;Z<F.length;Z++)K!==Z&&this.collideHandler(Q,F[Z],z,X,H,$)}else for(K=0;K<F.length;K++)for(Z=0;Z<N.length;Z++)this.collideHandler(F[K],N[Z],z,X,H,$);return this._total>0},collideHandler:function(F,N,z,X,H,$){if(N===void 0&&F.isParent)return this.collideGroupVsGroup(F,F,z,X,H,$);if(!F||!N)return!1;if(F.body||F.isBody){if(N.body||N.isBody)return this.collideSpriteVsSprite(F,N,z,X,H,$);if(N.isParent)return this.collideSpriteVsGroup(F,N,z,X,H,$);if(N.isTilemap)return this.collideSpriteVsTilemapLayer(F,N,z,X,H,$)}else if(F.isParent){if(N.body||N.isBody)return this.collideSpriteVsGroup(N,F,z,X,H,$);if(N.isParent)return this.collideGroupVsGroup(F,N,z,X,H,$);if(N.isTilemap)return this.collideGroupVsTilemapLayer(F,N,z,X,H,$)}else if(F.isTilemap){if(N.body||N.isBody)return this.collideSpriteVsTilemapLayer(N,F,z,X,H,$);if(N.isParent)return this.collideGroupVsTilemapLayer(N,F,z,X,H,$)}},collideSpriteVsSprite:function(F,N,z,X,H,$){var K=F.isBody?F:F.body,Z=N.isBody?N:N.body;return!K||!Z?!1:(this.separate(K,Z,X,H,$)&&(z&&z.call(H,F,N),this._total++),!0)},collideSpriteVsGroup:function(F,N,z,X,H,$){var K=F.isBody?F:F.body;if(!(N.length===0||!K||!K.enable||K.checkCollision.none)){var Z,J,j;if(this.useTree||N.physicsType===n.STATIC_BODY){var Q=this.treeMinMax;Q.minX=K.left,Q.minY=K.top,Q.maxX=K.right,Q.maxY=K.bottom;var tt=N.physicsType===n.DYNAMIC_BODY?this.tree.search(Q):this.staticTree.search(Q);for(J=tt.length,Z=0;Z<J;Z++)j=tt[Z],!(K===j||!j.enable||j.checkCollision.none||!N.contains(j.gameObject))&&this.separate(K,j,X,H,$)&&(z&&z.call(H,K.gameObject,j.gameObject),this._total++)}else{var _=N.getChildren(),it=N.children.entries.indexOf(F);for(J=_.length,Z=0;Z<J;Z++)j=_[Z].body,!(!j||Z===it||!j.enable)&&this.separate(K,j,X,H,$)&&(z&&z.call(H,K.gameObject,j.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(F,N,z,X,H,$){var K=F.getChildren();if(K.length===0)return!1;for(var Z=!1,J=0;J<K.length;J++)(K[J].body||K[J].isBody)&&this.collideSpriteVsTilemapLayer(K[J],N,z,X,H,$)&&(Z=!0);return Z},collideTiles:function(F,N,z,X,H){return N.length===0||F.body&&!F.body.enable||F.isBody&&!F.enable?!1:this.collideSpriteVsTilesHandler(F,N,z,X,H,!1,!1)},overlapTiles:function(F,N,z,X,H){return N.length===0||F.body&&!F.body.enable||F.isBody&&!F.enable?!1:this.collideSpriteVsTilesHandler(F,N,z,X,H,!0,!1)},collideSpriteVsTilemapLayer:function(F,N,z,X,H,$){var K=F.isBody?F:F.body;if(!K.enable||K.checkCollision.none)return!1;var Z=K.x,J=K.y,j=K.width,Q=K.height,tt=N.layer;if(tt.tileWidth>tt.baseTileWidth){var _=(tt.tileWidth-tt.baseTileWidth)*N.scaleX;Z-=_,j+=_}if(tt.tileHeight>tt.baseTileHeight){var it=(tt.tileHeight-tt.baseTileHeight)*N.scaleY;Q+=it}var ht=$?null:this.tileFilterOptions,lt=P(Z,J,j,Q,ht,N.scene.cameras.main,N.layer);return lt.length===0?!1:this.collideSpriteVsTilesHandler(F,lt,z,X,H,$,!0)},collideSpriteVsTilesHandler:function(F,N,z,X,H,$,K){for(var Z=F.isBody?F:F.body,J,j={left:0,right:0,top:0,bottom:0},Q,tt=!1,_=0;_<N.length;_++){J=N[_],Q=J.tilemapLayer;var it=Q.tileToWorldXY(J.x,J.y);j.left=it.x,j.top=it.y,J.baseHeight!==J.height&&(j.top-=(J.height-J.baseHeight)*Q.scaleY),j.right=j.left+J.width*Q.scaleX,j.bottom=j.top+J.height*Q.scaleY,Y(j,Z)&&(!X||X.call(H,F,J))&&R(J,F)&&($||b(_,Z,J,j,Q,this.TILE_BIAS,K))&&(this._total++,tt=!0,z&&z.call(H,F,J),$&&Z.onOverlap?this.emit(c.TILE_OVERLAP,F,J,Z):Z.onCollide&&this.emit(c.TILE_COLLIDE,F,J,Z))}return tt},collideGroupVsGroup:function(F,N,z,X,H,$){if(!(F.length===0||N.length===0))for(var K=F.getChildren(),Z=0;Z<K.length;Z++)this.collideSpriteVsGroup(K[Z],N,z,X,H,$)},wrap:function(F,N){F.body?this.wrapObject(F,N):F.getChildren?this.wrapArray(F.getChildren(),N):Array.isArray(F)?this.wrapArray(F,N):this.wrapObject(F,N)},wrapArray:function(F,N){for(var z=0;z<F.length;z++)this.wrapObject(F[z],N)},wrapObject:function(F,N){N===void 0&&(N=0),F.x=G(F.x,this.bounds.left-N,this.bounds.right+N),F.y=G(F.y,this.bounds.top-N,this.bounds.bottom+N)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});o.exports=U},5321:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(e,u){return this.body.acceleration.set(e,u),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};o.exports=T},29257:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};o.exports=T},62122:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(e,u){return this.body.bounce.set(e,u),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,u,x,d){return this.body.setCollideWorldBounds(e,u,x,d),this}};o.exports=T},99803:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(e,u,x){return this.debugShowBody=e,this.debugShowVelocity=u,this.debugBodyColor=x,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};o.exports=T},87145:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(e,u){return this.body.drag.set(e,u),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};o.exports=T},96174:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={enableBody:function(e,u,x,d,l){return e&&this.body.reset(u,x),d&&(this.body.gameObject.active=!0),l&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,u){return e===void 0&&(e=!1),u===void 0&&(u=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),u&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};o.exports=T},51702:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(e,u){return this.body.friction.set(e,u),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};o.exports=T},25578:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(e,u){return this.body.gravity.set(e,u),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};o.exports=T},72029:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};o.exports=T},34566:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(e){return this.body.mass=e,this}};o.exports=T},2732:(o,T,e)=>{var u=e(15147),x=e(26673),d=e(22184),l=e(26535),h=function(n,r,f,a,c,p){var v=u(n,r-a,f-a,2*a,2*a,c,p);if(v.length===0)return v;for(var m=new x(r,f,a),y=new x,E=[],P=0;P<v.length;P++){var S=v[P];S.isCircle?(y.setTo(S.center.x,S.center.y,S.halfWidth),d(m,y)&&E.push(S)):l(m,S)&&E.push(S)}return E};o.exports=h},15147:o=>{var T=function(e,u,x,d,l,h,n){h===void 0&&(h=!0),n===void 0&&(n=!1);var r=[],f=[],a=e.treeMinMax;if(a.minX=u,a.minY=x,a.maxX=u+d,a.maxY=x+l,n&&(f=e.staticTree.search(a)),h&&e.useTree)r=e.tree.search(a);else if(h){var c=e.bodies,p={position:{x:u,y:x},left:u,top:x,right:u+d,bottom:x+l,isCircle:!1},v=e.intersects;c.iterate(function(m){v(m,p)&&r.push(m)})}return f.concat(r)};o.exports=T},57527:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};o.exports=T},77687:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(e,u){return this.body.setOffset(e,u),this},setSize:function(e,u,x){return this.body.setSize(e,u,x),this},setBodySize:function(e,u,x){return this.body.setSize(e,u,x),this},setCircle:function(e,u,x){return this.body.setCircle(e,u,x),this}};o.exports=T},66536:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(e,u){return this.body.setVelocity(e,u),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,u){return this.body.maxVelocity.set(e,u),this}};o.exports=T},7864:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Acceleration:e(5321),Angular:e(29257),Bounce:e(62122),Debug:e(99803),Drag:e(87145),Enable:e(96174),Friction:e(51702),Gravity:e(25578),Immovable:e(72029),Mass:e(34566),OverlapCirc:e(2732),OverlapRect:e(15147),Pushable:e(57527),Size:e(77687),Velocity:e(66536)}},47401:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};o.exports=T},22346:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collide"},95092:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="overlap"},15775:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},74142:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},22825:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="tilecollide"},10851:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="tileoverlap"},7543:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="worldbounds"},1487:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="worldstep"},27037:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={COLLIDE:e(22346),OVERLAP:e(95092),PAUSE:e(15775),RESUME:e(74142),TILE_COLLIDE:e(22825),TILE_OVERLAP:e(10851),WORLD_BOUNDS:e(7543),WORLD_STEP:e(1487)}},39977:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47401),x=e(98611),d={ArcadePhysics:e(66150),Body:e(97602),Collider:e(3909),Components:e(7864),Events:e(27037),Factory:e(99523),GetOverlapX:e(75671),GetOverlapY:e(66185),SeparateX:e(61777),SeparateY:e(25299),Group:e(10481),Image:e(62832),Sprite:e(25084),StaticBody:e(66634),StaticGroup:e(46346),Tilemap:e(8413),World:e(85233)};d=x(!1,d,u),o.exports=d},25163:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,u,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,u,e):!0};o.exports=T},98209:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u<0?(e.blocked.none=!1,e.blocked.left=!0):u>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=u,e.updateCenter(),e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};o.exports=T},72792:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u<0?(e.blocked.none=!1,e.blocked.up=!0):u>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=u,e.updateCenter(),e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};o.exports=T},27354:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14405),x=e(52926),d=e(28808),l=function(h,n,r,f,a,c,p){var v=f.left,m=f.top,y=f.right,E=f.bottom,P=r.faceLeft||r.faceRight,S=r.faceTop||r.faceBottom;if(p||(P=!0,S=!0),!P&&!S)return!1;var w=0,A=0,R=0,O=1;if(n.deltaAbsX()>n.deltaAbsY()?R=-1:n.deltaAbsX()<n.deltaAbsY()&&(O=-1),n.deltaX()!==0&&n.deltaY()!==0&&P&&S&&(R=Math.min(Math.abs(n.position.x-y),Math.abs(n.right-v)),O=Math.min(Math.abs(n.position.y-E),Math.abs(n.bottom-m))),R<O){if(P&&(w=u(n,r,v,y,c,p),w!==0&&!d(f,n)))return!0;S&&(A=x(n,r,m,E,c,p))}else{if(S&&(A=x(n,r,m,E,c,p),A!==0&&!d(f,n)))return!0;P&&(w=u(n,r,v,y,c,p))}return w!==0||A!==0};o.exports=l},14405:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98209),x=function(d,l,h,n,r,f){var a=0,c=l.faceLeft,p=l.faceRight,v=l.collideLeft,m=l.collideRight;return f||(c=!0,p=!0,v=!0,m=!0),d.deltaX()<0&&m&&d.checkCollision.left?p&&d.x<n&&(a=d.x-n,a<-r&&(a=0)):d.deltaX()>0&&v&&d.checkCollision.right&&c&&d.right>h&&(a=d.right-h,a>r&&(a=0)),a!==0&&(d.customSeparateX?d.overlapX=a:u(d,a)),a};o.exports=x},52926:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72792),x=function(d,l,h,n,r,f){var a=0,c=l.faceTop,p=l.faceBottom,v=l.collideUp,m=l.collideDown;return f||(c=!0,p=!0,v=!0,m=!0),d.deltaY()<0&&m&&d.checkCollision.up?p&&d.y<n&&(a=d.y-n,a<-r&&(a=0)):d.deltaY()>0&&v&&d.checkCollision.down&&c&&d.bottom>h&&(a=d.bottom-h,a>r&&(a=0)),a!==0&&(d.customSeparateY?d.overlapY=a:u(d,a)),a};o.exports=x},28808:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return!(u.right<=e.left||u.bottom<=e.top||u.position.x>=e.right||u.position.y>=e.bottom)};o.exports=T},8413:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ProcessTileCallbacks:e(25163),ProcessTileSeparationX:e(98209),ProcessTileSeparationY:e(72792),SeparateTile:e(27354),TileCheckX:e(14405),TileCheckY:e(52926),TileIntersectsBody:e(28808)};o.exports=u},53954:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Arcade:e(39977),Matter:e(45949)}},63568:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(93736),d=new u({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(l){if(l=l.hasOwnProperty("body")?l.body:l,!l.hasOwnProperty("bounds")||!l.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,n=this.centerDiff,r=l.bounds.max.x-l.bounds.min.x,f=l.bounds.max.y-l.bounds.min.y,a=r*l.centerOfMass.x,c=f*l.centerOfMass.y;return h.set(r/2,f/2),n.set(a-h.x,c-h.y),!0},getTopLeft:function(l,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(l)){var r=this.boundsCenter,f=this.centerDiff;return new x(h+r.x+f.x,n+r.y+f.y)}return!1},getTopCenter:function(l,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(l)){var r=this.boundsCenter,f=this.centerDiff;return new x(h+f.x,n+r.y+f.y)}return!1},getTopRight:function(l,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(l)){var r=this.boundsCenter,f=this.centerDiff;return new x(h-(r.x-f.x),n+r.y+f.y)}return!1},getLeftCenter:function(l,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(l)){var r=this.boundsCenter,f=this.centerDiff;return new x(h+r.x+f.x,n+f.y)}return!1},getCenter:function(l,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(l)){var r=this.centerDiff;return new x(h+r.x,n+r.y)}return!1},getRightCenter:function(l,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(l)){var r=this.boundsCenter,f=this.centerDiff;return new x(h-(r.x-f.x),n+f.y)}return!1},getBottomLeft:function(l,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(l)){var r=this.boundsCenter,f=this.centerDiff;return new x(h+r.x+f.x,n-(r.y-f.y))}return!1},getBottomCenter:function(l,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(l)){var r=this.boundsCenter,f=this.centerDiff;return new x(h+f.x,n-(r.y-f.y))}return!1},getBottomRight:function(l,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),this.parseBody(l)){var r=this.boundsCenter,f=this.centerDiff;return new x(h-(r.x-f.x),n-(r.y-f.y))}return!1}});o.exports=d},18171:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16929);u.Body=e(84125),u.Composite=e(11299),u.World=e(72005),u.Collision=e(63454),u.Detector=e(13657),u.Pairs=e(91327),u.Pair=e(70584),u.Query=e(13390),u.Resolver=e(44272),u.Constraint=e(52838),u.Common=e(68758),u.Engine=e(45775),u.Events=e(39073),u.Sleeping=e(22806),u.Plugin=e(84474),u.Bodies=e(68516),u.Composites=e(56643),u.Axes=e(50658),u.Bounds=e(84091),u.Svg=e(92765),u.Vector=e(10438),u.Vertices=e(39745),u.World.add=u.Composite.add,u.World.remove=u.Composite.remove,u.World.addComposite=u.Composite.addComposite,u.World.addBody=u.Composite.addBody,u.World.addConstraint=u.Composite.addConstraint,u.World.clear=u.Composite.clear,o.exports=u},72653:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),x=e(56694),d=e(56643),l=e(52838),h=e(92765),n=e(3860),r=e(7030),f=e(73658),a=e(84720),c=e(10998),p=e(72829),v=e(88596),m=e(39745),y=new x({initialize:function(P){this.world=P,this.scene=P.scene,this.sys=P.scene.sys},rectangle:function(E,P,S,w,A){var R=u.rectangle(E,P,S,w,A);return this.world.add(R),R},trapezoid:function(E,P,S,w,A,R){var O=u.trapezoid(E,P,S,w,A,R);return this.world.add(O),O},circle:function(E,P,S,w,A){var R=u.circle(E,P,S,w,A);return this.world.add(R),R},polygon:function(E,P,S,w,A){var R=u.polygon(E,P,S,w,A);return this.world.add(R),R},fromVertices:function(E,P,S,w,A,R,O){typeof S=="string"&&(S=m.fromPath(S));var L=u.fromVertices(E,P,S,w,A,R,O);return this.world.add(L),L},fromPhysicsEditor:function(E,P,S,w,A){A===void 0&&(A=!0);var R=c.parseBody(E,P,S,w);return A&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(E,P,S,w,A,R){w===void 0&&(w=1),A===void 0&&(A={}),R===void 0&&(R=!0);for(var O=S.getElementsByTagName("path"),L=[],b=0;b<O.length;b++){var D=h.pathToVertices(O[b],30);w!==1&&m.scale(D,w,w),L.push(D)}var I=u.fromVertices(E,P,L,A);return R&&this.world.add(I),I},fromJSON:function(E,P,S,w,A){w===void 0&&(w={}),A===void 0&&(A=!0);var R=p.parseBody(E,P,S,w);return R&&A&&this.world.add(R),R},imageStack:function(E,P,S,w,A,R,O,L,b){O===void 0&&(O=0),L===void 0&&(L=0),b===void 0&&(b={});var D=this.world,I=this.sys.displayList;b.addToWorld=!1;var B=d.stack(S,w,A,R,O,L,function(V,Y){var k=new r(D,V,Y,E,P,b);return I.add(k),k.body});return D.add(B),B},stack:function(E,P,S,w,A,R,O){var L=d.stack(E,P,S,w,A,R,O);return this.world.add(L),L},pyramid:function(E,P,S,w,A,R,O){var L=d.pyramid(E,P,S,w,A,R,O);return this.world.add(L),L},chain:function(E,P,S,w,A,R){return d.chain(E,P,S,w,A,R)},mesh:function(E,P,S,w,A){return d.mesh(E,P,S,w,A)},newtonsCradle:function(E,P,S,w,A){var R=d.newtonsCradle(E,P,S,w,A);return this.world.add(R),R},car:function(E,P,S,w,A){var R=d.car(E,P,S,w,A);return this.world.add(R),R},softBody:function(E,P,S,w,A,R,O,L,b,D){var I=d.softBody(E,P,S,w,A,R,O,L,b,D);return this.world.add(I),I},joint:function(E,P,S,w,A){return this.constraint(E,P,S,w,A)},spring:function(E,P,S,w,A){return this.constraint(E,P,S,w,A)},constraint:function(E,P,S,w,A){w===void 0&&(w=1),A===void 0&&(A={}),A.bodyA=E.type==="body"?E:E.body,A.bodyB=P.type==="body"?P:P.body,isNaN(S)||(A.length=S),A.stiffness=w;var R=l.create(A);return this.world.add(R),R},worldConstraint:function(E,P,S,w){S===void 0&&(S=1),w===void 0&&(w={}),w.bodyB=E.type==="body"?E:E.body,isNaN(P)||(w.length=P),w.stiffness=S;var A=l.create(w);return this.world.add(A),A},mouseSpring:function(E){return this.pointerConstraint(E)},pointerConstraint:function(E){E===void 0&&(E={}),E.hasOwnProperty("render")||(E.render={visible:!1});var P=new v(this.scene,this.world,E);return this.world.add(P.constraint),P},image:function(E,P,S,w,A){var R=new r(this.world,E,P,S,w,A);return this.sys.displayList.add(R),R},tileBody:function(E,P){return new a(this.world,E,P)},sprite:function(E,P,S,w,A){var R=new f(this.world,E,P,S,w,A);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(E,P,S){return n(this.world,E,P,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});o.exports=y},3860:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74527),x=e(72632),d=e(93736);function l(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}var h=function(n,r,f,a){f===void 0&&(f={}),a===void 0&&(a=!0);var c=r.x,p=r.y;r.body={temp:!0,position:{x:c,y:p}};var v=[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity];if(v.forEach(function(y){for(var E in y)l(y[E])?Object.defineProperty(r,E,{get:y[E].get,set:y[E].set}):Object.defineProperty(r,E,{value:y[E]})}),r.world=n,r._tempVec2=new d(c,p),f.hasOwnProperty("type")&&f.type==="body")r.setExistingBody(f,a);else{var m=x(f,"shape",null);m||(m="rectangle"),f.addToWorld=a,r.setBody(m,f)}return r};o.exports=h},7030:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(74527),d=e(89980),l=e(72632),h=e(1539),n=e(58210),r=e(93736),f=new u({Extends:h,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,n],initialize:function(c,p,v,m,y,E){d.call(this,c.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(m,y),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new r(p,v);var P=l(E,"shape",null);P?this.setBody(P,E):this.setRectangle(this.width,this.height,E),this.setPosition(p,v),this.initPipeline(),this.initPostPipeline(!0)}});o.exports=f},50583:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84093),x=e(50658),d=e(68516),l=e(84125),h=e(63568),n=e(84091),r=e(56694),f=e(63454),a=e(68758),c=e(11299),p=e(56643),v=e(52838),m=e(13657),y=e(53996),E=e(72653),P=e(72632),S=e(10850),w=e(1675),A=e(80391),R=e(16929),O=e(44097),L=e(30657),b=e(70584),D=e(91327),I=e(84474),B=e(91963),V=e(13390),Y=e(44272),k=e(7599),W=e(92765),G=e(10438),U=e(39745),F=e(31468);a.setDecomp(e(81084));var N=new r({initialize:function(X){this.scene=X,this.systems=X.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=l,this.composite=c,this.collision=f,this.detector=m,this.pair=b,this.pairs=D,this.query=V,this.resolver=Y,this.constraint=v,this.bodies=d,this.composites=p,this.axes=x,this.bounds=n,this.svg=W,this.vector=G,this.vertices=U,this.verts=U,this._tempVec2=G.create(),S(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),S(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),S(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),Y._restingThresh=S(this.config,"restingThresh",4),Y._restingThreshTangent=S(this.config,"restingThreshTangent",6),Y._positionDampen=S(this.config,"positionDampen",.9),Y._positionWarming=S(this.config,"positionWarming",.8),Y._frictionNormalMultiplier=S(this.config,"frictionNormalMultiplier",5),X.sys.events.once(k.BOOT,this.boot,this),X.sys.events.on(k.START,this.start,this)},boot:function(){this.world=new F(this.scene,this.config),this.add=new E(this.world),this.bodyBounds=new h,this.systems.events.once(k.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new F(this.scene,this.config),this.add=new E(this.world));var z=this.systems.events;z.on(k.UPDATE,this.world.update,this.world),z.on(k.POST_UPDATE,this.world.postUpdate,this.world),z.once(k.SHUTDOWN,this.shutdown,this)},getConfig:function(){var z=this.systems.game.config.physics,X=this.systems.settings.physics,H=L(P(X,"matter",{}),P(z,"matter",{}));return H},enableAttractorPlugin:function(){return I.register(w),I.use(R,w),this},enableWrapPlugin:function(){return I.register(O),I.use(R,O),this},enableCollisionEventsPlugin:function(){return I.register(A),I.use(R,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(z,X){this.world.step(z,X)},containsPoint:function(z,X,H){z=this.getMatterBodies(z);var $=G.create(X,H),K=V.point(z,$);return K.length>0},intersectPoint:function(z,X,H){H=this.getMatterBodies(H);var $=G.create(z,X),K=[],Z=V.point(H,$);return Z.forEach(function(J){K.indexOf(J)===-1&&K.push(J)}),K},intersectRect:function(z,X,H,$,K,Z){K===void 0&&(K=!1),Z=this.getMatterBodies(Z);var J={min:{x:z,y:X},max:{x:z+H,y:X+$}},j=[],Q=V.region(Z,J,K);return Q.forEach(function(tt){j.indexOf(tt)===-1&&j.push(tt)}),j},intersectRay:function(z,X,H,$,K,Z){K===void 0&&(K=1),Z=this.getMatterBodies(Z);for(var J=[],j=V.ray(Z,G.create(z,X),G.create(H,$),K),Q=0;Q<j.length;Q++)J.push(j[Q].body);return J},intersectBody:function(z,X){X=this.getMatterBodies(X);for(var H=[],$=V.collides(z,X),K=0;K<$.length;K++){var Z=$[K];Z.bodyA===z?H.push(Z.bodyB):H.push(Z.bodyA)}return H},overlap:function(z,X,H,$,K){H===void 0&&(H=null),$===void 0&&($=null),K===void 0&&(K=H),Array.isArray(z)||(z=[z]),z=this.getMatterBodies(z),X=this.getMatterBodies(X);for(var Z=!1,J=0;J<z.length;J++)for(var j=z[J],Q=V.collides(j,X),tt=0;tt<Q.length;tt++){var _=Q[tt],it=_.bodyA.id===j.id?_.bodyB:_.bodyA;if(!$||$.call(K,j,it,_)){if(Z=!0,H)H.call(K,j,it,_);else if(!$)return!0}}return Z},setCollisionCategory:function(z,X){return z=this.getMatterBodies(z),z.forEach(function(H){H.collisionFilter.category=X}),this},setCollisionGroup:function(z,X){return z=this.getMatterBodies(z),z.forEach(function(H){H.collisionFilter.group=X}),this},setCollidesWith:function(z,X){z=this.getMatterBodies(z);var H=0;if(!Array.isArray(X))H=X;else for(var $=0;$<X.length;$++)H|=X[$];return z.forEach(function(K){K.collisionFilter.mask=H}),this},getMatterBodies:function(z){if(!z)return this.world.getAllBodies();Array.isArray(z)||(z=[z]);for(var X=[],H=0;H<z.length;H++){var $=z[H].hasOwnProperty("body")?z[H].body:z[H];X.push($)}return X},setVelocity:function(z,X,H){z=this.getMatterBodies(z);var $=this._tempVec2;return $.x=X,$.y=H,z.forEach(function(K){l.setVelocity(K,$)}),this},setVelocityX:function(z,X){z=this.getMatterBodies(z);var H=this._tempVec2;return H.x=X,z.forEach(function($){H.y=$.velocity.y,l.setVelocity($,H)}),this},setVelocityY:function(z,X){z=this.getMatterBodies(z);var H=this._tempVec2;return H.y=X,z.forEach(function($){H.x=$.velocity.x,l.setVelocity($,H)}),this},setAngularVelocity:function(z,X){return z=this.getMatterBodies(z),z.forEach(function(H){l.setAngularVelocity(H,X)}),this},applyForce:function(z,X){z=this.getMatterBodies(z);var H=this._tempVec2;return z.forEach(function($){H.x=$.position.x,H.y=$.position.y,l.applyForce($,H,X)}),this},applyForceFromPosition:function(z,X,H,$){z=this.getMatterBodies(z);var K=this._tempVec2;return z.forEach(function(Z){$===void 0&&($=Z.angle),K.x=H*Math.cos($),K.y=H*Math.sin($),l.applyForce(Z,X,K)}),this},applyForceFromAngle:function(z,X,H){z=this.getMatterBodies(z);var $=this._tempVec2;return z.forEach(function(K){H===void 0&&(H=K.angle),$.x=X*Math.cos(H),$.y=X*Math.sin(H),l.applyForce(K,{x:K.position.x,y:K.position.y},$)}),this},getConstraintLength:function(z){var X=z.pointA.x,H=z.pointA.y,$=z.pointB.x,K=z.pointB.y;return z.bodyA&&(X+=z.bodyA.position.x,H+=z.bodyA.position.y),z.bodyB&&($+=z.bodyB.position.x,K+=z.bodyB.position.y),y(X,H,$,K)},alignBody:function(z,X,H,$){z=z.hasOwnProperty("body")?z.body:z;var K;switch($){case u.TOP_LEFT:case u.LEFT_TOP:K=this.bodyBounds.getTopLeft(z,X,H);break;case u.TOP_CENTER:K=this.bodyBounds.getTopCenter(z,X,H);break;case u.TOP_RIGHT:case u.RIGHT_TOP:K=this.bodyBounds.getTopRight(z,X,H);break;case u.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(z,X,H);break;case u.CENTER:K=this.bodyBounds.getCenter(z,X,H);break;case u.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(z,X,H);break;case u.LEFT_BOTTOM:case u.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(z,X,H);break;case u.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(z,X,H);break;case u.BOTTOM_RIGHT:case u.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(z,X,H);break}return K&&l.setPosition(z,K),this},shutdown:function(){var z=this.systems.events;this.world&&(z.off(k.UPDATE,this.world.update,this.world),z.off(k.POST_UPDATE,this.world.postUpdate,this.world)),z.off(k.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(k.START,this.start,this),this.scene=null,this.systems=null}});B.register("MatterPhysics",N,"matterPhysics"),o.exports=N},73658:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(16569),x=e(56694),d=e(74527),l=e(89980),h=e(72632),n=e(58210),r=e(13747),f=e(93736),a=new x({Extends:r,Mixins:[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity,n],initialize:function(p,v,m,y,E,P){l.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(y,E),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new f(v,m);var S=h(P,"shape",null);S?this.setBody(S,P):this.setRectangle(this.width,this.height,P),this.setPosition(v,m),this.initPipeline(),this.initPostPipeline(!0)}});o.exports=a},84720:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),x=e(84125),d=e(56694),l=e(74527),h=e(28699),n=e(6659),r=e(72632),f=e(19256),a=e(39745),c=new d({Extends:n,Mixins:[l.Bounce,l.Collision,l.Friction,l.Gravity,l.Mass,l.Sensor,l.Sleep,l.Static],initialize:function(v,m,y){n.call(this),this.tile=m,this.world=v,m.physics.matterBody&&m.physics.matterBody.destroy(),m.physics.matterBody=this;var E=r(y,"body",null),P=r(y,"addToWorld",!0);if(E)this.setBody(E,P);else{var S=m.getCollisionGroup(),w=r(S,"objects",[]);w.length>0?this.setFromTileCollision(y):this.setFromTileRectangle(y)}if(m.flipX||m.flipY){var A={x:m.getCenterX(),y:m.getCenterY()},R=m.flipX?-1:1,O=m.flipY?-1:1;x.scale(E,R,O,A)}},setFromTileRectangle:function(p){p===void 0&&(p={}),f(p,"isStatic")||(p.isStatic=!0),f(p,"addToWorld")||(p.addToWorld=!0);var v=this.tile.getBounds(),m=v.x+v.width/2,y=v.y+v.height/2,E=u.rectangle(m,y,v.width,v.height,p);return this.setBody(E,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),f(p,"isStatic")||(p.isStatic=!0),f(p,"addToWorld")||(p.addToWorld=!0);for(var v=this.tile.tilemapLayer.scaleX,m=this.tile.tilemapLayer.scaleY,y=this.tile.getLeft(),E=this.tile.getTop(),P=this.tile.getCollisionGroup(),S=r(P,"objects",[]),w=[],A=0;A<S.length;A++){var R=S[A],O=y+R.x*v,L=E+R.y*m,b=R.width*v,D=R.height*m,I=null;if(R.rectangle)I=u.rectangle(O+b/2,L+D/2,b,D,p);else if(R.ellipse)I=u.circle(O+b/2,L+D/2,b/2,p);else if(R.polygon||R.polyline){var B=R.polygon?R.polygon:R.polyline,V=B.map(function(G){return{x:G.x*v,y:G.y*m}}),Y=a.create(V),k=a.centre(Y);O+=k.x,L+=k.y,I=u.fromVertices(O,L,Y,p)}I&&w.push(I)}if(w.length===1)this.setBody(w[0],p.addToWorld);else if(w.length>1){var W=h(p);W.parts=w,this.setBody(x.create(W),W.addToWorld)}return this},setBody:function(p,v){return v===void 0&&(v=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,v&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});o.exports=c},10998:(o,T,e)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),x=e(84125),d=e(68758),l=e(72632),h=e(39745),n={parseBody:function(r,f,a,c){c===void 0&&(c={});for(var p=l(a,"fixtures",[]),v=[],m=0;m<p.length;m++)for(var y=this.parseFixture(p[m]),E=0;E<y.length;E++)v.push(y[E]);var P=d.clone(a,!0);d.extend(P,c,!0),delete P.fixtures,delete P.type;var S=x.create(P);return x.setParts(S,v),x.setPosition(S,{x:r,y:f}),S},parseFixture:function(r){var f=d.extend({},!1,r);delete f.circle,delete f.vertices;var a;if(r.circle){var c=l(r.circle,"x"),p=l(r.circle,"y"),v=l(r.circle,"radius");a=[u.circle(c,p,v,f)]}else r.vertices&&(a=this.parseVertices(r.vertices,f));return a},parseVertices:function(r,f){f===void 0&&(f={});for(var a=[],c=0;c<r.length;c++)h.clockwiseSort(r[c]),a.push(x.create(d.extend({position:h.centre(r[c]),vertices:r[c]},f)));return u.flagCoincidentParts(a)}};o.exports=n},72829:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),x=e(84125),d={parseBody:function(l,h,n,r){r===void 0&&(r={});var f,a=n.vertices;if(a.length===1)r.vertices=a[0],f=x.create(r),u.flagCoincidentParts(f.parts);else{for(var c=[],p=0;p<a.length;p++){var v=x.create({vertices:a[p]});c.push(v)}u.flagCoincidentParts(c),r.parts=c,f=x.create(r)}return f.label=n.label,x.setPosition(f,{x:l,y:h}),f}};o.exports=d},88596:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84091),x=e(56694),d=e(11299),l=e(52838),h=e(13657),n=e(35416),r=e(33963),f=e(30657),a=e(22806),c=e(93736),p=e(39745),v=new x({initialize:function(y,E,P){P===void 0&&(P={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=y,this.world=E,this.camera=null,this.pointer=null,this.active=!0,this.position=new c,this.body=null,this.part=null,this.constraint=l.create(f(P,S)),this.world.on(n.BEFORE_UPDATE,this.update,this),y.sys.input.on(r.POINTER_DOWN,this.onDown,this),y.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(m){this.pointer||(this.pointer=m,this.camera=m.camera)},onUp:function(m){m===this.pointer&&(this.pointer=null)},getBody:function(m){var y=this.position,E=this.constraint;this.camera.getWorldPoint(m.x,m.y,y);for(var P=d.allBodies(this.world.localWorld),S=0;S<P.length;S++){var w=P[S];if(!w.ignorePointer&&u.contains(w.bounds,y)&&h.canCollide(w.collisionFilter,E.collisionFilter)&&this.hitTestBody(w,y))return this.world.emit(n.DRAG_START,w,this.part,this),!0}return!1},hitTestBody:function(m,y){for(var E=this.constraint,P=m.parts.length,S=P>1?1:0,w=S;w<P;w++){var A=m.parts[w];if(p.contains(A.vertices,y))return E.pointA=y,E.pointB={x:y.x-m.position.x,y:y.y-m.position.y},E.bodyB=m,E.angleB=m.angle,a.set(m,!1),this.part=A,this.body=m,!0}return!1},update:function(){var m=this.pointer,y=this.body;if(!this.active||!m){y&&this.stopDrag();return}if(!m.isDown&&y){this.stopDrag();return}else if(m.isDown){if(!y&&!this.getBody(m))return;y=this.body;var E=this.position,P=this.constraint;this.camera.getWorldPoint(m.x,m.y,E),P.pointA.x=E.x,P.pointA.y=E.y,a.set(y,!1),this.world.emit(n.DRAG,y,this)}},stopDrag:function(){var m=this.body,y=this.constraint;y.bodyB=null,y.pointB=null,this.pointer=null,this.body=null,this.part=null,m&&this.world.emit(n.DRAG_END,m,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(n.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});o.exports=v},31468:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),x=e(84125),d=e(56694),l=e(68758),h=e(11299),n=e(45775),r=e(6659),f=e(35416),a=e(72632),c=e(10850),p=e(84125),v=e(39073),m=e(84720),y=e(72005),E=e(10438),P=new d({Extends:r,initialize:function(w,A){r.call(this),this.scene=w,this.engine=n.create(A),this.localWorld=this.engine.world;var R=c(A,"gravity",null);R?this.setGravity(R.x,R.y,R.scale):R===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=c(A,"enabled",!0),this.getDelta=c(A,"getDelta",this.update60Hz);var O=a(A,"runner",{}),L=a(O,"fps",!1),b=a(O,"fps",60),D=a(O,"delta",1e3/b),I=a(O,"deltaMin",1e3/b),B=a(O,"deltaMax",1e3/(b*.5));L||(b=1e3/D),this.runner={fps:b,deltaSampleSize:a(O,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:a(O,"isFixed",!1),delta:D,deltaMin:I,deltaMax:B},this.autoUpdate=c(A,"autoUpdate",!0);var V=c(A,"debug",!1);if(this.drawDebug=typeof V=="object"?!0:V,this.debugGraphic,this.debugConfig={showAxes:a(V,"showAxes",!1),showAngleIndicator:a(V,"showAngleIndicator",!1),angleColor:a(V,"angleColor",15208787),showBroadphase:a(V,"showBroadphase",!1),broadphaseColor:a(V,"broadphaseColor",16757760),showBounds:a(V,"showBounds",!1),boundsColor:a(V,"boundsColor",16777215),showVelocity:a(V,"showVelocity",!1),velocityColor:a(V,"velocityColor",44783),showCollisions:a(V,"showCollisions",!1),collisionColor:a(V,"collisionColor",16094476),showSeparations:a(V,"showSeparations",!1),separationColor:a(V,"separationColor",16753920),showBody:a(V,"showBody",!0),showStaticBody:a(V,"showStaticBody",!0),showInternalEdges:a(V,"showInternalEdges",!1),renderFill:a(V,"renderFill",!1),renderLine:a(V,"renderLine",!0),fillColor:a(V,"fillColor",1075465),fillOpacity:a(V,"fillOpacity",1),lineColor:a(V,"lineColor",2678297),lineOpacity:a(V,"lineOpacity",1),lineThickness:a(V,"lineThickness",1),staticFillColor:a(V,"staticFillColor",857979),staticLineColor:a(V,"staticLineColor",1255396),showSleeping:a(V,"showSleeping",!1),staticBodySleepOpacity:a(V,"staticBodySleepOpacity",.7),sleepFillColor:a(V,"sleepFillColor",4605510),sleepLineColor:a(V,"sleepLineColor",10066585),showSensors:a(V,"showSensors",!0),sensorFillColor:a(V,"sensorFillColor",857979),sensorLineColor:a(V,"sensorLineColor",1255396),showPositions:a(V,"showPositions",!0),positionSize:a(V,"positionSize",4),positionColor:a(V,"positionColor",14697178),showJoint:a(V,"showJoint",!0),jointColor:a(V,"jointColor",14737474),jointLineOpacity:a(V,"jointLineOpacity",1),jointLineThickness:a(V,"jointLineThickness",2),pinSize:a(V,"pinSize",4),pinColor:a(V,"pinColor",4382944),springColor:a(V,"springColor",14697184),anchorColor:a(V,"anchorColor",15724527),anchorSize:a(V,"anchorSize",4),showConvexHulls:a(V,"showConvexHulls",!1),hullColor:a(V,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(A,"setBounds",!1)){var Y=A.setBounds;if(typeof Y=="boolean")this.setBounds();else{var k=a(Y,"x",0),W=a(Y,"y",0),G=a(Y,"width",w.sys.scale.width),U=a(Y,"height",w.sys.scale.height),F=a(Y,"thickness",64),N=a(Y,"left",!0),z=a(Y,"right",!0),X=a(Y,"top",!0),H=a(Y,"bottom",!0);this.setBounds(k,W,G,U,F,N,z,X,H)}}},setCompositeRenderStyle:function(S){var w=S.bodies,A=S.constraints,R=S.composites,O,L,b;for(O=0;O<w.length;O++)L=w[O],b=L.render,this.setBodyRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.fillColor,b.fillOpacity);for(O=0;O<A.length;O++)L=A[O],b=L.render,this.setConstraintRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.pinSize,b.anchorColor,b.anchorSize);for(O=0;O<R.length;O++)L=R[O],this.setCompositeRenderStyle(L);return this},setBodyRenderStyle:function(S,w,A,R,O,L){var b=S.render,D=this.debugConfig;return b?(w==null&&(w=S.isStatic?D.staticLineColor:D.lineColor),A==null&&(A=D.lineOpacity),R==null&&(R=D.lineThickness),O==null&&(O=S.isStatic?D.staticFillColor:D.fillColor),L==null&&(L=D.fillOpacity),w!==!1&&(b.lineColor=w),A!==!1&&(b.lineOpacity=A),R!==!1&&(b.lineThickness=R),O!==!1&&(b.fillColor=O),L!==!1&&(b.fillOpacity=L),this):this},setConstraintRenderStyle:function(S,w,A,R,O,L,b){var D=S.render,I=this.debugConfig;if(!D)return this;if(w==null){var B=D.type;B==="line"?w=I.jointColor:B==="pin"?w=I.pinColor:B==="spring"&&(w=I.springColor)}return A==null&&(A=I.jointLineOpacity),R==null&&(R=I.jointLineThickness),O==null&&(O=I.pinSize),L==null&&(L=I.anchorColor),b==null&&(b=I.anchorSize),w!==!1&&(D.lineColor=w),A!==!1&&(D.lineOpacity=A),R!==!1&&(D.lineThickness=R),O!==!1&&(D.pinSize=O),L!==!1&&(D.anchorColor=L),b!==!1&&(D.anchorSize=b),this},setEventsProxy:function(){var S=this,w=this.engine,A=this.localWorld;this.drawDebug&&(v.on(A,"compositeModified",function(R){S.setCompositeRenderStyle(R)}),v.on(A,"beforeAdd",function(R){for(var O=[].concat(R.object),L=0;L<O.length;L++){var b=O[L],D=b.render;b.type==="body"?S.setBodyRenderStyle(b,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):b.type==="composite"?S.setCompositeRenderStyle(b):b.type==="constraint"&&S.setConstraintRenderStyle(b,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),v.on(A,"beforeAdd",function(R){S.emit(f.BEFORE_ADD,R)}),v.on(A,"afterAdd",function(R){S.emit(f.AFTER_ADD,R)}),v.on(A,"beforeRemove",function(R){S.emit(f.BEFORE_REMOVE,R)}),v.on(A,"afterRemove",function(R){S.emit(f.AFTER_REMOVE,R)}),v.on(w,"beforeUpdate",function(R){S.emit(f.BEFORE_UPDATE,R)}),v.on(w,"afterUpdate",function(R){S.emit(f.AFTER_UPDATE,R)}),v.on(w,"collisionStart",function(R){var O=R.pairs,L,b;O.length>0&&(L=O[0].bodyA,b=O[0].bodyB),S.emit(f.COLLISION_START,R,L,b)}),v.on(w,"collisionActive",function(R){var O=R.pairs,L,b;O.length>0&&(L=O[0].bodyA,b=O[0].bodyB),S.emit(f.COLLISION_ACTIVE,R,L,b)}),v.on(w,"collisionEnd",function(R){var O=R.pairs,L,b;O.length>0&&(L=O[0].bodyA,b=O[0].bodyB),S.emit(f.COLLISION_END,R,L,b)})},setBounds:function(S,w,A,R,O,L,b,D,I){return S===void 0&&(S=0),w===void 0&&(w=0),A===void 0&&(A=this.scene.sys.scale.width),R===void 0&&(R=this.scene.sys.scale.height),O===void 0&&(O=64),L===void 0&&(L=!0),b===void 0&&(b=!0),D===void 0&&(D=!0),I===void 0&&(I=!0),this.updateWall(L,"left",S-O,w-O,O,R+O*2),this.updateWall(b,"right",S+A,w-O,O,R+O*2),this.updateWall(D,"top",S,w-O,A,O),this.updateWall(I,"bottom",S,w+R,A,O),this},updateWall:function(S,w,A,R,O,L){var b=this.walls[w];S?(b&&y.remove(this.localWorld,b),A+=O/2,R+=L/2,this.walls[w]=this.create(A,R,O,L,{isStatic:!0,friction:0,frictionStatic:0})):(b&&y.remove(this.localWorld,b),this.walls[w]=null)},createDebugGraphic:function(){var S=this.scene.sys.add.graphics({x:0,y:0});return S.setDepth(Number.MAX_VALUE),this.debugGraphic=S,this.drawDebug=!0,S},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(S,w,A){return S===void 0&&(S=0),w===void 0&&(w=1),A===void 0&&(A=.001),this.localWorld.gravity.x=S,this.localWorld.gravity.y=w,this.localWorld.gravity.scale=A,this},create:function(S,w,A,R,O){var L=u.rectangle(S,w,A,R,O);return y.add(this.localWorld,L),L},add:function(S){return y.add(this.localWorld,S),this},remove:function(S,w){Array.isArray(S)||(S=[S]);for(var A=0;A<S.length;A++){var R=S[A],O=R.body?R.body:R;h.remove(this.localWorld,O,w)}return this},removeConstraint:function(S,w){return h.remove(this.localWorld,S,w),this},convertTilemapLayer:function(S,w){var A=S.layer,R=S.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(R,w),this},convertTiles:function(S,w){if(S.length===0)return this;for(var A=0;A<S.length;A++)new m(this,S[A],w);return this},nextGroup:function(S){return p.nextGroup(S)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(f.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(f.RESUME),this},update:function(S,w){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,R=this.runner,O=A.timing;R.isFixed?w=this.getDelta(S,w):(w=S-R.timePrev||R.delta,R.timePrev=S,R.deltaHistory.push(w),R.deltaHistory=R.deltaHistory.slice(-R.deltaSampleSize),w=Math.min.apply(null,R.deltaHistory),w=w<R.deltaMin?R.deltaMin:w,w=w>R.deltaMax?R.deltaMax:w,R.delta=w),R.timeScalePrev=O.timeScale,R.frameCounter+=1,S-R.counterTimestamp>=1e3&&(R.fps=R.frameCounter*((S-R.counterTimestamp)/1e3),R.counterTimestamp=S,R.frameCounter=0),n.update(A,w)}},step:function(S){n.update(this.engine,S)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(S){var w=S.hasOwnProperty("body")?S.body:S;return h.get(this.localWorld,w.id,w.type)!==null},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(!!this.drawDebug){var S=this.debugConfig,w=this.engine,A=this.debugGraphic,R=h.allBodies(this.localWorld);this.debugGraphic.clear(),S.showBroadphase&&w.broadphase.controller&&this.renderGrid(w.broadphase,A,S.broadphaseColor,.5),S.showBounds&&this.renderBodyBounds(R,A,S.boundsColor,.5),(S.showBody||S.showStaticBody)&&this.renderBodies(R),S.showJoint&&this.renderJoints(),(S.showAxes||S.showAngleIndicator)&&this.renderBodyAxes(R,A,S.showAxes,S.angleColor,.5),S.showVelocity&&this.renderBodyVelocity(R,A,S.velocityColor,1,2),S.showSeparations&&this.renderSeparations(w.pairs.list,A,S.separationColor),S.showCollisions&&this.renderCollisions(w.pairs.list,A,S.collisionColor)}},renderGrid:function(S,w,A,R){w.lineStyle(1,A,R);for(var O=l.keys(S.buckets),L=0;L<O.length;L++){var b=O[L];if(!(S.buckets[b].length<2)){var D=b.split(/C|R/);w.strokeRect(parseInt(D[1],10)*S.bucketWidth,parseInt(D[2],10)*S.bucketHeight,S.bucketWidth,S.bucketHeight)}}return this},renderSeparations:function(S,w,A){w.lineStyle(1,A,1);for(var R=0;R<S.length;R++){var O=S[R];if(!!O.isActive){var L=O.collision,b=L.bodyA,D=L.bodyB,I=b.position,B=D.position,V=L.penetration,Y=!b.isStatic&&!D.isStatic?4:1;D.isStatic&&(Y=0),w.lineBetween(B.x,B.y,B.x-V.x*Y,B.y-V.y*Y),Y=!b.isStatic&&!D.isStatic?4:1,b.isStatic&&(Y=0),w.lineBetween(I.x,I.y,I.x-V.x*Y,I.y-V.y*Y)}}return this},renderCollisions:function(S,w,A){w.lineStyle(1,A,.5),w.fillStyle(A,1);var R,O;for(R=0;R<S.length;R++)if(O=S[R],!!O.isActive)for(var L=0;L<O.activeContacts.length;L++){var b=O.activeContacts[L],D=b.vertex;w.fillRect(D.x-2,D.y-2,5,5)}for(R=0;R<S.length;R++)if(O=S[R],!!O.isActive){var I=O.collision,B=O.activeContacts;if(B.length>0){var V=B[0].vertex.x,Y=B[0].vertex.y;B.length===2&&(V=(B[0].vertex.x+B[1].vertex.x)/2,Y=(B[0].vertex.y+B[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic?w.lineBetween(V-I.normal.x*8,Y-I.normal.y*8,V,Y):w.lineBetween(V+I.normal.x*8,Y+I.normal.y*8,V,Y)}}return this},renderBodyBounds:function(S,w,A,R){w.lineStyle(1,A,R);for(var O=0;O<S.length;O++){var L=S[O];if(!!L.render.visible){var b=L.bounds;if(b)w.strokeRect(b.min.x,b.min.y,b.max.x-b.min.x,b.max.y-b.min.y);else for(var D=L.parts,I=D.length>1?1:0;I<D.length;I++){var B=D[I];w.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(S,w,A,R,O){w.lineStyle(1,R,O);for(var L=0;L<S.length;L++){var b=S[L],D=b.parts;if(!!b.render.visible){var I,B,V;if(A)for(B=D.length>1?1:0;B<D.length;B++)for(I=D[B],V=0;V<I.axes.length;V++){var Y=I.axes[V];w.lineBetween(I.position.x,I.position.y,I.position.x+Y.x*20,I.position.y+Y.y*20)}else for(B=D.length>1?1:0;B<D.length;B++)for(I=D[B],V=0;V<I.axes.length;V++)w.lineBetween(I.position.x,I.position.y,(I.vertices[0].x+I.vertices[I.vertices.length-1].x)/2,(I.vertices[0].y+I.vertices[I.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(S,w,A,R,O){w.lineStyle(O,A,R);for(var L=0;L<S.length;L++){var b=S[L];!b.render.visible||w.lineBetween(b.position.x,b.position.y,b.position.x+(b.position.x-b.positionPrev.x)*2,b.position.y+(b.position.y-b.positionPrev.y)*2)}return this},renderBodies:function(S){for(var w=this.debugGraphic,A=this.debugConfig,R=A.showBody,O=A.showStaticBody,L=A.showSleeping,b=A.showInternalEdges,D=A.showConvexHulls,I=A.renderFill,B=A.renderLine,V=A.staticBodySleepOpacity,Y=A.sleepFillColor,k=A.sleepLineColor,W=A.hullColor,G=0;G<S.length;G++){var U=S[G];if(!!U.render.visible&&!(!O&&U.isStatic||!R&&!U.isStatic)){var F=U.render.lineColor,N=U.render.lineOpacity,z=U.render.lineThickness,X=U.render.fillColor,H=U.render.fillOpacity;L&&U.isSleeping&&(U.isStatic?(N*=V,H*=V):(F=k,X=Y)),I||(X=null),B||(F=null),this.renderBody(U,w,b,F,N,z,X,H);var $=U.parts.length;D&&$>1&&this.renderConvexHull(U,w,W,z)}}},renderBody:function(S,w,A,R,O,L,b,D){R===void 0&&(R=null),O===void 0&&(O=null),L===void 0&&(L=1),b===void 0&&(b=null),D===void 0&&(D=null);for(var I=this.debugConfig,B=I.sensorFillColor,V=I.sensorLineColor,Y=S.parts,k=Y.length,W=k>1?1:0;W<k;W++){var G=Y[W],U=G.render,F=U.opacity;if(!(!U.visible||F===0||G.isSensor&&!I.showSensors)){var N=G.circleRadius;if(w.beginPath(),G.isSensor?(b!==null&&w.fillStyle(B,D*F),R!==null&&w.lineStyle(L,V,O*F)):(b!==null&&w.fillStyle(b,D*F),R!==null&&w.lineStyle(L,R,O*F)),N)w.arc(G.position.x,G.position.y,N,0,2*Math.PI);else{var z=G.vertices,X=z.length;w.moveTo(z[0].x,z[0].y);for(var H=1;H<X;H++){var $=z[H];if(!z[H-1].isInternal||A?w.lineTo($.x,$.y):w.moveTo($.x,$.y),H<X&&$.isInternal&&!A){var K=(H+1)%X;w.moveTo(z[K].x,z[K].y)}}w.closePath()}b!==null&&w.fillPath(),R!==null&&w.strokePath()}}if(I.showPositions&&!S.isStatic){var Z=S.position.x,J=S.position.y,j=Math.ceil(I.positionSize/2);w.fillStyle(I.positionColor,1),w.fillRect(Z-j,J-j,I.positionSize,I.positionSize)}return this},renderConvexHull:function(S,w,A,R){R===void 0&&(R=1);var O=S.parts,L=O.length;if(L>1){var b=S.vertices;w.lineStyle(R,A),w.beginPath(),w.moveTo(b[0].x,b[0].y);for(var D=1;D<b.length;D++)w.lineTo(b[D].x,b[D].y);w.lineTo(b[0].x,b[0].y),w.strokePath()}return this},renderJoints:function(){for(var S=this.debugGraphic,w=h.allConstraints(this.localWorld),A=0;A<w.length;A++){var R=w[A].render,O=R.lineColor,L=R.lineOpacity,b=R.lineThickness,D=R.pinSize,I=R.anchorColor,B=R.anchorSize;this.renderConstraint(w[A],S,O,L,b,D,I,B)}},renderConstraint:function(S,w,A,R,O,L,b,D){var I=S.render;if(!I.visible||!S.pointA||!S.pointB)return this;w.lineStyle(O,A,R);var B=S.bodyA,V=S.bodyB,Y,k;if(B?Y=E.add(B.position,S.pointA):Y=S.pointA,I.type==="pin")w.strokeCircle(Y.x,Y.y,L);else{if(V?k=E.add(V.position,S.pointB):k=S.pointB,w.beginPath(),w.moveTo(Y.x,Y.y),I.type==="spring")for(var W=E.sub(k,Y),G=E.perp(E.normalise(W)),U=Math.ceil(l.clamp(S.length/5,12,20)),F,N=1;N<U;N+=1)F=N%2===0?1:-1,w.lineTo(Y.x+W.x*(N/U)+G.x*F*4,Y.y+W.y*(N/U)+G.y*F*4);w.lineTo(k.x,k.y)}return w.strokePath(),I.anchors&&D>0&&(w.fillStyle(b),w.fillCircle(Y.x,Y.y,D),w.fillCircle(k.x,k.y,D)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){v.off(this.engine),this.removeAllListeners(),y.clear(this.localWorld,!1),n.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});o.exports=P},95349:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(e){return this.body.restitution=e,this}};o.exports=T},70679:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var u=0;if(!Array.isArray(e))u=e;else for(var x=0;x<e.length;x++)u|=e[x];return this.body.collisionFilter.mask=u,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,u){Array.isArray(e)||(e=[e]);for(var x=0;x<e.length;x++){var d=e[x].hasOwnProperty("body")?e[x].body:e[x];this.body.setOnCollideWith(d,u)}return this}};o.exports=T},77178:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84125),x={applyForce:function(d){return this._tempVec2.set(this.body.position.x,this.body.position.y),u.applyForce(this.body,this._tempVec2,d),this},applyForceFrom:function(d,l){return u.applyForce(this.body,d,l),this},thrust:function(d){var l=this.body.angle;return this._tempVec2.set(d*Math.cos(l),d*Math.sin(l)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(d){var l=this.body.angle-Math.PI/2;return this._tempVec2.set(d*Math.cos(l),d*Math.sin(l)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(d){var l=this.body.angle+Math.PI/2;return this._tempVec2.set(d*Math.cos(l),d*Math.sin(l)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(d){var l=this.body.angle-Math.PI;return this._tempVec2.set(d*Math.cos(l),d*Math.sin(l)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};o.exports=x},74015:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(e,u,x){return this.body.friction=e,u!==void 0&&(this.body.frictionAir=u),x!==void 0&&(this.body.frictionStatic=x),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};o.exports=T},11535:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};o.exports=T},74497:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84125),x=e(93736),d={setMass:function(l){return u.setMass(this.body,l),this},setDensity:function(l){return u.setDensity(this.body,l),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};o.exports=d},75529:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};o.exports=T},64024:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68516),x=e(84125),d=e(88456),l=e(72632),h=e(10998),n=e(72829),r=e(39745),f={setRectangle:function(a,c,p){return this.setBody({type:"rectangle",width:a,height:c},p)},setCircle:function(a,c){return this.setBody({type:"circle",radius:a},c)},setPolygon:function(a,c,p){return this.setBody({type:"polygon",sides:c,radius:a},p)},setTrapezoid:function(a,c,p,v){return this.setBody({type:"trapezoid",width:a,height:c,slope:p},v)},setExistingBody:function(a,c){c===void 0&&(c=!0),this.body&&this.world.remove(this.body,!0),this.body=a;for(var p=0;p<a.parts.length;p++)a.parts[p].gameObject=this;var v=this;if(a.destroy=function(){v.world.remove(v.body,!0),v.body.gameObject=null},c&&(this.world.has(a)&&this.world.remove(a,!0),this.world.add(a)),this._originComponent){var m=a.render.sprite.xOffset,y=a.render.sprite.yOffset,E=a.centerOfMass.x,P=a.centerOfMass.y;if(d(E,.5)&&d(P,.5))this.setOrigin(m+.5,y+.5);else{var S=a.centerOffset.x,w=a.centerOffset.y;this.setOrigin(m+S/this.displayWidth,y+w/this.displayHeight)}}return this},setBody:function(a,c){if(!a)return this;var p;typeof a=="string"&&(a={type:a});var v=l(a,"type","rectangle"),m=l(a,"x",this._tempVec2.x),y=l(a,"y",this._tempVec2.y),E=l(a,"width",this.width),P=l(a,"height",this.height);switch(v){case"rectangle":p=u.rectangle(m,y,E,P,c);break;case"circle":var S=l(a,"radius",Math.max(E,P)/2),w=l(a,"maxSides",25);p=u.circle(m,y,S,c,w);break;case"trapezoid":var A=l(a,"slope",.5);p=u.trapezoid(m,y,E,P,A,c);break;case"polygon":var R=l(a,"sides",5),O=l(a,"radius",Math.max(E,P)/2);p=u.polygon(m,y,R,O,c);break;case"fromVertices":case"fromVerts":var L=l(a,"verts",null);if(L)if(typeof L=="string"&&(L=r.fromPath(L)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,L),p=this.body;else{var b=l(a,"flagInternal",!1),D=l(a,"removeCollinear",.01),I=l(a,"minimumArea",10);p=u.fromVertices(m,y,L,c,b,D,I)}break;case"fromPhysicsEditor":p=h.parseBody(m,y,a,c);break;case"fromPhysicsTracer":p=n.parseBody(m,y,a,c);break}return p&&this.setExistingBody(p,a.addToWorld),this}};o.exports=f},25106:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35416),x=e(22806),d=e(39073),l={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(h){return h===void 0&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,n){return this.setSleepStartEvent(h),this.setSleepEndEvent(n),this},setSleepStartEvent:function(h){if(h){var n=this.world;d.on(this.body,"sleepStart",function(r){n.emit(u.SLEEP_START,r,this)})}else d.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var n=this.world;d.on(this.body,"sleepEnd",function(r){n.emit(u.SLEEP_END,r,this)})}else d.off(this.body,"sleepEnd");return this}};o.exports=l},82884:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84125),x={setStatic:function(d){return u.setStatic(this.body,d),this},isStatic:function(){return this.body.isStatic}};o.exports=x},4753:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84125),x=e(83392),d=e(35786),l=e(62138),h=4,n={x:{get:function(){return this.body.position.x},set:function(r){this._tempVec2.set(r,this.y),u.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(r){this._tempVec2.set(this.x,r),u.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(r){var f=1/this._scaleX,a=1/this._scaleY;this._scaleX=r,this._scaleX===0?this.renderFlags&=~h:this.renderFlags|=h,u.scale(this.body,f,a),u.scale(this.body,r,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(r){var f=1/this._scaleX,a=1/this._scaleY;this._scaleY=r,this._scaleY===0?this.renderFlags&=~h:this.renderFlags|=h,u.scale(this.body,f,a),u.scale(this.body,this._scaleX,r)}},angle:{get:function(){return l(this.body.angle*x.RAD_TO_DEG)},set:function(r){this.rotation=l(r)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(r){this._rotation=d(r),u.setAngle(this.body,this._rotation)}},setPosition:function(r,f){return r===void 0&&(r=0),f===void 0&&(f=r),this._tempVec2.set(r,f),u.setPosition(this.body,this._tempVec2),this},setRotation:function(r){return r===void 0&&(r=0),this._rotation=d(r),u.setAngle(this.body,r),this},setFixedRotation:function(){return u.setInertia(this.body,1/0),this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,u.setAngle(this.body,this.rotation),this},setScale:function(r,f,a){r===void 0&&(r=1),f===void 0&&(f=r);var c=1/this._scaleX,p=1/this._scaleY;return this._scaleX=r,this._scaleY=f,u.scale(this.body,c,p,a),u.scale(this.body,r,f,a),this}};o.exports=n},37268:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84125),x={setVelocityX:function(d){return this._tempVec2.set(d,this.body.velocity.y),u.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(d){return this._tempVec2.set(this.body.velocity.x,d),u.setVelocity(this.body,this._tempVec2),this},setVelocity:function(d,l){return this._tempVec2.set(d,l),u.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return u.getVelocity(this.body)},setAngularVelocity:function(d){return u.setAngularVelocity(this.body,d),this},getAngularVelocity:function(){return u.getAngularVelocity(this.body)},setAngularSpeed:function(d){return u.setAngularSpeed(this.body,d),this},getAngularSpeed:function(){return u.getAngularSpeed(this.body)}};o.exports=x},74527:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Bounce:e(95349),Collision:e(70679),Force:e(77178),Friction:e(74015),Gravity:e(11535),Mass:e(74497),Sensor:e(75529),SetBody:e(64024),Sleep:e(25106),Static:e(82884),Transform:e(4753),Velocity:e(37268)}},63201:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="afteradd"},30474:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="afterremove"},44822:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="afterupdate"},88820:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="beforeadd"},94849:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="beforeremove"},6391:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="beforeupdate"},96738:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collisionactive"},7916:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collisionend"},59529:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collisionstart"},10219:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragend"},183:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drag"},39143:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragstart"},16483:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},35806:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},22106:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="sleepend"},5803:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="sleepstart"},35416:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AFTER_ADD:e(63201),AFTER_REMOVE:e(30474),AFTER_UPDATE:e(44822),BEFORE_ADD:e(88820),BEFORE_REMOVE:e(94849),BEFORE_UPDATE:e(6391),COLLISION_ACTIVE:e(96738),COLLISION_END:e(7916),COLLISION_START:e(59529),DRAG_END:e(10219),DRAG:e(183),DRAG_START:e(39143),PAUSE:e(16483),RESUME:e(35806),SLEEP_END:e(22106),SLEEP_START:e(5803)}},45949:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BodyBounds:e(63568),Components:e(74527),Events:e(35416),Factory:e(72653),MatterGameObject:e(3860),Image:e(7030),Matter:e(18171),MatterPhysics:e(50583),PolyDecomp:e(81084),Sprite:e(73658),TileBody:e(84720),PhysicsEditorParser:e(10998),PhysicsJSONParser:e(72829),PointerConstraint:e(88596),World:e(31468)}},84125:(o,T,e)=>{var u={};o.exports=u;var x=e(39745),d=e(10438),l=e(22806),h=e(68758),n=e(84091),r=e(50658);(function(){u._timeCorrection=!0,u._inertiaScale=4,u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,u._baseDelta=16.666666666666668,u.create=function(a){var c={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!a.hasOwnProperty("position")&&a.hasOwnProperty("vertices")?a.position=x.centre(a.vertices):a.hasOwnProperty("vertices")||(c.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=h.extend(c,a);return f(p,a),p.setOnCollideWith=function(v,m){return m?this.onCollideWith[v.id]=m:delete this.onCollideWith[v.id],this},p},u.nextGroup=function(a){return a?u._nextNonCollidingGroupId--:u._nextCollidingGroupId++},u.nextCategory=function(){return u._nextCategory=u._nextCategory<<1,u._nextCategory};var f=function(a,c){if(c=c||{},u.set(a,{bounds:a.bounds||n.create(a.vertices),positionPrev:a.positionPrev||d.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a}),x.rotate(a.vertices,a.angle,a.position),r.rotate(a.axes,a.angle),n.update(a.bounds,a.vertices,a.velocity),u.set(a,{axes:c.axes||a.axes,area:c.area||a.area,mass:c.mass||a.mass,inertia:c.inertia||a.inertia}),a.parts.length===1){var p=a.bounds,v=a.centerOfMass,m=a.centerOffset,y=p.max.x-p.min.x,E=p.max.y-p.min.y;v.x=-(p.min.x-a.position.x)/y,v.y=-(p.min.y-a.position.y)/E,m.x=y*v.x,m.y=E*v.y}};u.set=function(a,c,p){var v;typeof c=="string"&&(v=c,c={},c[v]=p);for(v in c)if(!!Object.prototype.hasOwnProperty.call(c,v))switch(p=c[v],v){case"isStatic":u.setStatic(a,p);break;case"isSleeping":l.set(a,p);break;case"mass":u.setMass(a,p);break;case"density":u.setDensity(a,p);break;case"inertia":u.setInertia(a,p);break;case"vertices":u.setVertices(a,p);break;case"position":u.setPosition(a,p);break;case"angle":u.setAngle(a,p);break;case"velocity":u.setVelocity(a,p);break;case"angularVelocity":u.setAngularVelocity(a,p);break;case"speed":u.setSpeed(a,p);break;case"angularSpeed":u.setAngularSpeed(a,p);break;case"parts":u.setParts(a,p);break;case"centre":u.setCentre(a,p);break;default:a[v]=p}},u.setStatic=function(a,c){for(var p=0;p<a.parts.length;p++){var v=a.parts[p];c?(v.isStatic||(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia}),v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null),v.isStatic=c}},u.setMass=function(a,c){var p=a.inertia/(a.mass/6);a.inertia=p*(c/6),a.inverseInertia=1/a.inertia,a.mass=c,a.inverseMass=1/a.mass,a.density=a.mass/a.area},u.setDensity=function(a,c){u.setMass(a,c*a.area),a.density=c},u.setInertia=function(a,c){a.inertia=c,a.inverseInertia=1/a.inertia},u.setVertices=function(a,c){c[0].body===a?a.vertices=c:a.vertices=x.create(c,a),a.axes=r.fromVertices(a.vertices),a.area=x.area(a.vertices),u.setMass(a,a.density*a.area);var p=x.centre(a.vertices);x.translate(a.vertices,p,-1),u.setInertia(a,u._inertiaScale*x.inertia(a.vertices,a.mass)),x.translate(a.vertices,a.position),n.update(a.bounds,a.vertices,a.velocity)},u.setParts=function(a,c,p){var v;for(c=c.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,v=0;v<c.length;v++){var m=c[v];m!==a&&(m.parent=a,a.parts.push(m))}if(a.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var y=[];for(v=0;v<c.length;v++)y=y.concat(c[v].vertices);x.clockwiseSort(y);var E=x.hull(y),P=x.centre(E);u.setVertices(a,E),x.translate(a.vertices,P)}var S=u._totalProperties(a),w=S.centre.x,A=S.centre.y,R=a.bounds,O=a.centerOfMass,L=a.centerOffset;n.update(R,a.vertices,a.velocity),O.x=-(R.min.x-w)/(R.max.x-R.min.x),O.y=-(R.min.y-A)/(R.max.y-R.min.y),L.x=w,L.y=A,a.area=S.area,a.parent=a,a.position.x=w,a.position.y=A,a.positionPrev.x=w,a.positionPrev.y=A,u.setMass(a,S.mass),u.setInertia(a,S.inertia),u.setPosition(a,S.centre)}},u.setCentre=function(a,c,p){p?(a.positionPrev.x+=c.x,a.positionPrev.y+=c.y,a.position.x+=c.x,a.position.y+=c.y):(a.positionPrev.x=c.x-(a.position.x-a.positionPrev.x),a.positionPrev.y=c.y-(a.position.y-a.positionPrev.y),a.position.x=c.x,a.position.y=c.y)},u.setPosition=function(a,c,p){var v=d.sub(c,a.position);p?(a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.velocity.x=v.x,a.velocity.y=v.y,a.speed=d.magnitude(v)):(a.positionPrev.x+=v.x,a.positionPrev.y+=v.y);for(var m=0;m<a.parts.length;m++){var y=a.parts[m];y.position.x+=v.x,y.position.y+=v.y,x.translate(y.vertices,v),n.update(y.bounds,y.vertices,a.velocity)}},u.setAngle=function(a,c,p){var v=c-a.angle;p?(a.anglePrev=a.angle,a.angularVelocity=v,a.angularSpeed=Math.abs(v)):a.anglePrev+=v;for(var m=0;m<a.parts.length;m++){var y=a.parts[m];y.angle+=v,x.rotate(y.vertices,v,a.position),r.rotate(y.axes,v),n.update(y.bounds,y.vertices,a.velocity),m>0&&d.rotateAbout(y.position,v,a.position,y.position)}},u.setVelocity=function(a,c){var p=a.deltaTime/u._baseDelta;a.positionPrev.x=a.position.x-c.x*p,a.positionPrev.y=a.position.y-c.y*p,a.velocity.x=(a.position.x-a.positionPrev.x)/p,a.velocity.y=(a.position.y-a.positionPrev.y)/p,a.speed=d.magnitude(a.velocity)},u.getVelocity=function(a){var c=u._baseDelta/a.deltaTime;return{x:(a.position.x-a.positionPrev.x)*c,y:(a.position.y-a.positionPrev.y)*c}},u.getSpeed=function(a){return d.magnitude(u.getVelocity(a))},u.setSpeed=function(a,c){u.setVelocity(a,d.mult(d.normalise(u.getVelocity(a)),c))},u.setAngularVelocity=function(a,c){var p=a.deltaTime/u._baseDelta;a.anglePrev=a.angle-c*p,a.angularVelocity=(a.angle-a.anglePrev)/p,a.angularSpeed=Math.abs(a.angularVelocity)},u.getAngularVelocity=function(a){return(a.angle-a.anglePrev)*u._baseDelta/a.deltaTime},u.getAngularSpeed=function(a){return Math.abs(u.getAngularVelocity(a))},u.setAngularSpeed=function(a,c){u.setAngularVelocity(a,h.sign(u.getAngularVelocity(a))*c)},u.translate=function(a,c,p){u.setPosition(a,d.add(a.position,c),p)},u.rotate=function(a,c,p,v){if(!p)u.setAngle(a,a.angle+c,v);else{var m=Math.cos(c),y=Math.sin(c),E=a.position.x-p.x,P=a.position.y-p.y;u.setPosition(a,{x:p.x+(E*m-P*y),y:p.y+(E*y+P*m)},v),u.setAngle(a,a.angle+c,v)}},u.scale=function(a,c,p,v){var m=0,y=0;v=v||a.position;for(var E=0;E<a.parts.length;E++){var P=a.parts[E];P.scale.x=c,P.scale.y=p,x.scale(P.vertices,c,p,v),P.axes=r.fromVertices(P.vertices),P.area=x.area(P.vertices),u.setMass(P,a.density*P.area),x.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),u.setInertia(P,u._inertiaScale*x.inertia(P.vertices,P.mass)),x.translate(P.vertices,{x:P.position.x,y:P.position.y}),E>0&&(m+=P.area,y+=P.inertia),P.position.x=v.x+(P.position.x-v.x)*c,P.position.y=v.y+(P.position.y-v.y)*p,n.update(P.bounds,P.vertices,a.velocity)}a.parts.length>1&&(a.area=m,a.isStatic||(u.setMass(a,a.density*m),u.setInertia(a,y))),a.circleRadius&&(c===p?a.circleRadius*=c:a.circleRadius=null)},u.update=function(a,c){c=(typeof c<"u"?c:16.666666666666668)*a.timeScale;var p=c*c,v=u._timeCorrection?c/(a.deltaTime||c):1,m=1-a.frictionAir*(c/h._baseDelta),y=(a.position.x-a.positionPrev.x)*v,E=(a.position.y-a.positionPrev.y)*v;a.velocity.x=y*m+a.force.x/a.mass*p,a.velocity.y=E*m+a.force.y/a.mass*p,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.deltaTime=c,a.angularVelocity=(a.angle-a.anglePrev)*m*v+a.torque/a.inertia*p,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=d.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var P=0;P<a.parts.length;P++){var S=a.parts[P];x.translate(S.vertices,a.velocity),P>0&&(S.position.x+=a.velocity.x,S.position.y+=a.velocity.y),a.angularVelocity!==0&&(x.rotate(S.vertices,a.angularVelocity,a.position),r.rotate(S.axes,a.angularVelocity),P>0&&d.rotateAbout(S.position,a.angularVelocity,a.position,S.position)),n.update(S.bounds,S.vertices,a.velocity)}},u.updateVelocities=function(a){var c=u._baseDelta/a.deltaTime,p=a.velocity;p.x=(a.position.x-a.positionPrev.x)*c,p.y=(a.position.y-a.positionPrev.y)*c,a.speed=Math.sqrt(p.x*p.x+p.y*p.y),a.angularVelocity=(a.angle-a.anglePrev)*c,a.angularSpeed=Math.abs(a.angularVelocity)},u.applyForce=function(a,c,p){var v={x:c.x-a.position.x,y:c.y-a.position.y};a.force.x+=p.x,a.force.y+=p.y,a.torque+=v.x*p.y-v.y*p.x},u._totalProperties=function(a){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=a.parts.length===1?0:1;p<a.parts.length;p++){var v=a.parts[p],m=v.mass!==1/0?v.mass:1;c.mass+=m,c.area+=v.area,c.inertia+=v.inertia,c.centre=d.add(c.centre,d.mult(v.position,m))}return c.centre=d.div(c.centre,c.mass),c}})()},11299:(o,T,e)=>{var u={};o.exports=u;var x=e(39073),d=e(68758),l=e(84091),h=e(84125);(function(){u.create=function(n){return d.extend({id:d.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},u.setModified=function(n,r,f,a){if(x.trigger(n,"compositeModified",n),n.isModified=r,r&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),f&&n.parent&&u.setModified(n.parent,r,f,a),a)for(var c=0;c<n.composites.length;c++){var p=n.composites[c];u.setModified(p,r,f,a)}},u.add=function(n,r){var f=[].concat(r);x.trigger(n,"beforeAdd",{object:r});for(var a=0;a<f.length;a++){var c=f[a];switch(c.type){case"body":if(c.parent!==c){d.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}u.addBody(n,c);break;case"constraint":u.addConstraint(n,c);break;case"composite":u.addComposite(n,c);break;case"mouseConstraint":u.addConstraint(n,c.constraint);break}}return x.trigger(n,"afterAdd",{object:r}),n},u.remove=function(n,r,f){var a=[].concat(r);x.trigger(n,"beforeRemove",{object:r});for(var c=0;c<a.length;c++){var p=a[c];switch(p.type){case"body":u.removeBody(n,p,f);break;case"constraint":u.removeConstraint(n,p,f);break;case"composite":u.removeComposite(n,p,f);break;case"mouseConstraint":u.removeConstraint(n,p.constraint);break}}return x.trigger(n,"afterRemove",{object:r}),n},u.addComposite=function(n,r){return n.composites.push(r),r.parent=n,u.setModified(n,!0,!0,!1),n},u.removeComposite=function(n,r,f){var a=d.indexOf(n.composites,r);if(a!==-1&&u.removeCompositeAt(n,a),f)for(var c=0;c<n.composites.length;c++)u.removeComposite(n.composites[c],r,!0);return n},u.removeCompositeAt=function(n,r){return n.composites.splice(r,1),u.setModified(n,!0,!0,!1),n},u.addBody=function(n,r){return n.bodies.push(r),u.setModified(n,!0,!0,!1),n},u.removeBody=function(n,r,f){var a=d.indexOf(n.bodies,r);if(a!==-1&&u.removeBodyAt(n,a),f)for(var c=0;c<n.composites.length;c++)u.removeBody(n.composites[c],r,!0);return n},u.removeBodyAt=function(n,r){return n.bodies.splice(r,1),u.setModified(n,!0,!0,!1),n},u.addConstraint=function(n,r){return n.constraints.push(r),u.setModified(n,!0,!0,!1),n},u.removeConstraint=function(n,r,f){var a=d.indexOf(n.constraints,r);if(a!==-1&&u.removeConstraintAt(n,a),f)for(var c=0;c<n.composites.length;c++)u.removeConstraint(n.composites[c],r,!0);return n},u.removeConstraintAt=function(n,r){return n.constraints.splice(r,1),u.setModified(n,!0,!0,!1),n},u.clear=function(n,r,f){if(f)for(var a=0;a<n.composites.length;a++)u.clear(n.composites[a],r,!0);return r?n.bodies=n.bodies.filter(function(c){return c.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,u.setModified(n,!0,!0,!1),n},u.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var r=[].concat(n.bodies),f=0;f<n.composites.length;f++)r=r.concat(u.allBodies(n.composites[f]));return n.cache&&(n.cache.allBodies=r),r},u.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var r=[].concat(n.constraints),f=0;f<n.composites.length;f++)r=r.concat(u.allConstraints(n.composites[f]));return n.cache&&(n.cache.allConstraints=r),r},u.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var r=[].concat(n.composites),f=0;f<n.composites.length;f++)r=r.concat(u.allComposites(n.composites[f]));return n.cache&&(n.cache.allComposites=r),r},u.get=function(n,r,f){var a,c;switch(f){case"body":a=u.allBodies(n);break;case"constraint":a=u.allConstraints(n);break;case"composite":a=u.allComposites(n).concat(n);break}return a?(c=a.filter(function(p){return p.id.toString()===r.toString()}),c.length===0?null:c[0]):null},u.move=function(n,r,f){return u.remove(n,r),u.add(f,r),n},u.rebase=function(n){for(var r=u.allBodies(n).concat(u.allConstraints(n)).concat(u.allComposites(n)),f=0;f<r.length;f++)r[f].id=d.nextId();return n},u.translate=function(n,r,f){for(var a=f?u.allBodies(n):n.bodies,c=0;c<a.length;c++)h.translate(a[c],r);return n},u.rotate=function(n,r,f,a){for(var c=Math.cos(r),p=Math.sin(r),v=a?u.allBodies(n):n.bodies,m=0;m<v.length;m++){var y=v[m],E=y.position.x-f.x,P=y.position.y-f.y;h.setPosition(y,{x:f.x+(E*c-P*p),y:f.y+(E*p+P*c)}),h.rotate(y,r)}return n},u.scale=function(n,r,f,a,c){for(var p=c?u.allBodies(n):n.bodies,v=0;v<p.length;v++){var m=p[v],y=m.position.x-a.x,E=m.position.y-a.y;h.setPosition(m,{x:a.x+y*r,y:a.y+E*f}),h.scale(m,r,f)}return n},u.bounds=function(n){for(var r=u.allBodies(n),f=[],a=0;a<r.length;a+=1){var c=r[a];f.push(c.bounds.min,c.bounds.max)}return l.create(f)}})()},72005:(o,T,e)=>{var u={};o.exports=u;var x=e(11299);(function(){u.create=x.create,u.add=x.add,u.remove=x.remove,u.clear=x.clear,u.addComposite=x.addComposite,u.addBody=x.addBody,u.addConstraint=x.addConstraint})()},63454:(o,T,e)=>{var u={};o.exports=u;var x=e(39745),d=e(70584);(function(){var l=[],h={overlap:0,axis:null},n={overlap:0,axis:null};u.create=function(r,f){return{pair:null,collided:!1,bodyA:r,bodyB:f,parentA:r.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},u.collides=function(r,f,a){if(u._overlapAxes(h,r.vertices,f.vertices,r.axes),h.overlap<=0||(u._overlapAxes(n,f.vertices,r.vertices,f.axes),n.overlap<=0))return null;var c=a&&a.table[d.id(r,f)],p;c?p=c.collision:(p=u.create(r,f),p.collided=!0,p.bodyA=r.id<f.id?r:f,p.bodyB=r.id<f.id?f:r,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),r=p.bodyA,f=p.bodyB;var v;h.overlap<n.overlap?v=h:v=n;var m=p.normal,y=p.supports,E=v.axis,P=E.x,S=E.y;P*(f.position.x-r.position.x)+S*(f.position.y-r.position.y)<0?(m.x=P,m.y=S):(m.x=-P,m.y=-S),p.tangent.x=-m.y,p.tangent.y=m.x,p.depth=v.overlap,p.penetration.x=m.x*p.depth,p.penetration.y=m.y*p.depth;var w=u._findSupports(r,f,m,1),A=0;if(x.contains(r.vertices,w[0])&&(y[A++]=w[0]),x.contains(r.vertices,w[1])&&(y[A++]=w[1]),A<2){var R=u._findSupports(f,r,m,-1);x.contains(f.vertices,R[0])&&(y[A++]=R[0]),A<2&&x.contains(f.vertices,R[1])&&(y[A++]=R[1])}return A===0&&(y[A++]=w[0]),y.length=A,p},u._overlapAxes=function(r,f,a,c){var p=f.length,v=a.length,m=f[0].x,y=f[0].y,E=a[0].x,P=a[0].y,S=c.length,w=Number.MAX_VALUE,A=0,R,O,L,b,D,I;for(D=0;D<S;D++){var B=c[D],V=B.x,Y=B.y,k=m*V+y*Y,W=E*V+P*Y,G=k,U=W;for(I=1;I<p;I+=1)b=f[I].x*V+f[I].y*Y,b>G?G=b:b<k&&(k=b);for(I=1;I<v;I+=1)b=a[I].x*V+a[I].y*Y,b>U?U=b:b<W&&(W=b);if(O=G-W,L=U-k,R=O<L?O:L,R<w&&(w=R,A=D,R<=0))break}r.axis=c[A],r.overlap=w},u._projectToAxis=function(r,f,a){for(var c=f[0].x*a.x+f[0].y*a.y,p=c,v=1;v<f.length;v+=1){var m=f[v].x*a.x+f[v].y*a.y;m>p?p=m:m<c&&(c=m)}r.min=c,r.max=p},u._findSupports=function(r,f,a,c){var p=f.vertices,v=p.length,m=r.position.x,y=r.position.y,E=a.x*c,P=a.y*c,S=Number.MAX_VALUE,w,A,R,O,L;for(L=0;L<v;L+=1)A=p[L],O=E*(m-A.x)+P*(y-A.y),O<S&&(S=O,w=A);return R=p[(v+w.index-1)%v],S=E*(m-R.x)+P*(y-R.y),A=p[(w.index+1)%v],E*(m-A.x)+P*(y-A.y)<S?(l[0]=w,l[1]=A,l):(l[0]=w,l[1]=R,l)}})()},17319:o=>{var T={};o.exports=T,function(){T.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},13657:(o,T,e)=>{var u={};o.exports=u;var x=e(68758),d=e(63454);(function(){u.create=function(l){var h={bodies:[],pairs:null};return x.extend(h,l)},u.setBodies=function(l,h){l.bodies=h.slice(0)},u.clear=function(l){l.bodies=[]},u.collisions=function(l){var h=[],n=l.pairs,r=l.bodies,f=r.length,a=u.canCollide,c=d.collides,p,v;for(r.sort(u._compareBoundsX),p=0;p<f;p++){var m=r[p],y=m.bounds,E=m.bounds.max.x,P=m.bounds.max.y,S=m.bounds.min.y,w=m.isStatic||m.isSleeping,A=m.parts.length,R=A===1;for(v=p+1;v<f;v++){var O=r[v],L=O.bounds;if(L.min.x>E)break;if(!(P<L.min.y||S>L.max.y)&&!(w&&(O.isStatic||O.isSleeping))&&!!a(m.collisionFilter,O.collisionFilter)){var b=O.parts.length;if(R&&b===1){var D=c(m,O,n);D&&h.push(D)}else for(var I=A>1?1:0,B=b>1?1:0,V=I;V<A;V++)for(var Y=m.parts[V],y=Y.bounds,k=B;k<b;k++){var W=O.parts[k],L=W.bounds;if(!(y.min.x>L.max.x||y.max.x<L.min.x||y.max.y<L.min.y||y.min.y>L.max.y)){var D=c(Y,W,n);D&&h.push(D)}}}}}return h},u.canCollide=function(l,h){return l.group===h.group&&l.group!==0?l.group>0:(l.mask&h.category)!==0&&(h.mask&l.category)!==0},u._compareBoundsX=function(l,h){return l.bounds.min.x-h.bounds.min.x}})()},70584:(o,T,e)=>{var u={};o.exports=u;var x=e(17319);(function(){u.create=function(d,l){var h=d.bodyA,n=d.bodyB,r={id:u.id(h,n),bodyA:h,bodyB:n,collision:d,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:h.isSensor||n.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return u.update(r,d,l),r},u.update=function(d,l,h){var n=d.contacts,r=l.supports,f=d.activeContacts,a=l.parentA,c=l.parentB,p=a.vertices.length;d.isActive=!0,d.timeUpdated=h,d.collision=l,d.separation=l.depth,d.inverseMass=a.inverseMass+c.inverseMass,d.friction=a.friction<c.friction?a.friction:c.friction,d.frictionStatic=a.frictionStatic>c.frictionStatic?a.frictionStatic:c.frictionStatic,d.restitution=a.restitution>c.restitution?a.restitution:c.restitution,d.slop=a.slop>c.slop?a.slop:c.slop,l.pair=d,f.length=0;for(var v=0;v<r.length;v++){var m=r[v],y=m.body===a?m.index:p+m.index,E=n[y];E?f.push(E):f.push(n[y]=x.create(m))}},u.setActive=function(d,l,h){l?(d.isActive=!0,d.timeUpdated=h):(d.isActive=!1,d.activeContacts.length=0)},u.id=function(d,l){return d.id<l.id?"A"+d.id+"B"+l.id:"A"+l.id+"B"+d.id}})()},91327:(o,T,e)=>{var u={};o.exports=u;var x=e(70584),d=e(68758);(function(){u.create=function(l){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},u.update=function(l,h,n){var r=l.list,f=r.length,a=l.table,c=h.length,p=l.collisionStart,v=l.collisionEnd,m=l.collisionActive,y,E,P,S;for(p.length=0,v.length=0,m.length=0,S=0;S<f;S++)r[S].confirmedActive=!1;for(S=0;S<c;S++)y=h[S],P=y.pair,P?(P.isActive?m.push(P):p.push(P),x.update(P,y,n),P.confirmedActive=!0):(P=x.create(y,n),a[P.id]=P,p.push(P),r.push(P));var w=[];for(f=r.length,S=0;S<f;S++)P=r[S],P.confirmedActive||(x.setActive(P,!1,n),v.push(P),!P.collision.bodyA.isSleeping&&!P.collision.bodyB.isSleeping&&w.push(S));for(S=0;S<w.length;S++)E=w[S]-S,P=r[E],r.splice(E,1),delete a[P.id]},u.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},13390:(o,T,e)=>{var u={};o.exports=u;var x=e(10438),d=e(63454),l=e(84091),h=e(68516),n=e(39745);(function(){u.collides=function(r,f){for(var a=[],c=f.length,p=r.bounds,v=d.collides,m=l.overlaps,y=0;y<c;y++){var E=f[y],P=E.parts.length,S=P===1?0:1;if(r!==E&&m(E.bounds,p))for(var w=S;w<P;w++){var A=E.parts[w];if(m(A.bounds,p)){var R=v(A,r);if(R){a.push(R);break}}}}return a},u.ray=function(r,f,a,c){c=c||1e-100;for(var p=x.angle(f,a),v=x.magnitude(x.sub(f,a)),m=(a.x+f.x)*.5,y=(a.y+f.y)*.5,E=h.rectangle(m,y,v,c,{angle:p}),P=u.collides(E,r),S=0;S<P.length;S+=1){var w=P[S];w.body=w.bodyB=w.bodyA}return P},u.region=function(r,f,a){for(var c=[],p=0;p<r.length;p++){var v=r[p],m=l.overlaps(v.bounds,f);(m&&!a||!m&&a)&&c.push(v)}return c},u.point=function(r,f){for(var a=[],c=0;c<r.length;c++){var p=r[c];if(l.contains(p.bounds,f))for(var v=p.parts.length===1?0:1;v<p.parts.length;v++){var m=p.parts[v];if(l.contains(m.bounds,f)&&n.contains(m.vertices,f)){a.push(p);break}}}return a}})()},44272:(o,T,e)=>{var u={};o.exports=u;var x=e(39745),d=e(68758),l=e(84091);(function(){u._restingThresh=2,u._restingThreshTangent=Math.sqrt(6),u._positionDampen=.9,u._positionWarming=.8,u._frictionNormalMultiplier=5,u._frictionMaxStatic=Number.MAX_VALUE,u.preSolvePosition=function(h){var n,r,f,a=h.length;for(n=0;n<a;n++)r=h[n],r.isActive&&(f=r.activeContacts.length,r.collision.parentA.totalContacts+=f,r.collision.parentB.totalContacts+=f)},u.solvePosition=function(h,n,r){var f,a,c,p,v,m,y,E,P=u._positionDampen*(r||1),S=d.clamp(n/d._baseDelta,0,1),w=h.length;for(f=0;f<w;f++)a=h[f],!(!a.isActive||a.isSensor)&&(c=a.collision,p=c.parentA,v=c.parentB,m=c.normal,a.separation=m.x*(v.positionImpulse.x+c.penetration.x-p.positionImpulse.x)+m.y*(v.positionImpulse.y+c.penetration.y-p.positionImpulse.y));for(f=0;f<w;f++)a=h[f],!(!a.isActive||a.isSensor)&&(c=a.collision,p=c.parentA,v=c.parentB,m=c.normal,E=a.separation-a.slop*S,(p.isStatic||v.isStatic)&&(E*=2),p.isStatic||p.isSleeping||(y=P/p.totalContacts,p.positionImpulse.x+=m.x*E*y,p.positionImpulse.y+=m.y*E*y),v.isStatic||v.isSleeping||(y=P/v.totalContacts,v.positionImpulse.x-=m.x*E*y,v.positionImpulse.y-=m.y*E*y))},u.postSolvePosition=function(h){for(var n=u._positionWarming,r=h.length,f=x.translate,a=l.update,c=0;c<r;c++){var p=h[c],v=p.positionImpulse,m=v.x,y=v.y,E=p.velocity;if(p.totalContacts=0,m!==0||y!==0){for(var P=0;P<p.parts.length;P++){var S=p.parts[P];f(S.vertices,v),a(S.bounds,S.vertices,E),S.position.x+=m,S.position.y+=y}p.positionPrev.x+=m,p.positionPrev.y+=y,m*E.x+y*E.y<0?(v.x=0,v.y=0):(v.x*=n,v.y*=n)}}},u.preSolveVelocity=function(h){var n=h.length,r,f;for(r=0;r<n;r++){var a=h[r];if(!(!a.isActive||a.isSensor)){var c=a.activeContacts,p=c.length,v=a.collision,m=v.parentA,y=v.parentB,E=v.normal,P=v.tangent;for(f=0;f<p;f++){var S=c[f],w=S.vertex,A=S.normalImpulse,R=S.tangentImpulse;if(A!==0||R!==0){var O=E.x*A+P.x*R,L=E.y*A+P.y*R;m.isStatic||m.isSleeping||(m.positionPrev.x+=O*m.inverseMass,m.positionPrev.y+=L*m.inverseMass,m.anglePrev+=m.inverseInertia*((w.x-m.position.x)*L-(w.y-m.position.y)*O)),y.isStatic||y.isSleeping||(y.positionPrev.x-=O*y.inverseMass,y.positionPrev.y-=L*y.inverseMass,y.anglePrev-=y.inverseInertia*((w.x-y.position.x)*L-(w.y-y.position.y)*O))}}}}},u.solveVelocity=function(h,n){var r=n/d._baseDelta,f=r*r,a=f*r,c=-u._restingThresh*r,p=u._restingThreshTangent,v=u._frictionNormalMultiplier*r,m=u._frictionMaxStatic,y=h.length,E,P,S,w;for(S=0;S<y;S++){var A=h[S];if(!(!A.isActive||A.isSensor)){var R=A.collision,O=R.parentA,L=R.parentB,b=O.velocity,D=L.velocity,I=R.normal.x,B=R.normal.y,V=R.tangent.x,Y=R.tangent.y,k=A.activeContacts,W=k.length,G=1/W,U=O.inverseMass+L.inverseMass,F=A.friction*A.frictionStatic*v;for(b.x=O.position.x-O.positionPrev.x,b.y=O.position.y-O.positionPrev.y,D.x=L.position.x-L.positionPrev.x,D.y=L.position.y-L.positionPrev.y,O.angularVelocity=O.angle-O.anglePrev,L.angularVelocity=L.angle-L.anglePrev,w=0;w<W;w++){var N=k[w],z=N.vertex,X=z.x-O.position.x,H=z.y-O.position.y,$=z.x-L.position.x,K=z.y-L.position.y,Z=b.x-H*O.angularVelocity,J=b.y+X*O.angularVelocity,j=D.x-K*L.angularVelocity,Q=D.y+$*L.angularVelocity,tt=Z-j,_=J-Q,it=I*tt+B*_,ht=V*tt+Y*_,lt=A.separation+it,ot=Math.min(lt,1);ot=lt<0?0:ot;var et=ot*F;ht<-et||ht>et?(P=ht>0?ht:-ht,E=A.friction*(ht>0?1:-1)*a,E<-P?E=-P:E>P&&(E=P)):(E=ht,P=m);var at=X*B-H*I,rt=$*B-K*I,gt=G/(U+O.inverseInertia*at*at+L.inverseInertia*rt*rt),pt=(1+A.restitution)*it*gt;if(E*=gt,it<c)N.normalImpulse=0;else{var Lt=N.normalImpulse;N.normalImpulse+=pt,N.normalImpulse>0&&(N.normalImpulse=0),pt=N.normalImpulse-Lt}if(ht<-p||ht>p)N.tangentImpulse=0;else{var At=N.tangentImpulse;N.tangentImpulse+=E,N.tangentImpulse<-P&&(N.tangentImpulse=-P),N.tangentImpulse>P&&(N.tangentImpulse=P),E=N.tangentImpulse-At}var Tt=I*pt+V*E,xt=B*pt+Y*E;O.isStatic||O.isSleeping||(O.positionPrev.x+=Tt*O.inverseMass,O.positionPrev.y+=xt*O.inverseMass,O.anglePrev+=(X*xt-H*Tt)*O.inverseInertia),L.isStatic||L.isSleeping||(L.positionPrev.x-=Tt*L.inverseMass,L.positionPrev.y-=xt*L.inverseMass,L.anglePrev-=($*xt-K*Tt)*L.inverseInertia)}}}}})()},52838:(o,T,e)=>{var u={};o.exports=u;var x=e(39745),d=e(10438),l=e(22806),h=e(84091),n=e(50658),r=e(68758);(function(){u._warming=.4,u._torqueDampen=1,u._minLength=1e-6,u.create=function(f){var a=f;a.bodyA&&!a.pointA&&(a.pointA={x:0,y:0}),a.bodyB&&!a.pointB&&(a.pointB={x:0,y:0});var c=a.bodyA?d.add(a.bodyA.position,a.pointA):a.pointA,p=a.bodyB?d.add(a.bodyB.position,a.pointB):a.pointB,v=d.magnitude(d.sub(c,p));a.length=typeof a.length<"u"?a.length:v,a.id=a.id||r.nextId(),a.label=a.label||"Constraint",a.type="constraint",a.stiffness=a.stiffness||(a.length>0?1:.7),a.damping=a.damping||0,a.angularStiffness=a.angularStiffness||0,a.angleA=a.bodyA?a.bodyA.angle:a.angleA,a.angleB=a.bodyB?a.bodyB.angle:a.angleB,a.plugin={};var m={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return a.length===0&&a.stiffness>.1?(m.type="pin",m.anchors=!1):a.stiffness<.9&&(m.type="spring"),a.render=r.extend(m,a.render),a},u.preSolveAll=function(f){for(var a=0;a<f.length;a+=1){var c=f[a],p=c.constraintImpulse;c.isStatic||p.x===0&&p.y===0&&p.angle===0||(c.position.x+=p.x,c.position.y+=p.y,c.angle+=p.angle)}},u.solveAll=function(f,a){for(var c=r.clamp(a/r._baseDelta,0,1),p=0;p<f.length;p+=1){var v=f[p],m=!v.bodyA||v.bodyA&&v.bodyA.isStatic,y=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(m||y)&&u.solve(f[p],c)}for(p=0;p<f.length;p+=1)v=f[p],m=!v.bodyA||v.bodyA&&v.bodyA.isStatic,y=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!m&&!y&&u.solve(f[p],c)},u.solve=function(f,a){var c=f.bodyA,p=f.bodyB,v=f.pointA,m=f.pointB;if(!(!c&&!p)){c&&!c.isStatic&&(d.rotate(v,c.angle-f.angleA,v),f.angleA=c.angle),p&&!p.isStatic&&(d.rotate(m,p.angle-f.angleB,m),f.angleB=p.angle);var y=v,E=m;if(c&&(y=d.add(c.position,v)),p&&(E=d.add(p.position,m)),!(!y||!E)){var P=d.sub(y,E),S=d.magnitude(P);S<u._minLength&&(S=u._minLength);var w=(S-f.length)/S,A=f.stiffness>=1||f.length===0,R=A?f.stiffness*a:f.stiffness*a*a,O=f.damping*a,L=d.mult(P,w*R),b=(c?c.inverseMass:0)+(p?p.inverseMass:0),D=(c?c.inverseInertia:0)+(p?p.inverseInertia:0),I=b+D,B,V,Y,k,W;if(O>0){var G=d.create();Y=d.div(P,S),W=d.sub(p&&d.sub(p.position,p.positionPrev)||G,c&&d.sub(c.position,c.positionPrev)||G),k=d.dot(Y,W)}c&&!c.isStatic&&(V=c.inverseMass/b,c.constraintImpulse.x-=L.x*V,c.constraintImpulse.y-=L.y*V,c.position.x-=L.x*V,c.position.y-=L.y*V,O>0&&(c.positionPrev.x-=O*Y.x*k*V,c.positionPrev.y-=O*Y.y*k*V),B=d.cross(v,L)/I*u._torqueDampen*c.inverseInertia*(1-f.angularStiffness),c.constraintImpulse.angle-=B,c.angle-=B),p&&!p.isStatic&&(V=p.inverseMass/b,p.constraintImpulse.x+=L.x*V,p.constraintImpulse.y+=L.y*V,p.position.x+=L.x*V,p.position.y+=L.y*V,O>0&&(p.positionPrev.x+=O*Y.x*k*V,p.positionPrev.y+=O*Y.y*k*V),B=d.cross(m,L)/I*u._torqueDampen*p.inverseInertia*(1-f.angularStiffness),p.constraintImpulse.angle+=B,p.angle+=B)}}},u.postSolveAll=function(f){for(var a=0;a<f.length;a++){var c=f[a],p=c.constraintImpulse;if(!(c.isStatic||p.x===0&&p.y===0&&p.angle===0)){l.set(c,!1);for(var v=0;v<c.parts.length;v++){var m=c.parts[v];x.translate(m.vertices,p),v>0&&(m.position.x+=p.x,m.position.y+=p.y),p.angle!==0&&(x.rotate(m.vertices,p.angle,c.position),n.rotate(m.axes,p.angle),v>0&&d.rotateAbout(m.position,p.angle,c.position,m.position)),h.update(m.bounds,m.vertices,c.velocity)}p.angle*=u._warming,p.x*=u._warming,p.y*=u._warming}}},u.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},u.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},u.currentLength=function(f){var a=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),c=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),p=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),v=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),m=a-p,y=c-v;return Math.sqrt(m*m+y*y)}})()},68758:(o,T,e)=>{var u={};o.exports=u,function(){u._baseDelta=16.666666666666668,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(d,l){var h,n;typeof l=="boolean"?(h=2,n=l):(h=1,n=!0);for(var r=h;r<arguments.length;r++){var f=arguments[r];if(f)for(var a in f)n&&f[a]&&f[a].constructor===Object&&(!d[a]||d[a].constructor===Object)?(d[a]=d[a]||{},u.extend(d[a],n,f[a])):d[a]=f[a]}return d},u.clone=function(d,l){return u.extend({},l,d)},u.keys=function(d){if(Object.keys)return Object.keys(d);var l=[];for(var h in d)l.push(h);return l},u.values=function(d){var l=[];if(Object.keys){for(var h=Object.keys(d),n=0;n<h.length;n++)l.push(d[h[n]]);return l}for(var r in d)l.push(d[r]);return l},u.get=function(d,l,h,n){l=l.split(".").slice(h,n);for(var r=0;r<l.length;r+=1)d=d[l[r]];return d},u.set=function(d,l,h,n,r){var f=l.split(".").slice(n,r);return u.get(d,l,0,-1)[f[f.length-1]]=h,h},u.shuffle=function(d){for(var l=d.length-1;l>0;l--){var h=Math.floor(u.random()*(l+1)),n=d[l];d[l]=d[h],d[h]=n}return d},u.choose=function(d){return d[Math.floor(u.random()*d.length)]},u.isElement=function(d){return typeof HTMLElement<"u"?d instanceof HTMLElement:!!(d&&d.nodeType&&d.nodeName)},u.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},u.isFunction=function(d){return typeof d=="function"},u.isPlainObject=function(d){return typeof d=="object"&&d.constructor===Object},u.isString=function(d){return toString.call(d)==="[object String]"},u.clamp=function(d,l,h){return d<l?l:d>h?h:d},u.sign=function(d){return d<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(d,l){return d=typeof d<"u"?d:0,l=typeof l<"u"?l:1,d+x()*(l-d)};var x=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(d){return d=d.replace("#",""),d.length==3&&(d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2)),parseInt(d,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var d=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[d]||(u.warn(d),u._warnedOnce[d]=!0)},u.deprecated=function(d,l,h){d[l]=u.chain(function(){u.warnOnce("\u{1F505} deprecated \u{1F505}",h)},d[l])},u.nextId=function(){return u._nextId++},u.indexOf=function(d,l){if(d.indexOf)return d.indexOf(l);for(var h=0;h<d.length;h++)if(d[h]===l)return h;return-1},u.map=function(d,l){if(d.map)return d.map(l);for(var h=[],n=0;n<d.length;n+=1)h.push(l(d[n]));return h},u.topologicalSort=function(d){var l=[],h=[],n=[];for(var r in d)!h[r]&&!n[r]&&u._topologicalSort(r,h,n,d,l);return l},u._topologicalSort=function(d,l,h,n,r){var f=n[d]||[];h[d]=!0;for(var a=0;a<f.length;a+=1){var c=f[a];h[c]||l[c]||u._topologicalSort(c,l,h,n,r)}h[d]=!1,l[d]=!0,r.push(d)},u.chain=function(){for(var d=[],l=0;l<arguments.length;l+=1){var h=arguments[l];h._chained?d.push.apply(d,h._chained):d.push(h)}var n=function(){for(var r,f=new Array(arguments.length),a=0,c=arguments.length;a<c;a++)f[a]=arguments[a];for(a=0;a<d.length;a+=1){var p=d[a].apply(r,f);typeof p<"u"&&(r=p)}return r};return n._chained=d,n},u.chainPathBefore=function(d,l,h){return u.set(d,l,u.chain(h,u.get(d,l)))},u.chainPathAfter=function(d,l,h){return u.set(d,l,u.chain(u.get(d,l),h))},u.setDecomp=function(d){u._decomp=d},u.getDecomp=function(){var d=u._decomp;try{!d&&typeof window<"u"&&(d=window.decomp),!d&&typeof e.g<"u"&&(d=e.g.decomp)}catch{d=null}return d}}()},45775:(o,T,e)=>{var u={};o.exports=u;var x=e(22806),d=e(44272),l=e(13657),h=e(91327),n=e(39073),r=e(11299),f=e(52838),a=e(68758),c=e(84125);(function(){u.create=function(p){p=p||{};var v={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},m=a.extend(v,p);return m.world=p.world||r.create({label:"World"}),m.pairs=p.pairs||h.create(),m.detector=p.detector||l.create(),m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},u.update=function(p,v){var m=a.now(),y=p.world,E=p.detector,P=p.pairs,S=p.timing,w=S.timestamp,A;v=typeof v<"u"?v:a._baseDelta,v*=S.timeScale,S.timestamp+=v,S.lastDelta=v;var R={timestamp:S.timestamp,delta:v};n.trigger(p,"beforeUpdate",R);var O=r.allBodies(y),L=r.allConstraints(y);for(y.isModified&&(l.setBodies(E,O),r.setModified(y,!1,!1,!0)),p.enableSleeping&&x.update(O,v),u._bodiesApplyGravity(O,p.gravity),v>0&&u._bodiesUpdate(O,v),n.trigger(p,"beforeSolve",R),f.preSolveAll(O),A=0;A<p.constraintIterations;A++)f.solveAll(L,v);f.postSolveAll(O),E.pairs=p.pairs;var b=l.collisions(E);h.update(P,b,w),p.enableSleeping&&x.afterCollisions(P.list),P.collisionStart.length>0&&n.trigger(p,"collisionStart",{pairs:P.collisionStart,timestamp:S.timestamp,delta:v});var D=a.clamp(20/p.positionIterations,0,1);for(d.preSolvePosition(P.list),A=0;A<p.positionIterations;A++)d.solvePosition(P.list,v,D);for(d.postSolvePosition(O),f.preSolveAll(O),A=0;A<p.constraintIterations;A++)f.solveAll(L,v);for(f.postSolveAll(O),d.preSolveVelocity(P.list),A=0;A<p.velocityIterations;A++)d.solveVelocity(P.list,v);return u._bodiesUpdateVelocities(O),P.collisionActive.length>0&&n.trigger(p,"collisionActive",{pairs:P.collisionActive,timestamp:S.timestamp,delta:v}),P.collisionEnd.length>0&&n.trigger(p,"collisionEnd",{pairs:P.collisionEnd,timestamp:S.timestamp,delta:v}),u._bodiesClearForces(O),n.trigger(p,"afterUpdate",R),p.timing.lastElapsed=a.now()-m,p},u.merge=function(p,v){if(a.extend(p,v),v.world){p.world=v.world,u.clear(p);for(var m=r.allBodies(p.world),y=0;y<m.length;y++){var E=m[y];x.set(E,!1),E.id=a.nextId()}}},u.clear=function(p){h.clear(p.pairs),l.clear(p.detector)},u._bodiesClearForces=function(p){for(var v=p.length,m=0;m<v;m++){var y=p[m];y.force.x=0,y.force.y=0,y.torque=0}},u._bodiesApplyGravity=function(p,v){var m=typeof v.scale<"u"?v.scale:.001,y=p.length;if(!(v.x===0&&v.y===0||m===0))for(var E=0;E<y;E++){var P=p[E];P.isStatic||P.isSleeping||(P.force.y+=P.mass*v.y*m,P.force.x+=P.mass*v.x*m)}},u._bodiesUpdate=function(p,v){for(var m=p.length,y=0;y<m;y++){var E=p[y];E.isStatic||E.isSleeping||c.update(E,v)}},u._bodiesUpdateVelocities=function(p){for(var v=p.length,m=0;m<v;m++)c.updateVelocities(p[m])}})()},39073:(o,T,e)=>{var u={};o.exports=u;var x=e(68758);(function(){u.on=function(d,l,h){for(var n=l.split(" "),r,f=0;f<n.length;f++)r=n[f],d.events=d.events||{},d.events[r]=d.events[r]||[],d.events[r].push(h);return h},u.off=function(d,l,h){if(!l){d.events={};return}typeof l=="function"&&(h=l,l=x.keys(d.events).join(" "));for(var n=l.split(" "),r=0;r<n.length;r++){var f=d.events[n[r]],a=[];if(h&&f)for(var c=0;c<f.length;c++)f[c]!==h&&a.push(f[c]);d.events[n[r]]=a}},u.trigger=function(d,l,h){var n,r,f,a,c=d.events;if(c&&x.keys(c).length>0){h||(h={}),n=l.split(" ");for(var p=0;p<n.length;p++)if(r=n[p],f=c[r],f){a=x.clone(h,!1),a.name=r,a.source=d;for(var v=0;v<f.length;v++)f[v].apply(d,[a])}}}})()},16929:(o,T,e)=>{var u={};o.exports=u;var x=e(84474),d=e(68758);(function(){u.name="matter-js",u.version="0.19.0",u.uses=[],u.used=[],u.use=function(){x.use(u,Array.prototype.slice.call(arguments))},u.before=function(l,h){return l=l.replace(/^Matter./,""),d.chainPathBefore(u,l,h)},u.after=function(l,h){return l=l.replace(/^Matter./,""),d.chainPathAfter(u,l,h)}})()},84474:(o,T,e)=>{var u={};o.exports=u;var x=e(68758);(function(){u._registry={},u.register=function(d){if(u.isPlugin(d)||x.warn("Plugin.register:",u.toString(d),"does not implement all required fields."),d.name in u._registry){var l=u._registry[d.name],h=u.versionParse(d.version).number,n=u.versionParse(l.version).number;h>n?(x.warn("Plugin.register:",u.toString(l),"was upgraded to",u.toString(d)),u._registry[d.name]=d):h<n?x.warn("Plugin.register:",u.toString(l),"can not be downgraded to",u.toString(d)):d!==l&&x.warn("Plugin.register:",u.toString(d),"is already registered to different plugin object")}else u._registry[d.name]=d;return d},u.resolve=function(d){return u._registry[u.dependencyParse(d).name]},u.toString=function(d){return typeof d=="string"?d:(d.name||"anonymous")+"@"+(d.version||d.range||"0.0.0")},u.isPlugin=function(d){return d&&d.name&&d.version&&d.install},u.isUsed=function(d,l){return d.used.indexOf(l)>-1},u.isFor=function(d,l){var h=d.for&&u.dependencyParse(d.for);return!d.for||l.name===h.name&&u.versionSatisfies(l.version,h.range)},u.use=function(d,l){if(d.uses=(d.uses||[]).concat(l||[]),d.uses.length===0){x.warn("Plugin.use:",u.toString(d),"does not specify any dependencies to install.");return}for(var h=u.dependencies(d),n=x.topologicalSort(h),r=[],f=0;f<n.length;f+=1)if(n[f]!==d.name){var a=u.resolve(n[f]);if(!a){r.push("\u274C "+n[f]);continue}u.isUsed(d,a.name)||(u.isFor(a,d)||(x.warn("Plugin.use:",u.toString(a),"is for",a.for,"but installed on",u.toString(d)+"."),a._warned=!0),a.install?a.install(d):(x.warn("Plugin.use:",u.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(r.push("\u{1F536} "+u.toString(a)),delete a._warned):r.push("\u2705 "+u.toString(a)),d.used.push(a.name))}r.length>0&&!a.silent&&x.info(r.join("  "))},u.dependencies=function(d,l){var h=u.dependencyParse(d),n=h.name;if(l=l||{},!(n in l)){d=u.resolve(d)||d,l[n]=x.map(d.uses||[],function(f){u.isPlugin(f)&&u.register(f);var a=u.dependencyParse(f),c=u.resolve(f);return c&&!u.versionSatisfies(c.version,a.range)?(x.warn("Plugin.dependencies:",u.toString(c),"does not satisfy",u.toString(a),"used by",u.toString(h)+"."),c._warned=!0,d._warned=!0):c||(x.warn("Plugin.dependencies:",u.toString(f),"used by",u.toString(h),"could not be resolved."),d._warned=!0),a.name});for(var r=0;r<l[n].length;r+=1)u.dependencies(l[n][r],l);return l}},u.dependencyParse=function(d){if(x.isString(d)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(d)||x.warn("Plugin.dependencyParse:",d,"is not a valid dependency string."),{name:d.split("@")[0],range:d.split("@")[1]||"*"}}return{name:d.name,range:d.range||d.version}},u.versionParse=function(d){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(d)||x.warn("Plugin.versionParse:",d,"is not a valid version or range.");var h=l.exec(d),n=Number(h[4]),r=Number(h[5]),f=Number(h[6]);return{isRange:Boolean(h[1]||h[2]),version:h[3],range:d,operator:h[1]||h[2]||"",major:n,minor:r,patch:f,parts:[n,r,f],prerelease:h[7],number:n*1e8+r*1e4+f}},u.versionSatisfies=function(d,l){l=l||"*";var h=u.versionParse(l),n=u.versionParse(d);if(h.isRange){if(h.operator==="*"||d==="*")return!0;if(h.operator===">")return n.number>h.number;if(h.operator===">=")return n.number>=h.number;if(h.operator==="~")return n.major===h.major&&n.minor===h.minor&&n.patch>=h.patch;if(h.operator==="^")return h.major>0?n.major===h.major&&n.number>=h.number:h.minor>0?n.minor===h.minor&&n.patch>=h.patch:n.patch===h.patch}return d===l||d==="*"}})()},22806:(o,T,e)=>{var u={};o.exports=u;var x=e(84125),d=e(39073),l=e(68758);(function(){u._motionWakeThreshold=.18,u._motionSleepThreshold=.08,u._minBias=.9,u.update=function(h,n){for(var r=n/l._baseDelta,f=u._motionSleepThreshold,a=0;a<h.length;a++){var c=h[a],p=x.getSpeed(c),v=x.getAngularSpeed(c),m=p*p+v*v;if(c.force.x!==0||c.force.y!==0){u.set(c,!1);continue}var y=Math.min(c.motion,m),E=Math.max(c.motion,m);c.motion=u._minBias*y+(1-u._minBias)*E,c.sleepThreshold>0&&c.motion<f?(c.sleepCounter+=1,c.sleepCounter>=c.sleepThreshold/r&&u.set(c,!0)):c.sleepCounter>0&&(c.sleepCounter-=1)}},u.afterCollisions=function(h){for(var n=u._motionSleepThreshold,r=0;r<h.length;r++){var f=h[r];if(!!f.isActive){var a=f.collision,c=a.bodyA.parent,p=a.bodyB.parent;if(!(c.isSleeping&&p.isSleeping||c.isStatic||p.isStatic)&&(c.isSleeping||p.isSleeping)){var v=c.isSleeping&&!c.isStatic?c:p,m=v===c?p:c;!v.isStatic&&m.motion>n&&u.set(v,!1)}}}},u.set=function(h,n){var r=h.isSleeping;n?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,r||d.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,r&&d.trigger(h,"sleepEnd"))}})()},68516:(o,T,e)=>{var u={};o.exports=u;var x=e(39745),d=e(68758),l=e(84125),h=e(84091),n=e(10438);(function(){u.rectangle=function(r,f,a,c,p){p=p||{};var v={label:"Rectangle Body",position:{x:r,y:f},vertices:x.fromPath("L 0 0 L "+a+" 0 L "+a+" "+c+" L 0 "+c)};if(p.chamfer){var m=p.chamfer;v.vertices=x.chamfer(v.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete p.chamfer}return l.create(d.extend({},v,p))},u.trapezoid=function(r,f,a,c,p,v){v=v||{},p*=.5;var m=(1-p*2)*a,y=a*p,E=y+m,P=E+y,S;p<.5?S="L 0 0 L "+y+" "+-c+" L "+E+" "+-c+" L "+P+" 0":S="L 0 0 L "+E+" "+-c+" L "+P+" 0";var w={label:"Trapezoid Body",position:{x:r,y:f},vertices:x.fromPath(S)};if(v.chamfer){var A=v.chamfer;w.vertices=x.chamfer(w.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete v.chamfer}return l.create(d.extend({},w,v))},u.circle=function(r,f,a,c,p){c=c||{};var v={label:"Circle Body",circleRadius:a};p=p||25;var m=Math.ceil(Math.max(10,Math.min(p,a)));return m%2===1&&(m+=1),u.polygon(r,f,m,a,d.extend({},v,c))},u.polygon=function(r,f,a,c,p){if(p=p||{},a<3)return u.circle(r,f,c,p);for(var v=2*Math.PI/a,m="",y=v*.5,E=0;E<a;E+=1){var P=y+E*v,S=Math.cos(P)*c,w=Math.sin(P)*c;m+="L "+S.toFixed(3)+" "+w.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:r,y:f},vertices:x.fromPath(m)};if(p.chamfer){var R=p.chamfer;A.vertices=x.chamfer(A.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete p.chamfer}return l.create(d.extend({},A,p))},u.fromVertices=function(r,f,a,c,p,v,m,y){var E=d.getDecomp(),P,S,w,A,R,O,L,b,D,I,B;for(P=Boolean(E&&E.quickDecomp),c=c||{},w=[],p=typeof p<"u"?p:!1,v=typeof v<"u"?v:.01,m=typeof m<"u"?m:10,y=typeof y<"u"?y:.01,d.isArray(a[0])||(a=[a]),I=0;I<a.length;I+=1)if(O=a[I],A=x.isConvex(O),R=!A,R&&!P&&d.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!P)A?O=x.clockwiseSort(O):O=x.hull(O),w.push({position:{x:r,y:f},vertices:O});else{var V=O.map(function($){return[$.x,$.y]});E.makeCCW(V),v!==!1&&E.removeCollinearPoints(V,v),y!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(V,y);var Y=E.quickDecomp(V);for(L=0;L<Y.length;L++){var k=Y[L],W=k.map(function($){return{x:$[0],y:$[1]}});m>0&&x.area(W)<m||w.push({position:x.centre(W),vertices:W})}}for(L=0;L<w.length;L++)w[L]=l.create(d.extend(w[L],c));if(p){var G=5;for(L=0;L<w.length;L++){var U=w[L];for(b=L+1;b<w.length;b++){var F=w[b];if(h.overlaps(U.bounds,F.bounds)){var N=U.vertices,z=F.vertices;for(D=0;D<U.vertices.length;D++)for(B=0;B<F.vertices.length;B++){var X=n.magnitudeSquared(n.sub(N[(D+1)%N.length],z[B])),H=n.magnitudeSquared(n.sub(N[D],z[(B+1)%z.length]));X<G&&H<G&&(N[D].isInternal=!0,z[B].isInternal=!0)}}}}}return w.length>1?(S=l.create(d.extend({parts:w.slice(0)},c)),l.setPosition(S,{x:r,y:f}),S):w[0]},u.flagCoincidentParts=function(r,f){f===void 0&&(f=5);for(var a=0;a<r.length;a++)for(var c=r[a],p=a+1;p<r.length;p++){var v=r[p];if(h.overlaps(c.bounds,v.bounds))for(var m=c.vertices,y=v.vertices,E=0;E<c.vertices.length;E++)for(var P=0;P<v.vertices.length;P++){var S=n.magnitudeSquared(n.sub(m[(E+1)%m.length],y[P])),w=n.magnitudeSquared(n.sub(m[E],y[(P+1)%y.length]));S<f&&w<f&&(m[E].isInternal=!0,y[P].isInternal=!0)}}return r}})()},56643:(o,T,e)=>{var u={};o.exports=u;var x=e(11299),d=e(52838),l=e(68758),h=e(84125),n=e(68516);(function(){u.stack=function(r,f,a,c,p,v,m){for(var y=x.create({label:"Stack"}),E=r,P=f,S,w=0,A=0;A<c;A++){for(var R=0,O=0;O<a;O++){var L=m(E,P,O,A,S,w);if(L){var b=L.bounds.max.y-L.bounds.min.y,D=L.bounds.max.x-L.bounds.min.x;b>R&&(R=b),h.translate(L,{x:D*.5,y:b*.5}),E=L.bounds.max.x+p,x.addBody(y,L),S=L,w+=1}else E+=p}P+=R+v,E=r}return y},u.chain=function(r,f,a,c,p,v){for(var m=r.bodies,y=1;y<m.length;y++){var E=m[y-1],P=m[y],S=E.bounds.max.y-E.bounds.min.y,w=E.bounds.max.x-E.bounds.min.x,A=P.bounds.max.y-P.bounds.min.y,R=P.bounds.max.x-P.bounds.min.x,O={bodyA:E,pointA:{x:w*f,y:S*a},bodyB:P,pointB:{x:R*c,y:A*p}},L=l.extend(O,v);x.addConstraint(r,d.create(L))}return r.label+=" Chain",r},u.mesh=function(r,f,a,c,p){var v=r.bodies,m,y,E,P,S;for(m=0;m<a;m++){for(y=1;y<f;y++)E=v[y-1+m*f],P=v[y+m*f],x.addConstraint(r,d.create(l.extend({bodyA:E,bodyB:P},p)));if(m>0)for(y=0;y<f;y++)E=v[y+(m-1)*f],P=v[y+m*f],x.addConstraint(r,d.create(l.extend({bodyA:E,bodyB:P},p))),c&&y>0&&(S=v[y-1+(m-1)*f],x.addConstraint(r,d.create(l.extend({bodyA:S,bodyB:P},p)))),c&&y<f-1&&(S=v[y+1+(m-1)*f],x.addConstraint(r,d.create(l.extend({bodyA:S,bodyB:P},p))))}return r.label+=" Mesh",r},u.pyramid=function(r,f,a,c,p,v,m){return u.stack(r,f,a,c,p,v,function(y,E,P,S,w,A){var R=Math.min(c,Math.ceil(a/2)),O=w?w.bounds.max.x-w.bounds.min.x:0;if(!(S>R)){S=R-S;var L=S,b=a-1-S;if(!(P<L||P>b)){A===1&&h.translate(w,{x:(P+(a%2===1?1:-1))*O,y:0});var D=w?P*O:0;return m(r+D+P*p,E,P,S,w,A)}}})},u.newtonsCradle=function(r,f,a,c,p){for(var v=x.create({label:"Newtons Cradle"}),m=0;m<a;m++){var y=1.9,E=n.circle(r+m*(c*y),f+p,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),P=d.create({pointA:{x:r+m*(c*y),y:f},bodyB:E});x.addBody(v,E),x.addConstraint(v,P)}return v},u.car=function(r,f,a,c,p){var v=h.nextGroup(!0),m=20,y=-a*.5+m,E=a*.5-m,P=0,S=x.create({label:"Car"}),w=n.rectangle(r,f,a,c,{collisionFilter:{group:v},chamfer:{radius:c*.5},density:2e-4}),A=n.circle(r+y,f+P,p,{collisionFilter:{group:v},friction:.8}),R=n.circle(r+E,f+P,p,{collisionFilter:{group:v},friction:.8}),O=d.create({bodyB:w,pointB:{x:y,y:P},bodyA:A,stiffness:1,length:0}),L=d.create({bodyB:w,pointB:{x:E,y:P},bodyA:R,stiffness:1,length:0});return x.addBody(S,w),x.addBody(S,A),x.addBody(S,R),x.addConstraint(S,O),x.addConstraint(S,L),S},u.softBody=function(r,f,a,c,p,v,m,y,E,P){E=l.extend({inertia:1/0},E),P=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},P);var S=u.stack(r,f,a,c,p,v,function(w,A){return n.circle(w,A,y,E)});return u.mesh(S,a,c,m,P),S.label="Soft Body",S}})()},50658:(o,T,e)=>{var u={};o.exports=u;var x=e(10438),d=e(68758);(function(){u.fromVertices=function(l){for(var h={},n=0;n<l.length;n++){var r=(n+1)%l.length,f=x.normalise({x:l[r].y-l[n].y,y:l[n].x-l[r].x}),a=f.y===0?1/0:f.x/f.y;a=a.toFixed(3).toString(),h[a]=f}return d.values(h)},u.rotate=function(l,h){if(h!==0)for(var n=Math.cos(h),r=Math.sin(h),f=0;f<l.length;f++){var a=l[f],c;c=a.x*n-a.y*r,a.y=a.x*r+a.y*n,a.x=c}}})()},84091:o=>{var T={};o.exports=T,function(){T.create=function(e){var u={min:{x:0,y:0},max:{x:0,y:0}};return e&&T.update(u,e),u},T.update=function(e,u,x){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var d=0;d<u.length;d++){var l=u[d];l.x>e.max.x&&(e.max.x=l.x),l.x<e.min.x&&(e.min.x=l.x),l.y>e.max.y&&(e.max.y=l.y),l.y<e.min.y&&(e.min.y=l.y)}x&&(x.x>0?e.max.x+=x.x:e.min.x+=x.x,x.y>0?e.max.y+=x.y:e.min.y+=x.y)},T.contains=function(e,u){return u.x>=e.min.x&&u.x<=e.max.x&&u.y>=e.min.y&&u.y<=e.max.y},T.overlaps=function(e,u){return e.min.x<=u.max.x&&e.max.x>=u.min.x&&e.max.y>=u.min.y&&e.min.y<=u.max.y},T.translate=function(e,u){e.min.x+=u.x,e.max.x+=u.x,e.min.y+=u.y,e.max.y+=u.y},T.shift=function(e,u){var x=e.max.x-e.min.x,d=e.max.y-e.min.y;e.min.x=u.x,e.max.x=u.x+x,e.min.y=u.y,e.max.y=u.y+d}}()},92765:(o,T,e)=>{var u={};o.exports=u,e(84091);var x=e(68758);(function(){u.pathToVertices=function(d,l){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,n,r,f,a,c,p,v,m,y,E=[],P,S,w=0,A=0,R=0;l=l||15;var O=function(b,D,I){var B=I%2===1&&I>1;if(!m||b!=m.x||D!=m.y){m&&B?(P=m.x,S=m.y):(P=0,S=0);var V={x:P+b,y:S+D};(B||!m)&&(m=V),E.push(V),A=P+b,R=S+D}},L=function(b){var D=b.pathSegTypeAsLetter.toUpperCase();if(D!=="Z"){switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":A=b.x,R=b.y;break;case"H":A=b.x;break;case"V":R=b.y;break}O(A,R,b.pathSegType)}};for(u._svgPathToAbsolute(d),r=d.getTotalLength(),c=[],h=0;h<d.pathSegList.numberOfItems;h+=1)c.push(d.pathSegList.getItem(h));for(p=c.concat();w<r;){if(y=d.getPathSegAtLength(w),a=c[y],a!=v){for(;p.length&&p[0]!=a;)L(p.shift());v=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=d.getPointAtLength(w),O(f.x,f.y,0);break}w+=l}for(h=0,n=p.length;h<n;++h)L(p[h]);return E},u._svgPathToAbsolute=function(d){for(var l,h,n,r,f,a,c=d.pathSegList,p=0,v=0,m=c.numberOfItems,y=0;y<m;++y){var E=c.getItem(y),P=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(P))"x"in E&&(p=E.x),"y"in E&&(v=E.y);else switch("x1"in E&&(n=p+E.x1),"x2"in E&&(f=p+E.x2),"y1"in E&&(r=v+E.y1),"y2"in E&&(a=v+E.y2),"x"in E&&(p+=E.x),"y"in E&&(v+=E.y),P){case"m":c.replaceItem(d.createSVGPathSegMovetoAbs(p,v),y);break;case"l":c.replaceItem(d.createSVGPathSegLinetoAbs(p,v),y);break;case"h":c.replaceItem(d.createSVGPathSegLinetoHorizontalAbs(p),y);break;case"v":c.replaceItem(d.createSVGPathSegLinetoVerticalAbs(v),y);break;case"c":c.replaceItem(d.createSVGPathSegCurvetoCubicAbs(p,v,n,r,f,a),y);break;case"s":c.replaceItem(d.createSVGPathSegCurvetoCubicSmoothAbs(p,v,f,a),y);break;case"q":c.replaceItem(d.createSVGPathSegCurvetoQuadraticAbs(p,v,n,r),y);break;case"t":c.replaceItem(d.createSVGPathSegCurvetoQuadraticSmoothAbs(p,v),y);break;case"a":c.replaceItem(d.createSVGPathSegArcAbs(p,v,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),y);break;case"z":case"Z":p=l,v=h;break}(P=="M"||P=="m")&&(l=p,h=v)}}})()},10438:o=>{var T={};o.exports=T,function(){T.create=function(e,u){return{x:e||0,y:u||0}},T.clone=function(e){return{x:e.x,y:e.y}},T.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},T.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},T.rotate=function(e,u,x){var d=Math.cos(u),l=Math.sin(u);x||(x={});var h=e.x*d-e.y*l;return x.y=e.x*l+e.y*d,x.x=h,x},T.rotateAbout=function(e,u,x,d){var l=Math.cos(u),h=Math.sin(u);d||(d={});var n=x.x+((e.x-x.x)*l-(e.y-x.y)*h);return d.y=x.y+((e.x-x.x)*h+(e.y-x.y)*l),d.x=n,d},T.normalise=function(e){var u=T.magnitude(e);return u===0?{x:0,y:0}:{x:e.x/u,y:e.y/u}},T.dot=function(e,u){return e.x*u.x+e.y*u.y},T.cross=function(e,u){return e.x*u.y-e.y*u.x},T.cross3=function(e,u,x){return(u.x-e.x)*(x.y-e.y)-(u.y-e.y)*(x.x-e.x)},T.add=function(e,u,x){return x||(x={}),x.x=e.x+u.x,x.y=e.y+u.y,x},T.sub=function(e,u,x){return x||(x={}),x.x=e.x-u.x,x.y=e.y-u.y,x},T.mult=function(e,u){return{x:e.x*u,y:e.y*u}},T.div=function(e,u){return{x:e.x/u,y:e.y/u}},T.perp=function(e,u){return u=u===!0?-1:1,{x:u*-e.y,y:u*e.x}},T.neg=function(e){return{x:-e.x,y:-e.y}},T.angle=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},39745:(o,T,e)=>{var u={};o.exports=u;var x=e(10438),d=e(68758);(function(){u.create=function(l,h){for(var n=[],r=0;r<l.length;r++){var f=l[r],a={x:f.x,y:f.y,index:r,body:h,isInternal:!1};n.push(a)}return n},u.fromPath=function(l,h){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,r=[];return l.replace(n,function(f,a,c){r.push({x:parseFloat(a),y:parseFloat(c)})}),u.create(r,h)},u.centre=function(l){for(var h=u.area(l,!0),n={x:0,y:0},r,f,a,c=0;c<l.length;c++)a=(c+1)%l.length,r=x.cross(l[c],l[a]),f=x.mult(x.add(l[c],l[a]),r),n=x.add(n,f);return x.div(n,6*h)},u.mean=function(l){for(var h={x:0,y:0},n=0;n<l.length;n++)h.x+=l[n].x,h.y+=l[n].y;return x.div(h,l.length)},u.area=function(l,h){for(var n=0,r=l.length-1,f=0;f<l.length;f++)n+=(l[r].x-l[f].x)*(l[r].y+l[f].y),r=f;return h?n/2:Math.abs(n)/2},u.inertia=function(l,h){for(var n=0,r=0,f=l,a,c,p=0;p<f.length;p++)c=(p+1)%f.length,a=Math.abs(x.cross(f[c],f[p])),n+=a*(x.dot(f[c],f[c])+x.dot(f[c],f[p])+x.dot(f[p],f[p])),r+=a;return h/6*(n/r)},u.translate=function(l,h,n){n=typeof n<"u"?n:1;var r=l.length,f=h.x*n,a=h.y*n,c;for(c=0;c<r;c++)l[c].x+=f,l[c].y+=a;return l},u.rotate=function(l,h,n){if(h!==0){var r=Math.cos(h),f=Math.sin(h),a=n.x,c=n.y,p=l.length,v,m,y,E;for(E=0;E<p;E++)v=l[E],m=v.x-a,y=v.y-c,v.x=a+(m*r-y*f),v.y=c+(m*f+y*r);return l}},u.contains=function(l,h){for(var n=h.x,r=h.y,f=l.length,a=l[f-1],c,p=0;p<f;p++){if(c=l[p],(n-a.x)*(c.y-a.y)+(r-a.y)*(a.x-c.x)>0)return!1;a=c}return!0},u.scale=function(l,h,n,r){if(h===1&&n===1)return l;r=r||u.centre(l);for(var f,a,c=0;c<l.length;c++)f=l[c],a=x.sub(f,r),l[c].x=r.x+a.x*h,l[c].y=r.y+a.y*n;return l},u.chamfer=function(l,h,n,r,f){typeof h=="number"?h=[h]:h=h||[8],n=typeof n<"u"?n:-1,r=r||2,f=f||14;for(var a=[],c=0;c<l.length;c++){var p=l[c-1>=0?c-1:l.length-1],v=l[c],m=l[(c+1)%l.length],y=h[c<h.length?c:h.length-1];if(y===0){a.push(v);continue}var E=x.normalise({x:v.y-p.y,y:p.x-v.x}),P=x.normalise({x:m.y-v.y,y:v.x-m.x}),S=Math.sqrt(2*Math.pow(y,2)),w=x.mult(d.clone(E),y),A=x.normalise(x.mult(x.add(E,P),.5)),R=x.sub(v,x.mult(A,S)),O=n;n===-1&&(O=Math.pow(y,.32)*1.75),O=d.clamp(O,r,f),O%2===1&&(O+=1);for(var L=Math.acos(x.dot(E,P)),b=L/O,D=0;D<O;D++)a.push(x.add(x.rotate(w,b*D),R))}return a},u.clockwiseSort=function(l){var h=u.mean(l);return l.sort(function(n,r){return x.angle(h,n)-x.angle(h,r)}),l},u.isConvex=function(l){var h=0,n=l.length,r,f,a,c;if(n<3)return null;for(r=0;r<n;r++)if(f=(r+1)%n,a=(r+2)%n,c=(l[f].x-l[r].x)*(l[a].y-l[f].y),c-=(l[f].y-l[r].y)*(l[a].x-l[f].x),c<0?h|=1:c>0&&(h|=2),h===3)return!1;return h!==0?!0:null},u.hull=function(l){var h=[],n=[],r,f;for(l=l.slice(0),l.sort(function(a,c){var p=a.x-c.x;return p!==0?p:a.y-c.y}),f=0;f<l.length;f+=1){for(r=l[f];n.length>=2&&x.cross3(n[n.length-2],n[n.length-1],r)<=0;)n.pop();n.push(r)}for(f=l.length-1;f>=0;f-=1){for(r=l[f];h.length>=2&&x.cross3(h[h.length-2],h[h.length-1],r)<=0;)h.pop();h.push(r)}return h.pop(),n.pop(),h.concat(n)}})()},1675:(o,T,e)=>{var u=e(18171),x={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(d){d.after("Body.create",function(){x.Body.init(this)}),d.before("Engine.update",function(l){x.Engine.update(l)})},Body:{init:function(d){d.plugin.attractors=d.plugin.attractors||[]}},Engine:{update:function(d){for(var l=u.Composite.allBodies(d.world),h=0;h<l.length;h++){var n=l[h],r=n.plugin.attractors;if(r&&r.length>0)for(var f=0;f<l.length;f++){var a=l[f];if(h!==f)for(var c=0;c<r.length;c++){var p=r[c],v=p;u.Common.isFunction(p)&&(v=p(n,a)),v&&u.Body.applyForce(a,a.position,v)}}}}},Attractors:{gravityConstant:.001,gravity:function(d,l){var h=u.Vector.sub(l.position,d.position),n=u.Vector.magnitudeSquared(h)||1e-4,r=u.Vector.normalise(h),f=-x.Attractors.gravityConstant*(d.mass*l.mass/n),a=u.Vector.mult(r,f);u.Body.applyForce(d,d.position,u.Vector.neg(a)),u.Body.applyForce(l,l.position,a)}}};o.exports=x},80391:o=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(u){u.pairs.map(function(x){var d=x.bodyA,l=x.bodyB;d.gameObject&&d.gameObject.emit("collide",d,l,x),l.gameObject&&l.gameObject.emit("collide",l,d,x),e.Events.trigger(d,"onCollide",{pair:x}),e.Events.trigger(l,"onCollide",{pair:x}),d.onCollideCallback&&d.onCollideCallback(x),l.onCollideCallback&&l.onCollideCallback(x),d.onCollideWith[l.id]&&d.onCollideWith[l.id](l,x),l.onCollideWith[d.id]&&l.onCollideWith[d.id](d,x)})}),e.Events.on(this,"collisionActive",function(u){u.pairs.map(function(x){var d=x.bodyA,l=x.bodyB;d.gameObject&&d.gameObject.emit("collideActive",d,l,x),l.gameObject&&l.gameObject.emit("collideActive",l,d,x),e.Events.trigger(d,"onCollideActive",{pair:x}),e.Events.trigger(l,"onCollideActive",{pair:x}),d.onCollideActiveCallback&&d.onCollideActiveCallback(x),l.onCollideActiveCallback&&l.onCollideActiveCallback(x)})}),e.Events.on(this,"collisionEnd",function(u){u.pairs.map(function(x){var d=x.bodyA,l=x.bodyB;d.gameObject&&d.gameObject.emit("collideEnd",d,l,x),l.gameObject&&l.gameObject.emit("collideEnd",l,d,x),e.Events.trigger(d,"onCollideEnd",{pair:x}),e.Events.trigger(l,"onCollideEnd",{pair:x}),d.onCollideEndCallback&&d.onCollideEndCallback(x),l.onCollideEndCallback&&l.onCollideEndCallback(x)})})})}};o.exports=T},44097:(o,T,e)=>{var u=e(18171),x={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(d){d.after("Engine.update",function(){x.Engine.update(this)})},Engine:{update:function(d){for(var l=d.world,h=u.Composite.allBodies(l),n=u.Composite.allComposites(l),r=0;r<h.length;r+=1){var f=h[r];f.plugin.wrap&&x.Body.wrap(f,f.plugin.wrap)}for(r=0;r<n.length;r+=1){var a=n[r];a.plugin.wrap&&x.Composite.wrap(a,a.plugin.wrap)}}},Bounds:{wrap:function(d,l){var h=null,n=null;if(typeof l.min.x<"u"&&typeof l.max.x<"u"&&(d.min.x>l.max.x?h=l.min.x-d.max.x:d.max.x<l.min.x&&(h=l.max.x-d.min.x)),typeof l.min.y<"u"&&typeof l.max.y<"u"&&(d.min.y>l.max.y?n=l.min.y-d.max.y:d.max.y<l.min.y&&(n=l.max.y-d.min.y)),h!==null||n!==null)return{x:h||0,y:n||0}}},Body:{wrap:function(d,l){var h=x.Bounds.wrap(d.bounds,l);return h&&u.Body.translate(d,h),h}},Composite:{bounds:function(d){for(var l=u.Composite.allBodies(d),h=[],n=0;n<l.length;n+=1){var r=l[n];h.push(r.bounds.min,r.bounds.max)}return u.Bounds.create(h)},wrap:function(d,l){var h=x.Bounds.wrap(x.Composite.bounds(d),l);return h&&u.Composite.translate(d,h),h}}};o.exports=x},81084:o=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={decomp:L,quickDecomp:B,isSimple:D,removeCollinearPoints:V,removeDuplicatePoints:Y,makeCCW:m};function T(G,U,F){F=F||0;var N=[0,0],z,X,H,$,K,Z,J;return z=G[1][1]-G[0][1],X=G[0][0]-G[1][0],H=z*G[0][0]+X*G[0][1],$=U[1][1]-U[0][1],K=U[0][0]-U[1][0],Z=$*U[0][0]+K*U[0][1],J=z*K-$*X,k(J,0,F)||(N[0]=(K*H-X*Z)/J,N[1]=(z*Z-$*H)/J),N}function e(G,U,F,N){var z=U[0]-G[0],X=U[1]-G[1],H=N[0]-F[0],$=N[1]-F[1];if(H*X-$*z===0)return!1;var K=(z*(F[1]-G[1])+X*(G[0]-F[0]))/(H*X-$*z),Z=(H*(G[1]-F[1])+$*(F[0]-G[0]))/($*z-H*X);return K>=0&&K<=1&&Z>=0&&Z<=1}function u(G,U,F){return(U[0]-G[0])*(F[1]-G[1])-(F[0]-G[0])*(U[1]-G[1])}function x(G,U,F){return u(G,U,F)>0}function d(G,U,F){return u(G,U,F)>=0}function l(G,U,F){return u(G,U,F)<0}function h(G,U,F){return u(G,U,F)<=0}var n=[],r=[];function f(G,U,F,N){if(N){var z=n,X=r;z[0]=U[0]-G[0],z[1]=U[1]-G[1],X[0]=F[0]-U[0],X[1]=F[1]-U[1];var H=z[0]*X[0]+z[1]*X[1],$=Math.sqrt(z[0]*z[0]+z[1]*z[1]),K=Math.sqrt(X[0]*X[0]+X[1]*X[1]),Z=Math.acos(H/($*K));return Z<N}else return u(G,U,F)===0}function a(G,U){var F=U[0]-G[0],N=U[1]-G[1];return F*F+N*N}function c(G,U){var F=G.length;return G[U<0?U%F+F:U%F]}function p(G){G.length=0}function v(G,U,F,N){for(var z=F;z<N;z++)G.push(U[z])}function m(G){for(var U=0,F=G,N=1;N<G.length;++N)(F[N][1]<F[U][1]||F[N][1]===F[U][1]&&F[N][0]>F[U][0])&&(U=N);return x(c(G,U-1),c(G,U),c(G,U+1))?!1:(y(G),!0)}function y(G){for(var U=[],F=G.length,N=0;N!==F;N++)U.push(G.pop());for(var N=0;N!==F;N++)G[N]=U[N]}function E(G,U){return l(c(G,U-1),c(G,U),c(G,U+1))}var P=[],S=[];function w(G,U,F){var N,z,X=P,H=S;if(d(c(G,U+1),c(G,U),c(G,F))&&h(c(G,U-1),c(G,U),c(G,F)))return!1;z=a(c(G,U),c(G,F));for(var $=0;$!==G.length;++$)if(!(($+1)%G.length===U||$===U)&&d(c(G,U),c(G,F),c(G,$+1))&&h(c(G,U),c(G,F),c(G,$))&&(X[0]=c(G,U),X[1]=c(G,F),H[0]=c(G,$),H[1]=c(G,$+1),N=T(X,H),a(c(G,U),N)<z))return!1;return!0}function A(G,U,F){for(var N=0;N!==G.length;++N)if(!(N===U||N===F||(N+1)%G.length===U||(N+1)%G.length===F)&&e(c(G,U),c(G,F),c(G,N),c(G,N+1)))return!1;return!0}function R(G,U,F,N){var z=N||[];if(p(z),U<F)for(var X=U;X<=F;X++)z.push(G[X]);else{for(var X=0;X<=F;X++)z.push(G[X]);for(var X=U;X<G.length;X++)z.push(G[X])}return z}function O(G){for(var U=[],F=[],N=[],z=[],X=Number.MAX_VALUE,H=0;H<G.length;++H)if(E(G,H)){for(var $=0;$<G.length;++$)if(w(G,H,$)){F=O(R(G,H,$,z)),N=O(R(G,$,H,z));for(var K=0;K<N.length;K++)F.push(N[K]);F.length<X&&(U=F,X=F.length,U.push([c(G,H),c(G,$)]))}}return U}function L(G){var U=O(G);return U.length>0?b(G,U):[G]}function b(G,U){if(U.length===0)return[G];if(U instanceof Array&&U.length&&U[0]instanceof Array&&U[0].length===2&&U[0][0]instanceof Array){for(var F=[G],N=0;N<U.length;N++)for(var z=U[N],X=0;X<F.length;X++){var H=F[X],$=b(H,z);if($){F.splice(X,1),F.push($[0],$[1]);break}}return F}else{var z=U,N=G.indexOf(z[0]),X=G.indexOf(z[1]);return N!==-1&&X!==-1?[R(G,N,X),R(G,X,N)]:!1}}function D(G){var U=G,F;for(F=0;F<U.length-1;F++)for(var N=0;N<F-1;N++)if(e(U[F],U[F+1],U[N],U[N+1]))return!1;for(F=1;F<U.length-2;F++)if(e(U[0],U[U.length-1],U[F],U[F+1]))return!1;return!0}function I(G,U,F,N,z){z=z||0;var X=U[1]-G[1],H=G[0]-U[0],$=X*G[0]+H*G[1],K=N[1]-F[1],Z=F[0]-N[0],J=K*F[0]+Z*F[1],j=X*Z-K*H;return k(j,0,z)?[0,0]:[(Z*$-H*J)/j,(X*J-K*$)/j]}function B(G,U,F,N,z,X,H){X=X||100,H=H||0,z=z||25,U=typeof U<"u"?U:[],F=F||[],N=N||[];var $=[0,0],K=[0,0],Z=[0,0],J=0,j=0,Q=0,tt=0,_=0,it=0,ht=0,lt=[],ot=[],et=G,at=G;if(at.length<3)return U;if(H++,H>X)return console.warn("quickDecomp: max level ("+X+") reached."),U;for(var rt=0;rt<G.length;++rt)if(E(et,rt)){F.push(et[rt]),J=j=Number.MAX_VALUE;for(var gt=0;gt<G.length;++gt)x(c(et,rt-1),c(et,rt),c(et,gt))&&h(c(et,rt-1),c(et,rt),c(et,gt-1))&&(Z=I(c(et,rt-1),c(et,rt),c(et,gt),c(et,gt-1)),l(c(et,rt+1),c(et,rt),Z)&&(Q=a(et[rt],Z),Q<j&&(j=Q,K=Z,it=gt))),x(c(et,rt+1),c(et,rt),c(et,gt+1))&&h(c(et,rt+1),c(et,rt),c(et,gt))&&(Z=I(c(et,rt+1),c(et,rt),c(et,gt),c(et,gt+1)),x(c(et,rt-1),c(et,rt),Z)&&(Q=a(et[rt],Z),Q<J&&(J=Q,$=Z,_=gt)));if(it===(_+1)%G.length)Z[0]=(K[0]+$[0])/2,Z[1]=(K[1]+$[1])/2,N.push(Z),rt<_?(v(lt,et,rt,_+1),lt.push(Z),ot.push(Z),it!==0&&v(ot,et,it,et.length),v(ot,et,0,rt+1)):(rt!==0&&v(lt,et,rt,et.length),v(lt,et,0,_+1),lt.push(Z),ot.push(Z),v(ot,et,it,rt+1));else{if(it>_&&(_+=G.length),tt=Number.MAX_VALUE,_<it)return U;for(var gt=it;gt<=_;++gt)d(c(et,rt-1),c(et,rt),c(et,gt))&&h(c(et,rt+1),c(et,rt),c(et,gt))&&(Q=a(c(et,rt),c(et,gt)),Q<tt&&A(et,rt,gt)&&(tt=Q,ht=gt%G.length));rt<ht?(v(lt,et,rt,ht+1),ht!==0&&v(ot,et,ht,at.length),v(ot,et,0,rt+1)):(rt!==0&&v(lt,et,rt,at.length),v(lt,et,0,ht+1),v(ot,et,ht,rt+1))}return lt.length<ot.length?(B(lt,U,F,N,z,X,H),B(ot,U,F,N,z,X,H)):(B(ot,U,F,N,z,X,H),B(lt,U,F,N,z,X,H)),U}return U.push(G),U}function V(G,U){for(var F=0,N=G.length-1;G.length>3&&N>=0;--N)f(c(G,N-1),c(G,N),c(G,N+1),U)&&(G.splice(N%G.length,1),F++);return F}function Y(G,U){for(var F=G.length-1;F>=1;--F)for(var N=G[F],z=F-1;z>=0;--z)if(W(N,G[z],U)){G.splice(F,1);continue}}function k(G,U,F){return F=F||0,Math.abs(G-U)<=F}function W(G,U,F){return k(G[0],U[0],F)&&k(G[1],U[1],F)}},88257:(o,T,e)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=e(56694),x=new u({initialize:function(l){this.pluginManager=l,this.game=l.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});o.exports=x},18360:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};o.exports=T},91963:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},e={},u={};u.register=function(x,d,l,h){h===void 0&&(h=!1),T[x]={plugin:d,mapping:l,custom:h}},u.registerCustom=function(x,d,l,h){e[x]={plugin:d,mapping:l,data:h}},u.hasCore=function(x){return T.hasOwnProperty(x)},u.hasCustom=function(x){return e.hasOwnProperty(x)},u.getCore=function(x){return T[x]},u.getCustom=function(x){return e[x]},u.getCustomClass=function(x){return e.hasOwnProperty(x)?e[x].plugin:null},u.remove=function(x){T.hasOwnProperty(x)&&delete T[x]},u.removeCustom=function(x){e.hasOwnProperty(x)&&delete e[x]},u.destroyCorePlugins=function(){for(var x in T)T.hasOwnProperty(x)&&delete T[x]},u.destroyCustomPlugins=function(){for(var x in e)e.hasOwnProperty(x)&&delete e[x]},o.exports=u},49274:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(97081),d=e(6659),l=e(76846),h=e(99325),n=e(61286),r=e(72632),f=e(91963),a=e(66458),c=new u({Extends:d,initialize:function(v){d.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted?this.boot():v.events.once(x.BOOT,this.boot,this)},boot:function(){var p,v,m,y,E,P,S,w=this.game.config,A=w.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),p=0;p<A.length;p++)v=A[p],m=r(v,"key",null),y=r(v,"plugin",null),E=r(v,"start",!1),P=r(v,"mapping",null),S=r(v,"data",null),m&&(y?this.install(m,y,E,P,S):console.warn("Missing `plugin` for key: "+m));for(A=w.installScenePlugins,A=A.concat(this._pendingScene),p=0;p<A.length;p++)v=A[p],m=r(v,"key",null),y=r(v,"plugin",null),P=r(v,"mapping",null),m&&(y?this.installScenePlugin(m,y,P):console.warn("Missing `plugin` for key: "+m));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(p,v,m){var y,E,P,S=this.game,w=p.scene,A=p.settings.map,R=p.settings.isBooted;for(y=0;y<v.length;y++)E=v[y],S[E]?(p[E]=S[E],A.hasOwnProperty(E)&&(w[A[E]]=p[E])):E==="game"&&A.hasOwnProperty(E)&&(w[A[E]]=S);for(var O=0;O<m.length;O++)for(P=m[O],y=0;y<P.length;y++)if(E=P[y],!!f.hasCore(E)){var L=f.getCore(E),b=L.mapping,D=new L.plugin(w,this,b);p[b]=D,L.custom?w[b]=D:A.hasOwnProperty(b)&&(w[A[b]]=D),R&&D.boot()}for(P=this.plugins,y=0;y<P.length;y++){var I=P[y];I.mapping&&(w[I.mapping]=I.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p=p.concat(this.scenePlugins),p},installScenePlugin:function(p,v,m,y,E){if(E===void 0&&(E=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+p);return}if(f.hasCore(p)||f.register(p,v,m,!0),this.scenePlugins.indexOf(p)===-1)this.scenePlugins.push(p);else if(!E&&f.hasCore(p)){console.warn("Scene Plugin key in use: "+p);return}if(y){var P=new v(y,this,p);y.sys[p]=P,m&&m!==""&&(y[m]=P),P.boot()}},install:function(p,v,m,y,E){if(m===void 0&&(m=!1),y===void 0&&(y=null),E===void 0&&(E=null),typeof v!="function")return console.warn("Invalid Plugin: "+p),null;if(f.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(y!==null&&(m=!0),!this.game.isBooted)this._pendingGlobal.push({key:p,plugin:v,start:m,mapping:y,data:E});else if(f.registerCustom(p,v,y,E),m)return this.start(p);return null},getIndex:function(p){for(var v=this.plugins,m=0;m<v.length;m++){var y=v[m];if(y.key===p)return m}return-1},getEntry:function(p){var v=this.getIndex(p);if(v!==-1)return this.plugins[v]},isActive:function(p){var v=this.getEntry(p);return v&&v.active},start:function(p,v){v===void 0&&(v=p);var m=this.getEntry(v);return m&&!m.active?(m.active=!0,m.plugin.start()):m||(m=this.createEntry(p,v)),m?m.plugin:null},createEntry:function(p,v){var m=f.getCustom(p);if(m){var y=new m.plugin(this);m={key:v,plugin:y,active:!0,mapping:m.mapping,data:m.data},this.plugins.push(m),y.init(m.data),y.start()}return m},stop:function(p){var v=this.getEntry(p);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(p,v){v===void 0&&(v=!0);var m=this.getEntry(p);if(m)return m.plugin;var y=this.getClass(p);return y&&v?(m=this.createEntry(p,p),m?m.plugin:null):y||null},getClass:function(p){return f.getCustomClass(p)},removeGlobalPlugin:function(p){var v=this.getEntry(p);v&&a(this.plugins,v),f.removeCustom(p)},removeScenePlugin:function(p){a(this.scenePlugins,p),f.remove(p)},registerGameObject:function(p,v,m){return v&&n.register(p,v),m&&h.register(p,m),this},removeGameObject:function(p,v,m){return v===void 0&&(v=!0),m===void 0&&(m=!0),v&&n.remove(p),m&&h.remove(p),this},registerFileType:function(p,v,m){l.register(p,v),m&&m.sys.load&&(m.sys.load[p]=v)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();f.destroyCustomPlugins(),this.game.noReturn&&f.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});o.exports=c},39283:(o,T,e)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=e(88257),x=e(56694),d=e(7599),l=new x({Extends:u,initialize:function(n,r,f){u.call(this,r),this.scene=n,this.systems=n.sys,this.pluginKey=f,n.sys.events.once(d.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});o.exports=l},45615:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BasePlugin:e(88257),DefaultPlugins:e(18360),PluginCache:e(91963),PluginManager:e(49274),ScenePlugin:e(39283)}},75205:()=>{!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(o){const T=performance.now(),e=this.getVideoPlaybackQuality(),u=this.mozPresentedFrames||this.mozPaintedFrames||e.totalVideoFrames-e.droppedVideoFrames,x=(d,l)=>{const h=this.getVideoPlaybackQuality(),n=this.mozPresentedFrames||this.mozPaintedFrames||h.totalVideoFrames-h.droppedVideoFrames;if(n>u){const r=this.mozFrameDelay||h.totalFrameDelay-e.totalFrameDelay||0,f=l-d;o(l,{presentationTime:l+r*1e3,expectedDisplayTime:l+f,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+f/1e3,presentedFrames:n,processingDuration:r}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(r=>x(l,r))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(d=>x(T,d)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(o){cancelAnimationFrame(this._rvfcpolyfillmap[o]),delete this._rvfcpolyfillmap[o]})},95723:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};o.exports=T},91135:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(89787),x=e(61840),d=e(56694),l=e(86459),h=e(6659),n=e(81044),r=e(32834),f=e(40444),a=e(38203),c=e(69360),p=new d({Extends:h,initialize:function(m){h.call(this);var y=m.config;this.config={clearBeforeRender:y.clearBeforeRender,backgroundColor:y.backgroundColor,antialias:y.antialias,roundPixels:y.roundPixels},this.game=m,this.type=l.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=m.canvas;var E={alpha:m.config.transparent,desynchronized:m.config.desynchronized,willReadFrequently:!1};this.gameContext=y.context?y.context:this.gameCanvas.getContext("2d",E),this.currentContext=this.gameContext,this.antialias=m.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(a.READY,this.boot,this)},boot:function(){var v=this.game,m=v.scale.baseSize;this.width=m.width,this.height=m.height,this.isBooted=!0,v.scale.on(f.RESIZE,this.onResize,this),this.resize(m.width,m.height)},onResize:function(v,m){(m.width!==this.width||m.height!==this.height)&&this.resize(m.width,m.height)},resize:function(v,m){this.width=v,this.height=m,this.emit(n.RESIZE,v,m)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,m=this.config,y=this.width,E=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),m.clearBeforeRender&&(v.clearRect(0,0,y,E),m.transparent||(v.fillStyle=m.backgroundColor.rgba,v.fillRect(0,0,y,E))),v.save(),this.drawCount=0,this.emit(n.PRE_RENDER)},render:function(v,m,y){var E=m.length;this.emit(n.RENDER,v,y);var P=y.x,S=y.y,w=y.width,A=y.height,R=y.renderToTexture?y.context:v.sys.context;R.save(),this.game.scene.customViewports&&(R.beginPath(),R.rect(P,S,w,A),R.clip()),y.emit(u.PRE_RENDER,y),this.currentContext=R;var O=y.mask;O&&O.preRenderCanvas(this,null,y._maskCamera),y.transparent||(R.fillStyle=y.backgroundColor.rgba,R.fillRect(P,S,w,A)),R.globalAlpha=y.alpha,R.globalCompositeOperation="source-over",this.drawCount+=E,y.renderToTexture&&y.emit(u.PRE_RENDER,y),y.matrix.copyToContext(R);for(var L=0;L<E;L++){var b=m[L];b.mask&&b.mask.preRenderCanvas(this,b,y),b.renderCanvas(this,b,y),b.mask&&b.mask.postRenderCanvas(this,b,y)}R.setTransform(1,0,0,1,0,0),R.globalCompositeOperation="source-over",R.globalAlpha=1,y.flashEffect.postRenderCanvas(R),y.fadeEffect.postRenderCanvas(R),y.dirty=!1,O&&O.postRenderCanvas(this),R.restore(),y.renderToTexture&&(y.emit(u.POST_RENDER,y),y.renderToGame&&v.sys.context.drawImage(y.canvas,P,S)),y.emit(u.POST_RENDER,y)},postRender:function(){var v=this.gameContext;v.restore(),this.emit(n.POST_RENDER);var m=this.snapshotState;m.callback&&(x(this.gameCanvas,m),m.callback=null)},snapshotCanvas:function(v,m,y,E,P,S,w,A,R){y===void 0&&(y=!1),this.snapshotArea(E,P,S,w,m,A,R);var O=this.snapshotState;return O.getPixel=y,x(v,O),O.callback=null,this},snapshot:function(v,m,y){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,m,y)},snapshotArea:function(v,m,y,E,P,S,w){var A=this.snapshotState;return A.callback=P,A.type=S,A.encoder=w,A.getPixel=!1,A.x=v,A.y=m,A.width=Math.min(y,this.gameCanvas.width),A.height=Math.min(E,this.gameCanvas.height),this},snapshotPixel:function(v,m,y){return this.snapshotArea(v,m,1,1,y),this.snapshotState.getPixel=!0,this},batchSprite:function(v,m,y,E){var P=y.alpha*v.alpha;if(P!==0){var S=this.currentContext,w=this._tempMatrix1,A=this._tempMatrix2,R=m.canvasData,O=R.x,L=R.y,b=m.cutWidth,D=m.cutHeight,I=m.customPivot,B=m.source.resolution,V=v.displayOriginX,Y=v.displayOriginY,k=-V+m.x,W=-Y+m.y;if(v.isCropped){var G=v._crop;(G.flipX!==v.flipX||G.flipY!==v.flipY)&&m.updateCropUVs(G,v.flipX,v.flipY),b=G.cw,D=G.ch,O=G.cx,L=G.cy,k=-V+G.x,W=-Y+G.y,v.flipX&&(k>=0?k=-(k+b):k<0&&(k=Math.abs(k)-b)),v.flipY&&(W>=0?W=-(W+D):W<0&&(W=Math.abs(W)-D))}var U=1,F=1;v.flipX&&(I||(k+=-m.realWidth+V*2),U=-1),v.flipY&&(I||(W+=-m.realHeight+Y*2),F=-1);var N=v.x,z=v.y;y.roundPixels&&(N=Math.floor(N),z=Math.floor(z)),A.applyITRS(N,z,v.rotation,v.scaleX*U,v.scaleY*F),w.copyFrom(y.matrix),E?(w.multiplyWithOffset(E,-y.scrollX*v.scrollFactorX,-y.scrollY*v.scrollFactorY),A.e=N,A.f=z):(A.e-=y.scrollX*v.scrollFactorX,A.f-=y.scrollY*v.scrollFactorY),w.multiply(A),y.roundPixels&&(w.e=Math.round(w.e),w.f=Math.round(w.f)),S.save(),w.setToContext(S),S.globalCompositeOperation=this.blendModes[v.blendMode],S.globalAlpha=P,S.imageSmoothingEnabled=!m.source.scaleMode,v.mask&&v.mask.preRenderCanvas(this,v,y),b>0&&D>0&&S.drawImage(m.source.image,O,L,b,D,k,W,b/B,D/B),v.mask&&v.mask.postRenderCanvas(this,v,y),S.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});o.exports=p},6046:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CanvasRenderer:e(91135),GetBlendModes:e(32834),SetTransform:e(49584)}},32834:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),x=e(98581),d=function(){var l=[],h=x.supportNewBlendModes,n="source-over";return l[u.NORMAL]=n,l[u.ADD]="lighter",l[u.MULTIPLY]=h?"multiply":n,l[u.SCREEN]=h?"screen":n,l[u.OVERLAY]=h?"overlay":n,l[u.DARKEN]=h?"darken":n,l[u.LIGHTEN]=h?"lighten":n,l[u.COLOR_DODGE]=h?"color-dodge":n,l[u.COLOR_BURN]=h?"color-burn":n,l[u.HARD_LIGHT]=h?"hard-light":n,l[u.SOFT_LIGHT]=h?"soft-light":n,l[u.DIFFERENCE]=h?"difference":n,l[u.EXCLUSION]=h?"exclusion":n,l[u.HUE]=h?"hue":n,l[u.SATURATION]=h?"saturation":n,l[u.COLOR]=h?"color":n,l[u.LUMINOSITY]=h?"luminosity":n,l[u.ERASE]="destination-out",l[u.SOURCE_IN]="source-in",l[u.SOURCE_OUT]="source-out",l[u.SOURCE_ATOP]="source-atop",l[u.DESTINATION_OVER]="destination-over",l[u.DESTINATION_IN]="destination-in",l[u.DESTINATION_OUT]="destination-out",l[u.DESTINATION_ATOP]="destination-atop",l[u.LIGHTER]="lighter",l[u.COPY]="copy",l[u.XOR]="xor",l};o.exports=d},49584:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(73329),x=function(d,l,h,n,r){var f=n.alpha*h.alpha;if(f<=0)return!1;var a=u(h,n,r).calc;return l.globalCompositeOperation=d.blendModes[h.blendMode],l.globalAlpha=f,l.save(),a.setToContext(l),l.imageSmoothingEnabled=h.frame?!h.frame.source.scaleMode:d.antialias,!0};o.exports=x},70936:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postrender"},99298:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prerender"},7743:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="render"},99519:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resize"},81044:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={POST_RENDER:e(70936),PRE_RENDER:e(99298),RENDER:e(7743),RESIZE:e(99519)}},42069:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Canvas:e(6046),Events:e(81044),Snapshot:e(95528),WebGL:e(55478)}},61840:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),x=e(27119),d=e(72632),l=function(h,n){var r=d(n,"callback"),f=d(n,"type","image/png"),a=d(n,"encoder",.92),c=Math.abs(Math.round(d(n,"x",0))),p=Math.abs(Math.round(d(n,"y",0))),v=Math.floor(d(n,"width",h.width)),m=Math.floor(d(n,"height",h.height)),y=d(n,"getPixel",!1);if(y){var E=h.getContext("2d",{willReadFrequently:!1}),P=E.getImageData(c,p,1,1),S=P.data;r.call(null,new x(S[0],S[1],S[2],S[3]))}else if(c!==0||p!==0||v!==h.width||m!==h.height){var w=u.createWebGL(this,v,m),A=w.getContext("2d",{willReadFrequently:!0});v>0&&m>0&&A.drawImage(h,c,p,v,m,0,0,v,m);var R=new Image;R.onerror=function(){r.call(null),u.remove(w)},R.onload=function(){r.call(null,R),u.remove(w)},R.src=w.toDataURL(f,a)}else{var O=new Image;O.onerror=function(){r.call(null)},O.onload=function(){r.call(null,O)},O.src=h.toDataURL(f,a)}};o.exports=l},1217:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),x=e(27119),d=e(72632),l=function(h,n){var r=h,f=d(n,"callback"),a=d(n,"type","image/png"),c=d(n,"encoder",.92),p=Math.abs(Math.round(d(n,"x",0))),v=Math.abs(Math.round(d(n,"y",0))),m=d(n,"getPixel",!1),y=d(n,"isFramebuffer",!1),E=y?d(n,"bufferWidth",1):r.drawingBufferWidth,P=y?d(n,"bufferHeight",1):r.drawingBufferHeight;if(m){var S=new Uint8Array(4),w=y?v:P-v;r.readPixels(p,w,1,1,r.RGBA,r.UNSIGNED_BYTE,S),f.call(null,new x(S[0],S[1],S[2],S[3]))}else{var A=Math.floor(d(n,"width",E)),R=Math.floor(d(n,"height",P)),O=A*R*4,L=new Uint8Array(O);r.readPixels(p,P-v-R,A,R,r.RGBA,r.UNSIGNED_BYTE,L);for(var b=u.createWebGL(this,A,R),D=b.getContext("2d",{willReadFrequently:!0}),I=D.getImageData(0,0,A,R),B=I.data,V=0;V<R;V++)for(var Y=0;Y<A;Y++){var k=((R-V-1)*A+Y)*4,W=y?O-(V*A+(A-Y))*4:(V*A+Y)*4;B[W+0]=L[k+0],B[W+1]=L[k+1],B[W+2]=L[k+2],B[W+3]=L[k+3]}D.putImageData(I,0,0);var G=new Image;G.onerror=function(){f.call(null),u.remove(b)},G.onload=function(){f.call(null,G),u.remove(b)},G.src=b.toDataURL(a,c)}};o.exports=l},95528:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Canvas:e(61840),WebGL:e(1217)}},35217:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(65641),d=e(33885),l=e(77290),h=e(72632),n=e(37410),r=e(82127),f=e(5583),a=e(58136),c=e(47406),p=e(81828),v=e(66901),m=e(71264),y=e(77310),E=e(10919),P=e(21213),S=e(51212),w=e(60848),A=new u({initialize:function(O){this.game=O.game,this.renderer=O,this.classes=new d([[x.UTILITY_PIPELINE,w],[x.MULTI_PIPELINE,y],[x.BITMAPMASK_PIPELINE,f],[x.SINGLE_PIPELINE,S],[x.ROPE_PIPELINE,P],[x.LIGHT_PIPELINE,v],[x.POINTLIGHT_PIPELINE,E],[x.MOBILE_PIPELINE,m],[x.FX_PIPELINE,p]]),this.postPipelineClasses=new d([[String(c.BARREL),a.Barrel],[String(c.BLOOM),a.Bloom],[String(c.BLUR),a.Blur],[String(c.BOKEH),a.Bokeh],[String(c.CIRCLE),a.Circle],[String(c.COLOR_MATRIX),a.ColorMatrix],[String(c.DISPLACEMENT),a.Displacement],[String(c.GLOW),a.Glow],[String(c.GRADIENT),a.Gradient],[String(c.PIXELATE),a.Pixelate],[String(c.SHADOW),a.Shadow],[String(c.SHINE),a.Shine],[String(c.VIGNETTE),a.Vignette],[String(c.WIPE),a.Wipe]]),this.pipelines=new d,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(R,O,L){var b=this.renderer,D=this.renderTargets;this.frameInc=Math.floor(h(R,"frameInc",32));for(var I=b.width,B=b.height,V=Math.min(I,B),Y=Math.ceil(V/this.frameInc),k=1;k<Y;k++){var W=k*this.frameInc;D.push(new n(b,W,W)),D.push(new n(b,W,W)),D.push(new n(b,W,W)),this.maxDimension=W}D.push(new n(b,I,B,1,0,!0,!0)),D.push(new n(b,I,B,1,0,!0,!0)),D.push(new n(b,I,B,1,0,!0,!0));var G,U,F=this,N=this.game;if(this.classes.each(function(X,H){G=F.add(X,new H({game:N})),X===x.UTILITY_PIPELINE&&(F.UTILITY_PIPELINE=G,F.fullFrame1=G.fullFrame1,F.fullFrame2=G.fullFrame2,F.halfFrame1=G.halfFrame1,F.halfFrame2=G.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),this.FX_PIPELINE=this.get(x.FX_PIPELINE),R)for(U in R){var z=R[U];G=new z(N),G.name=U,G.isPostFX?this.postPipelineClasses.set(U,z):this.has(U)||(this.classes.set(U,z),this.add(U,G))}this.default=this.get(O),L&&!l.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(R){var O=this.get(R);return O&&(this.default=O),O},add:function(R,O){if(O.isPostFX){console.warn(R+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,b=this.renderer;return L.has(R)?console.warn("Pipeline exists: "+R):(O.name=R,O.manager=this,L.set(R,O)),O.hasBooted||O.boot(),b.width!==0&&b.height!==0&&!O.isPreFX&&O.resize(b.width,b.height),O},addPostPipeline:function(R,O){this.postPipelineClasses.has(R)||this.postPipelineClasses.set(R,O)},flush:function(){this.current&&this.current.flush()},has:function(R){var O=this.pipelines;return typeof R=="string"?O.has(R):!!O.contains(R)},get:function(R){var O=this.pipelines;if(typeof R=="string")return O.get(R);if(O.contains(R))return R},getPostPipeline:function(R,O,L){var b=this.postPipelineClasses,D,I="",B=typeof R;if(B==="string"||B==="number"?(D=b.get(R),I=R):B==="function"?(b.contains(R)&&(D=R),I=R.name):B==="object"&&(D=b.get(R.name),I=R.name),D){var V=new D(this.game,L);return V.name=I,O&&(V.gameObject=O),V}},remove:function(R,O,L){O===void 0&&(O=!0),L===void 0&&(L=!0),this.pipelines.delete(R),O&&this.classes.delete(R),L&&this.postPipelineClasses.delete(R)},set:function(R,O,L){if(!R.isPostFX)return this.isCurrent(R,L)||(this.flush(),this.current&&this.current.unbind(),this.current=R,R.bind(L)),R.updateProjectionMatrix(),R.onBind(O),R},preBatch:function(R){if(R.hasPostPipeline){this.flush();for(var O=R.postPipelines,L=O.length-1;L>=0;L--){var b=O[L];b.active&&b.preBatch(R)}}},postBatch:function(R){if(R.hasPostPipeline){this.flush();for(var O=R.postPipelines,L=0;L<O.length;L++){var b=O[L];b.active&&b.postBatch(R)}}},preBatchCamera:function(R){if(R.hasPostPipeline){this.flush();for(var O=R.postPipelines,L=O.length-1;L>=0;L--){var b=O[L];b.active&&b.preBatch(R)}}},postBatchCamera:function(R){if(R.hasPostPipeline){this.flush();for(var O=R.postPipelines,L=0;L<O.length;L++){var b=O[L];b.active&&b.postBatch(R)}}},isCurrent:function(R,O){var L=this.renderer,b=this.current;return b&&!O&&(O=b.currentShader),!(b!==R||O.program!==L.currentProgram)},copyFrame:function(R,O,L,b,D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(R,O,L,b,D),this},copyToGame:function(R){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(R),this},drawFrame:function(R,O,L,b){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(R,O,L,b),this},blendFrames:function(R,O,L,b,D){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(R,O,L,b,D),this},blendFramesAdditive:function(R,O,L,b,D){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(R,O,L,b,D),this},clearFrame:function(R,O){return this.UTILITY_PIPELINE.clearFrame(R,O),this},blitFrame:function(R,O,L,b,D,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(R,O,L,b,D,I),this},copyFrameRect:function(R,O,L,b,D,I,B,V){return this.UTILITY_PIPELINE.copyFrameRect(R,O,L,b,D,I,B,V),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(R){return this.UTILITY_PIPELINE.bind(R)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(R){R===void 0&&this.previous&&(R=this.previous);var O=this.renderer,L=O.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),O.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,O.width,O.height),O.currentProgram=null,O.setBlendMode(0,!0);var b=O.vaoExtension;b&&b.bindVertexArrayOES(null);var D=this.pipelines.entries;for(var I in D)D[I].glReset=!0;R&&(this.current=R,R.rebind())},clear:function(){var R=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,R.currentProgram=null,R.setBlendMode(0,!0);var O=R.vaoExtension;O&&O.bindVertexArrayOES(null)},getRenderTarget:function(R){var O=this.renderTargets,L=3;if(R>this.maxDimension)return this.targetIndex=O.length-L,O[this.targetIndex];var b=(r(R,this.frameInc,0,!0)-1)*L;return this.targetIndex=b,O[b]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});o.exports=A},37410:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(81044),d=new u({initialize:function(h,n,r,f,a,c,p,v,m){f===void 0&&(f=1),a===void 0&&(a=0),c===void 0&&(c=!0),p===void 0&&(p=!1),v===void 0&&(v=!0),m===void 0&&(m=!0),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=f,this.minFilter=a,this.autoClear=c,this.autoResize=!0,this.hasDepthBuffer=v,this.forceClamp=m,this.resize(n,r),p?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(l){return l&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!l&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(l,h){var n=l*this.scale,r=h*this.scale;if(this.autoResize&&(n!==this.width||r!==this.height)){var f=this.renderer;f.deleteFramebuffer(this.framebuffer),f.deleteTexture(this.texture),l*=this.scale,h*=this.scale,l=Math.round(l),h=Math.round(h),l<=0&&(l=1),h<=0&&(h=1),this.texture=f.createTextureFromSource(null,l,h,this.minFilter,this.forceClamp),this.framebuffer=f.createFramebuffer(l,h,this.texture,this.hasDepthBuffer),this.width=l,this.height=h}return this},bind:function(l,h,n){l===void 0&&(l=!1);var r=this.renderer;if(l&&r.flush(),h&&n&&this.resize(h,n),r.pushFramebuffer(this.framebuffer,!1,!1),l&&this.adjustViewport(),this.autoClear){var f=this.renderer.gl;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)}r.clearStencilMask()},adjustViewport:function(){var l=this.renderer.gl;l.viewport(0,0,this.width,this.height),l.disable(l.SCISSOR_TEST)},clear:function(){var l=this.renderer,h=l.gl;l.pushFramebuffer(this.framebuffer),h.disable(h.SCISSOR_TEST),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(l){l===void 0&&(l=!1);var h=this.renderer;return l&&h.flush(),h.popFramebuffer()},destroy:function(){var l=this.renderer;l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),l.off(x.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});o.exports=d},75512:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={getTintFromFloats:function(T,e,u,x){var d=(T*255|0)&255,l=(e*255|0)&255,h=(u*255|0)&255,n=(x*255|0)&255;return(n<<24|d<<16|l<<8|h)>>>0},getTintAppendFloatAlpha:function(T,e){var u=(e*255|0)&255;return(u<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,e){var u=(T>>16|0)&255,x=(T>>8|0)&255,d=(T|0)&255,l=(e*255|0)&255;return(l<<24|d<<16|x<<8|u)>>>0},getFloatsFromUintRGB:function(T){var e=(T>>16|0)&255,u=(T>>8|0)&255,x=(T|0)&255;return[e/255,u/255,x/255]},checkShaderMax:function(T,e){var u=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!e||e===-1?u:Math.min(u,e)},parseFragmentShaderMaxTextures:function(T,e){if(!T)return"";for(var u="",x=0;x<e;x++)x>0&&(u+=`
	else `),x<e-1&&(u+="if (outTexId < "+x+".5)"),u+=`
	{`,u+=`
		texture = texture2D(uMainSampler[`+x+"], outTexCoord);",u+=`
	}`;return T=T.replace(/%count%/gi,e.toString()),T.replace(/%forloop%/gi,u)},setGlowQuality:function(T,e,u,x){return u===void 0&&(u=e.config.glowFXQuality),x===void 0&&(x=e.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/u/x).toFixed(7)),T=T.replace(/__DIST__/gi,x.toFixed(0)+".0"),T}}},44775:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(28699),d=e(6659),l=e(18970),h=e(72632),n=e(16650),r=e(81044),f=e(37410),a=e(75512),c=e(71305),p=new u({Extends:d,initialize:function(m){d.call(this);var y=m.game,E=y.renderer,P=E.gl;this.name=h(m,"name","WebGLPipeline"),this.game=y,this.renderer=E,this.manager,this.gl=P,this.view=y.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=h(m,"topology",P.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=h(m,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=m,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var v,m=this.gl,y=this.config,E=this.renderer;this.isPostFX||(this.projectionMatrix=new n().identity());var P=this.renderTargets,S=h(y,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var w=E.width,A=E.height;if(typeof S=="number")for(v=0;v<S;v++)P.push(new f(E,w,A,1,0,!0));else if(Array.isArray(S))for(v=0;v<S.length;v++){var R=h(S[v],"scale",1),O=h(S[v],"minFilter",0),L=h(S[v],"autoClear",1),b=h(S[v],"width",null),D=h(S[v],"height",b);b?P.push(new f(E,b,D,1,O,L)):P.push(new f(E,w,A,R,O,L))}P.length&&(this.currentRenderTarget=P[0]),this.setShadersFromConfig(y);var I=this.shaders,B=0;for(v=0;v<I.length;v++)I[v].vertexSize>B&&(B=I[v].vertexSize);var V=h(y,"batchSize",E.config.batchSize);this.vertexCapacity=V*6;var Y=new ArrayBuffer(this.vertexCapacity*B);this.vertexData=Y,this.bytes=new Uint8Array(Y),this.vertexViewF32=new Float32Array(Y),this.vertexViewU32=new Uint32Array(Y);var k=h(y,"vertices",null);for(k?(this.vertexViewF32.set(k),this.vertexBuffer=E.createVertexBuffer(Y,m.STATIC_DRAW)):this.vertexBuffer=E.createVertexBuffer(Y.byteLength,m.DYNAMIC_DRAW),this.setVertexBuffer(),v=I.length-1;v>=0;v--)I[v].rebind();this.hasBooted=!0,E.on(r.RESIZE,this.resize,this),E.on(r.PRE_RENDER,this.onPreRender,this),E.on(r.RENDER,this.onRender,this),E.on(r.POST_RENDER,this.onPostRender,this),this.emit(l.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(v,m,y){var E=this.renderer;if(v!==this.currentShader||E.currentProgram!==this.currentShader.program){this.flush();var P=this.setVertexBuffer(y);P&&!m&&(m=!0),v.bind(m,!1),this.currentShader=v}return this},getShaderByName:function(v){for(var m=this.shaders,y=0;y<m.length;y++)if(m[y].name===v)return m[y]},setShadersFromConfig:function(v){var m,y=this.shaders,E=this.renderer;for(m=0;m<y.length;m++)y[m].destroy();var P="vertShader",S="fragShader",w="attributes",A=h(v,P,null),R=a.parseFragmentShaderMaxTextures(h(v,S,null),E.maxTextures),O=h(v,w,null),L=h(v,"shaders",[]),b=L.length;if(b===0)A&&R&&(this.shaders=[new c(this,"default",A,R,x(O))]);else{var D=[];for(m=0;m<b;m++){var I=L[m],B,V,Y,k;if(typeof I=="string"?(B="default",V=A,Y=a.parseFragmentShaderMaxTextures(I,E.maxTextures),k=O):(B=h(I,"name","default"),V=h(I,P,A),Y=a.parseFragmentShaderMaxTextures(h(I,S,R),E.maxTextures),k=h(I,w,O)),B==="default"){var W=Y.split(`
`),G=W[0].trim();G.indexOf("#define SHADER_NAME")>-1&&(B=G.substring(20))}V&&Y&&D.push(new c(this,B,V,Y,x(k)))}this.shaders=D}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(v){return this.currentBatch={start:this.vertexCount,count:0,texture:[v],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=v,this.batch.push(this.currentBatch),0},addTextureToBatch:function(v){var m=this.currentBatch;m&&(m.texture.push(v),m.unit++,m.maxUnit++)},pushBatch:function(v){if(!this.currentBatch||this.forceZero&&v!==this.currentTexture)return this.createBatch(v);if(v===this.currentTexture)return this.currentUnit;var m=this.currentBatch,y=m.texture.indexOf(v);return y===-1?m.texture.length===this.renderer.maxTextures?this.createBatch(v):(m.unit++,m.maxUnit++,m.texture.push(v),this.currentUnit=m.unit,this.currentTexture=v,m.unit):(this.currentUnit=y,this.currentTexture=v,y)},setGameObject:function(v,m){return m===void 0&&(m=v.frame),this.pushBatch(m.source.glTexture)},shouldFlush:function(v){return v===void 0&&(v=0),this.vertexCount+v>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(v,m){(v!==this.width||m!==this.height)&&this.flush(),this.width=v,this.height=m;for(var y=this.renderTargets,E=0;E<y.length;E++)y[E].resize(v,m);return this.setProjectionMatrix(v,m),this.emit(l.RESIZE,v,m,this),this.onResize(v,m),this},setProjectionMatrix:function(v,m){var y=this.projectionMatrix;if(!y)return this;this.projectionWidth=v,this.projectionHeight=m,y.ortho(0,v,m,0,-1e3,1e3);for(var E=this.shaders,P="uProjectionMatrix",S=0;S<E.length;S++){var w=E[S];w.hasUniform(P)&&(w.resetUniform(P),w.setMatrix4fv(P,!1,y.val,w))}return this},flipProjectionMatrix:function(v){v===void 0&&(v=!0);var m=this.projectionMatrix;if(!m)return this;var y=this.projectionWidth,E=this.projectionHeight;v?m.ortho(0,y,0,E,-1e3,1e3):m.ortho(0,y,E,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,m.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var v=this.renderer.projectionWidth,m=this.renderer.projectionHeight;(this.projectionWidth!==v||this.projectionHeight!==m)&&this.setProjectionMatrix(v,m)}},bind:function(v){if(v===void 0&&(v=this.currentShader),this.glReset)return this.rebind(v);var m=!1,y=this.gl;return y.getParameter(y.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(y.bindBuffer(y.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,m=!0),v.bind(m),this.currentShader=v,this.activeTextures.length=0,this.emit(l.BIND,this,v),this.onActive(v),this},rebind:function(v){this.activeBuffer=null,this.setVertexBuffer();for(var m=this.shaders,y=m.length-1;y>=0;y--){var E=m[y].rebind();(!v||E===v)&&(this.currentShader=E)}return this.activeTextures.length=0,this.emit(l.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(v){if(v===void 0&&(v=this.vertexBuffer),v!==this.activeBuffer){var m=this.gl;return this.gl.bindBuffer(m.ARRAY_BUFFER,v),this.activeBuffer=v,!0}return!1},preBatch:function(v){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(v),this},postBatch:function(v){return this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(v){if(v===void 0&&(v=!1),this.vertexCount>0){this.emit(l.BEFORE_FLUSH,this,v),this.onBeforeFlush(v);var m=this.gl,y=this.vertexCount,E=this.currentShader.vertexSize,P=this.topology;if(this.active){this.setVertexBuffer(),y===this.vertexCapacity?m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.DYNAMIC_DRAW):m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,y*E));var S,w,A,R=this.batch,O=this.activeTextures;if(this.forceZero)for(O[0]||m.activeTexture(m.TEXTURE0),S=0;S<R.length;S++)w=R[S],A=w.texture[0],O[0]!==A&&(m.bindTexture(m.TEXTURE_2D,A),O[0]=A),m.drawArrays(P,w.start,w.count);else for(S=0;S<R.length;S++){w=R[S];for(var L=0;L<=w.maxUnit;L++)A=w.texture[L],O[L]!==A&&(m.activeTexture(m.TEXTURE0+L),m.bindTexture(m.TEXTURE_2D,A),O[L]=A);m.drawArrays(P,w.start,w.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(l.AFTER_FLUSH,this,v),this.onAfterFlush(v)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(v,m,y,E,P,S,w){var A=this.vertexViewF32,R=this.vertexViewU32,O=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++O]=v,A[++O]=m,A[++O]=y,A[++O]=E,A[++O]=P,A[++O]=S,R[++O]=w,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(v,m,y,E,P,S,w,A,R,O,L,b,D,I,B,V,Y,k,W,G){G===void 0&&(G=this.currentUnit);var U=!1;this.shouldFlush(6)&&(this.flush(),U=!0),this.currentBatch||(G=this.setTexture2D(W));var F=this.vertexViewF32,N=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return F[++z]=m,F[++z]=y,F[++z]=O,F[++z]=L,F[++z]=G,F[++z]=k,N[++z]=I,F[++z]=E,F[++z]=P,F[++z]=O,F[++z]=D,F[++z]=G,F[++z]=k,N[++z]=V,F[++z]=S,F[++z]=w,F[++z]=b,F[++z]=D,F[++z]=G,F[++z]=k,N[++z]=Y,F[++z]=m,F[++z]=y,F[++z]=O,F[++z]=L,F[++z]=G,F[++z]=k,N[++z]=I,F[++z]=S,F[++z]=w,F[++z]=b,F[++z]=D,F[++z]=G,F[++z]=k,N[++z]=Y,F[++z]=A,F[++z]=R,F[++z]=b,F[++z]=L,F[++z]=G,F[++z]=k,N[++z]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(v),U},batchTri:function(v,m,y,E,P,S,w,A,R,O,L,b,D,I,B,V,Y){Y===void 0&&(Y=this.currentUnit);var k=!1;this.shouldFlush(3)&&(this.flush(),k=!0),this.currentBatch||(Y=this.setTexture2D(V));var W=this.vertexViewF32,G=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return W[++U]=m,W[++U]=y,W[++U]=A,W[++U]=R,W[++U]=Y,W[++U]=B,G[++U]=b,W[++U]=E,W[++U]=P,W[++U]=A,W[++U]=L,W[++U]=Y,W[++U]=B,G[++U]=D,W[++U]=S,W[++U]=w,W[++U]=O,W[++U]=L,W[++U]=Y,W[++U]=B,G[++U]=I,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(v),k},drawFillRect:function(v,m,y,E,P,S,w,A){w===void 0&&(w=this.renderer.whiteTexture),A===void 0&&(A=!0),v=Math.floor(v),m=Math.floor(m);var R=Math.floor(v+y),O=Math.floor(m+E),L=this.setTexture2D(w),b=a.getTintAppendFloatAlphaAndSwap(P,S),D=0,I=0,B=1,V=1;A&&(I=1,V=0),this.batchQuad(null,v,m,v,O,R,O,R,m,D,I,B,V,b,b,b,b,0,w,L)},setTexture2D:function(v){return v===void 0&&(v=this.renderer.whiteTexture),this.pushBatch(v)},bindTexture:function(v,m){m===void 0&&(m=0);var y=this.gl;return y.activeTexture(y.TEXTURE0+m),y.bindTexture(y.TEXTURE_2D,v),this},bindRenderTarget:function(v,m){return this.bindTexture(v.texture,m)},setTime:function(v,m){return this.set1f(v,this.game.loop.getDuration(),m),this},setBoolean:function(v,m,y){return y===void 0&&(y=this.currentShader),y.setBoolean(v,m),this},set1f:function(v,m,y){return y===void 0&&(y=this.currentShader),y.set1f(v,m),this},set2f:function(v,m,y,E){return E===void 0&&(E=this.currentShader),E.set2f(v,m,y),this},set3f:function(v,m,y,E,P){return P===void 0&&(P=this.currentShader),P.set3f(v,m,y,E),this},set4f:function(v,m,y,E,P,S){return S===void 0&&(S=this.currentShader),S.set4f(v,m,y,E,P),this},set1fv:function(v,m,y){return y===void 0&&(y=this.currentShader),y.set1fv(v,m),this},set2fv:function(v,m,y){return y===void 0&&(y=this.currentShader),y.set2fv(v,m),this},set3fv:function(v,m,y){return y===void 0&&(y=this.currentShader),y.set3fv(v,m),this},set4fv:function(v,m,y){return y===void 0&&(y=this.currentShader),y.set4fv(v,m),this},set1iv:function(v,m,y){return y===void 0&&(y=this.currentShader),y.set1iv(v,m),this},set2iv:function(v,m,y){return y===void 0&&(y=this.currentShader),y.set2iv(v,m),this},set3iv:function(v,m,y){return y===void 0&&(y=this.currentShader),y.set3iv(v,m),this},set4iv:function(v,m,y){return y===void 0&&(y=this.currentShader),y.set4iv(v,m),this},set1i:function(v,m,y){return y===void 0&&(y=this.currentShader),y.set1i(v,m),this},set2i:function(v,m,y,E){return E===void 0&&(E=this.currentShader),E.set2i(v,m,y),this},set3i:function(v,m,y,E,P){return P===void 0&&(P=this.currentShader),P.set3i(v,m,y,E),this},set4i:function(v,m,y,E,P,S){return S===void 0&&(S=this.currentShader),S.set4i(v,m,y,E,P),this},setMatrix2fv:function(v,m,y,E){return E===void 0&&(E=this.currentShader),E.setMatrix2fv(v,m,y),this},setMatrix3fv:function(v,m,y,E){return E===void 0&&(E=this.currentShader),E.setMatrix3fv(v,m,y),this},setMatrix4fv:function(v,m,y,E){return E===void 0&&(E=this.currentShader),E.setMatrix4fv(v,m,y),this},destroy:function(){this.emit(l.DESTROY,this);var v,m=this.shaders;for(v=0;v<m.length;v++)m[v].destroy();var y=this.renderTargets;for(v=0;v<y.length;v++)y[v].destroy();this.gl.deleteBuffer(this.vertexBuffer);var E=this.renderer;return E.off(r.RESIZE,this.resize,this),E.off(r.PRE_RENDER,this.onPreRender,this),E.off(r.RENDER,this.onRender,this),E.off(r.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});o.exports=p},11857:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66458),x=e(89787),d=e(56694),l=e(86459),h=e(6659),n=e(81044),r=e(28621),f=e(16650),a=e(72283),c=e(35217),p=e(37410),v=e(40444),m=e(38203),y=e(75512),E=e(1217),P=new d({Extends:h,initialize:function(w){h.call(this);var A=w.config,R={alpha:A.transparent,desynchronized:A.desynchronized,depth:!0,antialias:A.antialiasGL,premultipliedAlpha:A.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:A.failIfMajorPerformanceCaveat,powerPreference:A.powerPreference,preserveDrawingBuffer:A.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:A.clearBeforeRender,antialias:A.antialias,backgroundColor:A.backgroundColor,contextCreation:R,roundPixels:A.roundPixels,maxTextures:A.maxTextures,maxTextureSize:A.maxTextureSize,batchSize:A.batchSize,maxLights:A.maxLights,mipmapFilter:A.mipmapFilter},this.game=w,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=w.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=a,this.contextRestoredHandler=a,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(S){var w,A=this.game,R=this.canvas,O=S.backgroundColor;if(A.config.context?w=A.config.context:w=R.getContext("webgl",S.contextCreation)||R.getContext("experimental-webgl",S.contextCreation),!w||w.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=w;var L=this;this.contextLostHandler=function(k){L.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),k.preventDefault()},R.addEventListener("webglcontextlost",this.contextLostHandler,!1),A.context=w;for(var b=0;b<=27;b++)this.blendModes.push({func:[w.ONE,w.ONE_MINUS_SRC_ALPHA],equation:w.FUNC_ADD});this.blendModes[1].func=[w.ONE,w.DST_ALPHA],this.blendModes[2].func=[w.DST_COLOR,w.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[w.ONE,w.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[w.ZERO,w.ONE_MINUS_SRC_ALPHA],equation:w.FUNC_REVERSE_SUBTRACT},this.glFormats=[w.BYTE,w.SHORT,w.UNSIGNED_BYTE,w.UNSIGNED_SHORT,w.FLOAT],this.glFuncMap={mat2:{func:w.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:w.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:w.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:w.uniform1f,length:1},"1fv":{func:w.uniform1fv,length:1},"1i":{func:w.uniform1i,length:1},"1iv":{func:w.uniform1iv,length:1},"2f":{func:w.uniform2f,length:2},"2fv":{func:w.uniform2fv,length:1},"2i":{func:w.uniform2i,length:2},"2iv":{func:w.uniform2iv,length:1},"3f":{func:w.uniform3f,length:3},"3fv":{func:w.uniform3fv,length:1},"3i":{func:w.uniform3i,length:3},"3iv":{func:w.uniform3iv,length:1},"4f":{func:w.uniform4f,length:4},"4fv":{func:w.uniform4fv,length:1},"4i":{func:w.uniform4i,length:4},"4iv":{func:w.uniform4iv,length:1}};var D=w.getSupportedExtensions();(!S.maxTextures||S.maxTextures===-1)&&(S.maxTextures=w.getParameter(w.MAX_TEXTURE_IMAGE_UNITS)),S.maxTextureSize||(S.maxTextureSize=w.getParameter(w.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=D;var I="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(I)>-1?w.getExtension(I):null;var B="OES_vertex_array_object";this.vaoExtension=D.indexOf(B)>-1?w.getExtension(B):null,w.disable(w.DEPTH_TEST),w.disable(w.CULL_FACE),w.enable(w.BLEND),w.clearColor(O.redGL,O.greenGL,O.blueGL,O.alphaGL),S.mipmapFilter!==""&&(this.mipmapFilter=w[S.mipmapFilter]),this.maxTextures=y.checkShaderMax(w,S.maxTextures),this.textureIndexes=[];for(var V=0;V<this.maxTextures;V++){var Y=w.createTexture();w.activeTexture(w.TEXTURE0+V),w.bindTexture(w.TEXTURE_2D,Y),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,1,1,0,w.RGBA,w.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(V)}return this.pipelines=new c(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new f().identity(),A.textures.once(m.READY,this.boot,this),this},boot:function(){var S=this.game,w=this.pipelines,A=S.scale.baseSize,R=A.width,O=A.height;this.width=R,this.height=O,this.isBooted=!0,this.renderTarget=new p(this,R,O,1,0,!0,!0),this.maskTarget=new p(this,R,O,1,0,!0,!0),this.maskSource=new p(this,R,O,1,0,!0,!0);var L=S.config;w.boot(L.pipeline,L.defaultPipeline,L.autoMobilePipeline),this.blankTexture=S.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=S.textures.getFrame("__WHITE").glTexture;var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,null),b.enable(b.SCISSOR_TEST),S.scale.on(v.RESIZE,this.onResize,this),this.resize(R,O)},captureFrame:function(S,w){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(S,w,A){},stopCapture:function(){},onCapture:function(S){},onResize:function(S,w){(w.width!==this.width||w.height!==this.height)&&this.resize(w.width,w.height)},beginCapture:function(S,w){S===void 0&&(S=this.width),w===void 0&&(w=this.height),this.renderTarget.bind(!0,S,w),this.setProjectionMatrix(S,w)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(S,w){var A=this.gl;return this.width=S,this.height=w,this.setProjectionMatrix(S,w),A.viewport(0,0,S,w),this.drawingBufferHeight=A.drawingBufferHeight,A.scissor(0,A.drawingBufferHeight-w,S,w),this.defaultScissor[2]=S,this.defaultScissor[3]=w,this.emit(n.RESIZE,S,w),this},getCompressedTextures:function(){var S="WEBGL_compressed_texture_",w="WEBKIT_"+S,A=function(O,L){var b=O.getExtension(S+L)||O.getExtension(w+L);if(b){var D={};for(var I in b)D[b[I]]=I;return D}},R=this.gl;return{ETC:A(R,"etc"),ETC1:A(R,"etc1"),ATC:A(R,"atc"),ASTC:A(R,"astc"),BPTC:A(R,"bptc"),RGTC:A(R,"rgtc"),PVRTC:A(R,"pvrtc"),S3TC:A(R,"s3tc"),S3TCSRGB:A(R,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(S,w){var A=this.compression[S.toUpperCase()];if(w in A)return A[w]},supportsCompressedTexture:function(S,w){var A=this.compression[S.toUpperCase()];return A?w?w in A:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(S,w){return(S!==this.projectionWidth||w!==this.projectionHeight)&&(this.projectionWidth=S,this.projectionHeight=w,this.projectionMatrix.ortho(0,S,w,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(S){return this.supportedExtensions?this.supportedExtensions.indexOf(S):!1},getExtension:function(S){return this.hasExtension(S)?(S in this.extensions||(this.extensions[S]=this.gl.getExtension(S)),this.extensions[S]):null},flush:function(){this.pipelines.flush()},pushScissor:function(S,w,A,R,O){O===void 0&&(O=this.drawingBufferHeight);var L=this.scissorStack,b=[S,w,A,R];return L.push(b),this.setScissor(S,w,A,R,O),this.currentScissor=b,b},setScissor:function(S,w,A,R,O){O===void 0&&(O=this.drawingBufferHeight);var L=this.gl,b=this.currentScissor,D=A>0&&R>0;if(b&&D){var I=b[0],B=b[1],V=b[2],Y=b[3];D=I!==S||B!==w||V!==A||Y!==R}D&&(this.flush(),L.scissor(S,O-w-R,A,R))},resetScissor:function(){var S=this.gl;S.enable(S.SCISSOR_TEST);var w=this.currentScissor;if(w){var A=w[0],R=w[1],O=w[2],L=w[3];O>0&&L>0&&S.scissor(A,this.drawingBufferHeight-R-L,O,L)}},popScissor:function(){var S=this.scissorStack;S.pop();var w=S[S.length-1];w&&this.setScissor(w[0],w[1],w[2],w[3]),this.currentScissor=w},hasActiveStencilMask:function(){var S=this.currentMask.mask,w=this.currentCameraMask.mask;return S&&S.isStencil||w&&w.isStencil},resetViewport:function(){var S=this.gl;S.viewport(0,0,this.width,this.height),this.drawingBufferHeight=S.drawingBufferHeight},setBlendMode:function(S,w){w===void 0&&(w=!1);var A=this.gl,R=this.blendModes[S];return w||S!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==S?(this.flush(),A.enable(A.BLEND),A.blendEquation(R.equation),R.func.length>2?A.blendFuncSeparate(R.func[0],R.func[1],R.func[2],R.func[3]):A.blendFunc(R.func[0],R.func[1]),this.currentBlendMode=S,!0):!1},addBlendMode:function(S,w){var A=this.blendModes.push({func:S,equation:w});return A-1},updateBlendMode:function(S,w,A){return this.blendModes[S]&&(this.blendModes[S].func=w,A&&(this.blendModes[S].equation=A)),this},removeBlendMode:function(S){return S>17&&this.blendModes[S]&&this.blendModes.splice(S,1),this},pushFramebuffer:function(S,w,A,R,O){return S===this.currentFramebuffer?this:(this.fboStack.push(S),this.setFramebuffer(S,w,A,R,O))},setFramebuffer:function(S,w,A,R,O){if(w===void 0&&(w=!1),A===void 0&&(A=!0),R===void 0&&(R=null),O===void 0&&(O=!1),S===this.currentFramebuffer)return this;var L=this.gl,b=this.width,D=this.height;return S&&S.renderTexture&&A?(b=S.renderTexture.width,D=S.renderTexture.height):this.flush(),L.bindFramebuffer(L.FRAMEBUFFER,S),A&&L.viewport(0,0,b,D),R&&L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,R,0),O&&(L.clearColor(0,0,0,0),L.clear(L.COLOR_BUFFER_BIT)),w&&(S?(this.drawingBufferHeight=D,this.pushScissor(0,0,b,D)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=S,this},popFramebuffer:function(S,w){S===void 0&&(S=!1),w===void 0&&(w=!0);var A=this.fboStack;A.pop();var R=A[A.length-1];return R||(R=null),this.setFramebuffer(R,S,w),R},restoreFramebuffer:function(S,w){S===void 0&&(S=!1),w===void 0&&(w=!0);var A=this.fboStack,R=A[A.length-1];R||(R=null),this.currentFramebuffer=null,this.setFramebuffer(R,S,w)},setProgram:function(S){return S!==this.currentProgram?(this.flush(),this.gl.useProgram(S),this.currentProgram=S,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(S,w,A,R,O){O===void 0&&(O=!1);var L=this.gl,b=L.NEAREST,D=L.NEAREST,I=L.CLAMP_TO_EDGE,B=null;w=S?S.width:w,A=S?S.height:A;var V=r(w,A);return V&&!O&&(I=L.REPEAT),R===l.ScaleModes.LINEAR&&this.config.antialias&&(b=V&&this.mipmapFilter?this.mipmapFilter:L.LINEAR,D=L.LINEAR),S&&S.compressed&&(b=L.LINEAR,D=L.LINEAR),!S&&typeof w=="number"&&typeof A=="number"?B=this.createTexture2D(0,b,D,I,I,L.RGBA,null,w,A):B=this.createTexture2D(0,b,D,I,I,L.RGBA,S),B},createTexture2D:function(S,w,A,R,O,L,b,D,I,B,V,Y){B=B==null?!0:B,V===void 0&&(V=!1),Y===void 0&&(Y=!1);var k=this.gl,W=k.createTexture();k.activeTexture(k.TEXTURE0);var G=k.getParameter(k.TEXTURE_BINDING_2D);k.bindTexture(k.TEXTURE_2D,W),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,w),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,A),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,O),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,R),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B),Y&&k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!0);var U=!1;if(b==null)k.texImage2D(k.TEXTURE_2D,S,L,D,I,0,L,k.UNSIGNED_BYTE,null),U=r(D,I);else if(b.compressed){D=b.width,I=b.height,U=b.generateMipmap;for(var F=0;F<b.mipmaps.length;F++)k.compressedTexImage2D(k.TEXTURE_2D,F,b.internalFormat,b.mipmaps[F].width,b.mipmaps[F].height,0,b.mipmaps[F].data)}else V||(D=b.width,I=b.height),k.texImage2D(k.TEXTURE_2D,S,L,L,k.UNSIGNED_BYTE,b),U=r(D,I);return U&&k.generateMipmap(k.TEXTURE_2D),G&&k.bindTexture(k.TEXTURE_2D,G),W.isAlphaPremultiplied=B,W.isRenderTexture=!1,W.width=D,W.height=I,W},createFramebuffer:function(S,w,A,R){R===void 0&&(R=!0);var O=this.gl,L=O.createFramebuffer(),b=0;if(this.setFramebuffer(L),A.isRenderTexture=!0,A.isAlphaPremultiplied=!1,O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,A,0),b=O.checkFramebufferStatus(O.FRAMEBUFFER),b!==O.FRAMEBUFFER_COMPLETE){var D={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(D[b]||b))}if(L.renderTexture=A,R){var I=O.createRenderbuffer();O.bindRenderbuffer(O.RENDERBUFFER,I),O.renderbufferStorage(O.RENDERBUFFER,O.DEPTH_STENCIL,S,w),O.framebufferRenderbuffer(O.FRAMEBUFFER,O.DEPTH_STENCIL_ATTACHMENT,O.RENDERBUFFER,I)}return this.setFramebuffer(null),L},beginBitmapMask:function(S,w){var A=this.gl;A&&(this.flush(),this.maskTarget.bind(),this.currentCameraMask.mask!==S&&(this.currentMask.mask=S,this.currentMask.camera=w))},drawBitmapMask:function(S,w,A){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),S.renderWebGL(this,S,w),this.maskSource.unbind(!0),this.maskTarget.unbind();var R=this.gl,O=this.getCurrentStencilMask();O?(R.enable(R.STENCIL_TEST),O.mask.applyStencil(this,O.camera,!0)):this.currentMask.mask=null,this.pipelines.set(A),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,this.maskTarget.texture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,this.maskSource.texture)},createProgram:function(S,w){var A=this.gl,R=A.createProgram(),O=A.createShader(A.VERTEX_SHADER),L=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(O,S),A.shaderSource(L,w),A.compileShader(O),A.compileShader(L);var b=`Shader failed:
`;if(!A.getShaderParameter(O,A.COMPILE_STATUS))throw new Error("Vertex "+b+A.getShaderInfoLog(O));if(!A.getShaderParameter(L,A.COMPILE_STATUS))throw new Error("Fragment "+b+A.getShaderInfoLog(L));if(A.attachShader(R,O),A.attachShader(R,L),A.linkProgram(R),!A.getProgramParameter(R,A.LINK_STATUS))throw new Error("Link "+b+A.getProgramInfoLog(R));return A.useProgram(R),R},createVertexBuffer:function(S,w){var A=this.gl,R=A.createBuffer();return A.bindBuffer(A.ARRAY_BUFFER,R),A.bufferData(A.ARRAY_BUFFER,S,w),A.bindBuffer(A.ARRAY_BUFFER,null),R},createIndexBuffer:function(S,w){var A=this.gl,R=A.createBuffer();return A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,R),A.bufferData(A.ELEMENT_ARRAY_BUFFER,S,w),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,null),R},deleteTexture:function(S){return S&&this.gl.deleteTexture(S),this},deleteFramebuffer:function(S){if(S){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,S);var A=w.getParameter(w.RENDERBUFFER_BINDING);A&&w.deleteRenderbuffer(A),w.bindFramebuffer(w.FRAMEBUFFER,null),w.deleteFramebuffer(S),u(this.fboStack,S),this.currentFramebuffer===S&&(this.currentFramebuffer=null)}return this},deleteProgram:function(S){return S&&this.gl.deleteProgram(S),this},deleteBuffer:function(S){return this.gl.deleteBuffer(S),this},preRenderCamera:function(S){var w=S.x,A=S.y,R=S.width,O=S.height,L=S.backgroundColor;if(S.emit(x.PRE_RENDER,S),this.pipelines.preBatchCamera(S),this.pushScissor(w,A,R,O),S.mask&&(this.currentCameraMask.mask=S.mask,this.currentCameraMask.camera=S._maskCamera,S.mask.preRenderWebGL(this,S,S._maskCamera)),L.alphaGL>0){var b=this.pipelines.setMulti();b.drawFillRect(w,A,R,O,y.getTintFromFloats(L.blueGL,L.greenGL,L.redGL,1),L.alphaGL)}},getCurrentStencilMask:function(){var S=null,w=this.maskStack,A=this.currentCameraMask;return w.length>0?S=w[w.length-1]:A.mask&&A.mask.isStencil&&(S=A),S},postRenderCamera:function(S){var w=S.flashEffect,A=S.fadeEffect;if(w.isRunning||A.isRunning||A.isComplete){var R=this.pipelines.setMulti();w.postRenderWebGL(R,y.getTintFromFloats),A.postRenderWebGL(R,y.getTintFromFloats)}S.dirty=!1,this.popScissor(),S.mask&&(this.currentCameraMask.mask=null,S.mask.postRenderWebGL(this,S._maskCamera)),this.pipelines.postBatchCamera(S),S.emit(x.POST_RENDER,S)},preRender:function(){if(!this.contextLost){var S=this.gl;if(S.bindFramebuffer(S.FRAMEBUFFER,null),this.config.clearBeforeRender){var w=this.config.backgroundColor;S.clearColor(w.redGL,w.greenGL,w.blueGL,w.alphaGL),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT|S.STENCIL_BUFFER_BIT)}S.enable(S.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&S.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(S,w,A){if(!this.contextLost){var R=w.length;if(this.emit(n.RENDER,S,A),this.preRenderCamera(A),R===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(A);return}this.currentType="";for(var O=this.currentMask,L=0;L<R;L++){this.finalType=L===R-1;var b=w[L],D=b.mask;O=this.currentMask,O.mask&&O.mask!==D&&O.mask.postRenderWebGL(this,O.camera),D&&O.mask!==D&&D.preRenderWebGL(this,b,A),b.blendMode!==this.currentBlendMode&&this.setBlendMode(b.blendMode);var I=b.type;I!==this.currentType&&(this.newType=!0,this.currentType=I),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=w[L+1].type===this.currentType,b.renderWebGL(this,b,A),this.newType=!1}O=this.currentMask,O.mask&&O.mask.postRenderWebGL(this,O.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(A)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var S=this.snapshotState;S.callback&&(E(this.gl,S),S.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var S=this.gl,w=this.getCurrentStencilMask();if(w){var A=w.mask;S.enable(S.STENCIL_TEST),A.invertAlpha?S.stencilFunc(S.NOTEQUAL,A.level,255):S.stencilFunc(S.EQUAL,A.level,255)}},snapshot:function(S,w,A){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,S,w,A)},snapshotArea:function(S,w,A,R,O,L,b){var D=this.snapshotState;return D.callback=O,D.type=L,D.encoder=b,D.getPixel=!1,D.x=S,D.y=w,D.width=A,D.height=R,this},snapshotPixel:function(S,w,A){return this.snapshotArea(S,w,1,1,A),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(S,w,A,R,O,L,b,D,I,B,V){O===void 0&&(O=!1),L===void 0&&(L=0),b===void 0&&(b=0),D===void 0&&(D=w),I===void 0&&(I=A),B==="pixel"&&(O=!0,B="image/png");var Y=this.currentFramebuffer;this.snapshotArea(L,b,D,I,R,B,V);var k=this.snapshotState;return k.getPixel=O,k.isFramebuffer=!0,k.bufferWidth=w,k.bufferHeight=A,k.width=Math.min(k.width,w),k.height=Math.min(k.height,A),this.setFramebuffer(S),E(this.gl,k),this.setFramebuffer(Y),k.callback=null,k.isFramebuffer=!1,this},canvasToTexture:function(S,w,A,R){return A===void 0&&(A=!1),R===void 0&&(R=!1),w?this.updateCanvasTexture(S,w,R):this.createCanvasTexture(S,A,R)},createCanvasTexture:function(S,w,A){w===void 0&&(w=!1),A===void 0&&(A=!1);var R=this.gl,O=R.NEAREST,L=R.NEAREST,b=S.width,D=S.height,I=R.CLAMP_TO_EDGE,B=r(b,D);return!w&&B&&(I=R.REPEAT),this.config.antialias&&(O=B&&this.mipmapFilter?this.mipmapFilter:R.LINEAR,L=R.LINEAR),this.createTexture2D(0,O,L,I,I,R.RGBA,S,b,D,!0,!1,A)},updateCanvasTexture:function(S,w,A){A===void 0&&(A=!1);var R=this.gl,O=S.width,L=S.height;if(O>0&&L>0){R.activeTexture(R.TEXTURE0);var b=R.getParameter(R.TEXTURE_BINDING_2D);R.bindTexture(R.TEXTURE_2D,w),A&&R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,!0),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,S),w.width=O,w.height=L,b&&R.bindTexture(R.TEXTURE_2D,b)}return w},createVideoTexture:function(S,w,A){w===void 0&&(w=!1),A===void 0&&(A=!1);var R=this.gl,O=R.NEAREST,L=R.NEAREST,b=S.videoWidth,D=S.videoHeight,I=R.CLAMP_TO_EDGE,B=r(b,D);return!w&&B&&(I=R.REPEAT),this.config.antialias&&(O=B&&this.mipmapFilter?this.mipmapFilter:R.LINEAR,L=R.LINEAR),this.createTexture2D(0,O,L,I,I,R.RGBA,S,b,D,!0,!0,A)},updateVideoTexture:function(S,w,A){A===void 0&&(A=!1);var R=this.gl,O=S.videoWidth,L=S.videoHeight;if(O>0&&L>0){R.activeTexture(R.TEXTURE0);var b=R.getParameter(R.TEXTURE_BINDING_2D);R.bindTexture(R.TEXTURE_2D,w),R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,A),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,S),w.width=O,w.height=L,b&&R.bindTexture(R.TEXTURE_2D,b)}return w},setTextureFilter:function(S,w){var A=this.gl,R=[A.LINEAR,A.NEAREST][w];A.activeTexture(A.TEXTURE0);var O=A.getParameter(A.TEXTURE_BINDING_2D);return A.bindTexture(A.TEXTURE_2D,S),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,R),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,R),O&&A.bindTexture(A.TEXTURE_2D,O),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});o.exports=P},71305:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=e(71402),l=new u({initialize:function(n,r,f,a,c){this.pipeline=n,this.name=r,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=a,this.vertSrc=f,this.program=this.renderer.createProgram(f,a),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(c),this.createUniforms()},createAttributes:function(h){var n=0,r=0,f=[];this.vertexComponentCount=0;for(var a=0;a<h.length;a++){var c=h[a],p=c.name,v=x(c,"size",1),m=x(c,"type",d.FLOAT),y=m.enum,E=m.size,P=!!c.normalized;f.push({name:p,size:v,type:y,normalized:P,offset:r,enabled:!1,location:-1}),E===4?n+=v:n++,r+=v*E}this.vertexSize=r,this.vertexComponentCount=n,this.attributes=f},bind:function(h,n){return h===void 0&&(h=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),h&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(h){h===void 0&&(h=!1);for(var n=this.gl,r=this.vertexSize,f=this.attributes,a=this.program,c=0;c<f.length;c++){var p=f[c],v=p.size,m=p.type,y=p.offset,E=p.enabled,P=p.location,S=!!p.normalized;if(h){var w=n.getAttribLocation(a,p.name);w>=0?(n.enableVertexAttribArray(w),n.vertexAttribPointer(w,v,m,S,r,y),p.enabled=!0,p.location=w):w!==-1&&n.disableVertexAttribArray(w)}else E?n.vertexAttribPointer(P,v,m,S,r,y):!E&&P>-1&&(n.disableVertexAttribArray(P),p.location=-1)}return this},createUniforms:function(){var h=this.gl,n=this.program,r=this.uniforms,f,a,c,p=h.getProgramParameter(n,h.ACTIVE_UNIFORMS);for(f=0;f<p;f++){var v=h.getActiveUniform(n,f);if(v){a=v.name,c=h.getUniformLocation(n,a),c!==null&&(r[a]={name:a,location:c,value1:null,value2:null,value3:null,value4:null});var m=a.indexOf("[");m>0&&(a=a.substr(0,m),r.hasOwnProperty(a)||(c=h.getUniformLocation(n,a),c!==null&&(r[a]={name:a,location:c,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(h){return this.uniforms.hasOwnProperty(h)},resetUniform:function(h){var n=this.uniforms[h];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(h,n,r,f){var a=this.uniforms[n];return a?((f||a.value1!==r)&&(a.value1=r,this.renderer.setProgram(this.program),h.call(this.gl,a.location,r),this.pipeline.currentShader=this),this):this},setUniform2:function(h,n,r,f,a){var c=this.uniforms[n];return c?((a||c.value1!==r||c.value2!==f)&&(c.value1=r,c.value2=f,this.renderer.setProgram(this.program),h.call(this.gl,c.location,r,f),this.pipeline.currentShader=this),this):this},setUniform3:function(h,n,r,f,a,c){var p=this.uniforms[n];return p?((c||p.value1!==r||p.value2!==f||p.value3!==a)&&(p.value1=r,p.value2=f,p.value3=a,this.renderer.setProgram(this.program),h.call(this.gl,p.location,r,f,a),this.pipeline.currentShader=this),this):this},setUniform4:function(h,n,r,f,a,c,p){var v=this.uniforms[n];return v?((p||v.value1!==r||v.value2!==f||v.value3!==a||v.value4!==c)&&(v.value1=r,v.value2=f,v.value3=a,v.value4=c,this.renderer.setProgram(this.program),h.call(this.gl,v.location,r,f,a,c),this.pipeline.currentShader=this),this):this},setBoolean:function(h,n){return this.setUniform1(this.gl.uniform1i,h,Number(n))},set1f:function(h,n){return this.setUniform1(this.gl.uniform1f,h,n)},set2f:function(h,n,r){return this.setUniform2(this.gl.uniform2f,h,n,r)},set3f:function(h,n,r,f){return this.setUniform3(this.gl.uniform3f,h,n,r,f)},set4f:function(h,n,r,f,a){return this.setUniform4(this.gl.uniform4f,h,n,r,f,a)},set1fv:function(h,n){return this.setUniform1(this.gl.uniform1fv,h,n,!0)},set2fv:function(h,n){return this.setUniform1(this.gl.uniform2fv,h,n,!0)},set3fv:function(h,n){return this.setUniform1(this.gl.uniform3fv,h,n,!0)},set4fv:function(h,n){return this.setUniform1(this.gl.uniform4fv,h,n,!0)},set1iv:function(h,n){return this.setUniform1(this.gl.uniform1iv,h,n,!0)},set2iv:function(h,n){return this.setUniform1(this.gl.uniform2iv,h,n,!0)},set3iv:function(h,n){return this.setUniform1(this.gl.uniform3iv,h,n,!0)},set4iv:function(h,n){return this.setUniform1(this.gl.uniform4iv,h,n,!0)},set1i:function(h,n){return this.setUniform1(this.gl.uniform1i,h,n)},set2i:function(h,n,r){return this.setUniform2(this.gl.uniform2i,h,n,r)},set3i:function(h,n,r,f){return this.setUniform3(this.gl.uniform3i,h,n,r,f)},set4i:function(h,n,r,f,a){return this.setUniform4(this.gl.uniform4i,h,n,r,f,a)},setMatrix2fv:function(h,n,r){return this.setUniform2(this.gl.uniformMatrix2fv,h,n,r,!0)},setMatrix3fv:function(h,n,r){return this.setUniform2(this.gl.uniformMatrix3fv,h,n,r,!0)},setMatrix4fv:function(h,n,r){return this.setUniform2(this.gl.uniformMatrix4fv,h,n,r,!0)},createProgram:function(h,n){h===void 0&&(h=this.vertSrc),n===void 0&&(n=this.fragSrc);var r=this.gl;return this.program&&r.deleteProgram(this.program),this.vertSrc=h,this.fragSrc=n,this.program=this.renderer.createProgram(h,n),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});o.exports=l},71402:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};o.exports=T},55478:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71402),x=e(98611),d={PipelineManager:e(35217),Pipelines:e(62253),RenderTarget:e(37410),Utils:e(75512),WebGLPipeline:e(44775),WebGLRenderer:e(11857),WebGLShader:e(71305)};d=x(!1,d,u),o.exports=d},5583:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=e(91679),l=e(89053),h=e(71402),n=e(44775),r=new u({Extends:n,initialize:function(a){a.fragShader=x(a,"fragShader",d),a.vertShader=x(a,"vertShader",l),a.batchSize=x(a,"batchSize",1),a.vertices=x(a,"vertices",[-1,1,-1,-7,7,1]),a.attributes=x(a,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),n.call(this,a)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(f,a){n.prototype.resize.call(this,f,a),this.set2f("uResolution",f,a)},beginMask:function(f,a,c){this.renderer.beginBitmapMask(f,c)},endMask:function(f,a,c){var p=this.gl,v=this.renderer,m=f.bitmapMask;m&&p&&(v.drawBitmapMask(m,a,this),c&&this.set2f("uResolution",c.width,c.height),this.set1i("uInvertMaskAlpha",f.invertAlpha),p.drawArrays(this.topology,0,3),c&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});o.exports=r},81828:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(58136),d=e(47406),l=e(72632),h=e(87228),n=e(92462),r=e(75512),f=new u({Extends:h,initialize:function(c){c.shaders=[r.setGlowQuality(n.FXGlowFrag,c.game),n.FXShadowFrag,n.FXPixelateFrag,n.FXVignetteFrag,n.FXShineFrag,n.FXBlurLowFrag,n.FXBlurMedFrag,n.FXBlurHighFrag,n.FXGradientFrag,n.FXBloomFrag,n.ColorMatrixFrag,n.FXCircleFrag,n.FXBarrelFrag,n.FXDisplacementFrag,n.FXWipeFrag,n.FXBokehFrag],h.call(this,c);var p=this.game;this.glow=new x.Glow(p),this.shadow=new x.Shadow(p),this.pixelate=new x.Pixelate(p),this.vignette=new x.Vignette(p),this.shine=new x.Shine(p),this.gradient=new x.Gradient(p),this.circle=new x.Circle(p),this.barrel=new x.Barrel(p),this.wipe=new x.Wipe(p),this.bokeh=new x.Bokeh(p);var v=[];v[d.GLOW]=this.onGlow,v[d.SHADOW]=this.onShadow,v[d.PIXELATE]=this.onPixelate,v[d.VIGNETTE]=this.onVignette,v[d.SHINE]=this.onShine,v[d.BLUR]=this.onBlur,v[d.GRADIENT]=this.onGradient,v[d.BLOOM]=this.onBloom,v[d.COLOR_MATRIX]=this.onColorMatrix,v[d.CIRCLE]=this.onCircle,v[d.BARREL]=this.onBarrel,v[d.DISPLACEMENT]=this.onDisplacement,v[d.WIPE]=this.onWipe,v[d.BOKEH]=this.onBokeh,this.fxHandlers=v,this.source,this.target,this.swap},onDraw:function(a,c,p){this.source=a,this.target=c,this.swap=p;var v=a.width,m=a.height,y=this.tempSprite,E=this.fxHandlers;if(y&&y.preFX)for(var P=y.preFX.list,S=0;S<P.length;S++){var w=P[S];w.active&&E[w.type].call(this,w,v,m)}this.drawToGame(this.source)},runDraw:function(){var a=this.source,c=this.target;this.copy(a,c),this.source=c,this.target=a},onGlow:function(a,c,p){var v=this.shaders[d.GLOW];this.setShader(v),this.glow.onPreRender(a,v,c,p),this.runDraw()},onShadow:function(a){var c=this.shaders[d.SHADOW];this.setShader(c),this.shadow.onPreRender(a,c),this.runDraw()},onPixelate:function(a,c,p){var v=this.shaders[d.PIXELATE];this.setShader(v),this.pixelate.onPreRender(a,v,c,p),this.runDraw()},onVignette:function(a){var c=this.shaders[d.VIGNETTE];this.setShader(c),this.vignette.onPreRender(a,c),this.runDraw()},onShine:function(a,c,p){var v=this.shaders[d.SHINE];this.setShader(v),this.shine.onPreRender(a,v,c,p),this.runDraw()},onBlur:function(a,c,p){var v=l(a,"quality"),m=this.shaders[d.BLUR+v];this.setShader(m),this.set1i("uMainSampler",0),this.set2f("resolution",c,p),this.set1f("strength",l(a,"strength")),this.set3fv("color",l(a,"glcolor"));for(var y=l(a,"x"),E=l(a,"y"),P=l(a,"steps"),S=0;S<P;S++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw()},onGradient:function(a){var c=this.shaders[d.GRADIENT];this.setShader(c),this.gradient.onPreRender(a,c),this.runDraw()},onBloom:function(a,c,p){var v=this.shaders[d.BLOOM];this.copySprite(this.source,this.swap),this.setShader(v),this.set1i("uMainSampler",0),this.set1f("strength",l(a,"blurStrength")),this.set3fv("color",l(a,"glcolor"));for(var m=2/c*l(a,"offsetX"),y=2/p*l(a,"offsetY"),E=l(a,"steps"),P=0;P<E;P++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw();this.blendFrames(this.swap,this.source,this.target,l(a,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(a){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",a.getData()),this.set1f("uAlpha",a.alpha),this.runDraw()},onCircle:function(a,c,p){var v=this.shaders[d.CIRCLE];this.setShader(v),this.circle.onPreRender(a,v,c,p),this.runDraw()},onBarrel:function(a){var c=this.shaders[d.BARREL];this.setShader(c),this.barrel.onPreRender(a,c),this.runDraw()},onDisplacement:function(a){this.setShader(this.shaders[d.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.runDraw()},onWipe:function(a){var c=this.shaders[d.WIPE];this.setShader(c),this.wipe.onPreRender(a,c),this.runDraw()},onBokeh:function(a,c,p){var v=this.shaders[d.BOKEH];this.setShader(v),this.bokeh.onPreRender(a,v,c,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,h.prototype.destroy.call(this),this}});o.exports=f},66901:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=e(65045),l=e(77310),h=e(69360),n=e(93736),r=e(44775),f=new u({Extends:l,initialize:function(c){var p=x(c,"fragShader",d);c.fragShader=p.replace("%LIGHT_COUNT%",c.game.renderer.config.maxLights),l.call(this,c),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new n,this._tempMatrix=new h,this._tempMatrix2=new h},boot:function(){r.prototype.boot.call(this);var a=this.gl,c=a.createTexture();a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,c),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:c}},onRender:function(a,c){var p=a.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var v=p.getLights(c),m=v.length;this.lightsActive=!0;var y,E=this.renderer,P=E.height,S=c.matrix,w=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",c.x,c.y,c.rotation,c.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",m),y=0;y<m;y++){var A=v[y].light,R=A.color,O="uLights["+y+"].";S.transformPoint(A.x,A.y,w),this.set2f(O+"position",w.x-c.scrollX*A.scrollFactorX*c.zoom,P-(w.y-c.scrollY*A.scrollFactorY*c.zoom)),this.set3f(O+"color",R.r,R.g,R.b),this.set1f(O+"intensity",A.intensity),this.set1f(O+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(a){if(a!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var c=this.inverseRotationMatrix;if(a){var p=-a,v=Math.cos(p),m=Math.sin(p);c[1]=m,c[3]=-m,c[0]=c[4]=v}else c[0]=c[4]=1,c[1]=c[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,c),this.currentNormalMapRotation=a}},setTexture2D:function(a,c){var p=this.renderer;a===void 0&&(a=p.whiteTexture);var v=this.getNormalMap(c);this.isNewNormalMap(a,v)&&(this.flush(),this.createBatch(a),this.addTextureToBatch(v),this.currentNormalMap=v);var m=0;if(c&&c.parentContainer){var y=c.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);m=y.rotationNormalized}else c&&(m=c.rotation);return this.setNormalMapRotation(m),0},setGameObject:function(a,c){c===void 0&&(c=a.frame);var p=c.glTexture,v=this.getNormalMap(a);if(this.isNewNormalMap(p,v)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(v),this.currentNormalMap=v),a.parentContainer){var m=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(m.rotationNormalized)}else this.setNormalMapRotation(a.rotation);return 0},isNewNormalMap:function(a,c){return this.currentTexture!==a||this.currentNormalMap!==c},getNormalMap:function(a){var c;return a?a.displayTexture?c=a.displayTexture.dataSource[a.displayFrame.sourceIndex]:a.texture?c=a.texture.dataSource[a.frame.sourceIndex]:a.tileset&&(Array.isArray(a.tileset)?c=a.tileset[0].image.dataSource[0]:c=a.tileset.image.dataSource[0]):c=this.defaultNormalMap,c||(c=this.defaultNormalMap),c.glTexture},batchSprite:function(a,c,p){this.lightsActive&&l.prototype.batchSprite.call(this,a,c,p)},batchTexture:function(a,c,p,v,m,y,E,P,S,w,A,R,O,L,b,D,I,B,V,Y,k,W,G,U,F,N,z,X,H,$,K,Z){this.lightsActive&&l.prototype.batchTexture.call(this,a,c,p,v,m,y,E,P,S,w,A,R,O,L,b,D,I,B,V,Y,k,W,G,U,F,N,z,X,H,$,K,Z)},batchTextureFrame:function(a,c,p,v,m,y,E){this.lightsActive&&l.prototype.batchTextureFrame.call(this,a,c,p,v,m,y,E)}});o.exports=f},71264:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=e(77310),l=e(85060),h=e(18166),n=e(71402),r=e(44775),f=new u({Extends:d,initialize:function(c){c.fragShader=x(c,"fragShader",l),c.vertShader=x(c,"vertShader",h),c.attributes=x(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:n.UNSIGNED_BYTE,normalized:!0}]),c.forceZero=!0,d.call(this,c)},boot:function(){r.prototype.boot.call(this),this.set1i("uMainSampler",0)}});o.exports=f},77310:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(11117),d=e(72632),l=e(53787),h=e(15968),n=e(69360),r=e(75512),f=e(71402),a=e(44775),c=new u({Extends:a,initialize:function(v){var m=v.game.renderer,y=d(v,"fragShader",l);v.fragShader=r.parseFragmentShaderMaxTextures(y,m.maxTextures),v.vertShader=d(v,"vertShader",h),v.attributes=d(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:f.UNSIGNED_BYTE,normalized:!0}]),a.call(this,v),this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){a.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(p,v,m){this.manager.set(this,p);var y=this._tempMatrix1,E=this._tempMatrix2,P=this._tempMatrix3,S=p.frame,w=S.glTexture,A=S.u0,R=S.v0,O=S.u1,L=S.v1,b=S.x,D=S.y,I=S.cutWidth,B=S.cutHeight,V=S.customPivot,Y=p.displayOriginX,k=p.displayOriginY,W=-Y+b,G=-k+D;if(p.isCropped){var U=p._crop;(U.flipX!==p.flipX||U.flipY!==p.flipY)&&S.updateCropUVs(U,p.flipX,p.flipY),A=U.u0,R=U.v0,O=U.u1,L=U.v1,I=U.width,B=U.height,b=U.x,D=U.y,W=-Y+b,G=-k+D}var F=1,N=1;p.flipX&&(V||(W+=-S.realWidth+Y*2),F=-1),(p.flipY||S.source.isGLTexture&&!w.flipY)&&(V||(G+=-S.realHeight+k*2),N=-1);var z=p.x,X=p.y;E.applyITRS(z,X,p.rotation,p.scaleX*F,p.scaleY*N),y.copyFrom(v.matrix),m?(y.multiplyWithOffset(m,-v.scrollX*p.scrollFactorX,-v.scrollY*p.scrollFactorY),E.e=z,E.f=X):(E.e-=v.scrollX*p.scrollFactorX,E.f-=v.scrollY*p.scrollFactorY),y.multiply(E,P);var H=P.setQuad(W,G,W+I,G+B,v.roundPixels),$=r.getTintAppendFloatAlpha,K=v.alpha,Z=$(p.tintTopLeft,K*p._alphaTL),J=$(p.tintTopRight,K*p._alphaTR),j=$(p.tintBottomLeft,K*p._alphaBL),Q=$(p.tintBottomRight,K*p._alphaBR);this.shouldFlush(6)&&this.flush();var tt=this.setGameObject(p,S);this.manager.preBatch(p),this.batchQuad(p,H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],A,R,O,L,Z,J,j,Q,p.tintFill,w,tt),this.manager.postBatch(p)},batchTexture:function(p,v,m,y,E,P,S,w,A,R,O,L,b,D,I,B,V,Y,k,W,G,U,F,N,z,X,H,$,K,Z,J,j){this.manager.set(this,p);var Q=this._tempMatrix1,tt=this._tempMatrix2,_=this._tempMatrix3,it=Y/m+H,ht=k/y+$,lt=(Y+W)/m+H,ot=(k+G)/y+$,et=S,at=w,rt=-B,gt=-V;if(p.isCropped){var pt=p._crop,Lt=pt.width,At=pt.height;et=Lt,at=At,S=Lt,w=At,Y=pt.x,k=pt.y;var Tt=Y,xt=k;L&&(Tt=W-pt.x-Lt),b&&(xt=G-pt.y-At),it=Tt/m+H,ht=xt/y+$,lt=(Tt+Lt)/m+H,ot=(xt+At)/y+$,rt=-B+Y,gt=-V+k}b=b^(!J&&v.isRenderTexture?1:0),L&&(et*=-1,rt+=S),b&&(at*=-1,gt+=w),tt.applyITRS(E,P,O,A,R),Q.copyFrom(K.matrix),Z?(Q.multiplyWithOffset(Z,-K.scrollX*D,-K.scrollY*I),tt.e=E,tt.f=P):(tt.e-=K.scrollX*D,tt.f-=K.scrollY*I),Q.multiply(tt,_);var Rt=_.setQuad(rt,gt,rt+et,gt+at,K.roundPixels);j===void 0&&(j=this.setTexture2D(v)),p&&this.manager.preBatch(p),this.batchQuad(p,Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5],Rt[6],Rt[7],it,ht,lt,ot,U,F,N,z,X,v,j),p&&this.manager.postBatch(p)},batchTextureFrame:function(p,v,m,y,E,P,S){this.manager.set(this);var w=this._tempMatrix1.copyFrom(P),A=this._tempMatrix2;S?w.multiply(S,A):A=w;var R=A.setQuad(v,m,v+p.width,m+p.height,!1),O=this.setTexture2D(p.source.glTexture);y=r.getTintAppendFloatAlpha(y,E),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],p.u0,p.v0,p.u1,p.v1,y,y,y,y,0,p.glTexture,O)},batchFillRect:function(p,v,m,y,E,P){this.renderer.pipelines.set(this);var S=this.calcMatrix;P&&P.multiply(E,S);var w=S.setQuad(p,v,p+m,v+y,!1),A=this.fillTint;this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(p,v,m,y,E,P,S,w){this.renderer.pipelines.set(this);var A=this.calcMatrix;w&&w.multiply(S,A);var R=A.getX(p,v),O=A.getY(p,v),L=A.getX(m,y),b=A.getY(m,y),D=A.getX(E,P),I=A.getY(E,P),B=this.fillTint;this.batchTri(null,R,O,L,b,D,I,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(p,v,m,y,E,P,S,w,A){var R=this.tempTriangle;R[0].x=p,R[0].y=v,R[0].width=S,R[1].x=m,R[1].y=y,R[1].width=S,R[2].x=E,R[2].y=P,R[2].width=S,R[3].x=p,R[3].y=v,R[3].width=S,this.batchStrokePath(R,S,!1,w,A)},batchFillPath:function(p,v,m){this.renderer.pipelines.set(this);var y=this.calcMatrix;m&&m.multiply(v,y);for(var E=p.length,P=this.polygonCache,S,w,A=this.fillTint.TL,R=this.fillTint.TR,O=this.fillTint.BL,L=0;L<E;++L)w=p[L],P.push(w.x,w.y);S=x(P),E=S.length;for(var b=0;b<E;b+=3){var D=S[b+0]*2,I=S[b+1]*2,B=S[b+2]*2,V=P[D+0],Y=P[D+1],k=P[I+0],W=P[I+1],G=P[B+0],U=P[B+1],F=y.getX(V,Y),N=y.getY(V,Y),z=y.getX(k,W),X=y.getY(k,W),H=y.getX(G,U),$=y.getY(G,U);this.batchTri(null,F,N,z,X,H,$,0,0,1,1,A,R,O,2)}P.length=0},batchStrokePath:function(p,v,m,y,E){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var P=p.length-1,S=0;S<P;S++){var w=p[S],A=p[S+1];this.batchLine(w.x,w.y,A.x,A.y,w.width/2,A.width/2,v,S,!m&&S===P-1,y,E)}},batchLine:function(p,v,m,y,E,P,S,w,A,R,O){this.renderer.pipelines.set(this);var L=this.calcMatrix;O&&O.multiply(R,L);var b=m-p,D=y-v,I=Math.sqrt(b*b+D*D);if(I!==0){var B=E*(y-v)/I,V=E*(p-m)/I,Y=P*(y-v)/I,k=P*(p-m)/I,W=m-Y,G=y-k,U=p-B,F=v-V,N=m+Y,z=y+k,X=p+B,H=v+V,$=L.getX(W,G),K=L.getY(W,G),Z=L.getX(U,F),J=L.getY(U,F),j=L.getX(N,z),Q=L.getY(N,z),tt=L.getX(X,H),_=L.getY(X,H),it=this.strokeTint,ht=it.TL,lt=it.TR,ot=it.BL,et=it.BR;if(this.batchQuad(null,tt,_,Z,J,$,K,j,Q,0,0,1,1,ht,lt,ot,et,2),!(S<=2)){var at=this.prevQuad,rt=this.firstQuad;w>0&&at[4]?this.batchQuad(null,tt,_,Z,J,at[0],at[1],at[2],at[3],0,0,1,1,ht,lt,ot,et,2):(rt[0]=tt,rt[1]=_,rt[2]=Z,rt[3]=J,rt[4]=1),A&&rt[4]?this.batchQuad(null,$,K,j,Q,rt[0],rt[1],rt[2],rt[3],0,0,1,1,ht,lt,ot,et,2):(at[0]=$,at[1]=K,at[2]=j,at[3]=Q,at[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,a.prototype.destroy.call(this),this}});o.exports=c},10919:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=e(83327),l=e(54677),h=e(44775),n=new u({Extends:h,initialize:function(f){f.vertShader=x(f,"vertShader",l),f.fragShader=x(f,"fragShader",d),f.attributes=x(f,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,f)},onRender:function(r,f){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",f.zoom)},batchPointLight:function(r,f,a,c,p,v,m,y,E,P,S,w){var A=r.color,R=r.intensity,O=r.radius,L=r.attenuation,b=A.r*R,D=A.g*R,I=A.b*R,B=f.alpha*r.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(a,c,S,w,O,L,b,D,I,B),this.batchLightVert(p,v,S,w,O,L,b,D,I,B),this.batchLightVert(m,y,S,w,O,L,b,D,I,B),this.batchLightVert(a,c,S,w,O,L,b,D,I,B),this.batchLightVert(m,y,S,w,O,L,b,D,I,B),this.batchLightVert(E,P,S,w,O,L,b,D,I,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(r,f,a,c,p,v,m,y,E,P){var S=this.vertexViewF32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++w]=r,S[++w]=f,S[++w]=a,S[++w]=c,S[++w]=p,S[++w]=v,S[++w]=m,S[++w]=y,S[++w]=E,S[++w]=P,this.vertexCount++}});o.exports=n},80486:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(65246),d=e(72632),l=e(12569),h=e(99365),n=e(44775),r=new u({Extends:n,initialize:function(a){a.renderTarget=d(a,"renderTarget",1),a.fragShader=d(a,"fragShader",l),a.vertShader=d(a,"vertShader",h),a.attributes=d(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),a.batchSize=1,a.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],n.call(this,a),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){n.prototype.boot.call(this);var f=this.manager.UTILITY_PIPELINE;this.fullFrame1=f.fullFrame1,this.fullFrame2=f.fullFrame2,this.halfFrame1=f.halfFrame1,this.halfFrame2=f.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(f){this.bindAndDraw(f)},getController:function(f){return f!==void 0?f:this.controller?this.controller:this},copySprite:function(f,a,c){c===void 0&&(c=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,f.texture);var v=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,a.framebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,a.texture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),c&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,v))},copyFrame:function(f,a,c,p,v){this.manager.copyFrame(f,a,c,p,v)},copyToGame:function(f){this.manager.copyToGame(f)},drawFrame:function(f,a,c){this.manager.drawFrame(f,a,c,this.colorMatrix)},blendFrames:function(f,a,c,p,v){this.manager.blendFrames(f,a,c,p,v)},blendFramesAdditive:function(f,a,c,p,v){this.manager.blendFramesAdditive(f,a,c,p,v)},clearFrame:function(f,a){this.manager.clearFrame(f,a)},blitFrame:function(f,a,c,p,v,m){this.manager.blitFrame(f,a,c,p,v,m)},copyFrameRect:function(f,a,c,p,v,m,y,E){this.manager.copyFrameRect(f,a,c,p,v,m,y,E)},bindAndDraw:function(f,a,c,p,v){c===void 0&&(c=!0),p===void 0&&(p=!0);var m=this.gl,y=this.renderer;this.bind(v),this.set1i("uMainSampler",0),a?(m.viewport(0,0,a.width,a.height),m.bindFramebuffer(m.FRAMEBUFFER,a.framebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,a.texture,0),c&&(p?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT))):(y.popFramebuffer(!1,!1),y.currentFramebuffer||m.viewport(0,0,y.width,y.height)),y.restoreStencilMask(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,f.texture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),a&&(m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,y.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,n.prototype.destroy.call(this),this}});o.exports=r},87228:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),x=e(79993),d=e(56694),l=e(37486),h=e(72632),n=e(77310),r=e(12569),f=e(74118),a=e(37410),c=e(85060),p=e(18166),v=e(44775),m=new d({Extends:n,initialize:function(E){var P=h(E,"fragShader",r),S=h(E,"vertShader",p),w=h(E,"drawShader",r),A=[{name:"DrawSprite",fragShader:c,vertShader:p},{name:"CopySprite",fragShader:P,vertShader:S},{name:"DrawGame",fragShader:w,vertShader:p},{name:"ColorMatrix",fragShader:l}],R=h(E,"shaders",[]);E.shaders=A.concat(R),E.vertShader||(E.vertShader=S),E.batchSize=1,n.call(this,E),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new f,this.targetBounds=new f,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){v.prototype.boot.call(this);var y=this.shaders,E=this.renderer;this.drawSpriteShader=y[0],this.copyShader=y[1],this.gameShader=y[2],this.colorMatrixShader=y[3],this.fsTarget=new a(E,E.width,E.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var P=new ArrayBuffer(168);this.quadVertexData=P,this.quadVertexViewF32=new Float32Array(P),this.quadVertexBuffer=E.createVertexBuffer(P,this.gl.STATIC_DRAW),this.onResize(E.width,E.height),this.currentShader=this.copyShader},onResize:function(y,E){var P=this.quadVertexViewF32;P[1]=E,P[22]=E,P[14]=y,P[28]=y,P[35]=y,P[36]=E},batchQuad:function(y,E,P,S,w,A,R,O,L,b,D,I,B,V,Y,k,W,G,U){var F=Math.min(E,S,A,O),N=Math.min(P,w,R,L),z=Math.max(E,S,A,O),X=Math.max(P,w,R,L),H=z-F,$=X-N,K=this.spriteBounds.setTo(F,N,H,$),Z=y?y.preFX.padding:0,J=H+Z*2,j=$+Z*2,Q=Math.abs(Math.max(J,j)),tt=this.manager.getRenderTarget(Q),_=this.targetBounds.setTo(0,0,tt.width,tt.height);x(_,K.centerX,K.centerY),this.tempSprite=y;var it=this.gl,ht=this.renderer;ht.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.flipProjectionMatrix(!0),y&&(this.onDrawSprite(y,tt),y.preFX.onFX(this));var lt=this.fsTarget;return this.flush(),it.viewport(0,0,ht.width,ht.height),it.bindFramebuffer(it.FRAMEBUFFER,lt.framebuffer),it.framebufferTexture2D(it.FRAMEBUFFER,it.COLOR_ATTACHMENT0,it.TEXTURE_2D,lt.texture,0),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT),this.setTexture2D(U),this.batchVert(E,P,b,D,0,G,V),this.batchVert(S,w,b,B,0,G,k),this.batchVert(A,R,I,B,0,G,W),this.batchVert(E,P,b,D,0,G,V),this.batchVert(A,R,I,B,0,G,W),this.batchVert(O,L,I,D,0,G,Y),this.flush(),this.flipProjectionMatrix(!1),it.activeTexture(it.TEXTURE0),it.bindTexture(it.TEXTURE_2D,tt.texture),it.copyTexSubImage2D(it.TEXTURE_2D,0,0,0,_.x,_.y,_.width,_.height),it.bindFramebuffer(it.FRAMEBUFFER,null),it.bindTexture(it.TEXTURE_2D,null),this.onBatch(y),this.currentShader=this.copyShader,this.onDraw(tt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(y,E,P,S,w,A,R){P===void 0&&(P=!0),S===void 0&&(S=!0),w===void 0&&(w=!1),R===void 0&&(R=this.copyShader);var O=this.gl,L=this.tempSprite;A&&(R=this.colorMatrixShader),this.currentShader=R;var b=this.setVertexBuffer(this.quadVertexBuffer);if(R.bind(b,!1),this.set1i("uMainSampler",0),L.preFX.onFXCopy(this),this.onCopySprite(y,E,L),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,y.texture),y.height>E.height)O.viewport(0,0,y.width,y.height),this.setTargetUVs(y,E);else{var D=E.height-y.height;O.viewport(0,D,y.width,y.height),this.resetUVs()}if(O.bindFramebuffer(O.FRAMEBUFFER,E.framebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,E.texture,0),P&&(O.clearColor(0,0,0,Number(!S)),O.clear(O.COLOR_BUFFER_BIT)),w){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}O.bufferData(O.ARRAY_BUFFER,this.quadVertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),w&&this.renderer.setBlendMode(I),O.bindFramebuffer(O.FRAMEBUFFER,null)},copy:function(y,E){var P=this.gl;this.set1i("uMainSampler",0),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,y.texture),P.viewport(0,0,y.width,y.height),this.setUVs(0,0,0,1,1,1,1,0),P.bindFramebuffer(P.FRAMEBUFFER,E.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,E.texture,0),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null)},blendFrames:function(y,E,P,S,w){this.manager.blendFrames(y,E,P,S,w)},blendFramesAdditive:function(y,E,P,S,w){this.manager.blendFramesAdditive(y,E,P,S,w)},drawToGame:function(y){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(y)},copyToGame:function(y){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(y)},bindAndDraw:function(y){var E=this.gl,P=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(y.texture);var S=this._tempMatrix1.loadIdentity(),w=this.targetBounds.x,A=this.targetBounds.y,R=w+y.width,O=A+y.height,L=S.getX(w,A),b=S.getX(w,O),D=S.getX(R,O),I=S.getX(R,A),B=S.getY(w,A),V=S.getY(w,O),Y=S.getY(R,O),k=S.getY(R,A),W=16777215;this.batchVert(L,B,0,0,0,0,W),this.batchVert(b,V,0,1,0,0,W),this.batchVert(D,Y,1,1,0,0,W),this.batchVert(L,B,0,0,0,0,W),this.batchVert(D,Y,1,1,0,0,W),this.batchVert(I,k,1,0,0,0,W),P.restoreFramebuffer(!1,!0),P.currentFramebuffer||E.viewport(0,0,P.width,P.height),P.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(y){this.drawToGame(y)},setUVs:function(y,E,P,S,w,A,R,O){var L=this.quadVertexViewF32;L[2]=y,L[3]=E,L[9]=P,L[10]=S,L[16]=w,L[17]=A,L[23]=y,L[24]=E,L[30]=w,L[31]=A,L[37]=R,L[38]=O},setTargetUVs:function(y,E){var P=E.height/y.height;P>.5?P=.5-(P-.5):P=.5+(.5-P),this.setUVs(0,P,0,1+P,1,1+P,1,P)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,n.prototype.destroy.call(this),this}});o.exports=m},21213:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=e(77310),l=new u({Extends:d,initialize:function(n){n.topology=5,n.batchSize=x(n,"batchSize",256),d.call(this,n)}});o.exports=l},51212:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=e(77310),l=e(85060),h=e(18166),n=e(44775),r=new u({Extends:d,initialize:function(a){a.fragShader=x(a,"fragShader",l),a.vertShader=x(a,"vertShader",h),a.forceZero=!0,d.call(this,a)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0)}});o.exports=r},60848:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(2529),x=e(95723),d=e(56694),l=e(65246),h=e(37486),n=e(79060),r=e(72632),f=e(98921),a=e(99365),c=e(44775),p=new d({Extends:c,initialize:function(m){m.renderTarget=r(m,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),m.vertShader=r(m,"vertShader",a),m.shaders=r(m,"shaders",[{name:"Copy",fragShader:n},{name:"AddBlend",fragShader:u},{name:"LinearBlend",fragShader:f},{name:"ColorMatrix",fragShader:h}]),m.attributes=r(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),m.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],m.batchSize=1,c.call(this,m),this.colorMatrix=new l,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){c.prototype.boot.call(this);var v=this.shaders,m=this.renderTargets;this.copyShader=v[0],this.addShader=v[1],this.linearShader=v[2],this.colorMatrixShader=v[3],this.fullFrame1=m[0],this.fullFrame2=m[1],this.halfFrame1=m[2],this.halfFrame2=m[3]},copyFrame:function(v,m,y,E,P){y===void 0&&(y=1),E===void 0&&(E=!0),P===void 0&&(P=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,v.texture),m?(S.viewport(0,0,m.width,m.height),S.bindFramebuffer(S.FRAMEBUFFER,m.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,m.texture,0)):S.viewport(0,0,v.width,v.height),E&&(P?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(v,m,y,E,P,S,w){y===void 0&&(y=1),E===void 0&&(E=!0),P===void 0&&(P=!0),S===void 0&&(S=!1),w===void 0&&(w=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,v.texture),v.height>m.height)A.viewport(0,0,v.width,v.height),this.setTargetUVs(v,m);else{var R=m.height-v.height;A.viewport(0,R,v.width,v.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,m.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,m.texture,0),E&&(P?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),S){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}w&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),S&&this.renderer.setBlendMode(O),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(v,m,y,E,P,S,w,A){w===void 0&&(w=!0),A===void 0&&(A=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,v.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,v.texture,0),w&&(A?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,m.texture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,y,E,P,S),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(v){var m=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,v.texture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6)},drawFrame:function(v,m,y,E){y===void 0&&(y=!0),E===void 0&&(E=this.colorMatrix);var P=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,v.texture),m?(P.viewport(0,0,m.width,m.height),P.bindFramebuffer(P.FRAMEBUFFER,m.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,m.texture,0)):P.viewport(0,0,v.width,v.height),y?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blendFrames:function(v,m,y,E,P,S){E===void 0&&(E=1),P===void 0&&(P=!0),S===void 0&&(S=this.linearShader);var w=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",E),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,v.texture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,m.texture),y?(w.bindFramebuffer(w.FRAMEBUFFER,y.framebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,y.texture,0),w.viewport(0,0,y.width,y.height)):w.viewport(0,0,v.width,v.height),P?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFramesAdditive:function(v,m,y,E,P){this.blendFrames(v,m,y,E,P,this.addShader)},clearFrame:function(v,m){m===void 0&&(m=!0);var y=this.gl;y.viewport(0,0,v.width,v.height),y.bindFramebuffer(y.FRAMEBUFFER,v.framebuffer),m?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT);var E=this.renderer.currentFramebuffer;y.bindFramebuffer(y.FRAMEBUFFER,E)},setUVs:function(v,m,y,E,P,S,w,A){var R=this.vertexViewF32;R[2]=v,R[3]=m,R[6]=y,R[7]=E,R[10]=P,R[11]=S,R[14]=v,R[15]=m,R[18]=P,R[19]=S,R[22]=w,R[23]=A},setTargetUVs:function(v,m){var y=m.height/v.height;y>.5?y=.5-(y-.5):y=.5+(.5-y),this.setUVs(0,y,0,1+y,1,1+y,1,y)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});o.exports=p},65641:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};o.exports=T},68726:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelineafterflush"},67186:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelinebeforeflush"},22709:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelinebind"},74469:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelineboot"},93953:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelinedestroy"},51687:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelinerebind"},25034:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelineresize"},18970:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AFTER_FLUSH:e(68726),BEFORE_FLUSH:e(67186),BIND:e(22709),BOOT:e(74469),DESTROY:e(93953),REBIND:e(51687),RESIZE:e(25034)}},32469:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(87751),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.amount=1},onPreRender:function(h,n){h=this.getController(h),this.set1f("amount",h.amount,n)}});o.exports=l},2134:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(88222),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(h){h=this.getController(h),this.set1f("strength",h.blurStrength),this.set3fv("color",h.glcolor)},onDraw:function(h){var n=this.getController(),r=this.fullFrame1,f=this.fullFrame2;this.copyFrame(h,f);for(var a=2/h.width*n.offsetX,c=2/h.height*n.offsetY,p=0;p<n.steps;p++)this.set2f("offset",a,0),this.copySprite(h,r),this.set2f("offset",0,c),this.copySprite(r,h);this.blendFrames(f,h,r,n.strength),this.copyToGame(r)}});o.exports=l},63377:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(35491),d=e(75568),l=e(44481),h=e(80486),n=new u({Extends:h,initialize:function(f){h.call(this,{game:f,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:d},{name:"Gaussian13",fragShader:l}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(r){var f=this.getController(),a=this.gl,c=this.fullFrame1,p=a.getParameter(a.FRAMEBUFFER_BINDING);this.bind(this.activeShader),a.activeTexture(a.TEXTURE0),a.viewport(0,0,r.width,r.height),this.set1i("uMainSampler",0),this.set2f("resolution",r.width,r.height),this.set1f("strength",f.strength),this.set3fv("color",f.glcolor);for(var v=0;v<f.steps;v++)this.set2f("offset",f.x,0),this.copySprite(r,c),this.set2f("offset",0,f.y),this.copySprite(c,r);a.bindFramebuffer(a.FRAMEBUFFER,p),a.bindTexture(a.TEXTURE_2D,null),this.copyToGame(r)}});o.exports=n},49745:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(69960),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(h,n,r,f){h=this.getController(h),this.set1f("radius",h.radius,n),this.set1f("amount",h.amount,n),this.set1f("contrast",h.contrast,n),this.set1f("strength",h.strength,n),this.set2f("blur",h.blurX,h.blurY,n),this.setBoolean("isTiltShift",h.isTiltShift,n),r&&f&&this.set2f("resolution",r,f,n)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});o.exports=l},4323:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(33754),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(h,n,r,f){h=this.getController(h),this.set1f("scale",h.scale,n),this.set1f("feather",h.feather,n),this.set1f("thickness",h.thickness,n),this.set3fv("color",h.glcolor,n),this.set4fv("backgroundColor",h.glcolor2,n),r&&f&&this.set2f("resolution",r,f,n)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});o.exports=l},92066:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(80486),d=new u({Extends:x,initialize:function(h){x.call(this,{game:h})},onDraw:function(l){var h=this.fullFrame1;this.controller?this.manager.drawFrame(l,h,!0,this.controller):this.drawFrame(l,h),this.copyToGame(h)}});o.exports=d},89581:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(35668),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(h){var n=this.game.textures.getFrame(h);n&&(this.glTexture=n.glTexture)},onDraw:function(h){var n=this.getController(),r=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.copySprite(h,r),this.copyToGame(r)}});o.exports=l},55084:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=e(69675),l=e(80486),h=e(75512),n=new u({Extends:l,initialize:function(f,a){var c=x(a,"quality",.1),p=x(a,"distance",10);l.call(this,{game:f,fragShader:h.setGlowQuality(d,f,c,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(r,f,a,c){r=this.getController(r),this.set1f("outerStrength",r.outerStrength,f),this.set1f("innerStrength",r.innerStrength,f),this.set4fv("glowColor",r.glcolor,f),this.setBoolean("knockout",r.knockout,f),a&&c&&this.set2f("resolution",a,c,f)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});o.exports=n},41653:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(90993),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(h,n){h=this.getController(h),this.set1f("alpha",h.alpha,n),this.set1i("size",h.size,n),this.set3fv("color1",h.glcolor1,n),this.set3fv("color2",h.glcolor2,n),this.set2f("positionFrom",h.fromX,h.fromY,n),this.set2f("positionTo",h.toX,h.toY,n)}});o.exports=l},73416:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(37945),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.amount=1},onPreRender:function(h,n,r,f){h=this.getController(h),this.set1f("amount",h.amount,n),r&&f&&this.set2f("resolution",r,f,n)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});o.exports=l},58049:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(85718),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(h,n){h=this.getController(h);var r=h.samples;this.set1i("samples",r,n),this.set1f("intensity",h.intensity,n),this.set1f("decay",h.decay,n),this.set1f("power",h.power/r,n),this.set2f("lightPosition",h.x,h.y,n),this.set4fv("color",h.glcolor,n)}});o.exports=l},18026:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(13740),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(h,n,r,f){h=this.getController(h),this.setTime("time",n),this.set1f("speed",h.speed,n),this.set1f("lineWidth",h.lineWidth,n),this.set1f("gradient",h.gradient,n),this.setBoolean("reveal",h.reveal,n),r&&f&&this.set2f("resolution",r,f,n)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});o.exports=l},72381:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(80617),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(h,n){h=this.getController(h),this.set1f("radius",h.radius,n),this.set1f("strength",h.strength,n),this.set2f("position",h.x,h.y,n)}});o.exports=l},80542:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(62879),d=e(80486),l=new u({Extends:d,initialize:function(n){d.call(this,{game:n,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(h,n){h=this.getController(h);var r=h.progress,f=h.wipeWidth,a=h.direction,c=h.axis;this.set4f("config",r,f,a,c,n),this.setBoolean("reveal",h.reveal,n)}});o.exports=l},58136:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Barrel:e(32469),Bloom:e(2134),Blur:e(63377),Bokeh:e(49745),Circle:e(4323),ColorMatrix:e(92066),Displacement:e(89581),Glow:e(55084),Gradient:e(41653),Pixelate:e(73416),Shadow:e(58049),Shine:e(18026),Vignette:e(72381),Wipe:e(80542)};o.exports=u},62253:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65641),x=e(98611),d={FX:e(58136),BitmapMaskPipeline:e(5583),Events:e(18970),FXPipeline:e(81828),LightPipeline:e(66901),MobilePipeline:e(71264),MultiPipeline:e(77310),PointLightPipeline:e(10919),PostFXPipeline:e(80486),PreFXPipeline:e(87228),RopePipeline:e(21213),SinglePipeline:e(51212),UtilityPipeline:e(60848)};d=x(!1,d,u),o.exports=d},2529:o=>{o.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:o=>{o.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:o=>{o.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:o=>{o.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:o=>{o.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:o=>{o.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:o=>{o.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:o=>{o.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:o=>{o.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:o=>{o.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:o=>{o.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:o=>{o.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:o=>{o.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:o=>{o.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:o=>{o.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:o=>{o.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:o=>{o.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:o=>{o.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:o=>{o.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:o=>{o.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:o=>{o.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:o=>{o.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:o=>{o.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:o=>{o.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:o=>{o.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:o=>{o.exports=["#define SHADER_NAME PHASER_MOBILE_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:o=>{o.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:o=>{o.exports=["#define SHADER_NAME PHASER_MULTI_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:o=>{o.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:o=>{o.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:o=>{o.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:o=>{o.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:o=>{o.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:o=>{o.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AddBlendFrag:e(2529),BitmapMaskFrag:e(91679),BitmapMaskVert:e(89053),ColorMatrixFrag:e(37486),CopyFrag:e(79060),FXBarrelFrag:e(87751),FXBloomFrag:e(88222),FXBlurHighFrag:e(44481),FXBlurLowFrag:e(35491),FXBlurMedFrag:e(75568),FXBokehFrag:e(69960),FXCircleFrag:e(33754),FXDisplacementFrag:e(35668),FXGlowFrag:e(69675),FXGradientFrag:e(90993),FXPixelateFrag:e(37945),FXShadowFrag:e(85718),FXShineFrag:e(13740),FXVignetteFrag:e(80617),FXWipeFrag:e(62879),LightFrag:e(65045),LinearBlendFrag:e(98921),MeshFrag:e(25005),MeshVert:e(94914),MobileFrag:e(11263),MobileVert:e(51852),MultiFrag:e(53787),MultiVert:e(15968),PointLightFrag:e(83327),PointLightVert:e(54677),PostFXFrag:e(12569),QuadVert:e(99365),SingleFrag:e(85060),SingleVert:e(18166)}},756:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(55301),x=e(56694),d=e(6659),l=e(40444),h=e(97081),n=e(74181),r=e(2893),f=e(9229),a=e(72283),c=e(74118),p=e(90881),v=e(84314),m=e(93736),y=e(47751),E=new x({Extends:d,initialize:function(S){d.call(this),this.game=S,this.canvas,this.canvasBounds=new c,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=u.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=u.CENTER.NO_CENTER,this.orientation=u.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:a,windowResize:a,fullScreenChange:a,fullScreenError:a}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},boot:function(){var P=this.game;this.canvas=P.canvas,this.fullscreen=P.device.fullscreen,this.scaleMode!==u.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===u.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),P.events.on(h.PRE_STEP,this.step,this),P.events.once(h.READY,this.refresh,this),P.events.once(h.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(P){this.getParent(P),this.getParentBounds();var S=P.width,w=P.height,A=P.scaleMode,R=P.zoom,O=P.autoRound;if(typeof S=="string"){var L=this.parentSize.width;L===0&&(L=window.innerWidth);var b=parseInt(S,10)/100;S=Math.floor(L*b)}if(typeof w=="string"){var D=this.parentSize.height;D===0&&(D=window.innerHeight);var I=parseInt(w,10)/100;w=Math.floor(D*I)}this.scaleMode=A,this.autoRound=O,this.autoCenter=P.autoCenter,this.resizeInterval=P.resizeInterval,O&&(S=Math.floor(S),w=Math.floor(w)),this.gameSize.setSize(S,w),R===u.ZOOM.MAX_ZOOM&&(R=this.getMaxZoom()),this.zoom=R,R!==1&&(this._resetZoom=!0),this.baseSize.setSize(S,w),O&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),P.minWidth>0&&this.displaySize.setMin(P.minWidth*R,P.minHeight*R),P.maxWidth>0&&this.displaySize.setMax(P.maxWidth*R,P.maxHeight*R),this.displaySize.setSize(S,w),this.orientation=f(S,w)},getParent:function(P){var S=P.parent;if(S!==null){if(this.parent=r(S),this.parentIsWindow=this.parent===document.body,P.expandParent&&P.scaleMode!==u.SCALE_MODE.NONE){var w=this.parent.getBoundingClientRect();(this.parentIsWindow||w.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",w=this.parent.getBoundingClientRect(),!this.parentIsWindow&&w.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}P.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(P.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var P=this.parentSize,S=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(S.height=n(!0));var w=S.width,A=S.height;if(P.width!==w||P.height!==A)return P.setSize(w,A),!0;if(this.canvas){var R=this.canvasBounds,O=this.canvas.getBoundingClientRect();if(O.x!==R.x||O.y!==R.y)return!0}return!1},lockOrientation:function(P){var S=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return S?S.call(screen,P):!1},setParentSize:function(P,S){return this.parentSize.setSize(P,S),this.refresh()},setGameSize:function(P,S){var w=this.autoRound;w&&(P=Math.floor(P),S=Math.floor(S));var A=this.width,R=this.height;return this.gameSize.resize(P,S),this.baseSize.resize(P,S),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(P/S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,R)},resize:function(P,S){var w=this.zoom,A=this.autoRound;A&&(P=Math.floor(P),S=Math.floor(S));var R=this.width,O=this.height;this.gameSize.resize(P,S),this.baseSize.resize(P,S),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(P*w,S*w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var L=this.canvas.style,b=P*w,D=S*w;return A&&(b=Math.floor(b),D=Math.floor(D)),(b!==P||D!==S)&&(L.width=b+"px",L.height=D+"px"),this.refresh(R,O)},setZoom:function(P){return this.zoom=P,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(P,S){P===void 0&&(P=this.width),S===void 0&&(S=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var w=this.game.domContainer;if(w){this.baseSize.setCSS(w);var A=this.canvas.style,R=w.style;R.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",R.marginLeft=A.marginLeft,R.marginTop=A.marginTop}return this.emit(l.RESIZE,this.gameSize,this.baseSize,this.displaySize,P,S),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var P=f(this.width,this.height);P!==this.orientation&&(this.orientation=P,this.emit(l.ORIENTATION_CHANGE,P))}},updateScale:function(){var P=this.canvas.style,S=this.gameSize.width,w=this.gameSize.height,A,R,O=this.zoom,L=this.autoRound;this.scaleMode===u.SCALE_MODE.NONE?(this.displaySize.setSize(S*O,w*O),A=this.displaySize.width,R=this.displaySize.height,L&&(A=Math.floor(A),R=Math.floor(R)),this._resetZoom&&(P.width=A+"px",P.height=R+"px",this._resetZoom=!1)):this.scaleMode===u.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,R=this.displaySize.height,L&&(A=Math.floor(A),R=Math.floor(R)),this.canvas.width=A,this.canvas.height=R):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,R=this.displaySize.height,L&&(A=Math.floor(A),R=Math.floor(R)),P.width=A+"px",P.height=R+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var P=v(this.parentSize.width,this.gameSize.width,0,!0),S=v(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(P,S),1)},updateCenter:function(){var P=this.autoCenter;if(P!==u.CENTER.NO_CENTER){var S=this.canvas,w=S.style,A=S.getBoundingClientRect(),R=A.width,O=A.height,L=Math.floor((this.parentSize.width-R)/2),b=Math.floor((this.parentSize.height-O)/2);P===u.CENTER.CENTER_HORIZONTALLY?b=0:P===u.CENTER.CENTER_VERTICALLY&&(L=0),w.marginLeft=L+"px",w.marginTop=b+"px"}},updateBounds:function(){var P=this.canvasBounds,S=this.canvas.getBoundingClientRect();P.x=S.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),P.y=S.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),P.width=S.width,P.height=S.height},transformX:function(P){return(P-this.canvasBounds.left)*this.displayScale.x},transformY:function(P){return(P-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(P){P===void 0&&(P={navigationUI:"hide"});var S=this.fullscreen;if(!S.available){this.emit(l.FULLSCREEN_UNSUPPORTED);return}if(!S.active){var w=this.getFullscreenTarget();S.keyboard?w[S.request](Element.ALLOW_KEYBOARD_INPUT):w[S.request](P)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(l.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(P){this.removeFullscreenTarget(),this.emit(l.FULLSCREEN_FAILED,P)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var P=document.createElement("div");P.style.margin="0",P.style.padding="0",P.style.width="100%",P.style.height="100%",this.fullscreenTarget=P,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var S=this.canvas.parentNode;S.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var P=this.fullscreenTarget;if(P&&P.parentNode){var S=P.parentNode;S.insertBefore(this.canvas,P),S.removeChild(P)}}},stopFullscreen:function(){var P=this.fullscreen;if(!P.available)return this.emit(l.FULLSCREEN_UNSUPPORTED),!1;P.active&&document[P.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(l.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(P){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(P)},startListeners:function(){var P=this,S=this.domlisteners;if(S.orientationChange=function(){P.updateBounds(),P._checkOrientation=!0,P.dirty=!0},S.windowResize=function(){P.updateBounds(),P.dirty=!0},window.addEventListener("orientationchange",S.orientationChange,!1),window.addEventListener("resize",S.windowResize,!1),this.fullscreen.available){S.fullScreenChange=function(A){return P.onFullScreenChange(A)},S.fullScreenError=function(A){return P.onFullScreenError(A)};var w=["webkit","moz",""];w.forEach(function(A){document.addEventListener(A+"fullscreenchange",S.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",S.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.addEventListener("MSFullscreenError",S.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(P,S){P instanceof y||(S=P,P=void 0),S===void 0&&(S=new c);var w=this.baseSize,A=this.parentSize,R=this.canvasBounds,O=this.displayScale,L=R.x>=0?0:-(R.x*O.x),b=R.y>=0?0:-(R.y*O.y),D;A.width>=R.width?D=w.width:D=w.width-(R.width-A.width)*O.x;var I;return A.height>=R.height?I=w.height:I=w.height-(R.height-A.height)*O.y,S.setTo(L,b,D,I),P&&(S.width/=P.zoomX,S.height/=P.zoomY,S.centerX=P.centerX+P.scrollX,S.centerY=P.centerY+P.scrollY),S},step:function(P,S){!this.parent||(this._lastCheck+=S,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var P=this.domlisteners;window.removeEventListener("orientationchange",P.orientationChange,!1),window.removeEventListener("resize",P.windowResize,!1);var S=["webkit","moz",""];S.forEach(function(w){document.removeEventListener(w+"fullscreenchange",P.fullScreenChange,!1),document.removeEventListener(w+"fullscreenerror",P.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",P.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===u.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===u.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});o.exports=E},35098:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={CENTER:e(35098),ORIENTATION:e(53539),SCALE_MODE:e(12637),ZOOM:e(10217)};o.exports=u},82085:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="enterfullscreen"},11826:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="fullscreenfailed"},56691:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="fullscreenunsupported"},34739:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="leavefullscreen"},26681:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="orientationchange"},11428:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resize"},40444:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ENTER_FULLSCREEN:e(82085),FULLSCREEN_FAILED:e(11826),FULLSCREEN_UNSUPPORTED:e(56691),LEAVE_FULLSCREEN:e(34739),ORIENTATION_CHANGE:e(26681),RESIZE:e(11428)}},86754:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),x=e(55301),d={Center:e(35098),Events:e(40444),Orientation:e(53539),ScaleManager:e(756),ScaleModes:e(12637),Zoom:e(10217)};d=u(!1,d,x.CENTER),d=u(!1,d,x.ORIENTATION),d=u(!1,d,x.SCALE_MODE),d=u(!1,d,x.ZOOM),o.exports=d},47736:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),x=e(40587),d=function(l){var h=l.game.config.defaultPhysicsSystem,n=u(l.settings,"physics",!1);if(!(!h&&!n)){var r=[];if(h&&r.push(x(h+"Physics")),n)for(var f in n)f=x(f.concat("Physics")),r.indexOf(f)===-1&&r.push(f);return r}};o.exports=d},91088:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),x=function(d){var l=d.plugins.getDefaultScenePlugins(),h=u(d.settings,"plugins",!1);return Array.isArray(h)?h:l||[]};o.exports=x},90415:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};o.exports=T},87157:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(63946),d=new u({initialize:function(h){this.sys=new x(this,h),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});o.exports=d},13553:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(92980),d=e(7599),l=e(97081),h=e(10850),n=e(683),r=e(72283),f=e(87157),a=e(63946),c=new u({initialize:function(v,m){if(this.game=v,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++)this._pending.push({key:"default",scene:m[y],autoStart:y===0,data:{}})}v.events.once(l.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new f);var p,v,m,y;for(p=0;p<this._pending.length;p++){v=this._pending[p],m=v.key,y=v.scene;var E;y instanceof f?E=this.createSceneFromInstance(m,y):typeof y=="object"?E=this.createSceneFromObject(m,y):typeof y=="function"&&(E=this.createSceneFromFunction(m,y)),m=E.sys.settings.key,this.keys[m]=E,this.scenes.push(E),this._data[m]&&(E.sys.settings.data=this._data[m].data,this._data[m].autoStart&&(v.autoStart=!0)),(v.autoStart||E.sys.settings.active)&&this._start.push(m)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)v=this._start[p],this.start(v);this._start.length=0}},processQueue:function(){var p=this._pending.length,v=this._queue.length;if(!(p===0&&v===0)){var m,y;if(p){for(m=0;m<p;m++)y=this._pending[m],this.add(y.key,y.scene,y.autoStart,y.data);for(m=0;m<this._start.length;m++)y=this._start[m],this.start(y);this._start.length=0,this._pending.length=0}for(m=0;m<this._queue.length;m++)y=this._queue[m],this[y.op](y.keyA,y.keyB);this._queue.length=0}},add:function(p,v,m,y){if(m===void 0&&(m=!1),y===void 0&&(y={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:v,autoStart:m,data:y}),this.isBooted||(this._data[p]={data:y}),null;p=this.getKey(p,v);var E;return v instanceof f?E=this.createSceneFromInstance(p,v):typeof v=="object"?(v.key=p,E=this.createSceneFromObject(p,v)):typeof v=="function"&&(E=this.createSceneFromFunction(p,v)),E.sys.settings.data=y,p=E.sys.settings.key,this.keys[p]=E,this.scenes.push(E),(m||E.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),E},remove:function(p){if(this.isProcessing)this._queue.push({op:"remove",keyA:p,keyB:null});else{var v=this.getScene(p);if(!v||v.sys.isTransitioning())return this;var m=this.scenes.indexOf(v),y=v.sys.settings.key;m>-1&&(delete this.keys[y],this.scenes.splice(m,1),this._start.indexOf(y)>-1&&(m=this._start.indexOf(y),this._start.splice(m,1)),v.sys.destroy())}return this},bootScene:function(p){var v=p.sys,m=v.settings;v.sceneUpdate=r,p.init&&(p.init.call(p,m.data),m.status=x.INIT,m.isTransition&&v.events.emit(d.TRANSITION_INIT,m.transitionFrom,m.transitionDuration));var y;v.load&&(y=v.load,y.reset()),y&&p.preload?(p.preload.call(p),m.status=x.LOADING,y.once(n.COMPLETE,this.loadComplete,this),y.start()):this.create(p)},loadComplete:function(p){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,v){this.processQueue(),this.isProcessing=!0;for(var m=this.scenes.length-1;m>=0;m--){var y=this.scenes[m].sys;y.settings.status>x.START&&y.settings.status<=x.RUNNING&&y.step(p,v),y.scenePlugin._target&&y.scenePlugin.step(p,v)}},render:function(p){for(var v=0;v<this.scenes.length;v++){var m=this.scenes[v].sys;m.settings.visible&&m.settings.status>=x.LOADING&&m.settings.status<x.SLEEPING&&m.render(p)}this.isProcessing=!1},create:function(p){var v=p.sys,m=v.settings;p.create&&(m.status=x.CREATING,p.create.call(p,m.data),m.status===x.DESTROYED)||(m.isTransition&&v.events.emit(d.TRANSITION_START,m.transitionFrom,m.transitionDuration),p.update&&(v.sceneUpdate=p.update),m.status=x.RUNNING,v.events.emit(d.CREATE,p))},createSceneFromFunction:function(p,v){var m=new v;if(m instanceof f){var y=m.sys.settings.key;if(y!==""&&(p=y),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return this.createSceneFromInstance(p,m)}else return m.sys=new a(m),m.sys.settings.key=p,m.sys.init(this.game),m},createSceneFromInstance:function(p,v){var m=v.sys.settings.key;return m===""&&(v.sys.settings.key=p),v.sys.init(this.game),v},createSceneFromObject:function(p,v){var m=new f(v),y=m.sys.settings.key;y!==""?p=y:m.sys.settings.key=p,m.sys.init(this.game);for(var E=["init","preload","create","update","render"],P=0;P<E.length;P++){var S=h(v,E[P],null);S&&(m[E[P]]=S)}if(v.hasOwnProperty("extend")){for(var w in v.extend)if(!!v.extend.hasOwnProperty(w)){var A=v.extend[w];w==="data"&&m.hasOwnProperty("data")&&typeof A=="object"?m.data.merge(A):w!=="sys"&&(m[w]=A)}}return m},getKey:function(p,v){if(p||(p="default"),typeof v=="function")return p;if(v instanceof f?p=v.sys.settings.key:typeof v=="object"&&v.hasOwnProperty("key")&&(p=v.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return p},getScenes:function(p,v){p===void 0&&(p=!0),v===void 0&&(v=!1);for(var m=[],y=this.scenes,E=0;E<y.length;E++){var P=y[E];P&&(!p||p&&P.sys.isActive())&&m.push(P)}return v?m.reverse():m},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var v=0;v<this.scenes.length;v++)if(p===this.scenes[v])return p;return null},isActive:function(p){var v=this.getScene(p);return v?v.sys.isActive():null},isPaused:function(p){var v=this.getScene(p);return v?v.sys.isPaused():null},isVisible:function(p){var v=this.getScene(p);return v?v.sys.isVisible():null},isSleeping:function(p){var v=this.getScene(p);return v?v.sys.isSleeping():null},pause:function(p,v){var m=this.getScene(p);return m&&m.sys.pause(v),this},resume:function(p,v){var m=this.getScene(p);return m&&m.sys.resume(v),this},sleep:function(p,v){var m=this.getScene(p);return m&&!m.sys.isTransitioning()&&m.sys.sleep(v),this},wake:function(p,v){var m=this.getScene(p);return m&&m.sys.wake(v),this},run:function(p,v){var m=this.getScene(p);if(!m){for(var y=0;y<this._pending.length;y++)if(this._pending[y].key===p){this.queueOp("start",p,v);break}return this}m.sys.isSleeping()?m.sys.wake(v):m.sys.isPaused()?m.sys.resume(v):this.start(p,v)},start:function(p,v){if(!this.isBooted)return this._data[p]={autoStart:!0,data:v},this;var m=this.getScene(p);if(!m)return console.warn("Scene not found for key: "+p),this;var y=m.sys,E=y.settings.status;if(E>=x.START&&E<=x.CREATING)return this;if(E>=x.RUNNING&&E<=x.SLEEPING)y.shutdown(),y.sceneUpdate=r,y.start(v);else{y.sceneUpdate=r,y.start(v);var P;if(y.load&&(P=y.load),P&&y.settings.hasOwnProperty("pack")&&(P.reset(),P.addPack({payload:y.settings.pack})))return y.settings.status=x.LOADING,P.once(n.COMPLETE,this.payloadComplete,this),P.start(),this}return this.bootScene(m),this},stop:function(p,v){var m=this.getScene(p);if(m&&!m.sys.isTransitioning()&&m.sys.settings.status!==x.SHUTDOWN){var y=m.sys.load;y&&(y.off(n.COMPLETE,this.loadComplete,this),y.off(n.COMPLETE,this.payloadComplete,this)),m.sys.shutdown(v)}return this},switch:function(p,v){var m=this.getScene(p),y=this.getScene(v);return m&&y&&m!==y&&(this.sleep(p),this.isSleeping(v)?this.wake(v):this.start(v)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var v=this.getScene(p);return this.scenes.indexOf(v)},bringToTop:function(p){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:p,keyB:null});else{var v=this.getIndex(p);if(v!==-1&&v<this.scenes.length){var m=this.getScene(p);this.scenes.splice(v,1),this.scenes.push(m)}}return this},sendToBack:function(p){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:p,keyB:null});else{var v=this.getIndex(p);if(v!==-1&&v>0){var m=this.getScene(p);this.scenes.splice(v,1),this.scenes.unshift(m)}}return this},moveDown:function(p){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:p,keyB:null});else{var v=this.getIndex(p);if(v>0){var m=v-1,y=this.getScene(p),E=this.getAt(m);this.scenes[v]=E,this.scenes[m]=y}}return this},moveUp:function(p){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:p,keyB:null});else{var v=this.getIndex(p);if(v<this.scenes.length-1){var m=v+1,y=this.getScene(p),E=this.getAt(m);this.scenes[v]=E,this.scenes[m]=y}}return this},moveAbove:function(p,v){if(p===v)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:p,keyB:v});else{var m=this.getIndex(p),y=this.getIndex(v);if(m!==-1&&y!==-1&&y<m){var E=this.getAt(y);this.scenes.splice(y,1),this.scenes.splice(m+(y>m),0,E)}}return this},moveBelow:function(p,v){if(p===v)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:p,keyB:v});else{var m=this.getIndex(p),y=this.getIndex(v);if(m!==-1&&y!==-1&&y>m){var E=this.getAt(y);this.scenes.splice(y,1),m===0?this.scenes.unshift(E):this.scenes.splice(m-(y<m),0,E)}}return this},queueOp:function(p,v,m){return this._queue.push({op:p,keyA:v,keyB:m}),this},swapPosition:function(p,v){if(p===v)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:p,keyB:v});else{var m=this.getIndex(p),y=this.getIndex(v);if(m!==y&&m!==-1&&y!==-1){var E=this.getAt(m);this.scenes[m]=this.scenes[y],this.scenes[y]=E}}return this},dump:function(){for(var p=[],v=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],m=0;m<this.scenes.length;m++){var y=this.scenes[m].sys,E=y.settings.visible&&(y.settings.status===x.RUNNING||y.settings.status===x.PAUSED)?"[*] ":"[-] ";E+=y.settings.key+" ("+v[y.settings.status]+")",p.push(E)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var v=this.scenes[p].sys;v.destroy()}this.systemScene.sys.destroy(),this.update=r,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});o.exports=c},64051:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=e(56694),d=e(7599),l=e(72632),h=e(91963),n=new x({initialize:function(f){this.scene=f,this.systems=f.sys,this.settings=f.sys.settings,this.key=f.sys.settings.key,this.manager=f.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,f.sys.events.once(d.BOOT,this.boot,this),f.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},start:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",r,f),this},restart:function(r){var f=this.key;return this.manager.queueOp("stop",f),this.manager.queueOp("start",f,r),this},transition:function(r){r===void 0&&(r={});var f=l(r,"target",!1),a=this.manager.getScene(f);if(!f||!this.checkValidTransition(a))return!1;var c=l(r,"duration",1e3);this._elapsed=0,this._target=a,this._duration=c,this._willSleep=l(r,"sleep",!1),this._willRemove=l(r,"remove",!1);var p=l(r,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=l(r,"onUpdateScope",this.scene));var v=l(r,"allowInput",!1);this.settings.transitionAllowInput=v;var m=a.sys.settings;m.isTransition=!0,m.transitionFrom=this.scene,m.transitionDuration=c,m.transitionAllowInput=v,l(r,"moveAbove",!1)?this.manager.moveAbove(this.key,f):l(r,"moveBelow",!1)&&this.manager.moveBelow(this.key,f),a.sys.isSleeping()?a.sys.wake(l(r,"data")):this.manager.start(f,l(r,"data"));var y=l(r,"onStart",null),E=l(r,"onStartScope",this.scene);return y&&y.call(E,this.scene,a,c),this.systems.events.emit(d.TRANSITION_OUT,a,c),!0},checkValidTransition:function(r){return!(!r||r.sys.isActive()||r.sys.isTransitioning()||r===this.scene||this.systems.isTransitioning())},step:function(r,f){this._elapsed+=f,this.transitionProgress=u(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var r=this._target.sys,f=this._target.sys.settings;r.events.emit(d.TRANSITION_COMPLETE,this.scene),f.isTransition=!1,f.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(r,f,a,c){return this.manager.add(r,f,a,c)},launch:function(r,f){return r&&r!==this.key&&this.manager.queueOp("start",r,f),this},run:function(r,f){return r&&r!==this.key&&this.manager.queueOp("run",r,f),this},pause:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("pause",r,f),this},resume:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("resume",r,f),this},sleep:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("sleep",r,f),this},wake:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("wake",r,f),this},switch:function(r){return r!==this.key&&this.manager.queueOp("switch",this.key,r),this},stop:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("stop",r,f),this},setActive:function(r,f,a){f===void 0&&(f=this.key);var c=this.manager.getScene(f);return c&&c.sys.setActive(r,a),this},setVisible:function(r,f){f===void 0&&(f=this.key);var a=this.manager.getScene(f);return a&&a.sys.setVisible(r),this},isSleeping:function(r){return r===void 0&&(r=this.key),this.manager.isSleeping(r)},isActive:function(r){return r===void 0&&(r=this.key),this.manager.isActive(r)},isPaused:function(r){return r===void 0&&(r=this.key),this.manager.isPaused(r)},isVisible:function(r){return r===void 0&&(r=this.key),this.manager.isVisible(r)},swapPosition:function(r,f){return f===void 0&&(f=this.key),r!==f&&this.manager.swapPosition(r,f),this},moveAbove:function(r,f){return f===void 0&&(f=this.key),r!==f&&this.manager.moveAbove(r,f),this},moveBelow:function(r,f){return f===void 0&&(f=this.key),r!==f&&this.manager.moveBelow(r,f),this},remove:function(r){return r===void 0&&(r=this.key),this.manager.remove(r),this},moveUp:function(r){return r===void 0&&(r=this.key),this.manager.moveUp(r),this},moveDown:function(r){return r===void 0&&(r=this.key),this.manager.moveDown(r),this},bringToTop:function(r){return r===void 0&&(r=this.key),this.manager.bringToTop(r),this},sendToBack:function(r){return r===void 0&&(r=this.key),this.manager.sendToBack(r),this},get:function(r){return this.manager.getScene(r)},getStatus:function(r){var f=this.manager.getScene(r);if(f)return f.sys.getStatus()},getIndex:function(r){return r===void 0&&(r=this.key),this.manager.getIndex(r)},shutdown:function(){var r=this.systems.events;r.off(d.SHUTDOWN,this.shutdown,this),r.off(d.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",n,"scenePlugin"),o.exports=n},36765:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92980),x=e(10850),d=e(30657),l=e(90415),h={create:function(n){return typeof n=="string"?n={key:n}:n===void 0&&(n={}),{status:u.PENDING,key:x(n,"key",""),active:x(n,"active",!1),visible:x(n,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(n,"pack",!1),cameras:x(n,"cameras",null),map:x(n,"map",d(l,x(n,"mapAdd",{}))),physics:x(n,"physics",{}),loader:x(n,"loader",{}),plugins:x(n,"plugins",!1),input:x(n,"input",{})}}};o.exports=h},63946:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(92980),d=e(18360),l=e(7599),h=e(47736),n=e(91088),r=e(72283),f=e(36765),a=new u({initialize:function(p,v){this.scene=p,this.game,this.renderer,this.config=v,this.settings=f.create(v),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=r},init:function(c){this.settings.status=x.INIT,this.sceneUpdate=r,this.game=c,this.renderer=c.renderer,this.canvas=c.canvas,this.context=c.context;var p=c.plugins;this.plugins=p,p.addToScene(this,d.Global,[d.CoreScene,n(this),h(this)]),this.events.emit(l.BOOT,this),this.settings.isBooted=!0},step:function(c,p){var v=this.events;v.emit(l.PRE_UPDATE,c,p),v.emit(l.UPDATE,c,p),this.sceneUpdate.call(this.scene,c,p),v.emit(l.POST_UPDATE,c,p)},render:function(c){var p=this.displayList;p.depthSort(),this.events.emit(l.PRE_RENDER,c),this.cameras.render(c,p),this.events.emit(l.RENDER,c)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(c){var p=this.settings,v=this.getStatus();return v!==x.CREATING&&v!==x.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=x.PAUSED,p.active=!1,this.events.emit(l.PAUSE,this,c)),this},resume:function(c){var p=this.events,v=this.settings;return this.settings.active||(v.status=x.RUNNING,v.active=!0,p.emit(l.RESUME,this,c)),this},sleep:function(c){var p=this.settings,v=this.getStatus();return v!==x.CREATING&&v!==x.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=x.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(l.SLEEP,this,c)),this},wake:function(c){var p=this.events,v=this.settings;return v.status=x.RUNNING,v.active=!0,v.visible=!0,p.emit(l.WAKE,this,c),v.isTransition&&p.emit(l.TRANSITION_WAKE,v.transitionFrom,v.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var c=this.settings.status;return c>x.PENDING&&c<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(c){return this.settings.visible=c,this},setActive:function(c,p){return c?this.resume(p):this.pause(p)},start:function(c){var p=this.events,v=this.settings;c&&(v.data=c),v.status=x.START,v.active=!0,v.visible=!0,p.emit(l.START,this),p.emit(l.READY,this,c)},shutdown:function(c){var p=this.events,v=this.settings;p.off(l.TRANSITION_INIT),p.off(l.TRANSITION_START),p.off(l.TRANSITION_COMPLETE),p.off(l.TRANSITION_OUT),v.status=x.SHUTDOWN,v.active=!1,v.visible=!1,p.emit(l.SHUTDOWN,this,c)},destroy:function(){var c=this.events,p=this.settings;p.status=x.DESTROYED,p.active=!1,p.visible=!1,c.emit(l.DESTROY,this),c.removeAllListeners();for(var v=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],m=0;m<v.length;m++)this[v[m]]=null}});o.exports=a},92980:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};o.exports=T},31803:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addedtoscene"},94817:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},28977:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="create"},91959:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},363:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},15643:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postupdate"},17058:o=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prerender"},77125:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="preupdate"},76018:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="ready"},28620:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removedfromscene"},41538:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="render"},34268:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},2342:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="shutdown"},96541:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="sleep"},74244:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},17046:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitioncomplete"},13637:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitioninit"},14733:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitionout"},33899:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitionstart"},52418:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitionwake"},31735:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},8470:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="wake"},7599:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADDED_TO_SCENE:e(31803),BOOT:e(94817),CREATE:e(28977),DESTROY:e(91959),PAUSE:e(363),POST_UPDATE:e(15643),PRE_RENDER:e(17058),PRE_UPDATE:e(77125),READY:e(76018),REMOVED_FROM_SCENE:e(28620),RENDER:e(41538),RESUME:e(34268),SHUTDOWN:e(2342),SLEEP:e(96541),START:e(74244),TRANSITION_COMPLETE:e(17046),TRANSITION_INIT:e(13637),TRANSITION_OUT:e(14733),TRANSITION_START:e(33899),TRANSITION_WAKE:e(52418),UPDATE:e(31735),WAKE:e(8470)}},20436:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(92980),x=e(98611),d={Events:e(7599),GetPhysicsPlugins:e(47736),GetScenePlugins:e(91088),SceneManager:e(13553),ScenePlugin:e(64051),Settings:e(36765),Systems:e(63946)};d=x(!1,d,u),o.exports=d},25798:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(6659),d=e(76038),l=e(98611),h=e(72283),n=new u({Extends:x,initialize:function(f,a,c){x.call(this),this.manager=f,this.key=a,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=l(this.config,c),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(console.error("addMarker "+r.name+" already exists in Sound"),!1):(r=l(!0,{name:"",start:0,duration:this.totalDuration-(r.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},r),this.markers[r.name]=r,!0)},updateMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(this.markers[r.name]=l(!0,this.markers[r.name],r),!0):(console.warn("Audio Marker: "+r.name+" missing in Sound: "+this.key),!1)},removeMarker:function(r){var f=this.markers[r];return f?(this.markers[r]=null,f):null},play:function(r,f){if(r===void 0&&(r=""),typeof r=="object"&&(f=r,r=""),typeof r!="string")return!1;if(!r)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[r])return console.warn("Marker: "+r+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[r],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=l(this.currentConfig,f),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var r=1.0005777895065548,f=this.currentConfig.detune+this.manager.detune,a=Math.pow(r,f);this.totalRate=this.currentConfig.rate*this.manager.rate*a},destroy:function(){this.pendingRemove||(this.emit(d.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});o.exports=n},12486:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(32742),d=e(6659),l=e(76038),h=e(97081),n=e(71608),r=e(51463),f=e(72283),a=e(93736),c=new u({Extends:d,initialize:function(v){d.call(this),this.game=v,this.jsonCache=v.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new a,v.events.on(h.BLUR,this.onGameBlur,this),v.events.on(h.FOCUS,this.onGameFocus,this),v.events.on(h.PRE_STEP,this.update,this),v.events.once(h.DESTROY,this.destroy,this)},add:f,addAudioSprite:function(p,v){v===void 0&&(v={});var m=this.add(p,v);m.spritemap=this.jsonCache.get(p).spritemap;for(var y in m.spritemap)if(!!m.spritemap.hasOwnProperty(y)){var E=x(v),P=m.spritemap[y];E.loop=P.hasOwnProperty("loop")?P.loop:!1,m.addMarker({name:y,start:P.start,duration:P.end-P.start,config:E})}return m},get:function(p){return r(this.sounds,"key",p)},getAll:function(p){return p?n(this.sounds,"key",p):n(this.sounds)},getAllPlaying:function(){return n(this.sounds,"isPlaying",!0)},play:function(p,v){var m=this.add(p);return m.once(l.COMPLETE,m.destroy,m),v?v.name?(m.addMarker(v),m.play(v.name)):m.play(v):m.play()},playAudioSprite:function(p,v,m){var y=this.addAudioSprite(p);return y.once(l.COMPLETE,y.destroy,y),y.play(v,m)},remove:function(p){var v=this.sounds.indexOf(p);return v!==-1?(p.destroy(),this.sounds.splice(v,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var v=0,m=this.sounds.length-1;m>=0;m--){var y=this.sounds[m];y.key===p&&(y.destroy(),this.sounds.splice(m,1),v++)}return v},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(l.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(l.RESUME_ALL,this)},setListenerPosition:f,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(l.STOP_ALL,this)},stopByKey:function(p){var v=0;return this.getAll(p).forEach(function(m){m.stop()&&v++}),v},unlock:f,onBlur:f,onFocus:f,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,v){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(l.UNLOCKED,this));for(var m=this.sounds.length-1;m>=0;m--)this.sounds[m].pendingRemove&&this.sounds.splice(m,1);this.sounds.forEach(function(y){y.update(p,v)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,v){var m=this;this.sounds.forEach(function(y,E){y&&!y.pendingRemove&&p.call(v||m,y,E,m.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(v){v.calculateRate()}),this.emit(l.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(v){v.calculateRate()}),this.emit(l.GLOBAL_DETUNE,this,p)}}});o.exports=c},84191:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(27622),x=e(17546),d=e(55491),l={create:function(h){var n=h.config.audio,r=h.device.audio;return n.noAudio||!r.webAudio&&!r.audioData?new x(h):r.webAudio&&!n.disableWebAudio?new d(h):new u(h)}};o.exports=l},77578:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},19679:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="decodedall"},56951:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="decoded"},16436:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},55154:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="detune"},57818:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="detune"},57890:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="mute"},83022:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="rate"},99170:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="volume"},64289:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="looped"},67214:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},53128:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="mute"},73078:o=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pan"},76763:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pauseall"},88426:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},13765:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="play"},80291:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="rate"},11124:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resumeall"},55382:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},71157:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="seek"},31776:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stopall"},39450:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stop"},21939:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="unlocked"},33019:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="volume"},76038:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={COMPLETE:e(77578),DECODED:e(56951),DECODED_ALL:e(19679),DESTROY:e(16436),DETUNE:e(55154),GLOBAL_DETUNE:e(57818),GLOBAL_MUTE:e(57890),GLOBAL_RATE:e(83022),GLOBAL_VOLUME:e(99170),LOOP:e(67214),LOOPED:e(64289),MUTE:e(53128),PAN:e(73078),PAUSE_ALL:e(76763),PAUSE:e(88426),PLAY:e(13765),RATE:e(80291),RESUME_ALL:e(11124),RESUME:e(55382),SEEK:e(71157),STOP_ALL:e(31776),STOP:e(39450),UNLOCKED:e(21939),VOLUME:e(33019)}},34350:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25798),x=e(56694),d=e(76038),l=e(82897),h=new x({Extends:u,initialize:function(r,f,a){if(a===void 0&&(a={}),this.tags=r.game.cache.audio.get(f),!this.tags)throw new Error('No cached audio asset with key "'+f);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,u.call(this,r,f,a)},play:function(n,r){return this.manager.isLocked(this,"play",[n,r])||!u.prototype.play.call(this,n,r)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!u.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!u.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(d.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,r=this.currentConfig.delay,f=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=f,this.audio.currentTime=f,this.applyConfig(),r===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+r*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(r.dataset.used==="false")return r.dataset.used="true",this.audio=r,!0}if(!this.manager.override)return!1;var f=[];this.manager.forEachActiveSound(function(c){c.key===this.key&&c.audio&&f.push(c)},this),f.sort(function(c,p){return c.loop===p.loop?p.seek/p.duration-c.seek/c.duration:c.loop?1:-1});var a=f[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(r){console.warn(r)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){u.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n){if(!!this.isPlaying){if(this.startTime>0){this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var r=this.currentMarker?this.currentMarker.start:0,f=r+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=f-this.manager.loopEndOffset?(this.audio.currentTime=r+Math.max(0,a-f),a=this.audio.currentTime):a<r&&(this.audio.currentTime+=r,a=this.audio.currentTime),a<this.previousTime&&this.emit(d.LOOPED,this);else if(a>=f){this.reset(),this.stopAndReleaseAudioTag(),this.emit(d.COMPLETE,this);return}this.previousTime=a}},destroy:function(){u.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=l(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){u.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,!this.manager.isLocked(this,"mute",n)&&(this.updateMute(),this.emit(d.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,!this.manager.isLocked(this,"volume",n)&&(this.updateVolume(),this.emit(d.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,!this.manager.isLocked(this,d.RATE,n)&&(this.calculateRate(),this.emit(d.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,!this.manager.isLocked(this,d.DETUNE,n)&&(this.calculateRate(),this.emit(d.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||this.startTime>0||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(d.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,!this.manager.isLocked(this,"loop",n)&&(this.audio&&(this.audio.loop=n),this.emit(d.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.currentConfig.pan},set:function(n){this.currentConfig.pan=n,this.emit(d.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});o.exports=h},27622:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12486),x=e(56694),d=e(76038),l=e(34350),h=new x({Extends:u,initialize:function(r){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,u.call(this,r)},add:function(n,r){var f=new l(this,n,r);return this.sounds.push(f),f},unlock:function(){this.locked=!1;var n=this;if(this.game.cache.audio.entries.each(function(c,p){for(var v=0;v<p.length;v++)if(p[v].dataset.locked==="true")return n.locked=!0,!1;return!0}),!!this.locked){var r=!1,f=function(){r=!0},a=function(){if(r){r=!1;return}document.body.removeEventListener("touchmove",f),document.body.removeEventListener("touchend",a);var c=[];if(n.game.cache.audio.entries.each(function(v,m){for(var y=0;y<m.length;y++){var E=m[y];E.dataset.locked==="true"&&c.push(E)}return!0}),c.length!==0){var p=c[c.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,c.forEach(function(v){v.dataset.locked="false"}),n.unlocked=!0},c.forEach(function(v){v.load()})}};this.once(d.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var c=this.lockedActionsQueue.shift();c.sound[c.prop].apply?c.sound[c.prop].apply(c.sound,c.value||[]):c.sound[c.prop]=c.value}},this),document.body.addEventListener("touchmove",f,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound(function(n){n.isPlaying&&(this.onBlurPausedSounds.push(n),n.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(n){n.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){u.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(n,r,f){return n.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:n,prop:r,value:f}),!0):!1},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this._mute},set:function(n){this._mute=n,this.forEachActiveSound(function(r){r.updateMute()}),this.emit(d.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this._volume},set:function(n){this._volume=n,this.forEachActiveSound(function(r){r.updateVolume()}),this.emit(d.GLOBAL_VOLUME,this,n)}}});o.exports=h},56751:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={SoundManagerCreator:e(84191),Events:e(76038),BaseSound:e(25798),BaseSoundManager:e(12486),WebAudioSound:e(96008),WebAudioSoundManager:e(55491),HTML5AudioSound:e(34350),HTML5AudioSoundManager:e(27622),NoAudioSound:e(38662),NoAudioSoundManager:e(17546)}},38662:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25798),x=e(56694),d=e(6659),l=e(98611),h=e(72283),n=function(){return!1},r=function(){return null},f=function(){return this},a=new x({Extends:d,initialize:function(p,v,m){m===void 0&&(m={}),d.call(this),this.manager=p,this.key=v,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=l({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},m),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:n,updateMarker:n,removeMarker:r,play:n,pause:n,resume:n,stop:n,setMute:f,setVolume:f,setRate:f,setDetune:f,setSeek:f,setLoop:f,setPan:f,applyConfig:r,resetConfig:r,update:h,calculateRate:r,destroy:function(){u.prototype.destroy.call(this)}});o.exports=a},17546:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12486),x=e(56694),d=e(6659),l=e(38662),h=e(72283),n=new x({Extends:d,initialize:function(f){d.call(this),this.game=f,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(r,f){var a=new l(this,r,f);return this.sounds.push(a),a},addAudioSprite:function(r,f){var a=this.add(r,f);return a.spritemap={},a},get:function(r){return u.prototype.get.call(this,r)},getAll:function(r){return u.prototype.getAll.call(this,r)},play:function(r,f){return!1},playAudioSprite:function(r,f,a){return!1},remove:function(r){return u.prototype.remove.call(this,r)},removeAll:function(){return u.prototype.removeAll.call(this)},removeByKey:function(r){return u.prototype.removeByKey.call(this,r)},stopByKey:function(r){return u.prototype.stopByKey.call(this,r)},onBlur:h,onFocus:h,onGameBlur:h,onGameFocus:h,pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,unlock:h,forEachActiveSound:function(r,f){u.prototype.forEachActiveSound.call(this,r,f)},destroy:function(){u.prototype.destroy.call(this)}});o.exports=n},96008:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(25798),x=e(56694),d=e(76038),l=e(72632),h=new x({Extends:u,initialize:function(r,f,a){if(a===void 0&&(a={}),this.audioBuffer=r.game.cache.audio.get(f),!this.audioBuffer)throw new Error('Audio key "'+f+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=r.context.createGain(),this.volumeNode=r.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),r.context.createPanner&&(this.spatialNode=r.context.createPanner(),this.volumeNode.connect(this.spatialNode)),r.context.createStereoPanner?(this.pannerNode=r.context.createStereoPanner(),r.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(r.destination)):r.context.createPanner?this.spatialNode.connect(r.destination):this.volumeNode.connect(r.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,u.call(this,r,f,a)},play:function(n,r){return u.prototype.play.call(this,n,r)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(d.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(d.RESUME,this),!0)},stop:function(){return u.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(d.STOP,this),!0):!1},createAndStartBufferSource:function(){var n=this.currentConfig.seek,r=this.currentConfig.delay,f=this.manager.context.currentTime+r,a=(this.currentMarker?this.currentMarker.start:0)+n,c=this.duration-n;this.playTime=f-n,this.startTime=f,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,f),Math.max(0,a),Math.max(0,c)),this.resetConfig()},createAndStartLoopBufferSource:function(){var n=this.getLoopTime(),r=this.currentMarker?this.currentMarker.start:0,f=this.duration;this.loopTime=n,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,n),Math.max(0,r),Math.max(0,f))},createBufferSource:function(){var n=this,r=this.manager.context.createBufferSource();return r.buffer=this.audioBuffer,r.connect(this.muteNode),r.onended=function(f){f.target===n.source&&(n.currentConfig.loop?n.hasLooped=!0:n.hasEnded=!0)},r},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var n=this.currentConfig.source;if(n&&this.manager.context.createPanner){var r=this.spatialNode;r.panningModel=l(n,"panningModel","equalpower"),r.distanceModel=l(n,"distanceModel","inverse"),r.orientationX.value=l(n,"orientationX",0),r.orientationY.value=l(n,"orientationY",0),r.orientationZ.value=l(n,"orientationZ",-1),r.refDistance=l(n,"refDistance",1),r.maxDistance=l(n,"maxDistance",1e4),r.rolloffFactor=l(n,"rolloffFactor",1),r.coneInnerAngle=l(n,"coneInnerAngle",360),r.coneOuterAngle=l(n,"coneOuterAngle",0),r.coneOuterGain=l(n,"coneOuterGain",0),this.spatialSource=l(n,"follow",null),this.spatialSource||(r.positionX.value=l(n,"x",0),r.positionY.value=l(n,"y",0),r.positionZ.value=l(n,"z",0))}u.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(n){this.spatialNode&&(this.spatialNode.positionX.value=n)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(n){this.spatialNode&&(this.spatialNode.positionY.value=n)}},update:function(){if(this.isPlaying&&this.spatialSource){var n=l(this.spatialSource,"x",null),r=l(this.spatialSource,"y",null);n&&n!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=n),r&&r!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=r)}this.hasEnded?(this.hasEnded=!1,u.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(d.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(d.LOOPED,this))},destroy:function(){this.pendingRemove||(u.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){u.prototype.calculateRate.call(this);var n=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,n),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,n)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var n=0,r=0;r<this.rateUpdates.length;r++){var f=0;r<this.rateUpdates.length-1?f=this.rateUpdates[r+1].time:f=this.manager.context.currentTime-this.playTime,n+=(f-this.rateUpdates[r].time)*this.rateUpdates[r].rate}return n},getLoopTime:function(){for(var n=0,r=0;r<this.rateUpdates.length-1;r++)n+=(this.rateUpdates[r+1].time-this.rateUpdates[r].time)*this.rateUpdates[r].rate;var f=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+f.time+(this.duration-n)/f.rate},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,this.calculateRate(),this.emit(d.RATE,this,n)}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,this.calculateRate(),this.emit(d.DETUNE,this,n)}},setDetune:function(n){return this.detune=n,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(n){this.currentConfig.mute=n,this.muteNode.gain.setValueAtTime(n?0:1,0),this.emit(d.MUTE,this,n)}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(n){this.currentConfig.volume=n,this.volumeNode.gain.setValueAtTime(n,0),this.emit(d.VOLUME,this,n)}},setVolume:function(n){return this.volume=n,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.currentConfig.seek=n,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(d.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),n&&this.createAndStartLoopBufferSource()),this.emit(d.LOOP,this,n)}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(n){this.currentConfig.pan=n,this.pannerNode&&this.pannerNode.pan.setValueAtTime(n,this.manager.context.currentTime),this.emit(d.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});o.exports=h},55491:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82329),x=e(12486),d=e(56694),l=e(76038),h=e(97081),n=e(96008),r=e(72632),f=new d({Extends:x,initialize:function(c){this.context=this.createAudioContext(c),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),x.call(this,c),this.locked&&c.isBooted?this.unlock():c.events.once(h.BOOT,this.unlock,this)},createAudioContext:function(a){var c=a.config.audio;if(c.context)return c.context.resume(),c.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(a){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=a,this.masterMuteNode=a.createGain(),this.masterVolumeNode=a.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(a.destination),this.destination=this.masterMuteNode,this},add:function(a,c){var p=new n(this,a,c);return this.sounds.push(p),p},decodeAudio:function(a,c){var p;Array.isArray(a)?p=a:p=[{key:a,data:c}];for(var v=this.game.cache.audio,m=p.length,y=0;y<p.length;y++){var E=p[y],P=E.key,S=E.data;typeof S=="string"&&(S=u(S));var w=function(R,O){v.add(R,O),this.emit(l.DECODED,R),m--,m===0&&this.emit(l.DECODED_ALL)}.bind(this,P),A=function(R,O){console.error("Error decoding audio: "+R+" - ",O?O.message:""),m--,m===0&&this.emit(l.DECODED_ALL)}.bind(this,P);this.context.decodeAudioData(S,w,A)}},setListenerPosition:function(a,c){return a===void 0&&(a=this.game.scale.width/2),c===void 0&&(c=this.game.scale.height/2),this.listenerPosition.set(a,c),this},unlock:function(){var a=this,c=document.body,p=function v(){if(a.context&&c){var m=c.removeEventListener;a.context.resume().then(function(){m("touchstart",v),m("touchend",v),m("click",v),m("keydown",v),a.unlocked=!0},function(){m("touchstart",v),m("touchend",v),m("click",v),m("keydown",v)})}};c&&(c.addEventListener("touchstart",p,!1),c.addEventListener("touchend",p,!1),c.addEventListener("click",p,!1),c.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var a=this.context;a&&!this.locked&&(a.state==="suspended"||a.state==="interrupted")&&a.resume()},update:function(a,c){var p=this.context.listener;if(p&&p.positionX!==void 0){var v=r(this.listenerPosition,"x",null),m=r(this.listenerPosition,"y",null);v&&v!==this._spatialx&&(this._spatialx=p.positionX.value=v),m&&m!==this._spatialy&&(this._spatialy=p.positionY.value=m)}x.prototype.update.call(this,a,c),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var a=this;this.context.close().then(function(){a.context=null})}x.prototype.destroy.call(this)},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(a){this.masterMuteNode.gain.setValueAtTime(a?0:1,0),this.emit(l.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(a){this.masterVolumeNode.gain.setValueAtTime(a,0),this.emit(l.GLOBAL_VOLUME,this,a)}}});o.exports=f},71207:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(59959),x=e(56694),d=e(72283),l=e(17922),h=new x({initialize:function(r){this.parent=r,this.list=[],this.position=0,this.addCallback=d,this.removeCallback=d,this._sortKey=""},add:function(n,r){return r?u.Add(this.list,n):u.Add(this.list,n,0,this.addCallback,this)},addAt:function(n,r,f){return f?u.AddAt(this.list,n,r):u.AddAt(this.list,n,r,0,this.addCallback,this)},getAt:function(n){return this.list[n]},getIndex:function(n){return this.list.indexOf(n)},sort:function(n,r){return n?(r===void 0&&(r=function(f,a){return f[n]-a[n]}),l(this.list,r),this):this},getByName:function(n){return u.GetFirst(this.list,"name",n)},getRandom:function(n,r){return u.GetRandom(this.list,n,r)},getFirst:function(n,r,f,a){return u.GetFirst(this.list,n,r,f,a)},getAll:function(n,r,f,a){return u.GetAll(this.list,n,r,f,a)},count:function(n,r){return u.CountAllMatching(this.list,n,r)},swap:function(n,r){u.Swap(this.list,n,r)},moveTo:function(n,r){return u.MoveTo(this.list,n,r)},moveAbove:function(n,r){return u.MoveAbove(this.list,n,r)},moveBelow:function(n,r){return u.MoveBelow(this.list,n,r)},remove:function(n,r){return r?u.Remove(this.list,n):u.Remove(this.list,n,this.removeCallback,this)},removeAt:function(n,r){return r?u.RemoveAt(this.list,n):u.RemoveAt(this.list,n,this.removeCallback,this)},removeBetween:function(n,r,f){return f?u.RemoveBetween(this.list,n,r):u.RemoveBetween(this.list,n,r,this.removeCallback,this)},removeAll:function(n){for(var r=this.list.length;r--;)this.remove(this.list[r],n);return this},bringToTop:function(n){return u.BringToTop(this.list,n)},sendToBack:function(n){return u.SendToBack(this.list,n)},moveUp:function(n){return u.MoveUp(this.list,n),n},moveDown:function(n){return u.MoveDown(this.list,n),n},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(n,r){return u.Replace(this.list,n,r)},exists:function(n){return this.list.indexOf(n)>-1},setAll:function(n,r,f,a){return u.SetAll(this.list,n,r,f,a),this},each:function(n,r){for(var f=[null],a=2;a<arguments.length;a++)f.push(arguments[a]);for(a=0;a<this.list.length;a++)f[0]=this.list[a],n.apply(r,f)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});o.exports=h},33885:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l){if(this.entries={},this.size=0,Array.isArray(l))for(var h=0;h<l.length;h++)this.set(l[h][0],l[h][1])},set:function(d,l){return this.has(d)||this.size++,this.entries[d]=l,this},get:function(d){if(this.has(d))return this.entries[d]},getArray:function(){var d=[],l=this.entries;for(var h in l)d.push(l[h]);return d},has:function(d){return this.entries.hasOwnProperty(d)},delete:function(d){return this.has(d)&&(delete this.entries[d],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(d){delete this.entries[d]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var d=[],l=this.entries;for(var h in l)d.push(l[h]);return d},dump:function(){var d=this.entries;console.group("Map");for(var l in d)console.log(l,d[l]);console.groupEnd()},each:function(d){var l=this.entries;for(var h in l)if(d(h,l[h])===!1)break;return this},contains:function(d){var l=this.entries;for(var h in l)if(l[h]===d)return!0;return!1},merge:function(d,l){l===void 0&&(l=!1);var h=this.entries,n=d.entries;for(var r in n)h.hasOwnProperty(r)&&l?h[r]=n[r]:this.set(r,n[r]);return this}});o.exports=x},74623:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(6659),d=e(36716),l=new u({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(h){return this._active.indexOf(h)>-1},isPending:function(h){return this._toProcess>0&&this._pending.indexOf(h)>-1},isDestroying:function(h){return this._destroy.indexOf(h)>-1},add:function(h){return this.checkQueue&&this.isActive()&&!this.isDestroying()||this.isPending()||(this._pending.push(h),this._toProcess++),h},remove:function(h){if(this.isPending(h)){var n=this._pending,r=n.indexOf(h);r!==-1&&n.splice(r,1)}else this.isActive(h)&&(this._destroy.push(h),this._toProcess++);return h},removeAll:function(){for(var h=this._active,n=this._destroy,r=h.length;r--;)n.push(h[r]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var h=this._destroy,n=this._active,r,f;for(r=0;r<h.length;r++){f=h[r];var a=n.indexOf(f);a!==-1&&(n.splice(a,1),this.emit(d.PROCESS_QUEUE_REMOVE,f))}for(h.length=0,h=this._pending,r=0;r<h.length;r++)f=h[r],(!this.checkQueue||this.checkQueue&&n.indexOf(f)===-1)&&(n.push(f),this.emit(d.PROCESS_QUEUE_ADD,f));return h.length=0,this._toProcess=0,n},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});o.exports=l},68687:(o,T,e)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(53466);function x(S){if(!(this instanceof x))return new x(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(S){var w=this.data,A=[],R=this.toBBox;if(!y(S,w))return A;for(var O=[],L,b,D,I;w;){for(L=0,b=w.children.length;L<b;L++)D=w.children[L],I=w.leaf?R(D):D,y(S,I)&&(w.leaf?A.push(D):m(S,I)?this._all(D,A):O.push(D));w=O.pop()}return A},collides:function(S){var w=this.data,A=this.toBBox;if(!y(S,w))return!1;for(var R=[],O,L,b,D;w;){for(O=0,L=w.children.length;O<L;O++)if(b=w.children[O],D=w.leaf?A(b):b,y(S,D)){if(w.leaf||m(S,D))return!0;R.push(b)}w=R.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var w=0,A=S.length;w<A;w++)this.insert(S[w]);return this}var R=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var O=this.data;this.data=R,R=O}this._insert(R,this.data.height-R.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=E([]),this},remove:function(S,w){if(!S)return this;for(var A=this.data,R=this.toBBox(S),O=[],L=[],b,D,I,B;A||O.length;){if(A||(A=O.pop(),D=O[O.length-1],b=L.pop(),B=!0),A.leaf&&(I=d(S,A.children,w),I!==-1))return A.children.splice(I,1),O.push(A),this._condense(O),this;!B&&!A.leaf&&m(A,R)?(O.push(A),L.push(b),b=0,D=A,A=A.children[0]):D?(b++,A=D.children[b],B=!1):A=null}return this},toBBox:function(S){return S},compareMinX:r,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,w){for(var A=[];S;)S.leaf?w.push.apply(w,S.children):A.push.apply(A,S.children),S=A.pop();return w},_build:function(S,w,A,R){var O=A-w+1,L=this._maxEntries,b;if(O<=L)return b=E(S.slice(w,A+1)),l(b,this.toBBox),b;R||(R=Math.ceil(Math.log(O)/Math.log(L)),L=Math.ceil(O/Math.pow(L,R-1))),b=E([]),b.leaf=!1,b.height=R;var D=Math.ceil(O/L),I=D*Math.ceil(Math.sqrt(L)),B,V,Y,k;for(P(S,w,A,I,this.compareMinX),B=w;B<=A;B+=I)for(Y=Math.min(B+I-1,A),P(S,B,Y,D,this.compareMinY),V=B;V<=Y;V+=D)k=Math.min(V+D-1,Y),b.children.push(this._build(S,V,k,R-1));return l(b,this.toBBox),b},_chooseSubtree:function(S,w,A,R){for(var O,L,b,D,I,B,V,Y;R.push(w),!(w.leaf||R.length-1===A);){for(V=Y=1/0,O=0,L=w.children.length;O<L;O++)b=w.children[O],I=a(b),B=p(S,b)-I,B<Y?(Y=B,V=I<V?I:V,D=b):B===Y&&I<V&&(V=I,D=b);w=D||w.children[0]}return w},_insert:function(S,w,A){var R=this.toBBox,O=A?S:R(S),L=[],b=this._chooseSubtree(O,this.data,w,L);for(b.children.push(S),n(b,O);w>=0&&L[w].children.length>this._maxEntries;)this._split(L,w),w--;this._adjustParentBBoxes(O,L,w)},_split:function(S,w){var A=S[w],R=A.children.length,O=this._minEntries;this._chooseSplitAxis(A,O,R);var L=this._chooseSplitIndex(A,O,R),b=E(A.children.splice(L,A.children.length-L));b.height=A.height,b.leaf=A.leaf,l(A,this.toBBox),l(b,this.toBBox),w?S[w-1].children.push(b):this._splitRoot(A,b)},_splitRoot:function(S,w){this.data=E([S,w]),this.data.height=S.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(S,w,A){var R,O,L,b,D,I,B,V;for(I=B=1/0,R=w;R<=A-w;R++)O=h(S,0,R,this.toBBox),L=h(S,R,A,this.toBBox),b=v(O,L),D=a(O)+a(L),b<I?(I=b,V=R,B=D<B?D:B):b===I&&D<B&&(B=D,V=R);return V},_chooseSplitAxis:function(S,w,A){var R=S.leaf?this.compareMinX:r,O=S.leaf?this.compareMinY:f,L=this._allDistMargin(S,w,A,R),b=this._allDistMargin(S,w,A,O);L<b&&S.children.sort(R)},_allDistMargin:function(S,w,A,R){S.children.sort(R);var O=this.toBBox,L=h(S,0,w,O),b=h(S,A-w,A,O),D=c(L)+c(b),I,B;for(I=w;I<A-w;I++)B=S.children[I],n(L,S.leaf?O(B):B),D+=c(L);for(I=A-w-1;I>=w;I--)B=S.children[I],n(b,S.leaf?O(B):B),D+=c(b);return D},_adjustParentBBoxes:function(S,w,A){for(var R=A;R>=0;R--)n(w[R],S)},_condense:function(S){for(var w=S.length-1,A;w>=0;w--)S[w].children.length===0?w>0?(A=S[w-1].children,A.splice(A.indexOf(S[w]),1)):this.clear():l(S[w],this.toBBox)},compareMinX:function(S,w){return S.left-w.left},compareMinY:function(S,w){return S.top-w.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function d(S,w,A){if(!A)return w.indexOf(S);for(var R=0;R<w.length;R++)if(A(S,w[R]))return R;return-1}function l(S,w){h(S,0,S.children.length,w,S)}function h(S,w,A,R,O){O||(O=E(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var L=w,b;L<A;L++)b=S.children[L],n(O,S.leaf?R(b):b);return O}function n(S,w){return S.minX=Math.min(S.minX,w.minX),S.minY=Math.min(S.minY,w.minY),S.maxX=Math.max(S.maxX,w.maxX),S.maxY=Math.max(S.maxY,w.maxY),S}function r(S,w){return S.minX-w.minX}function f(S,w){return S.minY-w.minY}function a(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function c(S){return S.maxX-S.minX+(S.maxY-S.minY)}function p(S,w){return(Math.max(w.maxX,S.maxX)-Math.min(w.minX,S.minX))*(Math.max(w.maxY,S.maxY)-Math.min(w.minY,S.minY))}function v(S,w){var A=Math.max(S.minX,w.minX),R=Math.max(S.minY,w.minY),O=Math.min(S.maxX,w.maxX),L=Math.min(S.maxY,w.maxY);return Math.max(0,O-A)*Math.max(0,L-R)}function m(S,w){return S.minX<=w.minX&&S.minY<=w.minY&&w.maxX<=S.maxX&&w.maxY<=S.maxY}function y(S,w){return w.minX<=S.maxX&&w.minY<=S.maxY&&w.maxX>=S.minX&&w.maxY>=S.minY}function E(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function P(S,w,A,R,O){for(var L=[w,A],b;L.length;)A=L.pop(),w=L.pop(),!(A-w<=R)&&(b=w+Math.ceil((A-w)/R/2)*R,u(S,b,w,A,O),L.push(w,b,b,A))}o.exports=x},58403:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l){if(this.entries=[],Array.isArray(l))for(var h=0;h<l.length;h++)this.set(l[h])},set:function(d){return this.entries.indexOf(d)===-1&&this.entries.push(d),this},get:function(d,l){for(var h=0;h<this.entries.length;h++){var n=this.entries[h];if(n[d]===l)return n}},getArray:function(){return this.entries.slice(0)},delete:function(d){var l=this.entries.indexOf(d);return l>-1&&this.entries.splice(l,1),this},dump:function(){console.group("Set");for(var d=0;d<this.entries.length;d++){var l=this.entries[d];console.log(l)}console.groupEnd()},each:function(d,l){var h,n=this.entries.slice(),r=n.length;if(l)for(h=0;h<r&&d.call(l,n[h],h)!==!1;h++);else for(h=0;h<r&&d(n[h],h)!==!1;h++);return this},iterate:function(d,l){var h,n=this.entries.length;if(l)for(h=0;h<n&&d.call(l,this.entries[h],h)!==!1;h++);else for(h=0;h<n&&d(this.entries[h],h)!==!1;h++);return this},iterateLocal:function(d){var l,h=[];for(l=1;l<arguments.length;l++)h.push(arguments[l]);var n=this.entries.length;for(l=0;l<n;l++){var r=this.entries[l];r[d].apply(r,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(d){return this.entries.indexOf(d)>-1},union:function(d){var l=new x;return d.entries.forEach(function(h){l.set(h)}),this.entries.forEach(function(h){l.set(h)}),l},intersect:function(d){var l=new x;return this.entries.forEach(function(h){d.contains(h)&&l.set(h)}),l},difference:function(d){var l=new x;return this.entries.forEach(function(h){d.contains(h)||l.set(h)}),l},size:{get:function(){return this.entries.length},set:function(d){return d<this.entries.length?this.entries.length=d:this.entries.length}}});o.exports=x},90881:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82897),x=e(56694),d=e(84314),l=e(93736),h=new x({initialize:function(r,f,a,c){r===void 0&&(r=0),f===void 0&&(f=r),a===void 0&&(a=0),c===void 0&&(c=null),this._width=r,this._height=f,this._parent=c,this.aspectMode=a,this.aspectRatio=f===0?1:r/f,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new l},setAspectMode:function(n){return n===void 0&&(n=0),this.aspectMode=n,this.setSize(this._width,this._height)},setSnap:function(n,r){return n===void 0&&(n=0),r===void 0&&(r=n),this.snapTo.set(n,r),this.setSize(this._width,this._height)},setParent:function(n){return this._parent=n,this.setSize(this._width,this._height)},setMin:function(n,r){return n===void 0&&(n=0),r===void 0&&(r=n),this.minWidth=u(n,0,this.maxWidth),this.minHeight=u(r,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(n,r){return n===void 0&&(n=Number.MAX_VALUE),r===void 0&&(r=n),this.maxWidth=u(n,this.minWidth,Number.MAX_VALUE),this.maxHeight=u(r,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(n,r){switch(n===void 0&&(n=0),r===void 0&&(r=n),this.aspectMode){case h.NONE:this._width=this.getNewWidth(d(n,this.snapTo.x)),this._height=this.getNewHeight(d(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(d(n,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(d(r,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(n,r,!0);break;case h.ENVELOP:this.constrain(n,r,!1);break}return this},setAspectRatio:function(n){return this.aspectRatio=n,this.setSize(this._width,this._height)},resize:function(n,r){return this._width=this.getNewWidth(d(n,this.snapTo.x)),this._height=this.getNewHeight(d(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(n,r){return r===void 0&&(r=!0),n=u(n,this.minWidth,this.maxWidth),r&&this._parent&&n>this._parent.width&&(n=Math.max(this.minWidth,this._parent.width)),n},getNewHeight:function(n,r){return r===void 0&&(r=!0),n=u(n,this.minHeight,this.maxHeight),r&&this._parent&&n>this._parent.height&&(n=Math.max(this.minHeight,this._parent.height)),n},constrain:function(n,r,f){n===void 0&&(n=0),r===void 0&&(r=n),f===void 0&&(f=!0),n=this.getNewWidth(n),r=this.getNewHeight(r);var a=this.snapTo,c=r===0?1:n/r;return f&&this.aspectRatio>c||!f&&this.aspectRatio<c?(n=d(n,a.x),r=n/this.aspectRatio,a.y>0&&(r=d(r,a.y),n=r*this.aspectRatio)):(f&&this.aspectRatio<c||!f&&this.aspectRatio>c)&&(r=d(r,a.y),n=r*this.aspectRatio,a.x>0&&(n=d(n,a.x),r=n*(1/this.aspectRatio))),this._width=n,this._height=r,this},fitTo:function(n,r){return this.constrain(n,r,!0)},envelop:function(n,r){return this.constrain(n,r,!1)},setWidth:function(n){return this.setSize(n,this._height)},setHeight:function(n){return this.setSize(this._width,n)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(n){n&&n.style&&(n.style.width=this._width+"px",n.style.height=this._height+"px")},copy:function(n){return n.setAspectMode(this.aspectMode),n.aspectRatio=this.aspectRatio,n.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(n){this.setSize(n,this._height)}},height:{get:function(){return this._height},set:function(n){this.setSize(this._width,n)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,o.exports=h},94160:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="add"},95393:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="remove"},36716:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={PROCESS_QUEUE_ADD:e(94160),PROCESS_QUEUE_REMOVE:e(95393)}},20010:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Events:e(36716),List:e(71207),Map:e(33885),ProcessQueue:e(74623),RTree:e(68687),Set:e(58403),Size:e(90881)}},17487:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(82897),d=e(27119),l=e(86459),h=e(28621),n=e(31673),r=new u({Extends:n,initialize:function(a,c,p,v,m){n.call(this,a,c,p,v,m),this.add("__BASE",0,0,0,v,m),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=v,this.height=m,this.imageData=this.context.getImageData(0,0,v,m),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===l.WEBGL&&this.refresh(),this},draw:function(f,a,c,p){return p===void 0&&(p=!0),this.context.drawImage(c,f,a),p&&this.update(),this},drawFrame:function(f,a,c,p,v){c===void 0&&(c=0),p===void 0&&(p=0),v===void 0&&(v=!0);var m=this.manager.getFrame(f,a);if(m){var y=m.canvasData,E=m.cutWidth,P=m.cutHeight,S=m.source.resolution;this.context.drawImage(m.source.image,y.x,y.y,E,P,c,p,E/S,P/S),v&&this.update()}return this},setPixel:function(f,a,c,p,v,m){m===void 0&&(m=255),f=Math.abs(Math.floor(f)),a=Math.abs(Math.floor(a));var y=this.getIndex(f,a);if(y>-1){var E=this.context.getImageData(f,a,1,1);E.data[0]=c,E.data[1]=p,E.data[2]=v,E.data[3]=m,this.context.putImageData(E,f,a)}return this},putData:function(f,a,c,p,v,m,y){return p===void 0&&(p=0),v===void 0&&(v=0),m===void 0&&(m=f.width),y===void 0&&(y=f.height),this.context.putImageData(f,a,c,p,v,m,y),this},getData:function(f,a,c,p){f=x(Math.floor(f),0,this.width-1),a=x(Math.floor(a),0,this.height-1),c=x(c,1,this.width-f),p=x(p,1,this.height-a);var v=this.context.getImageData(f,a,c,p);return v},getPixel:function(f,a,c){c||(c=new d);var p=this.getIndex(f,a);if(p>-1){var v=this.data,m=v[p+0],y=v[p+1],E=v[p+2],P=v[p+3];c.setTo(m,y,E,P)}return c},getPixels:function(f,a,c,p){f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=this.width),p===void 0&&(p=c),f=Math.abs(Math.round(f)),a=Math.abs(Math.round(a));for(var v=x(f,0,this.width),m=x(f+c,0,this.width),y=x(a,0,this.height),E=x(a+p,0,this.height),P=new d,S=[],w=y;w<E;w++){for(var A=[],R=v;R<m;R++)P=this.getPixel(R,w,P),A.push({x:R,y:w,color:P.color,alpha:P.alphaGL});S.push(A)}return S},getIndex:function(f,a){return f=Math.abs(Math.round(f)),a=Math.abs(Math.round(a)),f<this.width&&a<this.height?(f+a*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(f,a,c,p,v){return f===void 0&&(f=0),a===void 0&&(a=0),c===void 0&&(c=this.width),p===void 0&&(p=this.height),v===void 0&&(v=!0),this.context.clearRect(f,a,c,p),v&&this.update(),this},setSize:function(f,a){return a===void 0&&(a=f),(f!==this.width||a!==this.height)&&(this.canvas.width=f,this.canvas.height=a,this._source.width=f,this._source.height=a,this._source.isPowerOf2=h(f,a),this.frames.__BASE.setSize(f,a,0,0),this.width=f,this.height=a,this.refresh()),this},destroy:function(){n.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});o.exports=r},845:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(95723),x=e(51052),d=e(61068),l=e(56694),h=e(86459),n=e(82047),r=e(72632),f=e(65641),a=e(37410),c=e(31673),p=e(75512),v=new l({Extends:c,initialize:function(y,E,P,S){P===void 0&&(P=256),S===void 0&&(S=256),this.type="DynamicTexture";var w=y.game.renderer,A=w&&w.type===h.CANVAS,R=A?d.create2D(this,P,S):[this];c.call(this,y,E,R,P,S),this.add("__BASE",0,0,0,P,S),this.renderer=w,this.isDrawing=!1,this.canvas=A?R:null,this.context=A?R.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,P,S).setScene(y.game.scene.systemScene,!1),this.renderTarget=A?null:new a(w,P,S,1,0,!1,!0,!0,!1),this.pipeline=A?null:w.pipelines.get(f.SINGLE_PIPELINE),this.setSize(P,S)},setSize:function(m,y){y===void 0&&(y=m);var E=this.get(),P=E.source;if(m!==this.width||y!==this.height){this.canvas&&(this.canvas.width=m,this.canvas.height=y);var S=this.renderTarget;S&&(S.resize(m,y),E.glTexture=S.texture,P.isRenderTexture=!0,P.isGLTexture=!0,P.glTexture=S.texture,P.glTexture.flipY=!0),this.camera.setSize(m,y),P.width=m,P.height=y,E.setSize(m,y),this.width=m,this.height=y}else{var w=this.getSourceImage();E.cutX+m>w.width&&(m=w.width-E.cutX),E.cutY+y>w.height&&(y=w.height-E.cutY),E.setSize(m,y,E.cutX,E.cutY)}return this},setIsSpriteTexture:function(m){return this.isSpriteTexture=m,this},fill:function(m,y,E,P,S,w){var A=this.camera,R=this.renderer;y===void 0&&(y=1),E===void 0&&(E=0),P===void 0&&(P=0),S===void 0&&(S=this.width),w===void 0&&(w=this.height);var O=m>>16&255,L=m>>8&255,b=m&255,D=this.renderTarget;if(A.preRender(),D){D.bind(!0);var I=this.pipeline.manager.set(this.pipeline),B=R.width/D.width,V=R.height/D.height;I.drawFillRect(E*B,P*V,S*B,w*V,p.getTintFromFloats(b/255,L/255,O/255,1),y),D.unbind(!0)}else{var Y=this.context;R.setContext(Y),Y.globalCompositeOperation="source-over",Y.fillStyle="rgba("+O+","+L+","+b+","+y+")",Y.fillRect(E,P,S,w),R.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var m=this.context,y=this.renderTarget;y?y.clear():m&&(m.save(),m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,this.width,this.height),m.restore()),this.dirty=!1}return this},stamp:function(m,y,E,P,S){E===void 0&&(E=0),P===void 0&&(P=0);var w=r(S,"alpha",1),A=r(S,"tint",16777215),R=r(S,"angle",0),O=r(S,"rotation",0),L=r(S,"scale",1),b=r(S,"scaleX",L),D=r(S,"scaleY",L),I=r(S,"originX",.5),B=r(S,"originY",.5),V=r(S,"blendMode",0),Y=r(S,"erase",!1),k=r(S,"skipBatch",!1),W=this.manager.resetStamp(w,A);return W.setAngle(0),R!==0?W.setAngle(R):O!==0&&W.setRotation(O),W.setScale(b,D),W.setTexture(m,y),W.setOrigin(I,B),W.setBlendMode(V),Y&&(this._eraseMode=!0),k?this.batchGameObject(W,E,P):this.draw(W,E,P),Y&&(this._eraseMode=!1),this},erase:function(m,y,E){return this._eraseMode=!0,this.draw(m,y,E),this._eraseMode=!1,this},draw:function(m,y,E,P,S){return this.beginDraw(),this.batchDraw(m,y,E,P,S),this.endDraw(),this},drawFrame:function(m,y,E,P,S,w){return this.beginDraw(),this.batchDrawFrame(m,y,E,P,S,w),this.endDraw(),this},repeat:function(m,y,E,P,S,w,A,R,O){if(E===void 0&&(E=0),P===void 0&&(P=0),S===void 0&&(S=this.width),w===void 0&&(w=this.height),A===void 0&&(A=1),R===void 0&&(R=16777215),O===void 0&&(O=!1),m instanceof n?y=m:y=this.manager.getFrame(m,y),!y)return this;var L=this.manager.resetStamp(A,R);L.setFrame(y),L.setOrigin(0);var b=y.width,D=y.height;S=Math.floor(S),w=Math.floor(w);var I=Math.ceil(S/b),B=Math.ceil(w/D),V=I*b-S,Y=B*D-w;V>0&&(V=b-V),Y>0&&(Y=D-Y),E<0&&(I+=Math.ceil(Math.abs(E)/b)),P<0&&(B+=Math.ceil(Math.abs(P)/D));var k=E,W=P,G=!1,U=this.manager.stampCrop.setTo(0,0,b,D);O||this.beginDraw();for(var F=0;F<B;F++){if(W+D<0){W+=D;continue}for(var N=0;N<I;N++){if(G=!1,k+b<0){k+=b;continue}else k<0&&(G=!0,U.width=b+k,U.x=b-U.width);W<0&&(G=!0,U.height=D+W,U.y=D-U.height),V>0&&N===I-1&&(G=!0,U.width=V),Y>0&&F===B-1&&(G=!0,U.height=Y),G&&L.setCrop(U),this.batchGameObject(L,k,W),L.isCropped=!1,U.setTo(0,0,b,D),k+=b}k=E,W+=D}return O||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var m=this.camera,y=this.renderer,E=this.renderTarget;m.preRender(),E?y.beginCapture(E.width,E.height):y.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(m,y,E,P,S){return Array.isArray(m)||(m=[m]),this.batchList(m,y,E,P,S),this},batchDrawFrame:function(m,y,E,P,S,w){E===void 0&&(E=0),P===void 0&&(P=0),S===void 0&&(S=1),w===void 0&&(w=16777215);var A=this.manager.getFrame(m,y);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,E,P,w,S,this.camera.matrix,null):this.batchTextureFrame(A,E,P,S,w)),this},endDraw:function(m){if(m===void 0&&(m=this._eraseMode),this.isDrawing){var y=this.renderer,E=this.renderTarget;if(E){var P=y.endCapture(),S=y.pipelines.setUtility();S.blitFrame(P,E,1,!1,!1,m,this.isSpriteTexture),y.resetScissor(),y.resetViewport()}else y.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(m,y,E,P,S){var w=m.length;if(w!==0)for(var A=0;A<w;A++){var R=m[A];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,y,E):R.isParent||R.list?this.batchGroup(R.getChildren(),y,E):typeof R=="string"?this.batchTextureFrameKey(R,null,y,E,P,S):R instanceof n?this.batchTextureFrame(R,y,E,P,S):Array.isArray(R)&&this.batchList(R,y,E,P,S))}},batchGroup:function(m,y,E){y===void 0&&(y=0),E===void 0&&(E=0);for(var P=0;P<m.length;P++){var S=m[P];S.willRender(this.camera)&&this.batchGameObject(S,S.x+y,S.y+E)}},batchGameObject:function(m,y,E){y===void 0&&(y=m.x),E===void 0&&(E=m.y);var P=m.x,S=m.y,w=this.camera,A=this.renderer,R=this._eraseMode,O=m.mask;if(m.setPosition(y,E),this.canvas){if(R){var L=m.blendMode;m.blendMode=u.ERASE}O&&O.preRenderCanvas(A,m,w),m.renderCanvas(A,m,w,null),O&&O.postRenderCanvas(A,m,w),R&&(m.blendMode=L)}else A&&(O&&O.preRenderWebGL(A,m,w),R||A.setBlendMode(m.blendMode),m.renderWebGL(A,m,w),O&&O.postRenderWebGL(A,w,this.renderTarget));m.setPosition(P,S)},batchTextureFrameKey:function(m,y,E,P,S,w){var A=this.manager.getFrame(m,y);A&&this.batchTextureFrame(A,E,P,S,w)},batchTextureFrame:function(m,y,E,P,S){y===void 0&&(y=0),E===void 0&&(E=0),P===void 0&&(P=1),S===void 0&&(S=16777215);var w=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(m,y,E,S,P,w,null);else{var R=this.context,O=m.canvasData,L=m.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=P,w.setToContext(R),O.width>0&&O.height>0&&R.drawImage(L,O.x,O.y,O.width,O.height,y,E,O.width,O.height),R.restore()}},snapshotArea:function(m,y,E,P,S,w,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!1,m,y,E,P,w,A):this.renderer.snapshotCanvas(this.canvas,S,!1,m,y,E,P,w,A),this},snapshot:function(m,y,E){return this.snapshotArea(0,0,this.width,this.height,m,y,E)},snapshotPixel:function(m,y,E){return this.snapshotArea(m,y,1,1,E,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(m,y,E,P){var S=this.manager.resetStamp();S.setTexture(this),S.setOrigin(0),S.renderWebGL(m,S,E,P)},renderCanvas:function(){},preDestroy:function(){d.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.stamp.destroy(),this.canvas=null,this.context=null,this.renderer=null,this.scene=null}});o.exports=v},82047:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(82897),d=e(98611),l=new u({initialize:function(n,r,f,a,c,p,v){this.texture=n,this.name=r,this.source=n.source[f],this.sourceIndex=f,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(p,v,a,c)},setSize:function(h,n,r,f){r===void 0&&(r=0),f===void 0&&(f=0),this.cutX=r,this.cutY=f,this.cutWidth=h,this.cutHeight=n,this.width=h,this.height=n,this.halfWidth=Math.floor(h*.5),this.halfHeight=Math.floor(n*.5),this.centerX=Math.floor(h/2),this.centerY=Math.floor(n/2);var a=this.data,c=a.cut;c.x=r,c.y=f,c.w=h,c.h=n,c.r=r+h,c.b=f+n,a.sourceSize.w=h,a.sourceSize.h=n,a.spriteSourceSize.w=h,a.spriteSourceSize.h=n,a.radius=.5*Math.sqrt(h*h+n*n);var p=a.drawImage;return p.x=r,p.y=f,p.width=h,p.height=n,this.updateUVs()},setTrim:function(h,n,r,f,a,c){var p=this.data,v=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=h,p.sourceSize.h=n,v.x=r,v.y=f,v.w=a,v.h=c,v.r=r+a,v.b=f+c,this.x=r,this.y=f,this.width=a,this.height=c,this.halfWidth=a*.5,this.halfHeight=c*.5,this.centerX=Math.floor(a/2),this.centerY=Math.floor(c/2),this.updateUVs()},setCropUVs:function(h,n,r,f,a,c,p){var v=this.cutX,m=this.cutY,y=this.cutWidth,E=this.cutHeight,P=this.realWidth,S=this.realHeight;n=x(n,0,P),r=x(r,0,S),f=x(f,0,P-n),a=x(a,0,S-r);var w=v+n,A=m+r,R=f,O=a,L=this.data;if(L.trim){var b=L.spriteSourceSize;f=x(f,0,y-n),a=x(a,0,E-r);var D=n+f,I=r+a,B=!(b.r<n||b.b<r||b.x>D||b.y>I);if(B){var V=Math.max(b.x,n),Y=Math.max(b.y,r),k=Math.min(b.r,D)-V,W=Math.min(b.b,I)-Y;R=k,O=W,c?w=v+(y-(V-b.x)-k):w=v+(V-b.x),p?A=m+(E-(Y-b.y)-W):A=m+(Y-b.y),n=V,r=Y,f=k,a=W}else w=0,A=0,R=0,O=0}else c&&(w=v+(y-n-f)),p&&(A=m+(E-r-a));var G=this.source.width,U=this.source.height;return h.u0=Math.max(0,w/G),h.v0=Math.max(0,A/U),h.u1=Math.min(1,(w+R)/G),h.v1=Math.min(1,(A+O)/U),h.x=n,h.y=r,h.cx=w,h.cy=A,h.cw=R,h.ch=O,h.width=f,h.height=a,h.flipX=c,h.flipY=p,h},updateCropUVs:function(h,n,r){return this.setCropUVs(h,h.x,h.y,h.width,h.height,n,r)},setUVs:function(h,n,r,f,a,c){var p=this.data.drawImage;return p.width=h,p.height=n,this.u0=r,this.v0=f,this.u1=a,this.v1=c,this},updateUVs:function(){var h=this.cutX,n=this.cutY,r=this.cutWidth,f=this.cutHeight,a=this.data.drawImage;a.width=r,a.height=f;var c=this.source.width,p=this.source.height;return this.u0=h/c,this.v0=n/p,this.u1=(h+r)/c,this.v1=(n+f)/p,this},updateUVsInverted:function(){var h=this.source.width,n=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/n,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/n,this},clone:function(){var h=new l(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=d(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});o.exports=l},31673:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(82047),d=e(32547),l='Texture "%s" has no frame "%s"',h=new u({initialize:function(r,f,a,c,p){Array.isArray(a)||(a=[a]),this.manager=r,this.key=f,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var v=0;v<a.length;v++)this.source.push(new d(this,a[v],c,p))},add:function(n,r,f,a,c,p){if(this.has(n))return null;var v=new x(this,n,r,f,a,c,p);return this.frames[n]=v,this.firstFrame==="__BASE"&&(this.firstFrame=n),this.frameTotal++,v},remove:function(n){if(this.has(n)){var r=this.get(n);return r.destroy(),delete this.frames[n],!0}return!1},has:function(n){return this.frames.hasOwnProperty(n)},get:function(n){n||(n=this.firstFrame);var r=this.frames[n];return r||(console.warn(l,this.key,n),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(n){for(var r=0;r<this.source.length;r++)if(this.source[r]===n)return r;return-1},getFramesFromTextureSource:function(n,r){r===void 0&&(r=!1);var f=[];for(var a in this.frames)if(!(a==="__BASE"&&!r)){var c=this.frames[a];c.sourceIndex===n&&f.push(c)}return f},getFrameNames:function(n){n===void 0&&(n=!1);var r=Object.keys(this.frames);if(!n){var f=r.indexOf("__BASE");f!==-1&&r.splice(f,1)}return r},getSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var r=this.frames[n];return r?r.source.image:(console.warn(l,this.key,n),this.frames.__BASE.source.image)},getDataSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var r=this.frames[n],f;return r?f=r.sourceIndex:(console.warn(l,this.key,n),f=this.frames.__BASE.sourceIndex),this.dataSource[f].image},setDataSource:function(n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++){var f=this.source[r];this.dataSource.push(new d(this,n[r],f.width,f.height))}},setFilter:function(n){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(n);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(n)},destroy:function(){var n,r=this.source,f=this.dataSource;for(n=0;n<r.length;n++)r[n]&&r[n].destroy();for(n=0;n<f.length;n++)f[n]&&f[n].destroy();for(var a in this.frames){var c=this.frames[a];c&&c.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});o.exports=h},6237:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),x=e(17487),d=e(56694),l=e(27119),h=e(86459),n=e(845),r=e(6659),f=e(38203),a=e(82047),c=e(97081),p=e(52780),v=e(10850),m=e(1539),y=e(42911),E=e(69150),P=e(74118),S=e(31673),w=new d({Extends:r,initialize:function(R){r.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=u.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new P,this.silentWarnings=!1,R.events.once(c.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(f.LOAD,this.updatePending,this),this.on(f.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.events.once(c.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(f.LOAD),this.off(f.ERROR),this.emit(f.READY),this.stamp=new m(this.game.scene.systemScene).setOrigin(0))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;return this.list.hasOwnProperty(A.key)&&(A.destroy(),this.emit(f.REMOVE,A.key),this.emit(f.REMOVE_KEY+A.key)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,R){if(this.checkKey(A)){var O=this,L=new Image;L.onerror=function(){O.emit(f.ERROR,A)},L.onload=function(){var b=O.create(A,L);E.Image(b,0),O.emit(f.ADD,A,b),O.emit(f.ADD_KEY+A,b),O.emit(f.LOAD,A,b)},L.src=R}return this},getBase64:function(A,R,O,L){O===void 0&&(O="image/png"),L===void 0&&(L=.92);var b="",D=this.getFrame(A,R);if(D&&(D.source.isRenderTexture||D.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(D){var I=D.canvasData,B=u.create2D(this,I.width,I.height),V=B.getContext("2d",{willReadFrequently:!0});I.width>0&&I.height>0&&V.drawImage(D.source.image,I.x,I.y,I.width,I.height,0,0,I.width,I.height),b=B.toDataURL(O,L),u.remove(B)}return b},addImage:function(A,R,O){var L=null;return this.checkKey(A)&&(L=this.create(A,R),E.Image(L,0),O&&L.setDataSource(O),this.emit(f.ADD,A,L),this.emit(f.ADD_KEY+A,L)),L},addGLTexture:function(A,R,O,L){var b=null;return this.checkKey(A)&&(O===void 0&&(O=R.width),L===void 0&&(L=R.height),b=this.create(A,R,O,L),b.add("__BASE",0,0,0,O,L),this.emit(f.ADD,A,b),this.emit(f.ADD_KEY+A,b)),b},addCompressedTexture:function(A,R,O){var L=null;if(this.checkKey(A)){if(L=this.create(A,R),L.add("__BASE",0,0,0,R.width,R.height),O)if(Array.isArray(O))for(var b=0;b<O.length;b++)E.JSONHash(L,b,O[b]);else E.JSONHash(L,0,O);this.emit(f.ADD,A,L),this.emit(f.ADD_KEY+A,L)}return L},addRenderTexture:function(A,R){var O=null;return this.checkKey(A)&&(O=this.create(A,R),O.add("__BASE",0,0,0,R.width,R.height),this.emit(f.ADD,A,O),this.emit(f.ADD_KEY+A,O)),O},generate:function(A,R){if(this.checkKey(A)){var O=u.create(this,1,1);return R.canvas=O,p(R),this.addCanvas(A,O)}else return null},createCanvas:function(A,R,O){if(R===void 0&&(R=256),O===void 0&&(O=256),this.checkKey(A)){var L=u.create(this,R,O,h.CANVAS,!0);return this.addCanvas(A,L)}return null},addCanvas:function(A,R,O){O===void 0&&(O=!1);var L=null;return O?L=new x(this,A,R,R.width,R.height):this.checkKey(A)&&(L=new x(this,A,R,R.width,R.height),this.list[A]=L,this.emit(f.ADD,A,L),this.emit(f.ADD_KEY+A,L)),L},addDynamicTexture:function(A,R,O){var L=null;return typeof A=="string"&&!this.exists(A)?L=new n(this,A,R,O):(L=A,A=L.key),this.checkKey(A)?(this.list[A]=L,this.emit(f.ADD,A,L),this.emit(f.ADD_KEY+A,L)):L=null,L},addAtlas:function(A,R,O,L){return Array.isArray(O.textures)||Array.isArray(O.frames)?this.addAtlasJSONArray(A,R,O,L):this.addAtlasJSONHash(A,R,O,L)},addAtlasJSONArray:function(A,R,O,L){var b=null;if(R instanceof S?(A=b.key,b=R):this.checkKey(A)&&(b=this.create(A,R)),b){if(Array.isArray(O))for(var D=O.length===1,I=0;I<b.source.length;I++){var B=D?O[0]:O[I];E.JSONArray(b,I,B)}else E.JSONArray(b,0,O);L&&b.setDataSource(L),this.emit(f.ADD,A,b),this.emit(f.ADD_KEY+A,b)}return b},addAtlasJSONHash:function(A,R,O,L){var b=null;if(R instanceof S?(A=b.key,b=R):this.checkKey(A)&&(b=this.create(A,R)),b){if(Array.isArray(O))for(var D=0;D<O.length;D++)E.JSONHash(b,D,O[D]);else E.JSONHash(b,0,O);L&&b.setDataSource(L),this.emit(f.ADD,A,b),this.emit(f.ADD_KEY+A,b)}return b},addAtlasXML:function(A,R,O,L){var b=null;return R instanceof S?(A=b.key,b=R):this.checkKey(A)&&(b=this.create(A,R)),b&&(E.AtlasXML(b,0,O),L&&b.setDataSource(L),this.emit(f.ADD,A,b),this.emit(f.ADD_KEY+A,b)),b},addUnityAtlas:function(A,R,O,L){var b=null;return R instanceof S?(A=b.key,b=R):this.checkKey(A)&&(b=this.create(A,R)),b&&(E.UnityYAML(b,0,O),L&&b.setDataSource(L),this.emit(f.ADD,A,b),this.emit(f.ADD_KEY+A,b)),b},addSpriteSheet:function(A,R,O,L){var b=null;if(R instanceof S?(A=b.key,b=R):this.checkKey(A)&&(b=this.create(A,R)),b){var D=b.source[0].width,I=b.source[0].height;E.SpriteSheet(b,0,0,0,D,I,O),L&&b.setDataSource(L),this.emit(f.ADD,A,b),this.emit(f.ADD_KEY+A,b)}return b},addSpriteSheetFromAtlas:function(A,R){if(!this.checkKey(A))return null;var O=v(R,"atlas",null),L=v(R,"frame",null);if(!(!O||!L)){var b=this.get(O),D=b.get(L);if(D){var I=this.create(A,D.source.image);return D.trimmed?E.SpriteSheetFromAtlas(I,D,R):E.SpriteSheet(I,0,D.cutX,D.cutY,D.cutWidth,D.cutHeight,R),this.emit(f.ADD,A,I),this.emit(f.ADD_KEY+A,I),I}}},create:function(A,R,O,L){var b=null;return this.checkKey(A)&&(b=new S(this,A,R,O,L),this.list[A]=b),b},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof S?A:A instanceof a?A.texture:this.list.__MISSING},cloneFrame:function(A,R){if(this.list[A])return this.list[A].get(R).clone()},getFrame:function(A,R){if(this.list[A])return this.list[A].get(R)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(y(A))return this.getFrame(A.key,A.frame);if(A instanceof S)return A.get();if(A instanceof a)return A}else return},getTextureKeys:function(){var A=[];for(var R in this.list)R!=="__DEFAULT"&&R!=="__MISSING"&&R!=="__WHITE"&&A.push(R);return A},getPixel:function(A,R,O,L){var b=this.getFrame(O,L);if(b){A-=b.x,R-=b.y;var D=b.data.cut;if(A+=D.x,R+=D.y,A>=D.x&&A<D.r&&R>=D.y&&R<D.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(b.source.image,A,R,1,1,0,0,1,1);var B=I.getImageData(0,0,1,1);return new l(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(A,R,O,L){var b=this.getFrame(O,L);if(b){A-=b.x,R-=b.y;var D=b.data.cut;if(A+=D.x,R+=D.y,A>=D.x&&A<D.r&&R>=D.y&&R<D.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(b.source.image,A,R,1,1,0,0,1,1);var B=I.getImageData(0,0,1,1);return B.data[3]}}return null},setTexture:function(A,R,O){return this.list[R]&&(A.texture=this.list[R],A.frame=A.texture.get(O)),A},renameTexture:function(A,R){var O=this.get(A);return O&&A!==R?(O.key=R,this.list[R]=O,delete this.list[A],!0):!1},each:function(A,R){for(var O=[null],L=1;L<arguments.length;L++)O.push(arguments[L]);for(var b in this.list)O[0]=this.list[b],A.apply(R,O)},resetStamp:function(A,R){A===void 0&&(A=1),R===void 0&&(R=16777215);var O=this.stamp;return O.setCrop(),O.setPosition(0),O.setAngle(0),O.setScale(1),O.setAlpha(A),O.setTint(R),O},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,u.remove(this._tempCanvas)}});o.exports=w},32547:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61068),x=e(56694),d=e(28621),l=e(27394),h=new x({initialize:function(r,f,a,c,p){p===void 0&&(p=!1);var v=r.manager.game;this.renderer=v.renderer,this.texture=r,this.source=f,this.image=f.compressed?null:f,this.compressionAlgorithm=f.compressed?f.format:null,this.resolution=1,this.width=a||f.naturalWidth||f.videoWidth||f.width||0,this.height=c||f.naturalHeight||f.videoHeight||f.height||0,this.scaleMode=l.DEFAULT,this.isCanvas=f instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&f instanceof HTMLVideoElement,this.isRenderTexture=f.type==="RenderTexture"||f.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&f instanceof WebGLTexture,this.isPowerOf2=d(this.width,this.height),this.glTexture=null,this.flipY=p,this.init(v)},init:function(n){var r=this.renderer;if(r){var f=this.source;if(r.gl){var a=this.image,c=this.flipY,p=this.width,v=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=r.createCanvasTexture(a,!1,c):this.isVideo?this.glTexture=r.createVideoTexture(a,!1,c):this.isRenderTexture?this.glTexture=r.createTextureFromSource(null,p,v,m):this.isGLTexture?this.glTexture=f:this.compressionAlgorithm?this.glTexture=r.createTextureFromSource(f):this.glTexture=r.createTextureFromSource(a,p,v,m)}else this.isRenderTexture&&(this.image=f.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),this.flipY=n,this},update:function(){var n=this.renderer,r=this.image,f=this.flipY,a=n.gl;a&&this.isCanvas?this.glTexture=n.updateCanvasTexture(r,this.glTexture,f):a&&this.isVideo&&(this.glTexture=n.updateVideoTexture(r,this.glTexture,f))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&u.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});o.exports=h},65154:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};o.exports=T},49644:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addtexture"},29569:o=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addtexture-"},60079:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="onerror"},72665:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="onload"},93006:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="ready"},69018:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removetexture"},85549:o=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removetexture-"},38203:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD:e(49644),ADD_KEY:e(29569),ERROR:e(60079),LOAD:e(72665),READY:e(93006),REMOVE:e(69018),REMOVE_KEY:e(85549)}},87499:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),x=e(65154),d={CanvasTexture:e(17487),DynamicTexture:e(845),Events:e(38203),FilterMode:x,Frame:e(82047),Parsers:e(69150),Texture:e(31673),TextureManager:e(6237),TextureSource:e(32547)};d=u(!1,d,x),o.exports=d},35082:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(!x.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var d=e.source[u];e.add("__BASE",u,0,0,d.width,d.height);for(var l=x.getElementsByTagName("SubTexture"),h,n=0;n<l.length;n++){var r=l[n].attributes,f=r.name.value,a=parseInt(r.x.value,10),c=parseInt(r.y.value,10),p=parseInt(r.width.value,10),v=parseInt(r.height.value,10);if(h=e.add(f,u,a,c,p,v),r.frameX){var m=Math.abs(parseInt(r.frameX.value,10)),y=Math.abs(parseInt(r.frameY.value,10)),E=parseInt(r.frameWidth.value,10),P=parseInt(r.frameHeight.value,10);h.setTrim(p,v,m,y,E,P)}}return e};o.exports=T},83332:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.source[u];return e.add("__BASE",u,0,0,x.width,x.height),e};o.exports=T},21560:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.source[u];return e.add("__BASE",u,0,0,x.width,x.height),e};o.exports=T},64423:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(32742),x=function(d,l,h){if(!h.frames&&!h.textures){console.warn("Invalid Texture Atlas JSON Array");return}var n=d.source[l];d.add("__BASE",l,0,0,n.width,n.height);for(var r=Array.isArray(h.textures)?h.textures[l].frames:h.frames,f,a=0;a<r.length;a++){var c=r[a];if(f=d.add(c.filename,l,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!f){console.warn("Invalid atlas json, frame already exists: "+c.filename);continue}c.trimmed&&f.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(f.rotated=!0,f.updateUVsInverted());var p=c.anchor||c.pivot;p&&(f.customPivot=!0,f.pivotX=p.x,f.pivotY=p.y),f.customData=u(c)}for(var v in h)v!=="frames"&&(Array.isArray(h[v])?d.customData[v]=h[v].slice(0):d.customData[v]=h[v]);return d};o.exports=x},17264:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(32742),x=function(d,l,h){if(!h.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var n=d.source[l];d.add("__BASE",l,0,0,n.width,n.height);var r=h.frames,f;for(var a in r)if(!!r.hasOwnProperty(a)){var c=r[a];if(f=d.add(a,l,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!f){console.warn("Invalid atlas json, frame already exists: "+a);continue}c.trimmed&&f.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(f.rotated=!0,f.updateUVsInverted());var p=c.anchor||c.pivot;p&&(f.customPivot=!0,f.pivotX=p.x,f.pivotY=p.y),f.customData=u(c)}for(var v in h)v!=="frames"&&(Array.isArray(h[v])?d.customData[v]=h[v].slice(0):d.customData[v]=h[v]);return d};o.exports=x},67409:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=[171,75,84,88,32,49,49,187,13,10,26,10],x,d=new Uint8Array(e,0,12);for(x=0;x<d.length;x++)if(d[x]!==u[x]){console.warn("KTXParser - Invalid file format");return}var l=Uint32Array.BYTES_PER_ELEMENT,h=new DataView(e,12,13*l),n=h.getUint32(0,!0)===67305985,r=h.getUint32(1*l,n);if(r!==0){console.warn("KTXParser - Only compressed formats supported");return}var f=h.getUint32(4*l,n),a=h.getUint32(6*l,n),c=h.getUint32(7*l,n),p=Math.max(1,h.getUint32(11*l,n)),v=h.getUint32(12*l,n),m=new Array(p),y=12+13*4+v,E=a,P=c;for(x=0;x<p;x++){var S=new Int32Array(e,y,1)[0];y+=4,m[x]={data:new Uint8Array(e,y,S),width:E,height:P},E=Math.max(1,E>>1),P=Math.max(1,P>>1),y+=S}return{mipmaps:m,width:a,height:c,internalFormat:f,compressed:!0,generateMipmap:!1}};o.exports=T},24904:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(A,R,O,L,b,D,I){return I===void 0&&(I=16),Math.floor((A+O)/b)*Math.floor((R+L)/D)*I}function e(A,R){return A=Math.max(A,16),R=Math.max(R,8),A*R/4}function u(A,R){return A=Math.max(A,8),R=Math.max(R,8),A*R/2}function x(A,R){return T(A,R,3,3,4,4,8)}function d(A,R){return T(A,R,3,3,4,4)}function l(A,R){return T(A,R,4,3,5,4)}function h(A,R){return T(A,R,4,4,5,5)}function n(A,R){return T(A,R,5,4,6,5)}function r(A,R){return T(A,R,5,5,6,6)}function f(A,R){return T(A,R,7,4,8,5)}function a(A,R){return T(A,R,7,5,8,6)}function c(A,R){return T(A,R,7,7,8,8)}function p(A,R){return T(A,R,9,4,10,5)}function v(A,R){return T(A,R,9,5,10,6)}function m(A,R){return T(A,R,9,7,10,8)}function y(A,R){return T(A,R,9,9,10,10)}function E(A,R){return T(A,R,11,9,12,10)}function P(A,R){return T(A,R,11,11,12,12)}var S={0:{sizeFunc:e,glFormat:35841},1:{sizeFunc:e,glFormat:35843},2:{sizeFunc:u,glFormat:35840},3:{sizeFunc:u,glFormat:35842},6:{sizeFunc:x,glFormat:36196},7:{sizeFunc:x,glFormat:33776},8:{sizeFunc:d,glFormat:33777},9:{sizeFunc:d,glFormat:33778},11:{sizeFunc:d,glFormat:33779},22:{sizeFunc:x,glFormat:37492},23:{sizeFunc:d,glFormat:37496},24:{sizeFunc:x,glFormat:37494},25:{sizeFunc:x,glFormat:37488},26:{sizeFunc:d,glFormat:37490},27:{sizeFunc:d,glFormat:37808},28:{sizeFunc:l,glFormat:37809},29:{sizeFunc:h,glFormat:37810},30:{sizeFunc:n,glFormat:37811},31:{sizeFunc:r,glFormat:37812},32:{sizeFunc:f,glFormat:37813},33:{sizeFunc:a,glFormat:37814},34:{sizeFunc:c,glFormat:37815},35:{sizeFunc:p,glFormat:37816},36:{sizeFunc:v,glFormat:37817},37:{sizeFunc:m,glFormat:37818},38:{sizeFunc:y,glFormat:37819},39:{sizeFunc:E,glFormat:37820},40:{sizeFunc:P,glFormat:37821}},w=function(A){for(var R=new Uint32Array(A,0,13),O=R[2],L=S[O].glFormat,b=S[O].sizeFunc,D=R[11],I=R[7],B=R[6],V=52+R[12],Y=new Uint8Array(A,V),k=new Array(D),W=0,G=I,U=B,F=0;F<D;F++){var N=b(G,U);k[F]={data:new Uint8Array(Y.buffer,Y.byteOffset+W,N),width:G,height:U},G=Math.max(1,G>>1),U=Math.max(1,U>>1),W+=N}return{mipmaps:k,width:I,height:B,internalFormat:L,compressed:!0,generateMipmap:!1}};o.exports=w},6143:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),x=function(d,l,h,n,r,f,a){var c=u(a,"frameWidth",null),p=u(a,"frameHeight",c);if(c===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var v=d.source[l];d.add("__BASE",l,0,0,v.width,v.height);var m=u(a,"startFrame",0),y=u(a,"endFrame",-1),E=u(a,"margin",0),P=u(a,"spacing",0),S=Math.floor((r-E+P)/(c+P)),w=Math.floor((f-E+P)/(p+P)),A=S*w;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",d.key),(m>A||m<-A)&&(m=0),m<0&&(m=A+m),(y===-1||y>A||y<m)&&(y=A);for(var R=E,O=E,L=0,b=0,D=0,I=0;I<A;I++){L=0,b=0;var B=R+c,V=O+p;B>r&&(L=B-r),V>f&&(b=V-f),I>=m&&I<=y&&(d.add(D,l,h+R,n+O,c-L,p-b),D++),R+=c+P,R+c>r&&(R=E,O+=p+P)}return d};o.exports=x},20030:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),x=function(d,l,h){var n=u(h,"frameWidth",null),r=u(h,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var f=d.source[0];d.add("__BASE",0,0,0,f.width,f.height),u(h,"startFrame",0),u(h,"endFrame",-1);for(var a=u(h,"margin",0),c=u(h,"spacing",0),p=l.cutX,v=l.cutY,m=l.cutWidth,y=l.cutHeight,E=l.realWidth,P=l.realHeight,S=Math.floor((E-a+c)/(n+c)),w=Math.floor((P-a+c)/(r+c)),A=l.x,R=n-A,O=n-(E-m-A),L=l.y,b=r-L,D=r-(P-y-L),I,B=a,V=a,Y=0,k=0,W=0;W<w;W++){for(var G=W===0,U=W===w-1,F=0;F<S;F++){var N=F===0,z=F===S-1;if(I=d.add(Y,k,p+B,v+V,n,r),N||G||z||U){var X=N?A:0,H=G?L:0,$=0,K=0;N&&($+=n-R),z&&($+=n-O),G&&(K+=r-b),U&&(K+=r-D);var Z=n-$,J=r-K;I.cutWidth=Z,I.cutHeight=J,I.setTrim(n,r,X,H,Z,J)}B+=c,N?B+=R:z?B+=O:B+=n,Y++}B=a,V+=c,G?V+=b:U?V+=D:V+=r}return d};o.exports=x},89187:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,e=function(x,d,l,h){var n=T-h.y-h.height;x.add(l,d,h.x,n,h.width,h.height)},u=function(x,d,l){var h=x.source[d];x.add("__BASE",d,0,0,h.width,h.height),T=h.height;for(var n=l.split(`
`),r=/^[ ]*(- )*(\w+)+[: ]+(.*)/,f="",a="",c={x:0,y:0,width:0,height:0},p=0;p<n.length;p++){var v=n[p].match(r);if(!!v){var m=v[1]==="- ",y=v[2],E=v[3];if(m&&(a!==f&&(e(x,d,a,c),f=a),c={x:0,y:0,width:0,height:0}),y==="name"){a=E;continue}switch(y){case"x":case"y":case"width":case"height":c[y]=parseInt(E,10);break}}}return a!==f&&e(x,d,a,c),x};o.exports=u},69150:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AtlasXML:e(35082),Canvas:e(83332),Image:e(21560),JSONArray:e(64423),JSONHash:e(17264),KTXParser:e(67409),PVRParser:e(24904),SpriteSheet:e(6143),SpriteSheetFromAtlas:e(20030),UnityYAML:e(89187)}},93560:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l,h,n,r,f,a,c){(n===void 0||n<=0)&&(n=32),(r===void 0||r<=0)&&(r=32),f===void 0&&(f=0),a===void 0&&(a=0),this.name=l,this.firstgid=h|0,this.imageWidth=n|0,this.imageHeight=r|0,this.imageMargin=f|0,this.imageSpacing=a|0,this.properties=c||{},this.images=[],this.total=0},containsImageIndex:function(d){return d>=this.firstgid&&d<this.firstgid+this.total},addImage:function(d,l){return this.images.push({gid:d,image:l}),this.total++,this}});o.exports=x},46422:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=new u({initialize:function(l){if(this.gids=[],l!==void 0)for(var h=0;h<l.length;++h)for(var n=l[h],r=0;r<n.total;++r)this.gids[n.firstgid+r]=n;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(d){this.gids=d?this._gids:void 0}},getTypeIncludingTile:function(d){if(d.type!==void 0&&d.type!=="")return d.type;if(!(!this.gids||d.gid===void 0)){var l=this.gids[d.gid];if(!!l){var h=l.getTileData(d.gid);if(!!h)return h.type}}},setTextureAndFrame:function(d,l,h,n){if(l===null&&this.gids&&n.gid!==void 0){var r=this.gids[n.gid];r&&(l===null&&r.image!==void 0&&(l=r.image.key),h===null&&(h=n.gid-r.firstgid),d.scene.textures.getFrame(l,h)||(l=null,h=null))}d.setTexture(l,h)},setPropertiesFromTiledObject:function(d,l){if(this.gids!==void 0&&l.gid!==void 0){var h=this.gids[l.gid];h!==void 0&&this.setFromJSON(d,h.getTileProperties(l.gid))}this.setFromJSON(d,l.properties)},setFromJSON:function(d,l){if(!!l){if(Array.isArray(l)){l.forEach(function(n){d.setData(n.name,n.value)});return}for(var h in l)d[h]!==void 0?d[h]=l[h]:d.setData(h,l[h])}}});o.exports=x},15043:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93560),x=e(16586),d=e(90715),l=e(89797),h=function(n,r,f,a,c,p,v,m){f===void 0&&(f=32),a===void 0&&(a=32),c===void 0&&(c=10),p===void 0&&(p=10),m===void 0&&(m=!1);var y=null;if(Array.isArray(v)){var E=r!==void 0?r:"map";y=d(E,u.ARRAY_2D,v,f,a,m)}else if(r!==void 0){var P=n.cache.tilemap.get(r);P?y=d(r,P.format,P.data,f,a,m):console.warn("No map data found for key "+r)}return y===null&&(y=new x({tileWidth:f,tileHeight:a,width:c,height:p})),new l(n,y)};o.exports=h},29633:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(12920),l=e(28699),h=e(66658),n=new u({Mixins:[x.Alpha,x.Flip,x.Visible],initialize:function(f,a,c,p,v,m,y,E){this.layer=f,this.index=a,this.x=c,this.y=p,this.width=v,this.height=m,this.right,this.bottom,this.baseWidth=y!==void 0?y:v,this.baseHeight=E!==void 0?E:m,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(r,f){return!(r<this.pixelX||f<this.pixelY||r>this.right||f>this.bottom)},copy:function(r){return this.index=r.index,this.alpha=r.alpha,this.properties=l(r.properties),this.visible=r.visible,this.setFlip(r.flipX,r.flipY),this.tint=r.tint,this.rotation=r.rotation,this.collideUp=r.collideUp,this.collideDown=r.collideDown,this.collideLeft=r.collideLeft,this.collideRight=r.collideRight,this.collisionCallback=r.collisionCallback,this.collisionCallbackContext=r.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(r){var f=this.tilemapLayer;if(f){var a=f.tileToWorldXY(this.x,this.y,void 0,r);return a.x}return this.x*this.baseWidth},getRight:function(r){var f=this.tilemapLayer;return f?this.getLeft(r)+this.width*f.scaleX:this.getLeft(r)+this.width},getTop:function(r){var f=this.tilemapLayer;if(f){var a=f.tileToWorldXY(this.x,this.y,void 0,r);return a.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(r){var f=this.tilemapLayer;return f?this.getTop(r)+this.height*f.scaleY:this.getTop(r)+this.height},getBounds:function(r,f){return f===void 0&&(f=new h),f.x=this.getLeft(r),f.y=this.getTop(r),f.width=this.getRight(r)-f.x,f.height=this.getBottom(r)-f.y,f},getCenterX:function(r){return(this.getLeft(r)+this.getRight(r))/2},getCenterY:function(r){return(this.getTop(r)+this.getBottom(r))/2},intersects:function(r,f,a,c){return!(a<=this.pixelX||c<=this.pixelY||r>=this.right||f>=this.bottom)},isInteresting:function(r,f){return r&&f?this.canCollide||this.hasInterestingFace:r?this.collides:f?this.hasInterestingFace:!1},resetCollision:function(r){if(r===void 0&&(r=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,r){var f=this.tilemapLayer;f&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(r,f,a,c,p){if(f===void 0&&(f=r),a===void 0&&(a=r),c===void 0&&(c=r),p===void 0&&(p=!0),this.collideLeft=r,this.collideRight=f,this.collideUp=a,this.collideDown=c,this.faceLeft=r,this.faceRight=f,this.faceTop=a,this.faceBottom=c,p){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(r,f){return r===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=r,this.collisionCallbackContext=f),this},setSize:function(r,f,a,c){return r!==void 0&&(this.width=r),f!==void 0&&(this.height=f),a!==void 0&&(this.baseWidth=a),c!==void 0&&(this.baseHeight=c),this.updatePixelXY(),this},updatePixelXY:function(){var r=this.layer.orientation;if(r===d.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(r===d.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(r===d.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(r===d.HEXAGONAL){var f=this.layer.staggerAxis,a=this.layer.staggerIndex,c=this.layer.hexSideLength,p,v;f==="y"?(v=(this.baseHeight-c)/2+c,a==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*v):f==="x"&&(p=(this.baseWidth-c)/2+c,this.pixelX=this.x*p,a==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var r=this.layer.tilemapLayer;if(r){var f=r.gidMap[this.index];if(f)return f}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var r=this.tilemapLayer;return r?r.tilemap:null}}});o.exports=n},89797:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(14556),x=e(56694),d=e(75606),l=e(93560),h=e(72632),n=e(94990),r=e(46422),f=e(12920),a=e(52257),c=e(72677),p=e(13747),v=e(29633),m=e(5047),y=e(87177),E=e(47975),P=new x({initialize:function(w,A){this.scene=w,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:m.GetWorldToTileXYFunction(R),WorldToTileX:m.GetWorldToTileXFunction(R),WorldToTileY:m.GetWorldToTileYFunction(R),TileToWorldXY:m.GetTileToWorldXYFunction(R),TileToWorldX:m.GetTileToWorldXFunction(R),TileToWorldY:m.GetTileToWorldYFunction(R),GetTileCorners:m.GetTileCornersFunction(R)}},setRenderOrder:function(S){var w=["right-down","left-down","right-up","left-up"];return typeof S=="number"&&(S=w[S]),w.indexOf(S)>-1&&(this.renderOrder=S),this},addTilesetImage:function(S,w,A,R,O,L,b,D){if(S===void 0)return null;if(w==null&&(w=S),!this.scene.sys.textures.exists(w))return console.warn("Invalid Tileset Image: "+w),null;var I=this.scene.sys.textures.get(w),B=this.getTilesetIndex(S);if(B===null&&this.format===l.TILED_JSON)return console.warn("No data found for Tileset: "+S),null;var V=this.tilesets[B];return V?(V.setTileSize(A,R),V.setSpacing(O,L),V.setImage(I),V):(A===void 0&&(A=this.tileWidth),R===void 0&&(R=this.tileHeight),O===void 0&&(O=0),L===void 0&&(L=0),b===void 0&&(b=0),D===void 0&&(D={x:0,y:0}),V=new E(S,b,A,R,O,L,void 0,void 0,D),V.setImage(I),this.tilesets.push(V),this.tiles=u(this),V)},copy:function(S,w,A,R,O,L,b,D){return D=this.getLayer(D),D!==null?(m.Copy(S,w,A,R,O,L,b,D),this):null},createBlankLayer:function(S,w,A,R,O,L,b,D){A===void 0&&(A=0),R===void 0&&(R=0),O===void 0&&(O=this.width),L===void 0&&(L=this.height),b===void 0&&(b=this.tileWidth),D===void 0&&(D=this.tileHeight);var I=this.getLayerIndex(S);if(I!==null)return console.warn("Invalid Tilemap Layer ID: "+S),null;for(var B=new n({name:S,tileWidth:b,tileHeight:D,width:O,height:L,orientation:this.orientation}),V,Y=0;Y<L;Y++){V=[];for(var k=0;k<O;k++)V.push(new v(B,-1,k,Y,b,D,this.tileWidth,this.tileHeight));B.data.push(V)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var W=new y(this.scene,this,this.currentLayerIndex,w,A,R);return W.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(W),W},createLayer:function(S,w,A,R){var O=this.getLayerIndex(S);if(O===null)return console.warn("Invalid Tilemap Layer ID: "+S),typeof S=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var L=this.layers[O];if(L.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+S),null;this.currentLayerIndex=O,A===void 0&&(A=L.x),R===void 0&&(R=L.y);var b=new y(this.scene,this,O,w,A,R);return b.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(b),b},createFromObjects:function(S,w,A){A===void 0&&(A=!0);var R=[],O=this.getObjectLayer(S);if(!O)return console.warn("createFromObjects: Invalid objectLayerName given: "+S),R;var L=new r(A?this.tilesets:void 0);Array.isArray(w)||(w=[w]);for(var b=O.objects,D=0;D<w.length;D++){var I=w[D],B=h(I,"id",null),V=h(I,"gid",null),Y=h(I,"name",null),k=h(I,"type",null);L.enabled=!h(I,"ignoreTileset",null);for(var W,G=[],U=0;U<b.length;U++)W=b[U],(B===null&&V===null&&Y===null&&k===null||B!==null&&W.id===B||V!==null&&W.gid===V||Y!==null&&W.name===Y||k!==null&&L.getTypeIncludingTile(W)===k)&&G.push(W);for(var F=h(I,"classType",p),N=h(I,"scene",this.scene),z=h(I,"container",null),X=h(I,"key",null),H=h(I,"frame",null),$=0;$<G.length;$++){W=G[$];var K=new F(N);if(K.setName(W.name),K.setPosition(W.x,W.y),L.setTextureAndFrame(K,X,H,W),W.width&&(K.displayWidth=W.width),W.height&&(K.displayHeight=W.height),this.orientation===f.ISOMETRIC){var Z=this.tileWidth/this.tileHeight,J={x:K.x-K.y,y:(K.x+K.y)/Z};K.x=J.x,K.y=J.y}var j={x:K.originX*W.width,y:(K.originY-(W.gid?1:0))*W.height};if(W.rotation){var Q=d(W.rotation);a(j,Q),K.rotation=Q}K.x+=j.x,K.y+=j.y,(W.flippedHorizontal!==void 0||W.flippedVertical!==void 0)&&K.setFlip(W.flippedHorizontal,W.flippedVertical),W.visible||(K.visible=!1),L.setPropertiesFromTiledObject(K,W),z?z.add(K):N.add.existing(K),R.push(K)}}return R},createFromTiles:function(S,w,A,R,O,L){return L=this.getLayer(L),L===null?null:m.CreateFromTiles(S,w,A,R,O,L)},fill:function(S,w,A,R,O,L,b){return L===void 0&&(L=!0),b=this.getLayer(b),b===null?null:(m.Fill(S,w,A,R,O,L,b),this)},filterObjects:function(S,w,A){if(typeof S=="string"){var R=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+R),null}return S.objects.filter(w,A)},filterTiles:function(S,w,A,R,O,L,b,D){return D=this.getLayer(D),D===null?null:m.FilterTiles(S,w,A,R,O,L,b,D)},findByIndex:function(S,w,A,R){return R=this.getLayer(R),R===null?null:m.FindByIndex(S,w,A,R)},findObject:function(S,w,A){if(typeof S=="string"){var R=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+R),null}return S.objects.find(w,A)||null},findTile:function(S,w,A,R,O,L,b,D){return D=this.getLayer(D),D===null?null:m.FindTile(S,w,A,R,O,L,b,D)},forEachTile:function(S,w,A,R,O,L,b,D){return D=this.getLayer(D),D===null?null:(m.ForEachTile(S,w,A,R,O,L,b,D),this)},getImageIndex:function(S){return this.getIndex(this.images,S)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(S){return S.name})},getIndex:function(S,w){for(var A=0;A<S.length;A++)if(S[A].name===w)return A;return null},getLayer:function(S){var w=this.getLayerIndex(S);return w!==null?this.layers[w]:null},getObjectLayer:function(S){var w=this.getIndex(this.objects,S);return w!==null?this.objects[w]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(S){return S.name})},getLayerIndex:function(S){return S===void 0?this.currentLayerIndex:typeof S=="string"?this.getLayerIndexByName(S):typeof S=="number"&&S<this.layers.length?S:S instanceof y&&S.tilemap===this?S.layerIndex:null},getLayerIndexByName:function(S){return this.getIndex(this.layers,S)},getTileAt:function(S,w,A,R){return R=this.getLayer(R),R===null?null:m.GetTileAt(S,w,A,R)},getTileAtWorldXY:function(S,w,A,R,O){return O=this.getLayer(O),O===null?null:m.GetTileAtWorldXY(S,w,A,R,O)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(S){return S.name})},getTilesWithin:function(S,w,A,R,O,L){return L=this.getLayer(L),L===null?null:m.GetTilesWithin(S,w,A,R,O,L)},getTilesWithinShape:function(S,w,A,R){return R=this.getLayer(R),R===null?null:m.GetTilesWithinShape(S,w,A,R)},getTilesWithinWorldXY:function(S,w,A,R,O,L,b){return b=this.getLayer(b),b===null?null:m.GetTilesWithinWorldXY(S,w,A,R,O,L,b)},getTileset:function(S){var w=this.getIndex(this.tilesets,S);return w!==null?this.tilesets[w]:null},getTilesetIndex:function(S){return this.getIndex(this.tilesets,S)},hasTileAt:function(S,w,A){return A=this.getLayer(A),A===null?null:m.HasTileAt(S,w,A)},hasTileAtWorldXY:function(S,w,A,R){return R=this.getLayer(R),R===null?null:m.HasTileAtWorldXY(S,w,A,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(S){this.setLayer(S)}},putTileAt:function(S,w,A,R,O){return R===void 0&&(R=!0),O=this.getLayer(O),O===null?null:m.PutTileAt(S,w,A,R,O)},putTileAtWorldXY:function(S,w,A,R,O,L){return R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:m.PutTileAtWorldXY(S,w,A,R,O,L)},putTilesAt:function(S,w,A,R,O){return R===void 0&&(R=!0),O=this.getLayer(O),O===null?null:(m.PutTilesAt(S,w,A,R,O),this)},randomize:function(S,w,A,R,O,L){return L=this.getLayer(L),L===null?null:(m.Randomize(S,w,A,R,O,L),this)},calculateFacesAt:function(S,w,A){return A=this.getLayer(A),A===null?null:(m.CalculateFacesAt(S,w,A),this)},calculateFacesWithin:function(S,w,A,R,O){return O=this.getLayer(O),O===null?null:(m.CalculateFacesWithin(S,w,A,R,O),this)},removeLayer:function(S){var w=this.getLayerIndex(S);if(w!==null){c(this.layers,w);for(var A=w;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===w&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(S){var w=this.getLayerIndex(S);return w!==null?(S=this.layers[w],S.tilemapLayer.destroy(),c(this.layers,w),this.currentLayerIndex===w&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var S=this.layers,w=0;w<S.length;w++)S[w].tilemapLayer&&S[w].tilemapLayer.destroy(!1);return S.length=0,this.currentLayerIndex=0,this},removeTile:function(S,w,A){w===void 0&&(w=-1),A===void 0&&(A=!0);var R=[];Array.isArray(S)||(S=[S]);for(var O=0;O<S.length;O++){var L=S[O];R.push(this.removeTileAt(L.x,L.y,!0,A,L.tilemapLayer)),w>-1&&this.putTileAt(w,L.x,L.y,A,L.tilemapLayer)}return R},removeTileAt:function(S,w,A,R,O){return A===void 0&&(A=!0),R===void 0&&(R=!0),O=this.getLayer(O),O===null?null:m.RemoveTileAt(S,w,A,R,O)},removeTileAtWorldXY:function(S,w,A,R,O,L){return A===void 0&&(A=!0),R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:m.RemoveTileAtWorldXY(S,w,A,R,O,L)},renderDebug:function(S,w,A){return A=this.getLayer(A),A===null?null:(this.orientation===f.ORTHOGONAL&&m.RenderDebug(S,w,A),this)},renderDebugFull:function(S,w){for(var A=this.layers,R=0;R<A.length;R++)m.RenderDebug(S,w,A[R]);return this},replaceByIndex:function(S,w,A,R,O,L,b){return b=this.getLayer(b),b===null?null:(m.ReplaceByIndex(S,w,A,R,O,L,b),this)},setCollision:function(S,w,A,R,O){return w===void 0&&(w=!0),A===void 0&&(A=!0),O===void 0&&(O=!0),R=this.getLayer(R),R===null?null:(m.SetCollision(S,w,A,R,O),this)},setCollisionBetween:function(S,w,A,R,O){return A===void 0&&(A=!0),R===void 0&&(R=!0),O=this.getLayer(O),O===null?null:(m.SetCollisionBetween(S,w,A,R,O),this)},setCollisionByProperty:function(S,w,A,R){return w===void 0&&(w=!0),A===void 0&&(A=!0),R=this.getLayer(R),R===null?null:(m.SetCollisionByProperty(S,w,A,R),this)},setCollisionByExclusion:function(S,w,A,R){return w===void 0&&(w=!0),A===void 0&&(A=!0),R=this.getLayer(R),R===null?null:(m.SetCollisionByExclusion(S,w,A,R),this)},setCollisionFromCollisionGroup:function(S,w,A){return S===void 0&&(S=!0),w===void 0&&(w=!0),A=this.getLayer(A),A===null?null:(m.SetCollisionFromCollisionGroup(S,w,A),this)},setTileIndexCallback:function(S,w,A,R){return R=this.getLayer(R),R===null?null:(m.SetTileIndexCallback(S,w,A,R),this)},setTileLocationCallback:function(S,w,A,R,O,L,b){return b=this.getLayer(b),b===null?null:(m.SetTileLocationCallback(S,w,A,R,O,L,b),this)},setLayer:function(S){var w=this.getLayerIndex(S);return w!==null&&(this.currentLayerIndex=w),this},setBaseTileSize:function(S,w){this.tileWidth=S,this.tileHeight=w,this.widthInPixels=this.width*S,this.heightInPixels=this.height*w;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=S,this.layers[A].baseTileHeight=w;for(var R=this.layers[A].data,O=this.layers[A].width,L=this.layers[A].height,b=0;b<L;b++)for(var D=0;D<O;D++){var I=R[b][D];I!==null&&I.setSize(void 0,void 0,S,w)}}return this},setLayerTileSize:function(S,w,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=S,A.tileHeight=w;for(var R=A.data,O=A.width,L=A.height,b=0;b<L;b++)for(var D=0;D<O;D++){var I=R[b][D];I!==null&&I.setSize(S,w)}return this},shuffle:function(S,w,A,R,O){return O=this.getLayer(O),O===null?null:(m.Shuffle(S,w,A,R,O),this)},swapByIndex:function(S,w,A,R,O,L,b){return b=this.getLayer(b),b===null?null:(m.SwapByIndex(S,w,A,R,O,L,b),this)},tileToWorldX:function(S,w,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(S,w,A)},tileToWorldY:function(S,w,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(S,w,A)},tileToWorldXY:function(S,w,A,R,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldXY(S,w,A,R,O)},getTileCorners:function(S,w,A,R){return R=this.getLayer(R),R===null?null:this._convert.GetTileCorners(S,w,A,R)},weightedRandomize:function(S,w,A,R,O,L){return L=this.getLayer(L),L===null?null:(m.WeightedRandomize(w,A,R,O,S,L),this)},worldToTileX:function(S,w,A,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(S,w,A,R)},worldToTileY:function(S,w,A,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(S,w,A,R)},worldToTileXY:function(S,w,A,R,O,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileXY(S,w,A,R,O,L)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});o.exports=P},4843:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(99325),x=e(15043);u.register("tilemap",function(d){var l=d!==void 0?d:{};return x(this.scene,l.key,l.tileWidth,l.tileHeight,l.width,l.height,l.data,l.insertNull)})},37940:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(61286),x=e(15043);u.register("tilemap",function(d,l,h,n,r,f,a){return d===null&&(d=void 0),l===null&&(l=void 0),h===null&&(h=void 0),n===null&&(n=void 0),r===null&&(r=void 0),x(this.scene,d,l,h,n,r,f,a)})},87177:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(64937),d=e(89980),l=e(5047),h=e(96193),n=e(93736),r=new u({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.ComputedSize,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.Transform,x.Visible,x.ScrollFactor,h],initialize:function(a,c,p,v,m,y){d.call(this,a,"TilemapLayer"),this.isTilemap=!0,this.tilemap=c,this.layerIndex=p,this.layer=c.layers[p],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(m,y),this.setOrigin(0,0),this.setSize(c.tileWidth*this.layer.width,c.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(f){var a=[],c=[],p=this.tilemap;Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++){var m=f[v];if(typeof m=="string"&&(m=p.getTileset(m)),m){c.push(m);for(var y=m.firstgid,E=0;E<m.total;E++)a[y+E]=m}}this.gidMap=a,this.tileset=c},setRenderOrder:function(f){var a=["right-down","left-down","right-up","left-up"];return typeof f=="string"&&(f=a.indexOf(f)),f>=0&&f<4&&(this._renderOrder=f),this},calculateFacesAt:function(f,a){return l.CalculateFacesAt(f,a,this.layer),this},calculateFacesWithin:function(f,a,c,p){return l.CalculateFacesWithin(f,a,c,p,this.layer),this},createFromTiles:function(f,a,c,p,v){return l.CreateFromTiles(f,a,c,p,v,this.layer)},cull:function(f){return this.cullCallback(this.layer,f,this.culledTiles,this._renderOrder)},copy:function(f,a,c,p,v,m,y){return l.Copy(f,a,c,p,v,m,y,this.layer),this},fill:function(f,a,c,p,v,m){return l.Fill(f,a,c,p,v,m,this.layer),this},filterTiles:function(f,a,c,p,v,m,y){return l.FilterTiles(f,a,c,p,v,m,y,this.layer)},findByIndex:function(f,a,c){return l.FindByIndex(f,a,c,this.layer)},findTile:function(f,a,c,p,v,m,y){return l.FindTile(f,a,c,p,v,m,y,this.layer)},forEachTile:function(f,a,c,p,v,m,y){return l.ForEachTile(f,a,c,p,v,m,y,this.layer),this},setTint:function(f,a,c,p,v,m){f===void 0&&(f=16777215);var y=function(E){E.tint=f};return this.forEachTile(y,this,a,c,p,v,m)},getTileAt:function(f,a,c){return l.GetTileAt(f,a,c,this.layer)},getTileAtWorldXY:function(f,a,c,p){return l.GetTileAtWorldXY(f,a,c,p,this.layer)},getIsoTileAtWorldXY:function(f,a,c,p,v){c===void 0&&(c=!0);var m=this.tempVec;return l.IsometricWorldToTileXY(f,a,!0,m,v,this.layer,c),this.getTileAt(m.x,m.y,p)},getTilesWithin:function(f,a,c,p,v){return l.GetTilesWithin(f,a,c,p,v,this.layer)},getTilesWithinShape:function(f,a,c){return l.GetTilesWithinShape(f,a,c,this.layer)},getTilesWithinWorldXY:function(f,a,c,p,v,m){return l.GetTilesWithinWorldXY(f,a,c,p,v,m,this.layer)},hasTileAt:function(f,a){return l.HasTileAt(f,a,this.layer)},hasTileAtWorldXY:function(f,a,c){return l.HasTileAtWorldXY(f,a,c,this.layer)},putTileAt:function(f,a,c,p){return l.PutTileAt(f,a,c,p,this.layer)},putTileAtWorldXY:function(f,a,c,p,v){return l.PutTileAtWorldXY(f,a,c,p,v,this.layer)},putTilesAt:function(f,a,c,p){return l.PutTilesAt(f,a,c,p,this.layer),this},randomize:function(f,a,c,p,v){return l.Randomize(f,a,c,p,v,this.layer),this},removeTileAt:function(f,a,c,p){return l.RemoveTileAt(f,a,c,p,this.layer)},removeTileAtWorldXY:function(f,a,c,p,v){return l.RemoveTileAtWorldXY(f,a,c,p,v,this.layer)},renderDebug:function(f,a){return l.RenderDebug(f,a,this.layer),this},replaceByIndex:function(f,a,c,p,v,m){return l.ReplaceByIndex(f,a,c,p,v,m,this.layer),this},setSkipCull:function(f){return f===void 0&&(f=!0),this.skipCull=f,this},setCullPadding:function(f,a){return f===void 0&&(f=1),a===void 0&&(a=1),this.cullPaddingX=f,this.cullPaddingY=a,this},setCollision:function(f,a,c,p){return l.SetCollision(f,a,c,this.layer,p),this},setCollisionBetween:function(f,a,c,p){return l.SetCollisionBetween(f,a,c,p,this.layer),this},setCollisionByProperty:function(f,a,c){return l.SetCollisionByProperty(f,a,c,this.layer),this},setCollisionByExclusion:function(f,a,c){return l.SetCollisionByExclusion(f,a,c,this.layer),this},setCollisionFromCollisionGroup:function(f,a){return l.SetCollisionFromCollisionGroup(f,a,this.layer),this},setTileIndexCallback:function(f,a,c){return l.SetTileIndexCallback(f,a,c,this.layer),this},setTileLocationCallback:function(f,a,c,p,v,m){return l.SetTileLocationCallback(f,a,c,p,v,m,this.layer),this},shuffle:function(f,a,c,p){return l.Shuffle(f,a,c,p,this.layer),this},swapByIndex:function(f,a,c,p,v,m){return l.SwapByIndex(f,a,c,p,v,m,this.layer),this},tileToWorldX:function(f,a){return this.tilemap.tileToWorldX(f,a,this)},tileToWorldY:function(f,a){return this.tilemap.tileToWorldY(f,a,this)},tileToWorldXY:function(f,a,c,p){return this.tilemap.tileToWorldXY(f,a,c,p,this)},getTileCorners:function(f,a,c){return this.tilemap.getTileCorners(f,a,c,this)},weightedRandomize:function(f,a,c,p,v){return l.WeightedRandomize(a,c,p,v,f,this.layer),this},worldToTileX:function(f,a,c){return this.tilemap.worldToTileX(f,a,c,this)},worldToTileY:function(f,a,c){return this.tilemap.worldToTileY(f,a,c,this)},worldToTileXY:function(f,a,c,p,v){return this.tilemap.worldToTileXY(f,a,c,p,v,this)},destroy:function(f){f===void 0&&(f=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),f&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],d.prototype.destroy.call(this))}});o.exports=r},17394:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(69360),x=new u,d=new u,l=new u,h=function(n,r,f,a){var c=r.cull(f),p=c.length,v=f.alpha*r.alpha;if(!(p===0||v<=0)){var m=x,y=d,E=l;y.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),m.copyFrom(f.matrix);var P=n.currentContext,S=r.gidMap;P.save(),a?(m.multiplyWithOffset(a,-f.scrollX*r.scrollFactorX,-f.scrollY*r.scrollFactorY),y.e=r.x,y.f=r.y,m.multiply(y,E),E.copyToContext(P)):(y.e-=f.scrollX*r.scrollFactorX,y.f-=f.scrollY*r.scrollFactorY,y.copyToContext(P)),(!n.antialias||r.scaleX>1||r.scaleY>1)&&(P.imageSmoothingEnabled=!1);for(var w=0;w<p;w++){var A=c[w],R=S[A.index];if(!!R){var O=R.image.getSourceImage(),L=R.getTileTextureCoordinates(A.index),b=R.tileWidth,D=R.tileHeight;if(!(L===null||b===0||D===0)){var I=b*.5,B=D*.5;L.x+=R.tileOffset.x,L.y+=R.tileOffset.y,P.save(),P.translate(A.pixelX+I,A.pixelY+B),A.rotation!==0&&P.rotate(A.rotation),(A.flipX||A.flipY)&&P.scale(A.flipX?-1:1,A.flipY?-1:1),P.globalAlpha=v*A.alpha,P.drawImage(O,L.x,L.y,b,D,-I,-B,b,D),P.restore()}}}P.restore()}};o.exports=h},96193:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72283),x=u,d=u;x=e(51395),d=e(17394),o.exports={renderWebGL:x,renderCanvas:d}},51395:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(75512),x=function(d,l,h){var n=l.cull(h),r=n.length,f=h.alpha*l.alpha;if(!(r===0||f<=0)){var a=l.gidMap,c=d.pipelines.set(l.pipeline,l),p=u.getTintAppendFloatAlpha,v=l.scrollFactorX,m=l.scrollFactorY,y=l.x,E=l.y,P=l.scaleX,S=l.scaleY;d.pipelines.preBatch(l);for(var w=0;w<r;w++){var A=n[w],R=a[A.index];if(!!R){var O=R.getTileTextureCoordinates(A.index);if(O!==null){var L=R.glTexture,b=c.setTexture2D(L,l),D=R.tileWidth,I=R.tileHeight,B=O.x,V=O.y,Y=R.tileWidth*.5,k=R.tileHeight*.5,W=R.tileOffset.x,G=R.tileOffset.y,U=p(A.tint,f*A.alpha);c.batchTexture(l,L,L.width,L.height,y+A.pixelX*P+(Y*P-W),E+A.pixelY*S+(k*S-G),A.width,A.height,P,S,A.rotation,A.flipX,A.flipY,v,m,Y,k,B,V,D,I,U,U,U,U,!1,0,0,h,null,!0,b)}}}d.pipelines.postBatch(l)}};o.exports=x},47975:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(93736),d=new u({initialize:function(h,n,r,f,a,c,p,v,m){(r===void 0||r<=0)&&(r=32),(f===void 0||f<=0)&&(f=32),a===void 0&&(a=0),c===void 0&&(c=0),p===void 0&&(p={}),v===void 0&&(v={}),this.name=h,this.firstgid=n,this.tileWidth=r,this.tileHeight=f,this.tileMargin=a,this.tileSpacing=c,this.tileProperties=p,this.tileData=v,this.tileOffset=new x,m!==void 0&&this.tileOffset.set(m.x,m.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(l){return this.containsTileIndex(l)?this.tileProperties[l-this.firstgid]:null},getTileData:function(l){return this.containsTileIndex(l)?this.tileData[l-this.firstgid]:null},getTileCollisionGroup:function(l){var h=this.getTileData(l);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},getTileTextureCoordinates:function(l){return this.containsTileIndex(l)?this.texCoordinates[l-this.firstgid]:null},setImage:function(l){return this.image=l,this.glTexture=l.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(l,h){return l!==void 0&&(this.tileWidth=l),h!==void 0&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(l,h){return l!==void 0&&(this.tileMargin=l),h!==void 0&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(l,h){var n=(h-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(l-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(n%1!==0||r%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),n=Math.floor(n),r=Math.floor(r),this.rows=n,this.columns=r,this.total=n*r,this.texCoordinates.length=0;for(var f=this.tileMargin,a=this.tileMargin,c=0;c<this.rows;c++){for(var p=0;p<this.columns;p++)this.texCoordinates.push({x:f,y:a}),f+=this.tileWidth+this.tileSpacing;f=this.tileMargin,a+=this.tileHeight+this.tileSpacing}return this}});o.exports=d},92839:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15494),x=function(d,l,h){var n=u(d,l,!0,h),r=u(d,l-1,!0,h),f=u(d,l+1,!0,h),a=u(d-1,l,!0,h),c=u(d+1,l,!0,h),p=n&&n.collides;return p&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),r&&r.collides&&(p&&(n.faceTop=!1),r.faceBottom=!p),f&&f.collides&&(p&&(n.faceBottom=!1),f.faceTop=!p),a&&a.collides&&(p&&(n.faceLeft=!1),a.faceRight=!p),c&&c.collides&&(p&&(n.faceRight=!1),c.faceLeft=!p),n&&!n.collides&&n.resetFaces(),n};o.exports=x},60386:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15494),x=e(50811),d=function(l,h,n,r,f){for(var a=null,c=null,p=null,v=null,m=x(l,h,n,r,null,f),y=0;y<m.length;y++){var E=m[y];E&&(E.collides?(a=u(E.x,E.y-1,!0,f),c=u(E.x,E.y+1,!0,f),p=u(E.x-1,E.y,!0,f),v=u(E.x+1,E.y,!0,f),E.faceTop=!(a&&a.collides),E.faceBottom=!(c&&c.collides),E.faceLeft=!(p&&p.collides),E.faceRight=!(v&&v.collides)):E.resetFaces())}};o.exports=d},13125:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=new u,d=function(l,h,n,r){var f=n.tilemapLayer,a=f.cullPaddingX,c=f.cullPaddingY,p=f.tilemap.tileToWorldXY(l,h,x,r,f);return p.x>r.worldView.x+f.scaleX*n.tileWidth*(-a-.5)&&p.x<r.worldView.right+f.scaleX*n.tileWidth*(a-.5)&&p.y>r.worldView.y+f.scaleY*n.tileHeight*(-c-1)&&p.y<r.worldView.bottom+f.scaleY*n.tileHeight*(c-.5)};o.exports=d},17347:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60386),x=e(50811),d=e(62839),l=e(29633),h=function(n,r,f,a,c,p,v,m){v===void 0&&(v=!0);var y=x(n,r,f,a,null,m),E=[];y.forEach(function(L){var b=new l(L.layer,L.index,L.x,L.y,L.width,L.height,L.baseWidth,L.baseHeight);b.copy(L),E.push(b)});for(var P=c-n,S=p-r,w=0;w<E.length;w++){var A=E[w],R=A.x+P,O=A.y+S;d(R,O,m)&&m.data[O][R]&&(A.x=R,A.y=O,A.updatePixelXY(),m.data[O][R]=A)}v&&u(c-1,p-1,f+2,a+2,m),y.length=0,E.length=0};o.exports=h},93604:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=e(51202),d=function(l,h,n,r,f,a){n||(n={}),Array.isArray(l)||(l=[l]);var c=a.tilemapLayer;r||(r=c.scene),f||(f=r.cameras.main);var p=u(0,0,a.width,a.height,null,a),v=[],m;for(m=0;m<p.length;m++){var y=p[m];if(l.indexOf(y.index)!==-1){var E=c.tileToWorldXY(y.x,y.y,void 0,f,a);n.x=E.x,n.y=E.y,v.push(r.make.sprite(n))}}if(typeof h=="number")for(m=0;m<l.length;m++)x(l[m],h,0,0,a.width,a.height,a);else if(Array.isArray(h))for(m=0;m<l.length;m++)x(l[m],h[m],0,0,a.width,a.height,a);return v};o.exports=d},71586:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(74118),x=e(82127),d=e(84314),l=new u,h=function(n,r){var f=n.tilemapLayer.tilemap,a=n.tilemapLayer,c=Math.floor(f.tileWidth*a.scaleX),p=Math.floor(f.tileHeight*a.scaleY),v=d(r.worldView.x-a.x,c,0,!0)-a.cullPaddingX,m=x(r.worldView.right-a.x,c,0,!0)+a.cullPaddingX,y=d(r.worldView.y-a.y,p,0,!0)-a.cullPaddingY,E=x(r.worldView.bottom-a.y,p,0,!0)+a.cullPaddingY;return l.setTo(v,y,m-v,E-y)};o.exports=h},381:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(71586),x=e(6987),d=function(l,h,n,r){n===void 0&&(n=[]),r===void 0&&(r=0),n.length=0;var f=l.tilemapLayer,a=u(l,h);return(f.skipCull||f.scrollFactorX!==1||f.scrollFactorY!==1)&&(a.left=0,a.right=l.width,a.top=0,a.bottom=l.height),x(l,a,r,n),n};o.exports=d},97734:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=e(60386),d=e(68234),l=function(h,n,r,f,a,c,p){for(var v=p.collideIndexes.indexOf(h)!==-1,m=u(n,r,f,a,null,p),y=0;y<m.length;y++)m[y].index=h,d(m[y],v);c&&x(n-1,r-1,f+2,a+2,p)};o.exports=l},63555:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=function(d,l,h,n,r,f,a,c){var p=u(h,n,r,f,a,c);return p.filter(d,l)};o.exports=x},37982:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){u===void 0&&(u=0),x===void 0&&(x=!1);var l=0,h,n,r;if(x){for(n=d.height-1;n>=0;n--)for(h=d.width-1;h>=0;h--)if(r=d.data[n][h],r&&r.index===e){if(l===u)return r;l+=1}}else for(n=0;n<d.height;n++)for(h=0;h<d.width;h++)if(r=d.data[n][h],r&&r.index===e){if(l===u)return r;l+=1}return null};o.exports=T},48297:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=function(d,l,h,n,r,f,a,c){var p=u(h,n,r,f,a,c);return p.find(d,l)||null};o.exports=x},80916:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=function(d,l,h,n,r,f,a,c){var p=u(h,n,r,f,a,c);p.forEach(d,l)};o.exports=x},31493:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),x=e(381),d=e(37524),l=e(20887),h=e(72283),n=e(19242),r=function(f){return f===u.ORTHOGONAL?x:f===u.HEXAGONAL?d:f===u.STAGGERED?n:f===u.ISOMETRIC?l:h};o.exports=r},15494:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62839),x=function(d,l,h,n){if(h===void 0&&(h=!1),u(d,l,n)){var r=n.data[l][d]||null;return r?r.index===-1?h?r:null:r:null}else return null};o.exports=x},24640:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(15494),x=e(93736),d=new x,l=function(h,n,r,f,a){return a.tilemapLayer.worldToTileXY(h,n,!0,d,f),u(d.x,d.y,r,a)};o.exports=l},48495:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n){var r=n.baseTileWidth,f=n.baseTileHeight,a=n.tilemapLayer,c=0,p=0;a&&(h||(h=a.scene.cameras.main),c=a.x+h.scrollX*(1-a.scrollFactorX),p=a.y+h.scrollY*(1-a.scrollFactorY),r*=a.scaleX,f*=a.scaleY);var v=c+d*r,m=p+l*f;return[new u(v,m),new u(v+r,m),new u(v+r,m+f),new u(v,m+f)]};o.exports=x},7160:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),x=e(63634),d=e(72283),l=e(48495),h=function(n){return n===u.ORTHOGONAL?l:n===u.ISOMETRIC?d:n===u.HEXAGONAL?x:(n===u.STAGGERED,d)};o.exports=h},16884:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),x=e(72283),d=e(44150),l=function(h){return h===u.ORTHOGONAL?d:x};o.exports=l},68182:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),x=e(21715),d=e(21808),l=e(72283),h=e(33388),n=e(46836),r=function(f){return f===u.ORTHOGONAL?n:f===u.ISOMETRIC?d:f===u.HEXAGONAL?x:f===u.STAGGERED?h:l};o.exports=r},3752:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),x=e(72283),d=e(84132),l=e(42477),h=function(n){return n===u.ORTHOGONAL?l:n===u.STAGGERED?d:x};o.exports=h},50811:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),x=function(d,l,h,n,r,f){d===void 0&&(d=0),l===void 0&&(l=0),h===void 0&&(h=f.width),n===void 0&&(n=f.height),r||(r={});var a=u(r,"isNotEmpty",!1),c=u(r,"isColliding",!1),p=u(r,"hasInterestingFace",!1);d<0&&(h+=d,d=0),l<0&&(n+=l,l=0),d+h>f.width&&(h=Math.max(f.width-d,0)),l+n>f.height&&(n=Math.max(f.height-l,0));for(var v=[],m=l;m<l+n;m++)for(var y=d;y<d+h;y++){var E=f.data[m][y];if(E!==null){if(a&&E.index===-1||c&&!E.collides||p&&!E.hasInterestingFace)continue;v.push(E)}}return v};o.exports=x},31674:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(84068),x=e(50811),d=e(7563),l=e(72283),h=e(93736),n=function(p,v){return d.RectangleToTriangle(v,p)},r=new h,f=new h,a=new h,c=function(p,v,m,y){if(p===void 0)return[];var E=l;p instanceof u.Circle?E=d.CircleToRectangle:p instanceof u.Rectangle?E=d.RectangleToRectangle:p instanceof u.Triangle?E=n:p instanceof u.Line&&(E=d.LineToRectangle),y.tilemapLayer.worldToTileXY(p.left,p.top,!0,f,m);var P=f.x,S=f.y;y.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,a,m);var w=Math.ceil(a.x),A=Math.ceil(a.y),R=Math.max(w-P,1),O=Math.max(A-S,1),L=x(P,S,R,O,v,y),b=y.tileWidth,D=y.tileHeight;y.tilemapLayer&&(b*=y.tilemapLayer.scaleX,D*=y.tilemapLayer.scaleY);for(var I=[],B=new u.Rectangle(0,0,b,D),V=0;V<L.length;V++){var Y=L[V];y.tilemapLayer.tileToWorldXY(Y.x,Y.y,r,m),B.x=r.x,B.y=r.y,E(p,B)&&I.push(Y)}return I};o.exports=c},44662:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=e(93736),d=new x,l=new x,h=function(n,r,f,a,c,p,v){var m=v.tilemapLayer.tilemap._convert.WorldToTileXY;m(n,r,!0,d,p,v);var y=d.x,E=d.y;m(n+f,r+a,!1,l,p,v);var P=Math.ceil(l.x),S=Math.ceil(l.y);return u(y,E,P-y,S-E,c,v)};o.exports=h},29296:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),x=e(10618),d=e(806),l=function(h){return h===u.ORTHOGONAL?d:x};o.exports=l},32688:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),x=e(11516),d=e(18750),l=e(72283),h=e(90562),n=e(45676),r=function(f){return f===u.ORTHOGONAL?n:f===u.ISOMETRIC?d:f===u.HEXAGONAL?x:f===u.STAGGERED?h:l};o.exports=r},74326:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),x=e(10618),d=e(3689),l=e(70520),h=function(n){return n===u.ORTHOGONAL?l:n===u.STAGGERED?d:x};o.exports=h},46598:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(62839),x=function(d,l,h){if(u(d,l,h)){var n=h.data[l][d];return n!==null&&n.index>-1}else return!1};o.exports=x},28654:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(46598),x=e(93736),d=new x,l=function(h,n,r,f){f.tilemapLayer.worldToTileXY(h,n,!0,d,r);var a=d.x,c=d.y;return u(a,c,f)};o.exports=l},6358:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82127),x=e(84314),d=function(l,h){var n=l.tilemapLayer.tilemap,r=l.tilemapLayer,f=Math.floor(n.tileWidth*r.scaleX),a=Math.floor(n.tileHeight*r.scaleY),c=l.hexSideLength,p,v,m,y;if(this.staggerAxis==="y"){var E=(a-c)/2+c;p=x(h.worldView.x-r.x,f,0,!0)-r.cullPaddingX,v=u(h.worldView.right-r.x,f,0,!0)+r.cullPaddingX,m=x(h.worldView.y-r.y,E,0,!0)-r.cullPaddingY,y=u(h.worldView.bottom-r.y,E,0,!0)+r.cullPaddingY}else{var P=(f-c)/2+c;p=x(h.worldView.x-r.x,P,0,!0)-r.cullPaddingX,v=u(h.worldView.right-r.x,P,0,!0)+r.cullPaddingX,m=x(h.worldView.y-r.y,a,0,!0)-r.cullPaddingY,y=u(h.worldView.bottom-r.y,a,0,!0)+r.cullPaddingY}return{left:p,right:v,top:m,bottom:y}};o.exports=d},37524:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(6358),x=e(6987),d=function(l,h,n,r){n===void 0&&(n=[]),r===void 0&&(r=0),n.length=0;var f=l.tilemapLayer,a=u(l,h);return f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1&&(a.left=0,a.right=l.width,a.top=0,a.bottom=l.height),x(l,a,r,n),n};o.exports=d},63634:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21715),x=e(93736),d=new x,l=function(h,n,r,f){var a=f.baseTileWidth,c=f.baseTileHeight,p=f.tilemapLayer;p&&(a*=p.scaleX,c*=p.scaleY);var v=u(h,n,d,r,f),m=[],y=.5773502691896257,E,P;this.staggerAxis==="y"?(E=y*a,P=c/2):(E=a/2,P=y*c);for(var S=0;S<6;S++){var w=2*Math.PI*(.5-S)/6;m.push(new x(v.x+E*Math.cos(w),v.y+P*Math.sin(w)))}return m};o.exports=l},21715:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n,r){h||(h=new u);var f=r.baseTileWidth,a=r.baseTileHeight,c=r.tilemapLayer,p=0,v=0;c&&(n||(n=c.scene.cameras.main),p=c.x+n.scrollX*(1-c.scrollFactorX),v=c.y+n.scrollY*(1-c.scrollFactorY),f*=c.scaleX,a*=c.scaleY);var m=f/2,y=a/2,E,P;return this.staggerAxis==="y"?(E=p+f*d+f,P=v+1.5*l*y+y,l%2===0&&(this.staggerIndex==="odd"?E-=m:E+=m)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(E=p+1.5*d*m+m,P=v+a*d+a,d%2===0&&(this.staggerIndex==="odd"?P-=y:P+=y)),h.set(E,P)};o.exports=x},11516:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n,r,f){n||(n=new u);var a=f.baseTileWidth,c=f.baseTileHeight,p=f.tilemapLayer;p&&(r||(r=p.scene.cameras.main),d=d-(p.x+r.scrollX*(1-p.scrollFactorX)),l=l-(p.y+r.scrollY*(1-p.scrollFactorY)),a*=p.scaleX,c*=p.scaleY);var v=.5773502691896257,m=-.3333333333333333,y=0,E=.6666666666666666,P=a/2,S=c/2,w,A,R,O,L;f.staggerAxis==="y"?(w=(d-P)/(v*a),A=(l-S)/S,R=v*w+m*A,O=y*w+E*A):(w=(d-P)/P,A=(l-S)/(v*c),R=m*w+v*A,O=E*w+y*A),L=-R-O;var b=Math.round(R),D=Math.round(O),I=Math.round(L),B=Math.abs(b-R),V=Math.abs(D-O),Y=Math.abs(I-L);B>V&&B>Y?b=-D-I:V>Y&&(D=-b-I);var k,W=D;return f.staggerIndex==="odd"?k=W%2===0?D/2+b:D/2+b-.5:k=W%2===0?D/2+b:D/2+b+.5,n.set(k,W)};o.exports=x},62839:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e>=0&&e<x.width&&u>=0&&u<x.height};o.exports=T},20887:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(13125),x=function(d,l,h,n){h===void 0&&(h=[]),n===void 0&&(n=0),h.length=0;var r=d.tilemapLayer,f=d.data,a=d.width,c=d.height,p=r.skipCull,v=0,m=a,y=0,E=c,P,S,w;if(n===0){for(S=y;S<E;S++)for(P=v;P<m;P++)if(p||u(P,S,d,l)){if(w=f[S][P],!w||w.index===-1||!w.visible||w.alpha===0)continue;h.push(w)}}else if(n===1){for(S=y;S<E;S++)for(P=m;P>=v;P--)if(p||u(P,S,d,l)){if(w=f[S][P],!w||w.index===-1||!w.visible||w.alpha===0)continue;h.push(w)}}else if(n===2){for(S=E;S>=y;S--)for(P=v;P<m;P++)if(p||u(P,S,d,l)){if(w=f[S][P],!w||w.index===-1||!w.visible||w.alpha===0)continue;h.push(w)}}else if(n===3){for(S=E;S>=y;S--)for(P=m;P>=v;P--)if(p||u(P,S,d,l)){if(w=f[S][P],!w||w.index===-1||!w.visible||w.alpha===0)continue;h.push(w)}}return r.tilesDrawn=h.length,r.tilesTotal=a*c,h};o.exports=x},21808:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n,r){h||(h=new u);var f=r.baseTileWidth,a=r.baseTileHeight,c=r.tilemapLayer,p=0,v=0;c&&(n||(n=c.scene.cameras.main),p=c.x+n.scrollX*(1-c.scrollFactorX),f*=c.scaleX,v=c.y+n.scrollY*(1-c.scrollFactorY),a*=c.scaleY);var m=p+(d-l)*(f/2),y=v+(d+l)*(a/2);return h.set(m,y)};o.exports=x},18750:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n,r,f,a){n||(n=new u);var c=f.baseTileWidth,p=f.baseTileHeight,v=f.tilemapLayer;v&&(r||(r=v.scene.cameras.main),l=l-(v.y+r.scrollY*(1-v.scrollFactorY)),p*=v.scaleY,d=d-(v.x+r.scrollX*(1-v.scrollFactorX)),c*=v.scaleX);var m=c/2,y=p/2;d=d-m,a||(l=l-p);var E=.5*(d/m+l/y),P=.5*(-d/m+l/y);return h&&(E=Math.floor(E),P=Math.floor(P)),n.set(E,P)};o.exports=x},29003:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29633),x=e(62839),d=e(92839),l=e(68234),h=function(n,r,f,a,c){if(a===void 0&&(a=!0),!x(r,f,c))return null;var p,v=c.data[f][r],m=v&&v.collides;n instanceof u?(c.data[f][r]===null&&(c.data[f][r]=new u(c,n.index,r,f,c.tileWidth,c.tileHeight)),c.data[f][r].copy(n)):(p=n,c.data[f][r]===null?c.data[f][r]=new u(c,p,r,f,c.tileWidth,c.tileHeight):c.data[f][r].index=p);var y=c.data[f][r],E=c.collideIndexes.indexOf(y.index)!==-1;if(p=n instanceof u?n.index:n,p===-1)y.width=c.tileWidth,y.height=c.tileHeight;else{var P=c.tilemapLayer.tilemap.tiles,S=P[p][2],w=c.tilemapLayer.tileset[S];y.width=w.tileWidth,y.height=w.tileHeight}return l(y,E),a&&m!==y.collides&&d(r,f,c),y};o.exports=h},48565:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29003),x=e(93736),d=new x,l=function(h,n,r,f,a,c){return c.tilemapLayer.worldToTileXY(n,r,!0,d,a,c),u(h,d.x,d.y,f,c)};o.exports=l},56547:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(60386),x=e(29003),d=function(l,h,n,r,f){if(r===void 0&&(r=!0),!Array.isArray(l))return null;Array.isArray(l[0])||(l=[l]);for(var a=l.length,c=l[0].length,p=0;p<a;p++)for(var v=0;v<c;v++){var m=l[p][v];x(m,h+v,n+p,!1,f)}r&&u(h-1,n-1,c+2,a+2,f)};o.exports=d},91180:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=e(72861),d=function(l,h,n,r,f,a){var c,p=u(l,h,n,r,{},a);if(!f)for(f=[],c=0;c<p.length;c++)f.indexOf(p[c].index)===-1&&f.push(p[c].index);for(c=0;c<p.length;c++)p[c].index=x(f)};o.exports=d},929:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(29633),x=e(62839),d=e(92839),l=function(h,n,r,f,a){if(r===void 0&&(r=!0),f===void 0&&(f=!0),!x(h,n,a))return null;var c=a.data[n][h];if(c)a.data[n][h]=r?null:new u(a,-1,h,n,a.tileWidth,a.tileHeight);else return null;return f&&c&&c.collides&&d(h,n,a),c};o.exports=l},17384:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(929),x=e(93736),d=new x,l=function(h,n,r,f,a,c){return c.tilemapLayer.worldToTileXY(h,n,!0,d,a,c),u(d.x,d.y,r,f,c)};o.exports=l},93763:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=e(95509),d=new x(105,210,231,150),l=new x(243,134,48,200),h=new x(40,39,37,150),n=function(r,f,a){f===void 0&&(f={});var c=f.tileColor!==void 0?f.tileColor:d,p=f.collidingTileColor!==void 0?f.collidingTileColor:l,v=f.faceColor!==void 0?f.faceColor:h,m=u(0,0,a.width,a.height,null,a);r.translateCanvas(a.tilemapLayer.x,a.tilemapLayer.y),r.scaleCanvas(a.tilemapLayer.scaleX,a.tilemapLayer.scaleY);for(var y=0;y<m.length;y++){var E=m[y],P=E.width,S=E.height,w=E.pixelX,A=E.pixelY,R=E.collides?p:c;R!==null&&(r.fillStyle(R.color,R.alpha/255),r.fillRect(w,A,P,S)),w+=1,A+=1,P-=2,S-=2,v!==null&&(r.lineStyle(1,v.color,v.alpha/255),E.faceTop&&r.lineBetween(w,A,w+P,A),E.faceRight&&r.lineBetween(w+P,A,w+P,A+S),E.faceBottom&&r.lineBetween(w,A+S,w+P,A+S),E.faceLeft&&r.lineBetween(w,A,w,A+S))}};o.exports=n},51202:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=function(d,l,h,n,r,f,a){for(var c=u(h,n,r,f,null,a),p=0;p<c.length;p++)c[p]&&c[p].index===d&&(c[p].index=l)};o.exports=x},6987:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=e.data,h=e.width,n=e.height,r=e.tilemapLayer,f=Math.max(0,u.left),a=Math.min(h,u.right),c=Math.max(0,u.top),p=Math.min(n,u.bottom),v,m,y;if(x===0)for(m=c;m<p;m++)for(v=f;l[m]&&v<a;v++)y=l[m][v],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);else if(x===1)for(m=c;m<p;m++)for(v=a;l[m]&&v>=f;v--)y=l[m][v],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);else if(x===2)for(m=p;m>=c;m--)for(v=f;l[m]&&v<a;v++)y=l[m][v],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);else if(x===3)for(m=p;m>=c;m--)for(v=a;l[m]&&v>=f;v--)y=l[m][v],!(!y||y.index===-1||!y.visible||y.alpha===0)&&d.push(y);return r.tilesDrawn=d.length,r.tilesTotal=h*n,d};o.exports=T},51710:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68234),x=e(60386),d=e(91181),l=function(h,n,r,f,a){n===void 0&&(n=!0),r===void 0&&(r=!0),a===void 0&&(a=!0),Array.isArray(h)||(h=[h]);for(var c=0;c<h.length;c++)d(h[c],n,f);if(a)for(var p=0;p<f.height;p++)for(var v=0;v<f.width;v++){var m=f.data[p][v];m&&h.indexOf(m.index)!==-1&&u(m,n)}r&&x(0,0,f.width,f.height,f)};o.exports=l},15216:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68234),x=e(60386),d=e(91181),l=function(h,n,r,f,a,c){if(r===void 0&&(r=!0),f===void 0&&(f=!0),c===void 0&&(c=!0),!(h>n)){for(var p=h;p<=n;p++)d(p,r,a);if(c)for(var v=0;v<a.height;v++)for(var m=0;m<a.width;m++){var y=a.data[v][m];y&&y.index>=h&&y.index<=n&&u(y,r)}f&&x(0,0,a.width,a.height,a)}};o.exports=l},33158:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68234),x=e(60386),d=e(91181),l=function(h,n,r,f){n===void 0&&(n=!0),r===void 0&&(r=!0),Array.isArray(h)||(h=[h]);for(var a=0;a<f.height;a++)for(var c=0;c<f.width;c++){var p=f.data[a][c];p&&h.indexOf(p.index)===-1&&(u(p,n),d(p.index,n,f))}r&&x(0,0,f.width,f.height,f)};o.exports=l},4180:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68234),x=e(60386),d=e(19256),l=function(h,n,r,f){n===void 0&&(n=!0),r===void 0&&(r=!0);for(var a=0;a<f.height;a++)for(var c=0;c<f.width;c++){var p=f.data[a][c];if(!!p){for(var v in h)if(!!d(p.properties,v)){var m=h[v];Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++)p.properties[v]===m[y]&&u(p,n)}}}r&&x(0,0,f.width,f.height,f)};o.exports=l},18625:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(68234),x=e(60386),d=function(l,h,n){l===void 0&&(l=!0),h===void 0&&(h=!0);for(var r=0;r<n.height;r++)for(var f=0;f<n.width;f++){var a=n.data[r][f];if(!!a){var c=a.getCollisionGroup();c&&c.objects&&c.objects.length>0&&u(a,l)}}h&&x(0,0,n.width,n.height,n)};o.exports=d},91181:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=x.collideIndexes.indexOf(e);u&&d===-1?x.collideIndexes.push(e):!u&&d!==-1&&x.collideIndexes.splice(d,1)};o.exports=T},68234:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};o.exports=T},11628:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){if(typeof e=="number")d.callbacks[e]=u!==null?{callback:u,callbackContext:x}:void 0;else for(var l=0,h=e.length;l<h;l++)d.callbacks[e[l]]=u!==null?{callback:u,callbackContext:x}:void 0};o.exports=T},72732:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=function(d,l,h,n,r,f,a){for(var c=u(d,l,h,n,null,a),p=0;p<c.length;p++)c[p].setCollisionCallback(r,f)};o.exports=x},34397:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=e(18592),d=function(l,h,n,r,f){var a=u(l,h,n,r,null,f),c=a.map(function(v){return v.index});x(c);for(var p=0;p<a.length;p++)a[p].index=c[p]};o.exports=d},53945:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(82127),x=e(84314),d=function(l,h){var n=l.tilemapLayer.tilemap,r=l.tilemapLayer,f=Math.floor(n.tileWidth*r.scaleX),a=Math.floor(n.tileHeight*r.scaleY),c=x(h.worldView.x-r.x,f,0,!0)-r.cullPaddingX,p=u(h.worldView.right-r.x,f,0,!0)+r.cullPaddingX,v=x(h.worldView.y-r.y,a/2,0,!0)-r.cullPaddingY,m=u(h.worldView.bottom-r.y,a/2,0,!0)+r.cullPaddingY;return{left:c,right:p,top:v,bottom:m}};o.exports=d},19242:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(53945),x=e(6987),d=function(l,h,n,r){n===void 0&&(n=[]),r===void 0&&(r=0),n.length=0;var f=l.tilemapLayer,a=u(l,h);return f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1&&(a.left=0,a.right=l.width,a.top=0,a.bottom=l.height),x(l,a,r,n),n};o.exports=d},33388:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n,r){h||(h=new u);var f=r.baseTileWidth,a=r.baseTileHeight,c=r.tilemapLayer,p=0,v=0;c&&(n||(n=c.scene.cameras.main),p=c.x+n.scrollX*(1-c.scrollFactorX),f*=c.scaleX,v=c.y+n.scrollY*(1-c.scrollFactorY),a*=c.scaleY);var m=p+d*f+l%2*(f/2),y=v+l*(a/2);return h.set(m,y)};o.exports=x},84132:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=x.baseTileHeight,l=x.tilemapLayer,h=0;return l&&(u===void 0&&(u=l.scene.cameras.main),h=l.y+u.scrollY*(1-l.scrollFactorY),d*=l.scaleY),h+e*(d/2)+d};o.exports=T},90562:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n,r,f){n||(n=new u);var a=f.baseTileWidth,c=f.baseTileHeight,p=f.tilemapLayer;p&&(r||(r=p.scene.cameras.main),l=l-(p.y+r.scrollY*(1-p.scrollFactorY)),c*=p.scaleY,d=d-(p.x+r.scrollX*(1-p.scrollFactorX)),a*=p.scaleX);var v=h?Math.floor(l/(c/2)):l/(c/2),m=h?Math.floor((d+v%2*.5*a)/a):(d+v%2*.5*a)/a;return n.set(m,v)};o.exports=x},3689:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=d.baseTileHeight,h=d.tilemapLayer;return h&&(x||(x=h.scene.cameras.main),e=e-(h.y+x.scrollY*(1-h.scrollFactorY)),l*=h.scaleY),u?Math.floor(e/(l/2)):e/(l/2)};o.exports=T},55217:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=function(d,l,h,n,r,f,a){for(var c=u(h,n,r,f,null,a),p=0;p<c.length;p++)c[p]&&(c[p].index===d?c[p].index=l:c[p].index===l&&(c[p].index=d))};o.exports=x},44150:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=x.baseTileWidth,l=x.tilemapLayer,h=0;return l&&(u||(u=l.scene.cameras.main),h=l.x+u.scrollX*(1-l.scrollFactorX),d*=l.scaleX),h+e*d};o.exports=T},46836:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(44150),x=e(42477),d=e(93736),l=function(h,n,r,f,a){return r||(r=new d(0,0)),r.x=u(h,f,a),r.y=x(n,f,a),r};o.exports=l},42477:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=x.baseTileHeight,l=x.tilemapLayer,h=0;return l&&(u||(u=l.scene.cameras.main),h=l.y+u.scrollY*(1-l.scrollFactorY),d*=l.scaleY),h+e*d};o.exports=T},39677:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(50811),x=function(d,l,h,n,r,f){if(!!r){var a,c=u(d,l,h,n,null,f),p=0;for(a=0;a<r.length;a++)p+=r[a].weight;if(!(p<=0))for(a=0;a<c.length;a++){for(var v=Math.random()*p,m=0,y=-1,E=0;E<r.length;E++)if(m+=r[E].weight,v<=m){var P=r[E].index;y=Array.isArray(P)?P[Math.floor(Math.random()*P.length)]:P;break}c[a].index=y}}};o.exports=x},806:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45676),x=e(93736),d=new x,l=function(h,n,r,f){return u(h,0,n,d,r,f),d.x};o.exports=l},45676:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93736),x=function(d,l,h,n,r,f){h===void 0&&(h=!0),n||(n=new u);var a=f.baseTileWidth,c=f.baseTileHeight,p=f.tilemapLayer;p&&(r||(r=p.scene.cameras.main),d=d-(p.x+r.scrollX*(1-p.scrollFactorX)),l=l-(p.y+r.scrollY*(1-p.scrollFactorY)),a*=p.scaleX,c*=p.scaleY);var v=d/a,m=l/c;return h&&(v=Math.floor(v),m=Math.floor(m)),n.set(v,m)};o.exports=x},70520:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45676),x=e(93736),d=new x,l=function(h,n,r,f){return u(0,h,n,d,r,f),d.y};o.exports=l},5047:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CalculateFacesAt:e(92839),CalculateFacesWithin:e(60386),CheckIsoBounds:e(13125),Copy:e(17347),CreateFromTiles:e(93604),CullBounds:e(71586),CullTiles:e(381),Fill:e(97734),FilterTiles:e(63555),FindByIndex:e(37982),FindTile:e(48297),ForEachTile:e(80916),GetCullTilesFunction:e(31493),GetTileAt:e(15494),GetTileAtWorldXY:e(24640),GetTileCorners:e(48495),GetTileCornersFunction:e(7160),GetTilesWithin:e(50811),GetTilesWithinShape:e(31674),GetTilesWithinWorldXY:e(44662),GetTileToWorldXFunction:e(16884),GetTileToWorldXYFunction:e(68182),GetTileToWorldYFunction:e(3752),GetWorldToTileXFunction:e(29296),GetWorldToTileXYFunction:e(32688),GetWorldToTileYFunction:e(74326),HasTileAt:e(46598),HasTileAtWorldXY:e(28654),HexagonalCullBounds:e(6358),HexagonalCullTiles:e(37524),HexagonalGetTileCorners:e(63634),HexagonalTileToWorldXY:e(21715),HexagonalWorldToTileXY:e(11516),IsInLayerBounds:e(62839),IsometricCullTiles:e(20887),IsometricTileToWorldXY:e(21808),IsometricWorldToTileXY:e(18750),PutTileAt:e(29003),PutTileAtWorldXY:e(48565),PutTilesAt:e(56547),Randomize:e(91180),RemoveTileAt:e(929),RemoveTileAtWorldXY:e(17384),RenderDebug:e(93763),ReplaceByIndex:e(51202),RunCull:e(6987),SetCollision:e(51710),SetCollisionBetween:e(15216),SetCollisionByExclusion:e(33158),SetCollisionByProperty:e(4180),SetCollisionFromCollisionGroup:e(18625),SetLayerCollisionIndex:e(91181),SetTileCollision:e(68234),SetTileIndexCallback:e(11628),SetTileLocationCallback:e(72732),Shuffle:e(34397),StaggeredCullBounds:e(53945),StaggeredCullTiles:e(19242),StaggeredTileToWorldXY:e(33388),StaggeredTileToWorldY:e(84132),StaggeredWorldToTileXY:e(90562),StaggeredWorldToTileY:e(3689),SwapByIndex:e(55217),TileToWorldX:e(44150),TileToWorldXY:e(46836),TileToWorldY:e(42477),WeightedRandomize:e(39677),WorldToTileX:e(806),WorldToTileXY:e(45676),WorldToTileY:e(70520)}},12920:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ORIENTATION:e(12920)};o.exports=u},52678:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),x=e(84758),d={Components:e(5047),Parsers:e(34124),Formats:e(93560),ImageCollection:e(97042),ParseToTilemap:e(15043),Tile:e(29633),Tilemap:e(89797),TilemapCreator:e(4843),TilemapFactory:e(37940),Tileset:e(47975),TilemapLayer:e(87177),Orientation:e(12920),LayerData:e(94990),MapData:e(16586),ObjectLayer:e(15256)};d=u(!1,d,x.ORIENTATION),o.exports=d},94990:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12920),d=e(72632),l=new u({initialize:function(n){n===void 0&&(n={}),this.name=d(n,"name","layer"),this.x=d(n,"x",0),this.y=d(n,"y",0),this.width=d(n,"width",0),this.height=d(n,"height",0),this.tileWidth=d(n,"tileWidth",0),this.tileHeight=d(n,"tileHeight",0),this.baseTileWidth=d(n,"baseTileWidth",this.tileWidth),this.baseTileHeight=d(n,"baseTileHeight",this.tileHeight),this.orientation=d(n,"orientation",x.ORTHOGONAL),this.widthInPixels=d(n,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=d(n,"heightInPixels",this.height*this.baseTileHeight),this.alpha=d(n,"alpha",1),this.visible=d(n,"visible",!0),this.properties=d(n,"properties",[]),this.indexes=d(n,"indexes",[]),this.collideIndexes=d(n,"collideIndexes",[]),this.callbacks=d(n,"callbacks",[]),this.bodies=d(n,"bodies",[]),this.data=d(n,"data",[]),this.tilemapLayer=d(n,"tilemapLayer",null),this.hexSideLength=d(n,"hexSideLength",0),this.staggerAxis=d(n,"staggerAxis","y"),this.staggerIndex=d(n,"staggerIndex","odd")}});o.exports=l},16586:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(12920),d=e(72632),l=new u({initialize:function(n){n===void 0&&(n={}),this.name=d(n,"name","map"),this.width=d(n,"width",0),this.height=d(n,"height",0),this.infinite=d(n,"infinite",!1),this.tileWidth=d(n,"tileWidth",0),this.tileHeight=d(n,"tileHeight",0),this.widthInPixels=d(n,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=d(n,"heightInPixels",this.height*this.tileHeight),this.format=d(n,"format",null),this.orientation=d(n,"orientation",x.ORTHOGONAL),this.renderOrder=d(n,"renderOrder","right-down"),this.version=d(n,"version","1"),this.properties=d(n,"properties",{}),this.layers=d(n,"layers",[]),this.images=d(n,"images",[]),this.objects=d(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=d(n,"collision",{}),this.tilesets=d(n,"tilesets",[]),this.imageCollections=d(n,"imageCollections",[]),this.tiles=d(n,"tiles",[]),this.hexSideLength=d(n,"hexSideLength",0),this.staggerAxis=d(n,"staggerAxis","y"),this.staggerIndex=d(n,"staggerIndex","odd")}});o.exports=l},15256:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=new u({initialize:function(h){h===void 0&&(h={}),this.name=x(h,"name","object layer"),this.opacity=x(h,"opacity",1),this.properties=x(h,"properties",{}),this.propertyTypes=x(h,"propertytypes",{}),this.type=x(h,"type","objectgroup"),this.visible=x(h,"visible",!0),this.objects=x(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});o.exports=d},21394:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(12920),x=function(d){return d=d.toLowerCase(),d==="isometric"?u.ISOMETRIC:d==="staggered"?u.STAGGERED:d==="hexagonal"?u.HEXAGONAL:u.ORTHOGONAL};o.exports=x},90715:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93560),x=e(84346),d=e(96097),l=e(2378),h=e(44909),n=function(r,f,a,c,p,v){var m;switch(f){case u.ARRAY_2D:m=x(r,a,c,p,v);break;case u.CSV:m=d(r,a,c,p,v);break;case u.TILED_JSON:m=l(r,a,v);break;case u.WELTMEISTER:m=h(r,a,v);break;default:console.warn("Unrecognized tilemap data format: "+f),m=null}return m};o.exports=n},84346:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93560),x=e(94990),d=e(16586),l=e(29633),h=function(n,r,f,a,c){for(var p=new x({tileWidth:f,tileHeight:a}),v=new d({name:n,tileWidth:f,tileHeight:a,format:u.ARRAY_2D,layers:[p]}),m=[],y=r.length,E=0,P=0;P<r.length;P++){m[P]=[];for(var S=r[P],w=0;w<S.length;w++){var A=parseInt(S[w],10);isNaN(A)||A===-1?m[P][w]=c?null:new l(p,-1,w,P,f,a):m[P][w]=new l(p,A,w,P,f,a)}E===0&&(E=S.length)}return v.width=p.width=E,v.height=p.height=y,v.widthInPixels=p.widthInPixels=E*f,v.heightInPixels=p.heightInPixels=y*a,p.data=m,v};o.exports=h},96097:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93560),x=e(84346),d=function(l,h,n,r,f){var a=h.trim().split(`
`).map(function(p){return p.split(",")}),c=x(l,a,n,r,f);return c.format=u.CSV,c};o.exports=d},30951:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(94990),x=e(29633),d=function(l,h){for(var n=[],r=0;r<l.layer.length;r++){for(var f=l.layer[r],a=new u({name:f.name,width:f.width,height:f.height,tileWidth:f.tilesize,tileHeight:f.tilesize,visible:f.visible===1}),c=[],p=[],v=0;v<f.data.length;v++){for(var m=0;m<f.data[v].length;m++){var y=f.data[v][m]-1,E;y>-1?E=new x(a,y,m,v,f.tilesize,f.tilesize):E=h?null:new x(a,-1,m,v,f.tilesize,f.tilesize),c.push(E)}p.push(c),c=[]}a.data=p,n.push(a)}return n};o.exports=d},47488:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47975),x=function(d){for(var l=[],h=[],n=0;n<d.layer.length;n++){var r=d.layer[n],f=r.tilesetName;f!==""&&h.indexOf(f)===-1&&(h.push(f),l.push(new u(f,0,r.tilesize,r.tilesize,0,0)))}return l};o.exports=x},44909:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(93560),x=e(16586),d=e(30951),l=e(47488),h=function(n,r,f){if(r.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+n),null;for(var a=0,c=0,p=0;p<r.layer.length;p++)r.layer[p].width>a&&(a=r.layer[p].width),r.layer[p].height>c&&(c=r.layer[p].height);var v=new x({width:a,height:c,name:n,tileWidth:r.layer[0].tilesize,tileHeight:r.layer[0].tilesize,format:u.WELTMEISTER});return v.layers=d(r,f),v.tilesets=l(r),v};o.exports=h},24507:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ParseTileLayers:e(30951),ParseTilesets:e(47488),ParseWeltmeister:e(44909)}},34124:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={FromOrientationString:e(21394),Parse:e(90715),Parse2DArray:e(84346),ParseCSV:e(96097),Impact:e(24507),Tiled:e(50044)}},48646:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(98611),x=function(d){for(var l,h,n,r,f,a=0;a<d.layers.length;a++){l=d.layers[a],r=null;for(var c=0;c<l.data.length;c++){f=l.data[c];for(var p=0;p<f.length;p++)h=f[p],!(h===null||h.index<0)&&(n=d.tiles[h.index][2],r=d.tilesets[n],h.width=r.tileWidth,h.height=r.tileHeight,r.tileProperties&&r.tileProperties[h.index-r.firstgid]&&(h.properties=u(h.properties,r.tileProperties[h.index-r.firstgid])))}}};o.exports=x},43908:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=window.atob(e),x=u.length,d=new Array(x/4),l=0;l<x;l+=4)d[l/4]=(u.charCodeAt(l)|u.charCodeAt(l+1)<<8|u.charCodeAt(l+2)<<16|u.charCodeAt(l+3)<<24)>>>0;return d};o.exports=T},14556:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47975),x=function(d){var l,h,n=[];for(l=0;l<d.imageCollections.length;l++)for(var r=d.imageCollections[l],f=r.images,a=0;a<f.length;a++){var c=f[a];h=new u(c.image,c.gid,r.imageWidth,r.imageHeight,0,0),h.updateTileData(r.imageWidth,r.imageHeight),d.tilesets.push(h)}for(l=0;l<d.tilesets.length;l++){h=d.tilesets[l];for(var p=h.tileMargin,v=h.tileMargin,m=0,y=0,E=0,P=h.firstgid;P<h.firstgid+h.total&&(n[P]=[p,v,l],p+=h.tileWidth+h.tileSpacing,m++,!(m===h.total||(y++,y===h.columns&&(p=h.tileMargin,v+=h.tileHeight+h.tileSpacing,y=0,E++,E===h.rows))));P++);}return n};o.exports=x},92044:(o,T,e)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),x=function(d,l,h){if(!l)return{i:0,layers:d.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=l.x+u(l,"startx",0)*d.tilewidth+u(l,"offsetx",0),r=l.y+u(l,"starty",0)*d.tileheight+u(l,"offsety",0);return{i:0,layers:l.layers,name:h.name+l.name+"/",opacity:h.opacity*l.opacity,visible:h.visible&&l.visible,x:h.x+n,y:h.y+r}};o.exports=x},8847:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,e=1073741824,u=536870912,x=function(d){var l=Boolean(d&T),h=Boolean(d&e),n=Boolean(d&u);d=d&~(T|e|u);var r=0,f=!1;return l&&h&&n?(r=Math.PI/2,f=!0):l&&h&&!n?(r=Math.PI,f=!1):l&&!h&&n?(r=Math.PI/2,f=!1):l&&!h&&!n?(r=0,f=!0):!l&&h&&n?(r=3*Math.PI/2,f=!1):!l&&h&&!n?(r=Math.PI,f=!0):!l&&!h&&n?(r=3*Math.PI/2,f=!0):!l&&!h&&!n&&(r=0,f=!1),{gid:d,flippedHorizontal:l,flippedVertical:h,flippedAntiDiagonal:n,rotation:r,flipped:f}};o.exports=x},78339:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),x=e(92044),d=function(l){for(var h=[],n=[],r=x(l);r.i<r.layers.length||n.length>0;){if(r.i>=r.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=n.pop();continue}var f=r.layers[r.i];if(r.i++,f.type!=="imagelayer"){if(f.type==="group"){var a=x(l,f,r);n.push(r),r=a}continue}var c=u(f,"offsetx",0)+u(f,"startx",0),p=u(f,"offsety",0)+u(f,"starty",0);h.push({name:r.name+f.name,image:f.image,x:r.x+c+f.x,y:r.y+p+f.y,alpha:r.opacity*f.opacity,visible:r.visible&&f.visible,properties:u(f,"properties",{})})}return h};o.exports=d},2378:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(48646),x=e(14556),d=e(12920),l=e(28699),h=e(93560),n=e(21394),r=e(16586),f=e(78339),a=e(61136),c=e(95925),p=e(93392),v=function(m,y,E){var P=l(y),S=new r({width:P.width,height:P.height,name:m,tileWidth:P.tilewidth,tileHeight:P.tileheight,orientation:n(P.orientation),format:h.TILED_JSON,version:P.version,properties:P.properties,renderOrder:P.renderorder,infinite:P.infinite});S.orientation===d.HEXAGONAL&&(S.hexSideLength=P.hexsidelength,S.staggerAxis=P.staggeraxis,S.staggerIndex=P.staggerindex),S.layers=c(P,E),S.images=f(P);var w=p(P);return S.tilesets=w.tilesets,S.imageCollections=w.imageCollections,S.objects=a(P),S.tiles=x(S),u(S),S};o.exports=v},4281:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(28820),x=e(8847),d=function(n){return{x:n.x,y:n.y}},l=["id","name","type","rotation","properties","visible","x","y","width","height"],h=function(n,r,f){r===void 0&&(r=0),f===void 0&&(f=0);var a=u(n,l);if(a.x+=r,a.y+=f,n.gid){var c=x(n.gid);a.gid=c.gid,a.flippedHorizontal=c.flippedHorizontal,a.flippedVertical=c.flippedVertical,a.flippedAntiDiagonal=c.flippedAntiDiagonal}else n.polyline?a.polyline=n.polyline.map(d):n.polygon?a.polygon=n.polygon.map(d):n.ellipse?a.ellipse=n.ellipse:n.text?a.text=n.text:n.point?a.point=!0:a.rectangle=!0;return a};o.exports=h},61136:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72632),x=e(4281),d=e(15256),l=e(92044),h=function(n){for(var r=[],f=[],a=l(n);a.i<a.layers.length||f.length>0;){if(a.i>=a.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=f.pop();continue}var c=a.layers[a.i];if(a.i++,c.opacity*=a.opacity,c.visible=a.visible&&c.visible,c.type!=="objectgroup"){if(c.type==="group"){var p=l(n,c,a);f.push(a),a=p}continue}c.name=a.name+c.name;for(var v=a.x+u(c,"startx",0)+u(c,"offsetx",0),m=a.y+u(c,"starty",0)+u(c,"offsety",0),y=[],E=0;E<c.objects.length;E++){var P=x(c.objects[E],v,m);y.push(P)}var S=new d(c);S.objects=y,r.push(S)}return r};o.exports=h},95925:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(43908),x=e(12920),d=e(92044),l=e(21394),h=e(72632),n=e(94990),r=e(8847),f=e(29633),a=function(c,p){for(var v=h(c,"infinite",!1),m=[],y=[],E=d(c);E.i<E.layers.length||y.length>0;){if(E.i>=E.layers.length){if(y.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}E=y.pop();continue}var P=E.layers[E.i];if(E.i++,P.type!=="tilelayer"){if(P.type==="group"){var S=d(c,P,E);y.push(E),E=S}continue}if(P.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+P.name+"'");continue}else if(P.encoding&&P.encoding==="base64"){if(P.chunks)for(var w=0;w<P.chunks.length;w++)P.chunks[w].data=u(P.chunks[w].data);P.data&&(P.data=u(P.data)),delete P.encoding}var A,R,O,L,b=[],D=0;if(v){var I=h(P,"startx",0)+P.x,B=h(P,"starty",0)+P.y;A=new n({name:E.name+P.name,x:E.x+h(P,"offsetx",0)+I*c.tilewidth,y:E.y+h(P,"offsety",0)+B*c.tileheight,width:P.width,height:P.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:E.opacity*P.opacity,visible:E.visible&&P.visible,properties:h(P,"properties",[]),orientation:l(c.orientation)}),A.orientation===x.HEXAGONAL&&(A.hexSideLength=c.hexsidelength,A.staggerAxis=c.staggeraxis,A.staggerIndex=c.staggerindex);for(var V=0;V<P.height;V++){b[V]=[null];for(var Y=0;Y<P.width;Y++)b[V][Y]=null}for(V=0,K=P.chunks.length;V<K;V++)for(var k=P.chunks[V],W=k.x-I,G=k.y-B,U=0,F=0,N=k.data.length;F<N;F++){var z=D+W,X=U+G;R=r(k.data[F]),R.gid>0?(O=new f(A,R.gid,z,X,c.tilewidth,c.tileheight),O.rotation=R.rotation,O.flipX=R.flipped,b[X][z]=O):(L=p?null:new f(A,-1,z,X,c.tilewidth,c.tileheight),b[X][z]=L),D++,D===k.width&&(U++,D=0)}}else{A=new n({name:E.name+P.name,x:E.x+h(P,"offsetx",0)+P.x,y:E.y+h(P,"offsety",0)+P.y,width:P.width,height:P.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:E.opacity*P.opacity,visible:E.visible&&P.visible,properties:h(P,"properties",[]),orientation:l(c.orientation)}),A.orientation===x.HEXAGONAL&&(A.hexSideLength=c.hexsidelength,A.staggerAxis=c.staggeraxis,A.staggerIndex=c.staggerindex);for(var H=[],$=0,K=P.data.length;$<K;$++)R=r(P.data[$]),R.gid>0?(O=new f(A,R.gid,D,b.length,c.tilewidth,c.tileheight),O.rotation=R.rotation,O.flipX=R.flipped,H.push(O)):(L=p?null:new f(A,-1,D,b.length,c.tilewidth,c.tileheight),H.push(L)),D++,D===P.width&&(b.push(H),D=0,H=[])}A.data=b,m.push(A)}return m};o.exports=a},93392:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(47975),x=e(97042),d=e(4281),l=e(39642),h=function(n){for(var r=[],f=[],a=null,c,p=0;p<n.tilesets.length;p++){var v=n.tilesets[p];if(v.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(v.image){var m=new u(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing,void 0,void 0,v.tileoffset);if(n.version>1){var y=void 0,E=void 0;if(Array.isArray(v.tiles)){y=y||{},E=E||{};for(var P=0;P<v.tiles.length;P++){var S=v.tiles[P];if(S.properties){var w={};S.properties.forEach(function(V){w[V.name]=V.value}),E[S.id]=w}if(S.objectgroup&&((y[S.id]||(y[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var A=S.objectgroup.objects.map(function(V){return d(V)});y[S.id].objectgroup.objects=A}S.animation&&((y[S.id]||(y[S.id]={})).animation=S.animation),S.type&&((y[S.id]||(y[S.id]={})).type=S.type)}}Array.isArray(v.wangsets)&&(y=y||{},E=E||{},l(v.wangsets,y)),y&&(m.tileData=y,m.tileProperties=E)}else if(v.tileproperties&&(m.tileProperties=v.tileproperties),v.tiles){m.tileData=v.tiles;for(c in m.tileData){var R=m.tileData[c].objectgroup;if(R&&R.objects){var O=R.objects.map(function(V){return d(V)});m.tileData[c].objectgroup.objects=O}}}m.updateTileData(v.imagewidth,v.imageheight),r.push(m)}else{var L=new x(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing,v.properties),b=0;for(P=0;P<v.tiles.length;P++){S=v.tiles[P];var D=S.image,I=parseInt(S.id,10),B=v.firstgid+I;L.addImage(B,D),b=Math.max(I,b)}L.maxId=b,f.push(L)}a&&(a.lastgid=v.firstgid-1),a=v}return{tilesets:r,imageCollections:f}};o.exports=h},39642:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){for(var x=0;x<e.length;x++){var d=e[x],l=x;if(d.name&&d.name!==""&&(l=d.name),Array.isArray(d.wangtiles)&&d.wangtiles.length>0){var h={},n={},r,f,a;if(Array.isArray(d.edgecolors))for(r=0;r<d.edgecolors.length;r++)a=1+r,f=d.edgecolors[r],f.name!==""&&(h[a]=f.name);if(Array.isArray(d.cornercolors))for(r=0;r<d.cornercolors.length;r++)a=1+r,f=d.cornercolors[r],f.name!==""&&(n[a]=f.name);if(Array.isArray(d.colors))for(r=0;r<d.colors.length;r++)f=d.colors[r],a=1+r,f.name!==""&&(h[a]=n[a]=f.name);for(var c=[h,n,h,n,h,n,h,n],p=0;p<d.wangtiles.length;p++){var v=d.wangtiles[p],m=u[v.tileid]||(u[v.tileid]={});m=m.wangid||(m.wangid={});for(var y=[],E=0;E<Math.min(c.length,v.wangid.length);E++){if(f=v.wangid[E],f===0){y.push(void 0);continue}var P=c[E][f];if(P!==void 0){y.push(P);continue}y.push(f)}m[l]=y}}}};o.exports=T},50044:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AssignTileProperties:e(48646),Base64Decode:e(43908),BuildTilesetIndex:e(14556),CreateGroupLayer:e(92044),ParseGID:e(8847),ParseImageLayers:e(78339),ParseJSONTiled:e(2378),ParseObject:e(4281),ParseObjectLayers:e(61136),ParseTileLayers:e(95925),ParseTilesets:e(93392)}},73779:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(91963),d=e(7599),l=e(57911),h=e(66458),n=new u({initialize:function(f){this.scene=f,this.systems=f.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],f.sys.events.once(d.BOOT,this.boot,this),f.sys.events.on(d.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var r=this.systems.events;r.on(d.PRE_UPDATE,this.preUpdate,this),r.on(d.UPDATE,this.update,this),r.once(d.SHUTDOWN,this.shutdown,this)},addEvent:function(r){var f;return r instanceof l?(f=r,this.removeEvent(f),f.elapsed=f.startAt,f.hasDispatched=!1,f.repeatCount=f.repeat===-1||f.loop?999999999999:f.repeat):f=new l(r),this._pendingInsertion.push(f),f},delayedCall:function(r,f,a,c){return this.addEvent({delay:r,callback:f,args:a,callbackScope:c})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(r){Array.isArray(r)||(r=[r]);for(var f=0;f<r.length;f++){var a=r[f];h(this._pendingRemoval,a),h(this._pendingInsertion,a),h(this._active,a)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var r=this._pendingRemoval.length,f=this._pendingInsertion.length;if(!(r===0&&f===0)){var a,c;for(a=0;a<r;a++){c=this._pendingRemoval[a];var p=this._active.indexOf(c);p>-1&&this._active.splice(p,1),c.destroy()}for(a=0;a<f;a++)c=this._pendingInsertion[a],this._active.push(c);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(r,f){if(this.now=r,!this.paused){f*=this.timeScale;for(var a=0;a<this._active.length;a++){var c=this._active[a];if(!c.paused&&(c.elapsed+=f*c.timeScale,c.elapsed>=c.delay)){var p=c.elapsed-c.delay;if(c.elapsed=c.delay,!c.hasDispatched&&c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args)),c.repeatCount>0){if(c.repeatCount--,p>=c.delay)for(;p>=c.delay&&c.repeatCount>0;)c.callback&&c.callback.apply(c.callbackScope,c.args),p-=c.delay,c.repeatCount--;c.elapsed=p,c.hasDispatched=!1}else c.hasDispatched&&this._pendingRemoval.push(c)}}}},shutdown:function(){var r;for(r=0;r<this._pendingInsertion.length;r++)this._pendingInsertion[r].destroy();for(r=0;r<this._active.length;r++)this._active[r].destroy();for(r=0;r<this._pendingRemoval.length;r++)this._pendingRemoval[r].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var f=this.systems.events;f.off(d.PRE_UPDATE,this.preUpdate,this),f.off(d.UPDATE,this.update,this),f.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",n,"time"),o.exports=n},20517:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(6659),d=e(61286),l=e(72632),h=e(7599),n=new u({Extends:x,initialize:function(f,a){x.call(this),this.scene=f,this.systems=f.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var c=this.systems.events;c.on(h.PRE_UPDATE,this.preUpdate,this),c.on(h.UPDATE,this.update,this),c.once(h.SHUTDOWN,this.destroy,this),a&&this.add(a)},preUpdate:function(r,f){this.paused||(this.elapsed+=f)},update:function(){if(!this.paused){var r,f=this.events,a=!1,c=this.systems,p;for(r=0;r<f.length;r++){var v=f[r];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,v.once&&(a=!0),v.set&&v.target)for(var m in v.set)v.target[m]=v.set[m];v.tween&&c.tweens.add(v.tween),v.sound&&(typeof v.sound=="string"?c.sound.play(v.sound):c.sound.play(v.sound.key,v.sound.config)),p=v.target?v.target:this,v.event&&this.emit(v.event,p),v.run&&v.run.call(p),v.stop&&this.stop()}}if(a)for(r=0;r<f.length;r++)f[r].complete&&f[r].once&&(f.splice(r,1),r--);this.totalComplete>=f.length&&(this.complete=!0)}},play:function(r){return r===void 0&&(r=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,r&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var r=0;r<this.events.length;r++)this.events[r].complete=!1;return this.play(!1)},add:function(r){Array.isArray(r)||(r=[r]);var f=this.events,a=0;f.length>0&&(a=f[f.length-1].time);for(var c=0;c<r.length;c++){var p=r[c],v=l(p,"at",0),m=l(p,"in",null);m!==null&&(v=this.elapsed+m);var y=l(p,"from",null);y!==null&&(v=a+y),f.push({complete:!1,time:v,run:l(p,"run",null),event:l(p,"event",null),target:l(p,"target",null),set:l(p,"set",null),tween:l(p,"tween",null),sound:l(p,"sound",null),once:l(p,"once",!1),stop:l(p,"stop",!1)}),a=v}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var r=Math.min(this.totalComplete,this.events.length);return r/this.events.length},destroy:function(){var r=this.systems.events;r.off(h.PRE_UPDATE,this.preUpdate,this),r.off(h.UPDATE,this.update,this),r.off(h.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});d.register("timeline",function(r){return new n(this.scene,r)}),o.exports=n},57911:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(72632),d=new u({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(l){if(this.delay=x(l,"delay",0),this.repeat=x(l,"repeat",0),this.loop=x(l,"loop",!1),this.callback=x(l,"callback",void 0),this.callbackScope=x(l,"callbackScope",this),this.args=x(l,"args",[]),this.timeScale=x(l,"timeScale",1),this.startAt=x(l,"startAt",0),this.paused=x(l,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var l=this.delay+this.delay*this.repeat,h=this.elapsed+this.delay*(this.repeat-this.repeatCount);return h/l}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(l){l===void 0&&(l=!1),this.elapsed=this.delay,this.hasDispatched=!l,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});o.exports=d},97121:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Clock:e(73779),Timeline:e(20517),TimerEvent:e(57911)}},64532:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66458),x=e(56694),d=e(5454),l=e(68710),h=e(91963),n=e(7599),r=e(91944),f=e(39366),a=e(68061),c=e(45641),p=e(56034),v=new x({initialize:function(y){this.scene=y,this.events=y.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(n.UPDATE,this.update,this),this.events.once(n.SHUTDOWN,this.shutdown,this)},create:function(m){Array.isArray(m)||(m=[m]);for(var y=[],E=0;E<m.length;E++){var P=m[E];P instanceof f||P instanceof c?y.push(P):Array.isArray(P.tweens)?y.push(p(this,P)):y.push(a(this,P))}return y.length===1?y[0]:y},add:function(m){var y=m,E=this.tweens;return y instanceof f||y instanceof c||(Array.isArray(y.tweens)?y=p(this,y):y=a(this,y)),E.push(y.reset()),y},addMultiple:function(m){for(var y,E=[],P=this.tweens,S=0;S<m.length;S++)y=m[S],y instanceof f||y instanceof c||(Array.isArray(y.tweens)?y=p(this,y):y=a(this,y)),P.push(y.reset()),E.push(y);return E},chain:function(m){var y=p(this,m);return this.tweens.push(y.init()),y},getChainedTweens:function(m){return m.getChainedTweens()},has:function(m){return this.tweens.indexOf(m)>-1},existing:function(m){return this.has(m)||this.tweens.push(m.reset()),this},addCounter:function(m){var y=l(this,m);return this.tweens.push(y.reset()),y},stagger:function(m,y){return r(m,y)},setLagSmooth:function(m,y){return m===void 0&&(m=1/1e-8),y===void 0&&(y=0),this.maxLag=m,this.lagSkip=Math.min(y,this.maxLag),this},setFps:function(m){return m===void 0&&(m=240),this.gap=1e3/m,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(m){var y=Date.now()-this.prevTime;y>this.maxLag&&(this.startTime+=y-this.lagSkip),this.prevTime+=y;var E=this.prevTime-this.startTime,P=E-this.nextTime,S=E-this.time*1e3;return P>0||m?(E/=1e3,this.time=E,this.nextTime+=P+(P>=this.gap?4:this.gap-P)):S=0,S},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(m){m===void 0&&(m=!1);var y=this.getDelta(m);if(!(y<=0)){this.processing=!0;var E,P,S=[],w=this.tweens;for(E=0;E<w.length;E++)P=w[E],P.update(y)&&S.push(P);var A=S.length;if(A&&w.length>0){for(E=0;E<A;E++){P=S[E];var R=w.indexOf(P);R>-1&&(P.isPendingRemove()||P.isDestroyed())&&(w.splice(R,1),P.destroy())}S.length=0}this.processing=!1}},remove:function(m){return this.processing?m.setPendingRemoveState():(u(this.tweens,m),m.setRemovedState()),this},reset:function(m){return this.existing(m),m.seek(),m.setActiveState(),this},makeActive:function(m){return this.existing(m),m.setActiveState(),this},each:function(m,y){var E,P=[null];for(E=1;E<arguments.length;E++)P.push(arguments[E]);return this.tweens.forEach(function(S){P[0]=S,m.apply(y,P)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(m){var y=[],E=this.tweens;Array.isArray(m)?m=d(m):m=[m];for(var P=m.length,S=0;S<E.length;S++)for(var w=E[S],A=0;A<P;A++)!w.isDestroyed()&&w.hasTarget(m[A])&&y.push(w);return y},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(m){return this.timeScale=m,this},isTweening:function(m){for(var y=this.tweens,E,P=0;P<y.length;P++)if(E=y[P],E.isPlaying()&&E.hasTarget(m))return!0;return!1},killAll:function(){for(var m=this.processing?this.getTweens():this.tweens,y=0;y<m.length;y++)m[y].destroy();return this.processing||(m.length=0),this},killTweensOf:function(m){for(var y=this.getTweensOf(m),E=0;E<y.length;E++)y[E].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(n.UPDATE,this.update,this),this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.events=null}});h.register("TweenManager",v,"tweens"),o.exports=v},63130:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){return e&&e.hasOwnProperty(u)?e[u]:x};o.exports=T},21902:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(35060),x=e(40587),d=function(l,h){var n=u.Power0;if(typeof l=="string")if(u.hasOwnProperty(l))n=u[l];else{var r="";if(l.indexOf(".")){r=l.substring(l.indexOf(".")+1);var f=r.toLowerCase();f==="in"?r="easeIn":f==="out"?r="easeOut":f==="inout"&&(r="easeInOut")}l=x(l.substring(0,l.indexOf(".")+1)+r),u.hasOwnProperty(l)&&(n=u[l])}else typeof l=="function"&&(n=l);if(!h)return n;var a=h.slice(0);return a.unshift(0),function(c){return a[0]=c,n.apply(this,a)}};o.exports=d},4840:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63210),x=e(88332),d=e(47614),l={bezier:u,catmull:x,catmullrom:x,linear:d},h=function(n){if(n===null)return null;var r=l.linear;return typeof n=="string"?l.hasOwnProperty(n)&&(r=l[n]):typeof n=="function"&&(r=n),r};o.exports=h},28348:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d;if(e.hasOwnProperty(u)){var l=typeof e[u];l==="function"?d=function(h,n,r,f,a,c){return e[u](h,n,r,f,a,c)}:d=function(){return e[u]}}else typeof x=="function"?d=x:d=function(){return x};return d};o.exports=T},92407:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(53709),x=function(d){var l,h=[];if(d.hasOwnProperty("props"))for(l in d.props)l.substring(0,1)!=="_"&&h.push({key:l,value:d.props[l]});else for(l in d)u.indexOf(l)===-1&&l.substring(0,1)!=="_"&&h.push({key:l,value:d[l]});return h};o.exports=x},65868:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10850),x=function(d){var l=u(d,"targets",null);return l===null||(typeof l=="function"&&(l=l.call()),Array.isArray(l)||(l=[l])),l};o.exports=x},9744:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(17489),x=e(61616);function d(f){return!!f.getActive&&typeof f.getActive=="function"}function l(f){return!!f.getStart&&typeof f.getStart=="function"}function h(f){return!!f.getEnd&&typeof f.getEnd=="function"}function n(f){return l(f)||h(f)||d(f)}var r=function(f,a){var c,p=function(k,W,G){return G},v=function(k,W,G){return G},m=null,y=typeof a;if(y==="number")p=function(){return a};else if(Array.isArray(a))v=function(){return a[0]},p=function(){return a[a.length-1]};else if(y==="string"){var E=a.toLowerCase(),P=E.substring(0,6)==="random",S=E.substring(0,3)==="int";if(P||S){var w=E.indexOf("("),A=E.indexOf(")"),R=E.indexOf(",");if(w&&A&&R){var O=parseFloat(E.substring(w+1,R)),L=parseFloat(E.substring(R+1,A));P?p=function(){return x(O,L)}:p=function(){return u(O,L)}}else throw new Error("invalid random() format")}else{E=E[0];var b=parseFloat(a.substr(2));switch(E){case"+":p=function(k,W,G){return G+b};break;case"-":p=function(k,W,G){return G-b};break;case"*":p=function(k,W,G){return G*b};break;case"/":p=function(k,W,G){return G/b};break;default:p=function(){return parseFloat(a)}}}}else if(y==="function")p=a;else if(y==="object")if(n(a))d(a)&&(m=a.getActive),h(a)&&(p=a.getEnd),l(a)&&(v=a.getStart);else if(a.hasOwnProperty("value"))c=r(f,a.value);else{var D=a.hasOwnProperty("to"),I=a.hasOwnProperty("from"),B=a.hasOwnProperty("start");if(D&&(I||B)){if(c=r(f,a.to),B){var V=r(f,a.start);c.getActive=V.getEnd}if(I){var Y=r(f,a.from);c.getStart=Y.getEnd}}}return c||(c={getActive:m,getEnd:p,getStart:v}),c};o.exports=r},68710:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(502),x=e(99730),d=e(20494),l=e(63130),h=e(21902),n=e(28348),r=e(10850),f=e(9744),a=e(72066),c=e(39366),p=function(v,m,y){if(m instanceof c)return m.parent=v,m;y===void 0?y=x:y=a(x,y);var E=r(m,"from",0),P=r(m,"to",1),S=[{value:E}],w=r(m,"delay",y.delay),A=r(m,"easeParams",y.easeParams),R=r(m,"ease",y.ease),O=f("value",P),L=new c(v,S),b=L.add(0,"value",O.getEnd,O.getStart,O.getActive,h(r(m,"ease",R),r(m,"easeParams",A)),n(m,"delay",w),r(m,"duration",y.duration),l(m,"yoyo",y.yoyo),r(m,"hold",y.hold),r(m,"repeat",y.repeat),r(m,"repeatDelay",y.repeatDelay),!1,!1);b.start=E,b.current=E,L.completeDelay=d(m,"completeDelay",0),L.loop=Math.round(d(m,"loop",0)),L.loopDelay=Math.round(d(m,"loopDelay",0)),L.paused=l(m,"paused",!1),L.persist=l(m,"persist",!1),L.callbackScope=r(m,"callbackScope",L);for(var D=u.TYPES,I=0;I<D.length;I++){var B=D[I],V=r(m,B,!1);if(V){var Y=r(m,B+"Params",[]);L.setCallback(B,V,Y)}}return L};o.exports=p},91944:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(21902),x=e(10850),d=e(83392),l=function(h,n){n===void 0&&(n={});var r,f=x(n,"start",0),a=x(n,"ease",null),c=x(n,"grid",null),p=x(n,"from",0),v=p==="first",m=p==="center",y=p==="last",E=typeof p=="number",P=Array.isArray(h),S=parseFloat(P?h[0]:h),w=P?parseFloat(h[1]):0,A=Math.max(S,w);if(P&&(f+=S),c){var R=c[0],O=c[1],L=0,b=0,D=0,I=0,B=[];y?(L=R-1,b=O-1):E?(L=p%R,b=Math.floor(p/R)):m&&(L=(R-1)/2,b=(O-1)/2);for(var V=d.MIN_SAFE_INTEGER,Y=0;Y<O;Y++){B[Y]=[];for(var k=0;k<R;k++){D=L-k,I=b-Y;var W=Math.sqrt(D*D+I*I);W>V&&(V=W),B[Y][k]=W}}}var G=a?u(a):null;return c?r=function(U,F,N,z){var X=0,H=z%R,$=Math.floor(z/R);H>=0&&H<R&&$>=0&&$<O&&(X=B[$][H]);var K;if(P){var Z=w-S;G?K=X/V*Z*G(X/V):K=X/V*Z}else G?K=X*S*G(X/V):K=X*S;return K+f}:r=function(U,F,N,z,X){X--;var H;v?H=z:m?H=Math.abs(X/2-z):y?H=X-z:E&&(H=Math.abs(p-z));var $;if(P){var K;m?K=(w-S)/X*(H*2):K=(w-S)/X*H,G?$=K*G(H/X):$=K}else G?$=X*A*G(H/X):$=H*S;return $+f},r};o.exports=l},68061:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(502),x=e(99730),d=e(20494),l=e(63130),h=e(21902),n=e(4840),r=e(28348),f=e(92407),a=e(65868),c=e(10850),p=e(9744),v=e(72066),m=e(39366),y=function(E,P,S){if(P instanceof m)return P.parent=E,P;S===void 0?S=x:S=v(x,S);var w=a(P);!w&&S.targets&&(w=S.targets);for(var A=f(P),R=c(P,"delay",S.delay),O=c(P,"duration",S.duration),L=c(P,"easeParams",S.easeParams),b=c(P,"ease",S.ease),D=c(P,"hold",S.hold),I=c(P,"repeat",S.repeat),B=c(P,"repeatDelay",S.repeatDelay),V=l(P,"yoyo",S.yoyo),Y=l(P,"flipX",S.flipX),k=l(P,"flipY",S.flipY),W=c(P,"interpolation",S.interpolation),G=function(j,Q,tt,_){if(tt==="texture"){var it=_,ht=void 0;Array.isArray(_)?(it=_[0],ht=_[1]):_.hasOwnProperty("value")?(it=_.value,Array.isArray(_.value)?(it=_.value[0],ht=_.value[1]):typeof _.value=="string"&&(it=_.value)):typeof _=="string"&&(it=_),j.addFrame(Q,it,ht,r(_,"delay",R),c(_,"duration",O),c(_,"hold",D),c(_,"repeat",I),c(_,"repeatDelay",B),l(_,"flipX",Y),l(_,"flipY",k))}else{var lt=p(tt,_),ot=n(c(_,"interpolation",W));j.add(Q,tt,lt.getEnd,lt.getStart,lt.getActive,h(c(_,"ease",b),c(_,"easeParams",L)),r(_,"delay",R),c(_,"duration",O),l(_,"yoyo",V),c(_,"hold",D),c(_,"repeat",I),c(_,"repeatDelay",B),l(_,"flipX",Y),l(_,"flipY",k),ot,ot?_:null)}},U=new m(E,w),F=0;F<A.length;F++)for(var N=A[F].key,z=A[F].value,X=0;X<w.length;X++)N==="scale"&&!w[X].hasOwnProperty("scale")?(G(U,X,"scaleX",z),G(U,X,"scaleY",z)):G(U,X,N,z);U.completeDelay=d(P,"completeDelay",0),U.loop=Math.round(d(P,"loop",0)),U.loopDelay=Math.round(d(P,"loopDelay",0)),U.paused=l(P,"paused",!1),U.persist=l(P,"persist",!1),U.callbackScope=c(P,"callbackScope",U);for(var H=u.TYPES,$=0;$<H.length;$++){var K=H[$],Z=c(P,K,!1);if(Z){var J=c(P,K+"Params",[]);U.setCallback(K,Z,J)}}return U};o.exports=y},56034:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(502),x=e(20494),d=e(63130),l=e(65868),h=e(10850),n=e(68061),r=e(45641),f=function(a,c){if(c instanceof r)return c.parent=a,c;var p=new r(a);p.startDelay=h(c,"delay",0),p.completeDelay=x(c,"completeDelay",0),p.loop=Math.round(x(c,"loop",h(c,"repeat",0))),p.loopDelay=Math.round(x(c,"loopDelay",h(c,"repeatDelay",0))),p.paused=d(c,"paused",!1),p.persist=d(c,"persist",!0),p.callbackScope=h(c,"callbackScope",p);var v,m=u.TYPES;for(v=0;v<m.length;v++){var y=m[v],E=h(c,y,!1);if(E){var P=h(c,y+"Params",[]);p.setCallback(y,E,P)}}var S=h(c,"tweens",null);if(Array.isArray(S)){var w=[],A=l(c),R=void 0;for(A&&(R={targets:A}),v=0;v<S.length;v++)w.push(n(p,S[v],R));p.add(w)}return p};o.exports=f},79619:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={GetBoolean:e(63130),GetEaseFunction:e(21902),GetInterpolationFunction:e(4840),GetNewValue:e(28348),GetProps:e(92407),GetTargets:e(65868),GetValueOp:e(9744),NumberTweenBuilder:e(68710),StaggerBuilder:e(91944),TweenBuilder:e(68061)}},5570:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="active"},6383:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},72582:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},90281:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},80803:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="repeat"},13640:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},10472:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},5379:o=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stop"},43449:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},61541:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="yoyo"},54272:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={TWEEN_ACTIVE:e(5570),TWEEN_COMPLETE:e(6383),TWEEN_LOOP:e(72582),TWEEN_PAUSE:e(90281),TWEEN_RESUME:e(13640),TWEEN_REPEAT:e(80803),TWEEN_START:e(10472),TWEEN_STOP:e(5379),TWEEN_UPDATE:e(43449),TWEEN_YOYO:e(61541)}},75193:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={States:e(55303),Builders:e(79619),Events:e(54272),TweenManager:e(64532),Tween:e(39366),TweenData:e(15718),TweenFrameData:e(96490),BaseTween:e(502),TweenChain:e(45641)};o.exports=u},502:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(6659),d=e(54272),l=e(55303),h=new u({Extends:x,initialize:function(r){x.call(this),this.parent=r,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=l.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(n){return this.timeScale=n,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(d.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(d.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(d.TWEEN_COMPLETE,"onComplete")},complete:function(n){return n===void 0&&(n=0),n?(this.setCompleteDelayState(),this.countdown=n):this.onCompleteHandler(),this},completeAfterLoop:function(n){return n===void 0&&(n=0),this.loopCounter>n&&(this.loopCounter=n),this},remove:function(){return this.parent.remove(this),this},stop:function(){return!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(d.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(n){this.countdown-=n,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(n){return this.countdown-=n,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(d.TWEEN_START,"onStart"),n=0),n},updateCompleteDelay:function(n){this.countdown-=n,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(n,r,f){return f===void 0&&(f=[]),this.callbacks.hasOwnProperty(n)&&(this.callbacks[n]={func:r,params:f}),this},setPendingState:function(){this.state=l.PENDING},setActiveState:function(){this.state=l.ACTIVE},setLoopDelayState:function(){this.state=l.LOOP_DELAY},setCompleteDelayState:function(){this.state=l.COMPLETE_DELAY},setStartDelayState:function(){this.state=l.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=l.PENDING_REMOVE},setRemovedState:function(){this.state=l.REMOVED},setFinishedState:function(){this.state=l.FINISHED},setDestroyedState:function(){this.state=l.DESTROYED},isPending:function(){return this.state===l.PENDING},isActive:function(){return this.state===l.ACTIVE},isLoopDelayed:function(){return this.state===l.LOOP_DELAY},isCompleteDelayed:function(){return this.state===l.COMPLETE_DELAY},isStartDelayed:function(){return this.state===l.START_DELAY},isPendingRemove:function(){return this.state===l.PENDING_REMOVE},isRemoved:function(){return this.state===l.REMOVED},isFinished:function(){return this.state===l.FINISHED},isDestroyed:function(){return this.state===l.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(n){n.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});h.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],o.exports=h},65521:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(56694),x=e(54272),d=e(55303),l=new u({initialize:function(n,r,f,a,c,p,v,m,y,E){this.tween=n,this.targetIndex=r,this.duration=a,this.totalDuration=0,this.delay=0,this.getDelay=f,this.yoyo=c,this.hold=p,this.repeat=v,this.repeatDelay=m,this.repeatCounter=0,this.flipX=y,this.flipY=E,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(h){h===void 0&&(h=this.current),this.tween.targets[this.targetIndex][this.key]=h},setCreatedState:function(){this.state=d.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=d.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=d.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=d.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=d.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=d.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=d.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=d.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===d.CREATED},isDelayed:function(){return this.state===d.DELAY},isPendingRender:function(){return this.state===d.PENDING_RENDER},isPlayingForward:function(){return this.state===d.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===d.PLAYING_BACKWARD},isHolding:function(){return this.state===d.HOLD_DELAY},isRepeating:function(){return this.state===d.REPEAT_DELAY},isComplete:function(){return this.state===d.COMPLETE},setStateFromEnd:function(h){this.yoyo?this.onRepeat(h,!0,!0):this.repeatCounter>0?this.onRepeat(h,!0,!1):this.setCompleteState()},setStateFromStart:function(h){this.repeatCounter>0?this.onRepeat(h,!1):this.setCompleteState()},reset:function(){var h=this.tween,n=h.totalTargets,r=this.targetIndex,f=h.targets[r],a=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(f,a,0,r,n,h),this.repeatCounter=this.repeat===-1?d.MAX:this.repeat,this.setPendingRenderState();var c=this.duration+this.hold;this.yoyo&&(c+=this.duration);var p=c+this.repeatDelay;this.totalDuration=this.delay+c,this.repeat===-1?(this.totalDuration+=p*d.MAX,h.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>h.duration&&(h.duration=this.totalDuration),this.delay<h.startDelay&&(h.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(h,n,r){var f=this.tween,a=f.totalTargets,c=this.targetIndex,p=f.targets[c],v=this.key,m=v!=="texture";if(this.elapsed=h,this.progress=h/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),m&&(n||r)&&(this.start=this.getStartValue(p,v,this.start,c,a,f)),r){this.setPlayingBackwardState(),this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,m&&(this.end=this.getEndValue(p,v,this.start,c,a,f)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-h,m&&(this.current=this.start,p[v]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});o.exports=l},99730:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};o.exports=T},53709:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(502),x=e(56694),d=e(54272),l=e(99325),h=e(61286),n=e(83392),r=e(55303),f=e(15718),a=e(96490),c=new x({Extends:u,initialize:function(v,m){u.call(this,v),this.targets=m,this.totalTargets=m.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(p,v,m,y,E,P,S,w,A,R,O,L,b,D,I,B){var V=new f(this,p,v,m,y,E,P,S,w,A,R,O,L,b,D,I,B);return this.totalData=this.data.push(V),V},addFrame:function(p,v,m,y,E,P,S,w,A,R){var O=new a(this,p,v,m,y,E,P,S,w,A,R);return this.totalData=this.data.push(O),O},getValue:function(p){p===void 0&&(p=0);var v=null;return this.data&&(v=this.data[p].current),v},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,v,m){if(m===void 0&&(m=!1),p!=="texture")for(var y=0;y<this.totalData;y++){var E=this.data[y];E.key===p&&(E.isPlayingForward()||E.isPlayingBackward())&&(E.end=v,m&&(E.start=E.current))}return this},restart:function(){switch(this.state){case r.REMOVED:case r.FINISHED:this.seek(),this.parent.makeActive(this);break;case r.PENDING:case r.PENDING_REMOVE:this.parent.reset(this);break;case r.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,u.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,v,m){if(p===void 0&&(p=0),v===void 0&&(v=16.6),m===void 0&&(m=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;m||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive");var y=this.paused;if(this.paused=!1,p>0){for(var E=Math.floor(p/v),P=p-E*v,S=0;S<E;S++)this.update(v);P>0&&this.update(P)}return this.paused=y,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=n.MAX_SAFE_INTEGER;for(var v=this.data,m=0;m<this.totalData;m++)v[m].reset(p);this.duration=Math.max(this.duration,.01);var y=this.duration,E=this.completeDelay,P=this.loopCounter,S=this.loopDelay;P>0?this.totalDuration=y+E+(y+S)*P:this.totalDuration=y+E},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=r.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(d.TWEEN_START,"onStart"),p=0));var v=!1;if(this.isActive())for(var m=this.data,y=0;y<this.totalData;y++)m[y].update(p)&&(v=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),v||this.nextState();var E=this.isPendingRemove();return E&&this.persist&&(this.setFinishedState(),E=!1),E},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,v){if(!this.isSeeking){this.emit(p,this,this.targets);var m=this.callbacks[v];m&&m.func.apply(this.callbackScope,[this,this.targets].concat(m.params))}},destroy:function(){u.prototype.destroy.call(this),this.targets=null}});h.register("tween",function(p){return this.scene.sys.tweens.add(p)}),l.register("tween",function(p){return this.scene.sys.tweens.create(p)}),o.exports=c},45641:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(66458),x=e(502),d=e(56694),l=e(54272),h=e(99325),n=e(61286),r=e(55303),f=new d({Extends:x,initialize:function(c){x.call(this,c),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?r.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive"),this},add:function(a){var c=this.parent.create(a);Array.isArray(c)||(c=[c]);for(var p=this.data,v=0;v<c.length;v++){var m=c[v];m.parent=this,p.push(m.reset())}return this.totalData=p.length,this},remove:function(a){return u(this.data,a),a.setRemovedState(),a===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(a){for(var c=this.data,p=0;p<this.totalData;p++)if(c[p].hasTarget(a))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(a){return a.seek(),a.setActiveState(),this},makeActive:function(a){return a.reset(),a.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var a=this.data,c=this.totalData,p=0;p<c;p++)a[p].reset(!1);this.currentIndex=0,this.currentTween=a[0]},update:function(a){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;a*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(a):this.isCompleteDelayed()?this.updateCompleteDelay(a):this.isStartDelayed()&&(a=this.updateStartCountdown(a));var c=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(a)&&this.nextTween()&&this.nextState(),c=this.isPendingRemove(),c&&this.persist&&(this.setFinishedState(),c=!1)),c},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(a){this.currentIndex=a,this.currentTween=this.data[a],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(l.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(a,c){this.emit(a,this);var p=this.callbacks[c];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});n.register("tweenchain",function(a){return this.scene.sys.tweens.chain(a)}),h.register("tweenchain",function(a){return this.scene.sys.tweens.create(a)}),o.exports=f},15718:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65521),x=e(82897),d=e(56694),l=e(54272),h=new d({Extends:u,initialize:function(r,f,a,c,p,v,m,y,E,P,S,w,A,R,O,L,b){u.call(this,r,f,y,E,P,S,w,A,R,O),this.key=a,this.getActiveValue=v,this.getEndValue=c,this.getStartValue=p,this.ease=m,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=L,this.interpolationData=b},reset:function(n){u.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex],f=this.key;n&&(r[f]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(r[f]=this.getActiveValue(r,f,0))},update:function(n){var r=this.tween,f=r.totalTargets,a=this.targetIndex,c=r.targets[a],p=this.key;if(!c)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(c,p,c[p],a,f,r),this.end=this.getEndValue(c,p,this.start,a,f,r),this.current=this.start,c[p]=this.start,this.setPlayingForwardState(),!0;var v=this.isPlayingForward(),m=this.isPlayingBackward();if(v||m){var y=this.elapsed,E=this.duration,P=0,S=!1;y+=n,y>=E?(P=y-E,y=E,S=!0):y<0&&(y=0);var w=x(y/E,0,1);if(this.elapsed=y,this.progress=w,this.previous=this.current,S)v?(this.current=this.end,c[p]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(P)):(this.current=this.start,c[p]=this.start,this.setStateFromStart(P));else{v||(w=1-w);var A=this.ease(w);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,c[p]=this.current}this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,r){var f=this.tween;if(!f.isSeeking){var a=f.targets[this.targetIndex],c=this.key,p=this.current,v=this.previous;f.emit(n,f,c,a,p,v);var m=f.callbacks[r];m&&m.func.apply(f.callbackScope,[f,a,c,p,v].concat(m.params))}},destroy:function(){u.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});o.exports=h},96490:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(65521),x=e(82897),d=e(56694),l=e(54272),h=new d({Extends:u,initialize:function(r,f,a,c,p,v,m,y,E,P,S){u.call(this,r,f,p,v,!1,m,y,E,P,S),this.key="texture",this.startTexture=null,this.endTexture=a,this.startFrame=null,this.endFrame=c,this.yoyo=y!==0},reset:function(n){u.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=r.texture.key,this.startFrame=r.frame.name),n&&r.setTexture(this.startTexture,this.startFrame)},update:function(n){var r=this.tween,f=this.targetIndex,a=r.targets[f];if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&a.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),p=this.isPlayingBackward();if(c||p){var v=this.elapsed,m=this.duration,y=0,E=!1;v+=n,v>=m?(y=v-m,v=m,E=!0):v<0&&(v=0);var P=x(v/m,0,1);this.elapsed=v,this.progress=P,E&&(c?(a.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(y)):(a.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(y))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,r){var f=this.tween;if(!f.isSeeking){var a=f.targets[this.targetIndex],c=this.key;f.emit(n,f,c,a);var p=f.callbacks[r];p&&p.func.apply(f.callbackScope,[f,a,c].concat(p.params))}},destroy:function(){u.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});o.exports=h},55303:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};o.exports=T},56694:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(h){return!!h.get&&typeof h.get=="function"||!!h.set&&typeof h.set=="function"}function e(h,n,r){var f=r?h[n]:Object.getOwnPropertyDescriptor(h,n);return!r&&f.value&&typeof f.value=="object"&&(f=f.value),f&&T(f)?(typeof f.enumerable>"u"&&(f.enumerable=!0),typeof f.configurable>"u"&&(f.configurable=!0),f):!1}function u(h,n){var r=Object.getOwnPropertyDescriptor(h,n);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function x(h,n,r,f){for(var a in n)if(!!n.hasOwnProperty(a)){var c=e(n,a,r);if(c!==!1){var p=f||h;if(u(p.prototype,a)){if(l.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(h.prototype,a,c)}else h.prototype[a]=n[a]}}function d(h,n){if(!!n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)x(h,n[r].prototype||n[r])}}function l(h){h||(h={});var n,r;if(h.initialize){if(typeof h.initialize!="function")throw new Error("initialize must be a function");n=h.initialize,delete h.initialize}else if(h.Extends){var f=h.Extends;n=function(){f.apply(this,arguments)}}else n=function(){};h.Extends?(n.prototype=Object.create(h.Extends.prototype),n.prototype.constructor=n,r=h.Extends,delete h.Extends):n.prototype.constructor=n;var a=null;return h.Mixins&&(a=h.Mixins,delete h.Mixins),d(n,a),x(n,h,!0,r),n}l.extend=x,l.mixin=d,l.ignoreFinals=!1,o.exports=l},72283:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};o.exports=T},10618:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};o.exports=T},78991:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l){if(l===void 0&&(l=e),x>0){var h=x-e.length;if(h<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.push(u),d&&d.call(l,u),u):null;for(var n=u.length-1;n>=0;)e.indexOf(u[n])!==-1&&u.splice(n,1),n--;if(n=u.length,n===0)return null;x>0&&n>h&&(u.splice(h),n=h);for(var r=0;r<n;r++){var f=u[r];e.push(f),d&&d.call(l,f)}return u};o.exports=T},48522:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d,l,h){if(x===void 0&&(x=0),h===void 0&&(h=e),d>0){var n=d-e.length;if(n<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.splice(x,0,u),l&&l.call(h,u),u):null;for(var r=u.length-1;r>=0;)e.indexOf(u[r])!==-1&&u.pop(),r--;if(r=u.length,r===0)return null;d>0&&r>n&&(u.splice(n),r=n);for(var f=r-1;f>=0;f--){var a=u[f];e.splice(x,0,a),l&&l.call(h,a)}return u};o.exports=T},58742:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.indexOf(u);return x!==-1&&x<e.length&&(e.splice(x,1),e.push(u)),u};o.exports=T},30164:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),x=function(d,l,h,n,r){n===void 0&&(n=0),r===void 0&&(r=d.length);var f=0;if(u(d,n,r))for(var a=n;a<r;a++){var c=d[a];c[l]===h&&f++}return f};o.exports=x},36337:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d,l=[null];for(d=3;d<arguments.length;d++)l.push(arguments[d]);for(d=0;d<e.length;d++)l[0]=e[d],u.apply(x,l);return e};o.exports=T},46208:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),x=function(d,l,h,n,r){if(n===void 0&&(n=0),r===void 0&&(r=d.length),u(d,n,r)){var f,a=[null];for(f=5;f<arguments.length;f++)a.push(arguments[f]);for(f=n;f<r;f++)a[0]=d[f],l.apply(h,a)}return d};o.exports=x},2406:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(u.length){if(u.length===1)return u[0]}else return NaN;var d=1,l,h;if(x){if(e<u[0][x])return u[0];for(;u[d][x]<e;)d++}else for(;u[d]<e;)d++;return d>u.length&&(d=u.length),x?(l=u[d-1][x],h=u[d][x],h-e<=e-l?u[d]:u[d-1]):(l=u[d-1],h=u[d],h-e<=e-l?h:l)};o.exports=T},5454:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=[]);for(var x=0;x<e.length;x++)Array.isArray(e[x])?T(e[x],u):u.push(e[x]);return u};o.exports=T},71608:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),x=function(d,l,h,n,r){n===void 0&&(n=0),r===void 0&&(r=d.length);var f=[];if(u(d,n,r))for(var a=n;a<r;a++){var c=d[a];(!l||l&&h===void 0&&c.hasOwnProperty(l)||l&&h!==void 0&&c[l]===h)&&f.push(c)}return f};o.exports=x},51463:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),x=function(d,l,h,n,r){if(n===void 0&&(n=0),r===void 0&&(r=d.length),u(d,n,r))for(var f=n;f<r;f++){var a=d[f];if(!l||l&&h===void 0&&a.hasOwnProperty(l)||l&&h!==void 0&&a[l]===h)return a}return null};o.exports=x},72861:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){u===void 0&&(u=0),x===void 0&&(x=e.length);var d=u+Math.floor(Math.random()*x);return e[d]===void 0?null:e[d]};o.exports=T},24218:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(u===x)return e;var d=e.indexOf(u),l=e.indexOf(x);if(d<0||l<0)throw new Error("Supplied items must be elements of the same array");return d>l||(e.splice(d,1),l===e.length-1?e.push(u):e.splice(l,0,u)),e};o.exports=T},58258:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(u===x)return e;var d=e.indexOf(u),l=e.indexOf(x);if(d<0||l<0)throw new Error("Supplied items must be elements of the same array");return d<l||(e.splice(d,1),l===0?e.unshift(u):e.splice(l,0,u)),e};o.exports=T},51172:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.indexOf(u);if(x>0){var d=e[x-1],l=e.indexOf(d);e[x]=d,e[l]=u}return e};o.exports=T},68396:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=e.indexOf(u);if(d===-1||x<0||x>=e.length)throw new Error("Supplied index out of bounds");return d!==x&&(e.splice(d,1),e.splice(x,0,u)),u};o.exports=T},27555:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.indexOf(u);if(x!==-1&&x<e.length-1){var d=e[x+1],l=e.indexOf(d);e[x]=d,e[l]=u}return e};o.exports=T},13401:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=[],h,n=!1;if((x||d)&&(n=!0,x||(x=""),d||(d="")),u<e)for(h=e;h>=u;h--)n?l.push(x+h.toString()+d):l.push(h);else for(h=e;h<=u;h++)n?l.push(x+h.toString()+d):l.push(h);return l};o.exports=T},89955:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(67233),x=function(d,l,h){d===void 0&&(d=0),l===void 0&&(l=null),h===void 0&&(h=1),l===null&&(l=d,d=0);for(var n=[],r=Math.max(u((l-d)/(h||1)),0),f=0;f<r;f++)n.push(d),d+=h;return n};o.exports=x},53466:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(x,d,l){var h=x[d];x[d]=x[l],x[l]=h}function e(x,d){return x<d?-1:x>d?1:0}var u=function(x,d,l,h,n){for(l===void 0&&(l=0),h===void 0&&(h=x.length-1),n===void 0&&(n=e);h>l;){if(h-l>600){var r=h-l+1,f=d-l+1,a=Math.log(r),c=.5*Math.exp(2*a/3),p=.5*Math.sqrt(a*c*(r-c)/r)*(f-r/2<0?-1:1),v=Math.max(l,Math.floor(d-f*c/r+p)),m=Math.min(h,Math.floor(d+(r-f)*c/r+p));u(x,d,v,m,n)}var y=x[d],E=l,P=h;for(T(x,l,d),n(x[h],y)>0&&T(x,l,h);E<P;){for(T(x,E,P),E++,P--;n(x[E],y)<0;)E++;for(;n(x[P],y)>0;)P--}n(x[l],y)===0?T(x,l,P):(P++,T(x,P,h)),P<=d&&(l=P+1),d<=P&&(h=P-1)}};o.exports=u},75757:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10850),x=e(18592),d=function(h,n,r){for(var f=[],a=0;a<h.length;a++)for(var c=0;c<n.length;c++)for(var p=0;p<r;p++)f.push({a:h[a],b:n[c]});return f},l=function(h,n,r){var f=u(r,"max",0),a=u(r,"qty",1),c=u(r,"random",!1),p=u(r,"randomB",!1),v=u(r,"repeat",0),m=u(r,"yoyo",!1),y=[];if(p&&x(n),v===-1)if(f===0)v=0;else{var E=h.length*n.length*a;m&&(E*=2),v=Math.ceil(f/E)}for(var P=0;P<=v;P++){var S=d(h,n,a);c&&x(S),y=y.concat(S),m&&(S.reverse(),y=y.concat(S))}return f&&y.splice(f),y};o.exports=l},66458:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72677),x=function(d,l,h,n){n===void 0&&(n=d);var r;if(!Array.isArray(l))return r=d.indexOf(l),r!==-1?(u(d,r),h&&h.call(n,l),l):null;for(var f=l.length-1,a=[];f>=0;){var c=l[f];r=d.indexOf(c),r!==-1&&(u(d,r),a.push(c),h&&h.call(n,c)),f--}return a};o.exports=x},8324:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72677),x=function(d,l,h,n){if(n===void 0&&(n=d),l<0||l>d.length-1)throw new Error("Index out of bounds");var r=u(d,l);return h&&h.call(n,r),r};o.exports=x},47427:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),x=function(d,l,h,n,r){if(l===void 0&&(l=0),h===void 0&&(h=d.length),r===void 0&&(r=d),u(d,l,h)){var f=h-l,a=d.splice(l,f);if(n)for(var c=0;c<a.length;c++){var p=a[c];n.call(r,p)}return a}else return[]};o.exports=x},50147:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(72677),x=function(d,l,h){l===void 0&&(l=0),h===void 0&&(h=d.length);var n=l+Math.floor(Math.random()*h);return u(d,n)};o.exports=x},80402:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=e.indexOf(u),l=e.indexOf(x);return d!==-1&&l===-1?(e[d]=x,!0):!1};o.exports=T},77640:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=1);for(var x=null,d=0;d<u;d++)x=e.shift(),e.push(x);return x};o.exports=T},38487:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){u===void 0&&(u=1);for(var x=null,d=0;d<u;d++)x=e.pop(),e.unshift(x);return x};o.exports=T},45838:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){var l=e.length;if(u<0||u>l||u>=x||x>l){if(d)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};o.exports=T},27847:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){var x=e.indexOf(u);return x!==-1&&x>0&&(e.splice(x,1),e.unshift(u)),u};o.exports=T},6034:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(45838),x=function(d,l,h,n,r){if(n===void 0&&(n=0),r===void 0&&(r=d.length),u(d,n,r))for(var f=n;f<r;f++){var a=d[f];a.hasOwnProperty(l)&&(a[l]=h)}return d};o.exports=x},18592:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=e.length-1;u>0;u--){var x=Math.floor(Math.random()*(u+1)),d=e[u];e[u]=e[x],e[x]=d}return e};o.exports=T},28834:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u=/\D/g;return e.sort(function(x,d){return parseInt(x.replace(u,""),10)-parseInt(d.replace(u,""),10)}),e};o.exports=T},72677:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){if(!(u>=e.length)){for(var x=e.length-1,d=e[u],l=u;l<x;l++)e[l]=e[l+1];return e.length=x,d}};o.exports=T},17922:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(77290);function x(n,r){return String(n).localeCompare(r)}function d(n,r){var f=n.length;if(f<=1)return n;for(var a=new Array(f),c=1;c<f;c*=2){l(n,r,c,a);var p=n;n=a,a=p}return n}function l(n,r,f,a){var c=n.length,p=0,v=f*2,m,y,E,P,S;for(m=0;m<c;m+=v)for(y=m+f,E=y+f,y>c&&(y=c),E>c&&(E=c),P=m,S=y;;)if(P<y&&S<E)r(n[P],n[S])<=0?a[p++]=n[P++]:a[p++]=n[S++];else if(P<y)a[p++]=n[P++];else if(S<E)a[p++]=n[S++];else break}var h=function(n,r){if(r===void 0&&(r=x),!n||n.length<2)return n;if(u.features.stableSort)return n.sort(r);var f=d(n,r);return f!==n&&l(f,null,n.length,n),n};o.exports=h},96928:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(u===x)return e;var d=e.indexOf(u),l=e.indexOf(x);if(d<0||l<0)throw new Error("Supplied items must be elements of the same array");return e[d]=x,e[l]=u,e};o.exports=T},59959:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Matrix:e(13515),Add:e(78991),AddAt:e(48522),BringToTop:e(58742),CountAllMatching:e(30164),Each:e(36337),EachInRange:e(46208),FindClosestInSorted:e(2406),Flatten:e(5454),GetAll:e(71608),GetFirst:e(51463),GetRandom:e(72861),MoveDown:e(51172),MoveTo:e(68396),MoveUp:e(27555),MoveAbove:e(24218),MoveBelow:e(58258),NumberArray:e(13401),NumberArrayStep:e(89955),QuickSelect:e(53466),Range:e(75757),Remove:e(66458),RemoveAt:e(8324),RemoveBetween:e(47427),RemoveRandomElement:e(50147),Replace:e(80402),RotateLeft:e(77640),RotateRight:e(38487),SafeRange:e(45838),SendToBack:e(27847),SetAll:e(6034),Shuffle:e(18592),SortByDigits:e(28834),SpliceOne:e(72677),StableSort:e(17922),Swap:e(96928)}},97494:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var u=e[0].length,x=1;x<e.length;x++)if(e[x].length!==u)return!1;return!0};o.exports=T},68428:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(76400),x=e(97494),d=function(l){var h="";if(!x(l))return h;for(var n=0;n<l.length;n++){for(var r=0;r<l[n].length;r++){var f=l[n][r].toString();f!=="undefined"?h+=u(f,2):h+="?",r<l[n].length-1&&(h+=" |")}if(n<l.length-1){h+=`
`;for(var a=0;a<l[n].length;a++)h+="---",a<l[n].length-1&&(h+="+");h+=`
`}}return h};o.exports=d},59521:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.reverse()};o.exports=T},51995:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=0;u<e.length;u++)e[u].reverse();return e};o.exports=T},89011:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63515),x=function(d){return u(d,180)};o.exports=x},42549:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63515),x=function(d){return u(d,90)};o.exports=x},63515:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(97494),x=e(78581),d=function(l,h){if(h===void 0&&(h=90),!u(l))return null;if(typeof h!="string"&&(h=(h%360+360)%360),h===90||h===-270||h==="rotateLeft")l=x(l),l.reverse();else if(h===-90||h===270||h==="rotateRight")l.reverse(),l=x(l);else if(Math.abs(h)===180||h==="rotate180"){for(var n=0;n<l.length;n++)l[n].reverse();l.reverse()}return l};o.exports=d},14305:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(63515),x=function(d){return u(d,-90)};o.exports=x},27365:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(77640),x=e(38487),d=function(l,h,n){if(h===void 0&&(h=0),n===void 0&&(n=0),n!==0&&(n<0?u(l,Math.abs(n)):x(l,n)),h!==0)for(var r=0;r<l.length;r++){var f=l[r];h<0?u(f,Math.abs(h)):x(f,h)}return l};o.exports=d},78581:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){for(var u=e.length,x=e[0].length,d=new Array(x),l=0;l<x;l++){d[l]=new Array(u);for(var h=u-1;h>-1;h--)d[l][h]=e[h][l]}return d};o.exports=T},13515:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CheckMatrix:e(97494),MatrixToString:e(68428),ReverseColumns:e(59521),ReverseRows:e(51995),Rotate180:e(89011),RotateLeft:e(42549),RotateMatrix:e(63515),RotateRight:e(14305),Translate:e(27365),TransposeMatrix:e(78581)}},40581:o=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(u,x){for(var d=new Uint8Array(u),l=d.length,h=x?"data:"+x+";base64,":"",n=0;n<l;n+=3)h+=T[d[n]>>2],h+=T[(d[n]&3)<<4|d[n+1]>>4],h+=T[(d[n+1]&15)<<2|d[n+2]>>6],h+=T[d[n+2]&63];return l%3===2?h=h.substring(0,h.length-1)+"=":l%3===1&&(h=h.substring(0,h.length-2)+"=="),h};o.exports=e},82329:o=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),u=0;u<T.length;u++)e[T.charCodeAt(u)]=u;var x=function(d){d=d.substr(d.indexOf(",")+1);var l=d.length,h=l*.75,n=0,r,f,a,c;d[l-1]==="="&&(h--,d[l-2]==="="&&h--);for(var p=new ArrayBuffer(h),v=new Uint8Array(p),m=0;m<l;m+=4)r=e[d.charCodeAt(m)],f=e[d.charCodeAt(m+1)],a=e[d.charCodeAt(m+2)],c=e[d.charCodeAt(m+3)],v[n++]=r<<2|f>>4,v[n++]=(f&15)<<4|a>>2,v[n++]=(a&3)<<6|c&63;return p};o.exports=x},78417:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ArrayBufferToBase64:e(40581),Base64ToArrayBuffer:e(82329)}},22178:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Array:e(59959),Base64:e(78417),Objects:e(64615),String:e(50379),NOOP:e(72283),NULL:e(10618)}},32742:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u={};for(var x in e)Array.isArray(e[x])?u[x]=e[x].slice(0):u[x]=e[x];return u};o.exports=T},28699:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){var u,x,d;if(typeof e!="object"||e===null)return e;u=Array.isArray(e)?[]:{};for(d in e)x=e[d],u[d]=T(x);return u};o.exports=T},98611:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(42911),x=function(){var d,l,h,n,r,f,a=arguments[0]||{},c=1,p=arguments.length,v=!1;for(typeof a=="boolean"&&(v=a,a=arguments[1]||{},c=2),p===c&&(a=this,--c);c<p;c++)if((d=arguments[c])!=null)for(l in d)h=a[l],n=d[l],a!==n&&(v&&n&&(u(n)||(r=Array.isArray(n)))?(r?(r=!1,f=h&&Array.isArray(h)?h:[]):f=h&&u(h)?h:{},a[l]=x(v,f,n)):n!==void 0&&(a[l]=n));return a};o.exports=x},20494:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(5923),x=e(10850),d=function(l,h,n){var r=x(l,h,null);if(r===null)return n;if(Array.isArray(r))return u.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return u.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return u.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(h);return r};o.exports=d},72632:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){var d=typeof e;return!e||d==="number"||d==="string"?x:e.hasOwnProperty(u)&&e[u]!==void 0?e[u]:x};o.exports=T},94324:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(10850),x=e(82897),d=function(l,h,n,r,f){f===void 0&&(f=n);var a=u(l,h,f);return x(a,n,r)};o.exports=d},10850:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){if(!e&&!d||typeof e=="number")return x;if(e&&e.hasOwnProperty(u))return e[u];if(d&&d.hasOwnProperty(u))return d[u];if(u.indexOf(".")!==-1){for(var l=u.split("."),h=e,n=d,r=x,f=x,a=!0,c=!0,p=0;p<l.length;p++)h&&h.hasOwnProperty(l[p])?(r=h[l[p]],h=h[l[p]]):a=!1,n&&n.hasOwnProperty(l[p])?(f=n[l[p]],n=n[l[p]]):c=!1;return a?r:c?f:x}else return x};o.exports=T},87701:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){for(var x=0;x<u.length;x++)if(!e.hasOwnProperty(u[x]))return!1;return!0};o.exports=T},53523:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){for(var x=0;x<u.length;x++)if(e.hasOwnProperty(u[x]))return!0;return!1};o.exports=T},19256:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.hasOwnProperty(u)};o.exports=T},42911:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){if(!e||typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};o.exports=T},30657:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(32742),x=function(d,l){var h=u(d);for(var n in l)h.hasOwnProperty(n)||(h[n]=l[n]);return h};o.exports=x},72066:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(32742),x=function(d,l){var h=u(d);for(var n in l)h.hasOwnProperty(n)&&(h[n]=l[n]);return h};o.exports=x},28820:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=e(19256),x=function(d,l){for(var h={},n=0;n<l.length;n++){var r=l[n];u(d,r)&&(h[r]=d[r])}return h};o.exports=x},22440:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(u))return e[u]=x,!0;if(u.indexOf(".")!==-1){for(var d=u.split("."),l=e,h=e,n=0;n<d.length;n++)if(l.hasOwnProperty(d[n]))h=l,l=l[d[n]];else return!1;return h[d[d.length-1]]=x,!0}return!1};o.exports=T},64615:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Clone:e(32742),DeepCopy:e(28699),Extend:e(98611),GetAdvancedValue:e(20494),GetFastValue:e(72632),GetMinMaxValue:e(94324),GetValue:e(10850),HasAll:e(87701),HasAny:e(53523),HasValue:e(19256),IsPlainObject:e(42911),Merge:e(30657),MergeRight:e(72066),Pick:e(28820),SetValue:e(22440)}},69429:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return e.replace(/%([0-9]+)/g,function(x,d){return u[Number(d)-1]})};o.exports=T},76400:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u,x,d){u===void 0&&(u=0),x===void 0&&(x=" "),d===void 0&&(d=3),e=e.toString();var l=0;if(u+1>=e.length)switch(d){case 1:e=new Array(u+1-e.length).join(x)+e;break;case 3:var h=Math.ceil((l=u-e.length)/2),n=l-h;e=new Array(n+1).join(x)+e+new Array(h+1).join(x);break;default:e=e+new Array(u+1-e.length).join(x);break}return e};o.exports=T},76872:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e,u){return u===0?e.slice(1):e.slice(0,u-1)+e.slice(u)};o.exports=T},8051:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e.split("").reverse().join("")};o.exports=T},76583:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var u=Math.random()*16|0,x=e==="x"?u:u&3|8;return x.toString(16)})};o.exports=T},40587:o=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(e){return e&&e[0].toUpperCase()+e.slice(1)};o.exports=T},50379:(o,T,e)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Format:e(69429),Pad:e(76400),RemoveAt:e(76872),Reverse:e(8051),UppercaseFirst:e(40587),UUID:e(76583)}}},g={};function C(o){var T=g[o];if(T!==void 0)return T.exports;var e=g[o]={exports:{}};return s[o](e,e.exports,C),e.exports}C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var M=C(92491);return M})())})(Wp);const Ie=Wp.exports;class hy extends Ie.Scene{constructor(){super("startScene")}preload(){this.load.image("startbutton","assets/pawsclaws.png")}create(){var t=this.add.image(644,337,"startbutton");t.setInteractive(),t.on("pointerdown",()=>{this.scene.start("helloworldscene")})}update(){}}const oy=5125166,ef=8085079,ly=2493956;class uy extends Ie.Scene{constructor(){super("InstructionsScene");dt(this,"rexUI")}preload(){this.load.image("nextPage","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/assets/images/arrow-down-left.png")}create(){var s=`
Gameplay:

1. Buy your first character by selecting it from the menu and placing it on the map.
2. Press the "Start" button to begin the game.
3. Balloons will spawn in waves, with more balloons spawning as the waves increase.
4. Place additional characters on the map by selecting them from the menu and placing them strategically to stop the balloons.
5. Characters have different abilities and prices, so choose wisely.
6. Earn money by popping balloons. Use this money to buy more characters or upgrade existing ones.
7. If a balloon reaches the end of its path, you lose a life. You start with a limited number of lives, so be careful!
8. If you lose all your lives, the game is over.



Upgrades:

1. Click on a character to see its upgrade options.
2. Upgrades improve the character's abilities and make them more effective against balloons.
3. Upgrades cost money, so make sure to save up before purchasing them.

Tips:

1. Experiment with different character combinations to find the most effective defense.
2. Don't forget to upgrade your characters for maximum effectiveness.
3. Keep an eye on your lives and don't let too many balloons slip by.

Good luck defending your territory!`;this.createTextBox(this,40,40,{wrapWidth:500,fixedWidth:500,fixedHeight:350}).start(s,50);var g=this.add.text(600,40+10,"X");g.setStyle({fill:"#FF0000",fontSize:"50px"}),g.setInteractive(),g.on("pointerdown",()=>{this.scene.sleep("InstructionsScene")})}update(){}createTextBox(s,g,C,M){var o=Ie.Utils.Objects.GetValue(M,"wrapWidth",0),T=Ie.Utils.Objects.GetValue(M,"fixedWidth",0),e=Ie.Utils.Objects.GetValue(M,"fixedHeight",0),u=s.rexUI.add.textBox({x:g,y:C,background:s.rexUI.add.roundRectangle(0,0,2,2,20,oy).setStrokeStyle(2,ef),icon:s.rexUI.add.roundRectangle(0,0,2,2,20,ly),text:this.getBBcodeText(s,o,T,e),action:s.add.image(0,0,"nextPage").setTint(ef).setVisible(!1),space:{left:10,right:10,top:10,bottom:20,icon:10,text:10}}).setOrigin(0).layout();return u.setInteractive().on("pointerdown",function(){var x=u.getElement("action").setVisible(!1);u.resetChildVisibleState(x),u.isTyping?u.stop(!0):u.typeNextPage()},u).on("pageend",function(){if(!u.isLastPage){var x=u.getElement("action").setVisible(!0);u.resetChildVisibleState(x),x.y-=30,s.tweens.add({targets:x,y:"+=30",ease:"Bounce",duration:500,repeat:0,yoyo:!1})}},u),u}getBuiltInText(s,g,C,M){return s.add.text(0,0,"",{fontSize:"20px",wordWrap:{width:g},maxLines:3}).setFixedSize(C,M)}getBBcodeText(s,g,C,M){return s.rexUI.add.BBCodeText(0,0,"",{fixedWidth:C,fixedHeight:M,fontSize:"15px",wrap:{mode:"word",width:g},maxLines:20})}}class nt{constructor(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null,this.displayList=null,this.updateList=null}static register(t,s){nt.prototype[t]=s}}var dy=function(i){return i===void 0&&(i=fy),this.getFrameNameCallback=i,this},fy=function(i,t,s){return s==="__BASE"?`${i},${t}`:`${s}_${i},${t}`};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cy=function(i){if(typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},Te=function(i){var t,s,g;if(i==null||typeof i!="object")return i;if(t=Array.isArray(i)?[]:{},cy(i))for(g in i)s=i[g],t[g]=Te(s);else t=i;return t},vy=function(i,t,s,g){Array.isArray(t)&&(g=s,s=t,t=void 0),t==null&&(t="__BASE"),typeof s=="number"&&arguments.length>=6?(s=[arguments[2],void 0,arguments[3]],g=[arguments[4],void 0,arguments[5]]):(s=Te(s),g=Te(g)),this.textureKey=i,this.baseFrameName=t,this.columns.data=s,this.columns.count=s?s.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=g,this.rows.count=g?g.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var C=this.scene.sys.textures.get(i);if(!C)return this.clear(),this;if(!s||!g)return this.clear(),this;for(var M=C.get(t),o=M.width,T=0,e=0,u=s.length;e<u;e++)s[e]===void 0?T++:typeof s[e]=="number"?o-=s[e]:o-=s[e].width;for(var x=o/T,d=M.height,l=0,e=0,u=g.length;e<u;e++)g[e]===void 0?l++:typeof g[e]=="number"?d-=g[e]:d-=g[e].width;for(var h=d/l,n,r,f,a,c,p=0,v=0,m=0,y=g.length;m<y;m++){g[m]===void 0&&(g[m]=h),typeof g[m]=="number"&&(g[m]={height:g[m],stretch:m%2}),n=g[m],f=n.height,this.rows.stretch+=n.stretch|0,this.rows.minHeight+=n.stretch>0?0:f,p=0;for(var e=0,E=s.length;e<E;e++){if(s[e]===void 0&&(s[e]=x),typeof s[e]=="number"&&(s[e]={width:s[e],stretch:e%2}),r=s[e],a=r.width,m===0&&(this.columns.stretch+=r.stretch|0,this.columns.minWidth+=r.stretch>0?0:a),a>=1&&f>=1){c=this.getFrameNameCallback(e,m,t);var P=typeof c;(P==="string"||P==="number")&&C.add(c,0,p+M.cutX,v+M.cutY,a,f)}p+=a}v+=f}return this.updateTexture(),this},py=function(){if(this.clear(),this.textureKey===void 0)return this;var i=this.scene.sys.textures.get(this.textureKey);if(!i)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,s=this.rows.minHeight*this.maxFixedPartScaleY,g=this.width-t,C=this.height-s,M=g>=0?this.maxFixedPartScaleX:this.width/t,o=C>=0?this.maxFixedPartScaleY:this.height/s;if(this.preserveRatio){var T=Math.min(M,o);if(M>T){var e=(M-T)*t;g>=0?g+=e:g=e,M=T}if(o>T){var u=(o-T)*s;C>=0?C+=u:C=u,o=T}}this.columns.scale=M,this.rows.scale=o;var x;g>0?x=this.columns.stretch>0?g/this.columns.stretch:0:x=0;var d;C>0?d=this.rows.stretch>0?C/this.rows.stretch:0:d=0;var l,h,n,r,f,a=0,c=0,p;this._beginDraw();for(var v=0,m=this.rows.count;v<m;v++){n=this.rows.data[v],f=n.stretch===0?n.height*o:d*n.stretch,a=0;for(var y=0,E=this.columns.count;y<E;y++)h=this.columns.data[y],r=h.stretch===0?h.width*M:x*h.stretch,l=this.getFrameNameCallback(y,v,this.baseFrameName),i.has(l)&&r>0&&f>0&&(n.stretch===0&&h.stretch===0||this.getStretchMode(y,v)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,l,a,c,r,f):this._drawTileSprite(this.textureKey,l,a,c,r,f)),a+=r;c+=f}this._endDraw()};const gy=Phaser.Utils.Objects.IsPlainObject,sf=Phaser.Utils.Objects.GetValue;var my=function(i){return gy(i)?(this.stretchMode.edge=ao(sf(i,"edge",0)),this.stretchMode.internal=ao(sf(i,"internal",0))):(i=ao(i),this.stretchMode.edge=i,this.stretchMode.internal=i),this},ao=function(i){return typeof i=="string"&&(i=xy[i]),i};const xy={scale:0,repeat:1};var yy=function(i,t){return i===0||i===this.columns.count-1||t===0||t===this.rows.count-1},Ty=function(i,t){return yy.call(this,i,t)?this.stretchMode.edge:this.stretchMode.internal},Cy=function(i){return i==null&&(i=!0),this.preserveRatio=i,this},Sy=function(i,t){return t===void 0&&(t=i),this.maxFixedPartScaleX=i,this.maxFixedPartScaleY=t,this},ve=function(){};const Ey={_beginDraw:ve,_drawImage:ve,_drawTileSprite:ve,_endDraw:ve,setGetFrameNameCallback:dy,setBaseTexture:vy,updateTexture:py,setStretchMode:my,getStretchMode:Ty,setPreserveRatio:Cy,setMaxFixedPartScale:Sy},Wn=Phaser.Utils.Objects.IsPlainObject,St=Phaser.Utils.Objects.GetValue;var Hp=function(i,t){class s extends i{constructor(C,M,o,T,e,u,x,d,l,h){if(Wn(M)?(h=M,M=St(h,"x",0),o=St(h,"y",0),T=St(h,"width",1),e=St(h,"height",1),u=St(h,"key",void 0),x=St(h,"baseFrame",void 0),d=St(h,"columns",void 0),l=St(h,"rows",void 0)):Wn(T)?(h=T,T=St(h,"width",1),e=St(h,"height",1),u=St(h,"key",void 0),x=St(h,"baseFrame",void 0),d=St(h,"columns",void 0),l=St(h,"rows",void 0)):Wn(u)?(h=u,u=St(h,"key",void 0),x=St(h,"baseFrame",void 0),d=St(h,"columns",void 0),l=St(h,"rows",void 0)):Wn(x)?(h=x,x=St(h,"baseFrame",void 0),d=St(h,"columns",void 0),l=St(h,"rows",void 0)):Array.isArray(x)?(h=l,l=d,d=x,x=St(h,"baseFrame",void 0)):Wn(d)&&(h=d,d=St(h,"columns",void 0),l=St(h,"rows",void 0)),d===void 0){var n=St(h,"leftWidth",void 0),r=St(h,"rightWidth",void 0);n!==void 0&&r!==void 0&&(d=[n,void 0,r])}if(l===void 0){var f=St(h,"topHeight",void 0),a=St(h,"bottomHeight",void 0);f!==void 0&&a!==void 0&&(l=[f,void 0,a])}super(C),this.type=t,this.setPosition(M,o).setSize(T,e).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(St(h,"getFrameNameCallback",void 0)),this.setStretchMode(St(h,"stretchMode",0)),this.setPreserveRatio(St(h,"preserveRatio",!0));var c=St(h,"maxFixedPartScale",1),p=St(h,"maxFixedPartScaleX",c),v=St(h,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,v),this.setBaseTexture(u,x,d,l)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(C,M){return this.width===C&&this.height===M?this:(super.resize?super.resize(C,M):super.setSize(C,M),this.updateTexture(),this)}}return Object.assign(s.prototype,Ey),s};const Py=Phaser.Game;var nf=function(i){return i instanceof Py};const My=Phaser.Scene;var Bs=function(i){return i instanceof My},Ln=function(i){if(i==null||typeof i!="object")return null;if(nf(i))return i;if(nf(i.game))return i.game;if(Bs(i))return i.sys.game;if(Bs(i.scene))return i.scene.sys.game};const wy=Phaser.GameObjects;var Ki=void 0,$p=function(i,t){if(Ki||(Ki={},Ln(i).events.once("destroy",function(){for(var g in Ki)Ki[g].destroy();Ki=void 0})),!Ki.hasOwnProperty(t)){var s=Ln(i).scene.systemScene,i=new wy[t](s);i.setOrigin(0),Ki[t]=i}return Ki[t]},Ay=function(i,t,s,g,C,M){var o=$p(this,"Image").setTexture(i,t).setDisplaySize(C,M);this.batchDraw(o,s,g)},Ry=function(i,t,s,g,C,M){var o=$p(this,"TileSprite").setTexture(i,t).setSize(C,M);this.batchDraw(o,s,g)};const zl=Phaser.GameObjects.RenderTexture;class Rr extends Hp(zl,"rexNinePatch"){}var Oy={_beginDraw:zl.prototype.beginDraw,_endDraw:zl.prototype.endDraw,_drawImage:Ay,_drawTileSprite:Ry};Object.assign(Rr.prototype,Oy);var Kp=function(i){return i==null||i===""||i.length===0},by=function(i,t,s){var g=i;if(!Kp(t)){typeof t=="string"&&(t=t.split("."));for(var C,M=0,o=t.length;M<o;M++){if(C=t[M],g[C]==null||typeof g[C]!="object"){var T;M===o-1?s===void 0?T={}:T=s:T={},g[C]=T}g=g[C]}}return g},st=function(i,t,s,g){if(g===void 0&&(g="."),typeof i=="object"){if(Kp(t)){if(s==null)return;typeof s=="object"&&(i=s)}else{typeof t=="string"&&(t=t.split(g));var C=t.pop(),M=by(i,t);M[C]=s}return i}};nt.register("ninePatch",function(i,t,s,g,C,M,o,T){var e=new Rr(this.scene,i,t,s,g,C,M,o,T);return this.scene.add.existing(e),e});st(window,"RexPlugins.UI.NinePatch",Rr);const Ly=Phaser.GameObjects.GetCalcMatrix;var Fy=function(i,t,s,g){var C=t.getRenderList();if(C.length!==0){s.addToRenderList(t);var M=i.pipelines.set(t.pipeline),o=t.frame.glTexture,T=M.setGameObject(t),e=s.roundPixels,u=Ly(t,s,g),x=M.calcMatrix.copyFrom(u.calc),d=t._displayOriginX,l=t._displayOriginY,h=s.alpha*t.alpha;i.pipelines.preBatch(t);for(var n=0,r=C.length;n<r;n++)C[n].webglRender(M,x,h,d,l,o,T,e);i.pipelines.postBatch(t)}};const Dy=Phaser.Renderer.Canvas.SetTransform;var Iy=function(i,t,s,g){var C=i.currentContext,M=t.getRenderList();if(!(M.length===0||!Dy(i,C,t,s,g))){s.addToRenderList(t);var o=s.roundPixels,T=-t._displayOriginX,e=-t._displayOriginY;C.translate(T,e);for(var u=0,x=M.length;u<x;u++)M[u].canvasRender(C,T,e,o);C.restore()}};const By={renderWebGL:Fy,renderCanvas:Iy};var Gy=function(i,t){return this.texture=this.scene.sys.textures.get(i),this.frame=this.texture.get(t),this},rf=function(i,t){if(this.width===i&&this.height===t)return this;this.width=i,this.height=t,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=i,s.hitArea.height=t),this},Ny=function(i){return this.lastAppendedChildren.length=0,Array.isArray(i)?(this.children.add(i),this.lastAppendedChildren.push(...i)):(this.children.add(i),this.lastAppendedChildren.push(i)),this};const zy=Phaser.Utils.Array.Remove;var Vy=function(i){return this.poolManager&&this.poolManager.free(i),zy(this.children.list,i),this.lastAppendedChildren.length=0,this.dirty=!0,this},af=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},Uy=function(){return this.lastAppendedChildren},Yy=function(){return this.children.list};const Xy={setTint(i){return this.tint=i,this.tintFill=!1,this},setTintFill(i){return this.tint=i,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var Zp={setTexture:Gy,resize:rf,setSize:rf,addChild:Ny,removeChild:Vy,removeChildren:af,clear:af,getLastAppendedChildren:Uy,getChildren:Yy};Object.assign(Zp,Xy);class Ei{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const ky=Phaser.Utils.Objects.GetValue;var Wy={};class Hy{constructor(t){this.pools=ky(t,"pools",Wy)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new Ei),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,g=t.length;s<g;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const $y=Phaser.GameObjects.GameObject,Ky=Phaser.Utils.Objects.IsPlainObject,Hn=Phaser.Utils.Objects.GetValue,Zy=Phaser.Structs.List,Jy=Phaser.Utils.Array.StableSort;class Jp extends $y{constructor(t,s,g,C,M,o){Ky(s)&&(o=s,s=Hn(o,"x",0),g=Hn(o,"y",0),C=Hn(o,"texture"),M=Hn(o,"frame")),s===void 0&&(s=0),g===void 0&&(g=0),super(t,"rexBlitter"),this.children=new Zy,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=Hn(o,"reuseBob",!0);this.poolManager=T?new Hy(o):void 0,this.setTexture(C,M).setPosition(s,g).setOrigin(0,0).clearTint().initPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,s=this.children.list,g=0,C=s.length;g<C;g++){var M=s[g];jy(M)&&(this.renderList.push(M),t||(t=M.depth!==0))}t&&Jy(this.renderList,Qy),this.displayListDirty=!1}return this.renderList}}var jy=function(i){return i.active&&i.visible&&i.alpha>0},Qy=function(i,t){return i._depth-t._depth};const Qe=Phaser.GameObjects.Components;Phaser.Class.mixin(Jp,[Qe.Alpha,Qe.BlendMode,Qe.ComputedSize,Qe.Depth,Qe.GetBounds,Qe.Mask,Qe.Origin,Qe.Pipeline,Qe.ScrollFactor,Qe.Transform,Qe.Visible,By,Zp]);const jp="image";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dt=function(i,t,s){if(!i||typeof i=="number")return s;if(i.hasOwnProperty(t))return i[t];if(t.indexOf(".")!==-1){for(var g=t.split("."),C=i,M=s,o=0;o<g.length;o++)if(C.hasOwnProperty(g[o]))M=C[g[o]],C=C[g[o]];else{M=s;break}return M}else return s},Ni=function(i){if(typeof i!="object"||i===null)return i;if(Array.isArray(i))i.length=0;else for(var t in i)delete i[t];return i};const hh={enableData(){return this.data===void 0&&(this.data={}),this},setData(i,t){if(this.enableData(),arguments.length===1){var s=i;for(i in s)this.data[i]=s[i]}else this.data[i]=t;return this},getData(i,t){return this.enableData(),i===void 0?this.data:Dt(this.data,i,t)},incData(i,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(i,this.getData(i,s)+t),this},mulData(i,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(i,this.getData(i,s)*t),this},clearData(){return this.data&&Ni(this.data),this}};class Qp{constructor(t,s){this.type=s,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}}Object.assign(Qp.prototype,hh);const qy=Phaser.Math.DegToRad,_y=Phaser.Math.RadToDeg,Zs=Phaser.Utils.Objects.GetValue;class t1 extends Qp{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setRotation(t){return this.rotation=t,this}get angle(){return _y(this.rotation)}set angle(t){this.rotation=qy(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,s){return s===void 0&&(s=!1),this.displayWidth=t,s&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,s){return s===void 0&&(s=!1),this.displayHeight=t,s&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,s){return s===void 0&&(s=t),this.setOriginX(t).setOriginY(s),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=Zs(t,"width",void 0),g=Zs(t,"height",void 0),C=Zs(t,"scale",void 0),M=Zs(t,"scaleX",C),o=Zs(t,"scaleY",C);s!==void 0?g===void 0&&o===void 0?this.setWidth(s,!0):this.setWidth(s):M!==void 0?this.setScaleX(M):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),g!==void 0?s===void 0&&M===void 0?this.setHeight(g,!0):this.setHeight(g):o!==void 0?this.setScaleY(o):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var T=Zs(t,"origin",void 0);return T!==void 0?this.setOrigin(T):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,s,g,C,M,o,T,e){}canvasRender(t,s,g,C){}}const e1=Phaser.GameObjects.Components.TransformMatrix,i1=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var jr=new e1,s1=function(i,t,s,g,C,M,o,T){var e=this._width,u=this._height,x=e*this.originX,d=u*this.originY,l=this.x-g,h=this.y-C,n=1,r=1;this.flipX&&(l+=e-x*2,n=-1),this.flipY&&(h+=u-d*2,r=-1),jr.applyITRS(l,h,this.rotation,this.scaleX*n,this.scaleY*r),t.multiply(jr,jr);var f=-x,a=-d,c=f+e,p=a+u,v=jr.setQuad(f,a,c,p,T),m=this.frame.u0,y=this.frame.v0,E=this.frame.u1,P=this.frame.v1,S=i1(this.tint,this.alpha*s);i.batchQuad(this.parent,v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],m,y,E,P,S,S,S,S,this.tintFill,M,o)},n1=function(i,t,s,g){i.save();var C=this._width,M=this._height,o=C*this.originX,T=M*this.originY,e=this.x-o,u=this.y-T,x=1,d=1;this.flipX&&(e+=C,x=-1),this.flipY&&(u+=M,d=-1),g&&(e=Math.round(e),u=Math.round(u)),i.translate(e,u),i.rotate(this.rotation),i.scale(this.scaleX*x,this.scaleY*d);var l=this.frame;i.drawImage(l.source.image,l.cutX,l.cutY,C,M,0,0,C,M),i.restore()};const r1=Phaser.Utils.Objects.IsPlainObject;class qp extends t1{constructor(t,s){super(t,jp),this.setFrame(s)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!r1(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}reset(){return super.reset(),this.resetFlip().resetTint().setFrame(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}}var a1={webglRender:s1,canvasRender:n1};Object.assign(qp.prototype,a1);var _p=function(i,t){typeof t=="string"&&(t={frame:t});var s=i.poolManager?i.poolManager.allocate(jp):null;return s===null?s=new qp(i):s.setParent(i).setActive(),s.modifyPorperties(t),i.addChild(s),s},h1=function(i,t,s,g,C,M){_p(this,{frame:t,x:s,y:g,width:C,height:M})},o1=function(i,t,s,g,C,M){var o=this.texture.get(t),T=o.width,e=o.height,u=Math.floor(C/T),x=Math.floor(M/e);s+=(C-u*T)/2,g+=(M-x*e)/2;for(var d=0;d<u;d++)for(var l=0;l<x;l++)_p(this,{frame:t,x:s+d*T,y:g+l*e})};const l1={_drawImage:h1,_drawTileSprite:o1};class oh extends Hp(Jp,"rexNinePatch2"){setBaseTexture(t,s,g,C){return this.setTexture(t,s),super.setBaseTexture(t,s,g,C),this}}Object.assign(oh.prototype,l1);nt.register("ninePatch2",function(i,t,s,g,C,M,o,T){var e=new oh(this.scene,i,t,s,g,C,M,o,T);return this.scene.add.existing(e),e});st(window,"RexPlugins.UI.NinePatch2",oh);const is=Phaser.Utils.Objects.GetValue;class tg{constructor(t,s,g,C,M){t===void 0&&(t=0),s===void 0&&(s=t),g===void 0&&(g=0),C===void 0&&(C=0),M===void 0&&(M=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,s,g,C,M)}setTo(t,s,g,C,M){return this.setPosition(t,s),this.setRadius(M),this.setSize(g,C),this}setPosition(t,s){return this.x=t,this.y=s,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,s){return this.width=t,this.height=s,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var s,g;typeof t=="number"?(s=t,g=t):(s=is(t,"x",0),g=is(t,"y",0));var C=this.cornerRadius;C.tl=Qr(is(t,"tl",void 0),s,g),C.tr=Qr(is(t,"tr",void 0),s,g),C.bl=Qr(is(t,"bl",void 0),s,g),C.br=Qr(is(t,"br",void 0),s,g)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){qr(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){qr(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){qr(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){qr(this.cornerRadius.br,t)}}var Qr=function(i,t,s){return i===void 0?i={x:t,y:s}:typeof i=="number"&&(i={x:i,y:i}),eg(i),i},qr=function(i,t){typeof t=="number"?(i.x=t,i.y=t):(i.x=is(t,"x",0),i.y=is(t,"y",0)),eg(i)},eg=function(i){i.convex=i.x>=0||i.y>=0,i.x=Math.abs(i.x),i.y=Math.abs(i.y)},Pi=function(i,t,s){var g=s.length;if(g>=2){var C=s[g-2],M=s[g-1];if(i===C&&t===M)return s}return s.push(i,t),s};const hf=Phaser.Math.DegToRad;var se=function(i,t,s,g,C,M,o,T,e){o&&M>C?M-=360:!o&&M<C&&(M+=360);var u=M-C,x=hf(u)/T;C=hf(C);for(var d=0;d<=T;d++){var l=C+x*d,h=i+s*Math.cos(l),n=t+g*Math.sin(l);Pi(h,n,e)}return e},u1=Phaser.Renderer.WebGL.Utils,ig=function(i,t,s,g,C,M){for(var o=u1.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*g),T=s.pathData,e=s.pathIndexes,u=0;u<e.length;u+=3){var x=e[u]*2,d=e[u+1]*2,l=e[u+2]*2,h=T[x+0]-C,n=T[x+1]-M,r=T[d+0]-C,f=T[d+1]-M,a=T[l+0]-C,c=T[l+1]-M,p=t.getX(h,n),v=t.getY(h,n),m=t.getX(r,f),y=t.getY(r,f),E=t.getX(a,c),P=t.getY(a,c);i.batchTri(s,p,v,m,y,E,P,0,0,1,1,o,o,o,2)}},d1=Phaser.Renderer.WebGL.Utils,lh=function(i,t,s,g,C){var M=i.strokeTint,o=d1.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*s);M.TL=o,M.TR=o,M.BL=o,M.BR=o;var T=t.pathData,e=T.length-1,u=t.lineWidth,x=u/2,d=T[0]-g,l=T[1]-C;t.closePath||(e-=2);for(var h=2;h<e;h+=2){var n=T[h]-g,r=T[h+1]-C;i.batchLine(d,l,n,r,x,x,u,h-2,t.closePath?h===e-1:!1),d=n,l=r}};const f1=Phaser.GameObjects.GetCalcMatrix;var c1=function(i,t,s,g){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var C=i.pipelines.set(t.pipeline),M=f1(t,s,g),o=C.calcMatrix.copyFrom(M.calc),T=t._displayOriginX,e=t._displayOriginY,u=s.alpha*t.alpha;i.pipelines.preBatch(t),t.isFilled&&ig(C,o,t,u,T,e),t.isStroked&&lh(C,t,u,T,e),i.pipelines.postBatch(t)},Or=function(i,t,s,g){var C=s||t.fillColor,M=g||t.fillAlpha,o=(C&16711680)>>>16,T=(C&65280)>>>8,e=C&255;i.fillStyle="rgba("+o+","+T+","+e+","+M+")"},br=function(i,t,s,g){var C=s||t.strokeColor,M=g||t.strokeAlpha,o=(C&16711680)>>>16,T=(C&65280)>>>8,e=C&255;i.strokeStyle="rgba("+o+","+T+","+e+","+M+")",i.lineWidth=t.lineWidth};const v1=Phaser.Renderer.Canvas.SetTransform;var p1=function(i,t,s,g){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var C=i.currentContext;if(v1(i,C,t,s,g)){var M=t._displayOriginX,o=t._displayOriginY,T=t.pathData,e=T.length-1,u=T[0]-M,x=T[1]-o;C.beginPath(),C.moveTo(u,x),t.closePath||(e-=2);for(var d=2;d<e;d+=2){var l=T[d]-M,h=T[d+1]-o;C.lineTo(l,h)}C.closePath(),t.isFilled&&(Or(C,t),C.fill()),t.isStroked&&(br(C,t),C.stroke()),C.restore()}};const g1={renderWebGL:c1,renderCanvas:p1},m1=Phaser.GameObjects.Shape,x1=Phaser.Utils.Objects.IsPlainObject,of=Phaser.Utils.Objects.GetValue,y1=Phaser.Geom.Polygon.Earcut;class Xi extends m1{constructor(t,s,g,C,M,o,T,e){var u,x,d,l;if(x1(s)){var h=s;s=h.x,g=h.y,C=h.width,M=h.height,o=h.radius,T=h.color,e=h.alpha,u=h.strokeColor,x=h.strokeAlpha,d=h.strokeWidth,l=h.shape}s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=1),M===void 0&&(M=C),o===void 0&&(o=0),l===void 0&&(l=0);var n=new tg;if(super(t,"rexRoundRectangleShape",n),this.setShapeType(l),this.shapeType===0){var r=of(o,"radius",o);n.setTo(0,0,C,M,r)}else{var r={x:C/2,y:M/2};n.setTo(0,0,C,M,r)}var f=of(o,"iteration",void 0);this.setIteration(f),this.setPosition(s,g),this.setFillStyle(T,e),u!==void 0&&d===void 0&&(d=2),this.setStrokeStyle(d,u,x),this.updateDisplayOrigin(),this.dirty=!0}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,s){return s===void 0&&(s=1),this.fillColor=t,this.fillAlpha=s,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,s,g){return g===void 0&&(g=1),this.lineWidth=t,this.strokeColor=s,this.strokeAlpha=g,this}updateData(){var t=this.geom,s=this.pathData;s.length=0;var g=t.width,C=t.height,M=t.cornerRadius,o,T=this.iteration+1;if(o=M.tl,_r(o))if(o.convex){var e=o.x,u=o.y;se(e,u,o.x,o.y,180,270,!1,T,s)}else{var e=0,u=0;se(e,u,o.x,o.y,90,0,!0,T,s)}else Pi(0,0,s);if(o=M.tr,_r(o))if(o.convex){var e=g-o.x,u=o.y;se(e,u,o.x,o.y,270,360,!1,T,s)}else{var e=g,u=0;se(e,u,o.x,o.y,180,90,!0,T,s)}else Pi(g,0,s);if(o=M.br,_r(o))if(o.convex){var e=g-o.x,u=C-o.y;se(e,u,o.x,o.y,0,90,!1,T,s)}else{var e=g,u=C;se(e,u,o.x,o.y,270,180,!0,T,s)}else Pi(g,C,s);if(o=M.bl,_r(o))if(o.convex){var e=o.x,u=C-o.y;se(e,u,o.x,o.y,90,180,!1,T,s)}else{var e=0,u=C;se(e,u,o.x,o.y,360,270,!0,T,s)}else Pi(0,C,s);return s.push(s[0],s[1]),this.pathIndexes=y1(s),this}setShapeType(t){return typeof t=="string"&&(t=T1[t]),this.shapeType=t,this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,s){if(s===void 0&&(s=t),this.geom.width===t&&this.geom.height===s)return this;this.geom.setSize(t,s),this.shapeType===1&&this.setRadius({x:t/2,y:s/2}),this.updateDisplayOrigin(),this.dirty=!0;var g=this.input;return g&&!g.customHitArea&&(g.hitArea.width=t,g.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var _r=function(i){return i.x>0&&i.y>0};const T1={rectangle:0,circle:1};Object.assign(Xi.prototype,g1);nt.register("roundRectangle",function(i,t,s,g,C,M,o){var T=new Xi(this.scene,i,t,s,g,C,M,o);return this.scene.add.existing(T),T});st(window,"RexPlugins.UI.RoundRectangle",Xi);var Vl=function(i,t,s,g){if(s===void 0&&(s="."),g===void 0&&(g={}),!i)return g;if(t in i)return Object.assign(g,i[t]);t+=s;for(var C in i)!C.startsWith(t)||(g[C.replace(t,"")]=i[C]);return g},ho=function(i,t,s){var g=Vl(i,t);if(s)for(var C in g)s.hasOwnProperty(C)&&(g[s[C]]=g[C],delete g[C]);return g},lu=function(i,t,s){if(s===void 0&&(s={}),Array.isArray(t))for(var g,C=0,M=t.length;C<M;C++)g=t[C],s[g]=i[g];else for(var g in t)s[g]=i[g];return s},uu=function(i,t){for(var s in i)if(!(s in t)||i[s]!==t[s])return!1;for(var s in t)if(!(s in i))return!1;return!0},Js=function(i,t){if(!!t){var s=lu(i,t);if(!uu(s,t))return i.modifyStyle(t),s}};const C1={setActiveState(i){return i===void 0&&(i=!0),this.activeState===i?this:(this.activeState=i,i?this.activeStyleSave=Js(this,this.activeStyle):(Js(this,this.activeStyleSave),this.activeStyleSave=void 0),this)},setHoverState(i){return i===void 0&&(i=!0),this.hoverState===i?this:(this.hoverState=i,i?this.hoverStyleSave=Js(this,this.hoverStyle):(Js(this,this.hoverStyleSave),this.hoverStyleSave=void 0),this)},setDisableState(i){return i===void 0&&(i=!0),this.disableState===i?this:(this.disableState=i,i?this.disableStyleSave=Js(this,this.disableStyle):(Js(this,this.disableStyleSave),this.disableStyleSave=void 0),this)}};class uh extends Xi{constructor(t,s){s===void 0&&(s={}),super(t,s),this.activeStyle=ho(s,"active",oo),this.hoverStyle=ho(s,"hover",oo),this.disableStyle=ho(s,"disable",oo)}modifyStyle(t){for(var s in t)this[s]=t[s];return this}}const oo={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(uh.prototype,C1);nt.register("statesRoundRectangle",function(i){var t=new uh(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.StatesRoundRectangle",uh);const S1=Phaser.Renderer.WebGL.Utils;var E1=function(i,t,s,g){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){s.addToRenderList(t);var C=t.frame,M=C.width,o=C.height,T=S1.getTintAppendFloatAlpha,e=i.pipelines.set(t.pipeline,t),u=e.setTexture2D(C.glTexture,t);i.pipelines.preBatch(t),e.batchTexture(t,C.glTexture,M,o,t.x,t.y,M/t.resolution,o/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,M,o,T(t.tintTopLeft,s.alpha*t._alphaTL),T(t.tintTopRight,s.alpha*t._alphaTR),T(t.tintBottomLeft,s.alpha*t._alphaBL),T(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,g,!1,u),i.pipelines.postBatch(t)}},P1=function(i,t,s,g){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(s.addToRenderList(t),i.batchSprite(t,t.frame,s,g))};const M1={renderWebGL:E1,renderCanvas:P1},w1=Phaser.Display.Color,A1={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(i){return this.context.fillStyle=i,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(i,t,s,g,C,M,o,T,e,u){var x=this.scene.sys.textures.getFrame(i,t);if(!x)return this;var d=x.cutWidth,l=x.cutHeight;s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=d),M===void 0&&(M=l),o===void 0&&(o=0),T===void 0&&(T=0),e===void 0&&(e=d),u===void 0&&(u=l);var h=x.cutX+o,n=x.cutY+T;return this.context.drawImage(x.source.image,h,n,e,u,s,g,C,M),this.dirty=!0,this},getDataURL(i,t){return this.canvas.toDataURL(i,t)},getPixel(i,t,s){s===void 0&&(s=new w1);var g=this.context.getImageData(i,t,1,1);return s.setTo(g.data[0],g.data[1],g.data[2],g.data[3]),s},setPixel(i,t,s,g,C,M){if(typeof s!="number"){var o=s;s=o.red,g=o.green,C=o.blue,M=o.alpha}M===void 0&&(M=s!==0||g!==0||C!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=s,T.data[1]=g,T.data[2]=C,T.data[3]=M,this.context.putImageData(T,i,t),this.dirty=!0,this}};var sg=function(i,t,s,g,C,M,o){var T=i.sys.textures,e=i.renderer;g===void 0&&(g=0),C===void 0&&(C=0),M===void 0&&(M=t.width),o===void 0&&(o=t.height);var u;T.exists(s)?u=T.get(s):u=T.createCanvas(s,M,o);var x=u.getSourceImage();x.width!==M&&(x.width=M),x.height!==o&&(x.height=o);var d=x.getContext("2d",{willReadFrequently:!0});d.clearRect(0,0,M,o),d.drawImage(t,g,C,M,o),e.gl&&u&&e.canvasToTexture(x,u.source[0].glTexture,!0,0)};const R1={updateTexture(i,t){i&&(t?i.call(t,this.canvas,this.context):i(this.canvas,this.context)),(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},generateTexture(i,t,s,g,C){var M=this.canvas;return g===void 0?g=M.width:g*=this.resolution,C===void 0?C=M.height:C*=this.resolution,sg(this.scene,M,i,t,s,g,C),this},loadTexture(i,t){var s=this.scene.sys.textures.getFrame(i,t);return s?(this.width!==s.cutWidth||this.height!==s.cutHeight?this.setSize(s.cutWidth,s.cutHeight):this.clear(),this.drawFrame(i,t),this.dirty=!0,this):this}},lf=Phaser.Display.Canvas.CanvasPool,O1=Phaser.GameObjects.GameObject;class vs extends O1{constructor(t,s,g,C,M){s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=1),M===void 0&&(M=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=1,this._width=C,this._height=M,C=Math.max(Math.ceil(C*this.resolution),1),M=Math.max(Math.ceil(M*this.resolution),1),this.canvas=lf.create(this,C,M),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(s,g),this.setOrigin(.5,.5),this.initPipeline(),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){lf.remove(this.canvas),this.texture.destroy(),this.canvas=null,this.context=null}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,s){return this._width===t&&this._height===s?this:(this._width=t,this._height=s,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),s=Math.max(Math.ceil(s*this.resolution),1),this.canvas.width=t,this.canvas.height=s,this.frame.setSize(t,s),this.dirty=!0,this)}setSize(t,s){return this.setCanvasSize(t,s),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,s){return this.displayWidth=t,this.displayHeight=s,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,s){return this.setSize(t,s),this}}const Ce=Phaser.GameObjects.Components;Phaser.Class.mixin(vs,[Ce.Alpha,Ce.BlendMode,Ce.Crop,Ce.Depth,Ce.Flip,Ce.GetBounds,Ce.Mask,Ce.Origin,Ce.Pipeline,Ce.PostPipeline,Ce.ScrollFactor,Ce.Tint,Ce.Transform,Ce.Visible,M1,A1,R1]);const b1=Phaser.Utils.String.Pad;var yt=function(i,t,s){if(i==null)return i;switch(typeof i){case"string":return i;case"number":return`#${b1(Math.floor(i).toString(16),6,"0",1)}`;case"function":return i(t,s);case"object":return i.hasOwnProperty("r")?i.hasOwnProperty("a")?`rgba(${i.r},${i.g},${i.b},${i.a})`:`rgb(${i.r},${i.g},${i.b})`:i.hasOwnProperty("h")?i.hasOwnProperty("a")?`hsla(${i.h},${i.s},${i.l},${i.a})`:`hsl(${i.h},${i.s},${i.l})`:i;default:return i}};const uf=Phaser.Math.DegToRad;var ng=function(i,t,s,g,C,M,o){var T=new tg(t,s,g,C,M),e=T.minWidth,u=T.minHeight,x=g>=e?1:g/e,d=C>=u?1:C/u,l=T.cornerRadius,h,n,r,f,a;i.save(),i.beginPath(),i.translate(t,s),h=l.tl,ea(h)?(n=h.x*x,r=h.y*d,ta(h)?(f=n,a=r,Zi(i,f,a,n,r,180,270,!1,o)):(f=0,a=0,Zi(i,f,a,n,r,90,0,!0,o))):i.lineTo(0,0),h=l.tr,ea(h)?(n=h.x*x,r=h.y*d,ta(h)?(f=g-n,a=r,Zi(i,f,a,n,r,270,360,!1,o)):(f=g,a=0,Zi(i,f,a,n,r,180,90,!0,o))):i.lineTo(g,0),h=l.br,ea(h)?(n=h.x*x,r=h.y*d,ta(h)?(f=g-n,a=C-r,Zi(i,f,a,n,r,0,90,!1,o)):(f=g,a=C,Zi(i,f,a,n,r,270,180,!0,o))):i.lineTo(g,C),h=l.bl,ea(h)?(n=h.x*x,r=h.y*d,ta(h)?(f=n,a=C-r,Zi(i,f,a,n,r,90,180,!1,o)):(f=0,a=C,Zi(i,f,a,n,r,360,270,!0,o))):i.lineTo(0,C),i.closePath(),i.restore()},ta=function(i){return!i.hasOwnProperty("convex")||i.convex},ea=function(i){return i.x>0&&i.y>0},Zi=function(i,t,s,g,C,M,o,T,e){if(T&&o>M?o-=360:!T&&o<M&&(o+=360),M=uf(M),o=uf(o),e==null)i.ellipse(t,s,g,C,0,M,o,T);else{e+=1;for(var u,x,d,l=(o-M)/e,h=0;h<=e;h++)d=M+l*h,u=t+g*Math.cos(d),x=s+C*Math.sin(d),i.lineTo(u,x)}},L1=function(i,t,s,g,C,M,o,T,e,u,x,d,l){if(ng(t,s,g,C,M,o,l),T!=null){if(x!=null){var h;d?h=t.createLinearGradient(0,0,C,0):h=t.createLinearGradient(0,0,0,M),h.addColorStop(0,T),h.addColorStop(1,x),T=h}t.fillStyle=T,t.fill()}e!=null&&u>0&&(t.strokeStyle=e,t.lineWidth=u,t.stroke())},du=function(i,t,s,g,C,M,o,T){if(!(t==null&&s==null)){var e=i.canvas.width,u=i.canvas.height;s==null&&(g=0);var x=g/2;e=Math.max(1,e-g),u=Math.max(1,u-g),L1(i.canvas,i.context,x,x,e,u,C,t,s,g,M,o,T)}},F1=function(){du(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const df=Phaser.Utils.Objects.GetValue;class rg extends vs{constructor(t,s,g,C,M,o,T,e,u,x,d){s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=1),M===void 0&&(M=C),o===void 0&&(o=0),super(t,s,g,C,M),this.type="rexRoundRectangleCanvas";var l=df(o,"radius",o),h=df(o,"iteration",void 0);this.setRadius(l),this.setIteration(h),this.setFillStyle(T,x,d),this.setStrokeStyle(e,u)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=yt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=yt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,s,g){return g===void 0&&(g=!0),this.fillStyle=t,this.fillColor2=s,this.isHorizontalGradient=g,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=yt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,s){return this.strokeStyle=t,this.lineWidth=s,this}updateTexture(){return this.clear(),F1.call(this),super.updateTexture(),this}}nt.register("roundRectangleCanvas",function(i,t,s,g,C,M,o,T,e,u){var x=new rg(this.scene,i,t,s,g,C,M,o,T,e,u);return this.scene.add.existing(x),x});st(window,"RexPlugins.UI.RoundRectangleCanvas",rg);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var D1=Phaser.Renderer.WebGL.Utils,I1=function(i,t,s,g){if(!(t.width===0||t.height===0)){s.addToRenderList(t);var C=t.frame,M=C.width,o=C.height,T=D1.getTintAppendFloatAlpha,e=i.pipelines.set(t.pipeline,t),u=e.setTexture2D(C.glTexture,t);i.pipelines.preBatch(t),e.batchTexture(t,C.glTexture,M,o,t.x,t.y,M/t.style.resolution,o/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,M,o,T(t.tintTopLeft,s.alpha*t._alphaTL),T(t.tintTopRight,s.alpha*t._alphaTR),T(t.tintBottomLeft,s.alpha*t._alphaBL),T(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,g,!1,u),i.pipelines.postBatch(t)}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var B1=function(i,t,s,g){t.width===0||t.height===0||(s.addToRenderList(t),i.batchSprite(t,t.frame,s,g))};const G1={renderWebGL:I1,renderCanvas:B1},lo=Phaser.Display.Canvas.CanvasPool;var N1=function(i,t,s){s===void 0&&(s={});var g=lo.create(this),C=g.getContext("2d",{willReadFrequently:!0});i.syncFont(g,C);var M=C.measureText(t),o=Math.ceil(M.width*i.baselineX),T=o,e=2*T;if(T=T*i.baselineY|0,g.width=o,g.height=e,C.fillStyle="#f00",C.fillRect(0,0,o,e),C.font=i._font,C.textBaseline="alphabetic",C.fillStyle="#000",C.fillText(i.testString,0,T),s.left=0,o===0||e===0||!C.getImageData(0,0,o,e))return lo.remove(g),s;for(var u=C.getImageData(0,0,o,e).data,x=!1,d=0;d<o;d++){for(var l=0;l<e;l++){var h=(l*o+d)*4;if(u[h]!==255){s.left=d,x=!0;break}}if(x)break}return lo.remove(g),s};const z1=Phaser.GameObjects.GameObject;class ag extends z1{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,s){return this.style.setFixedSize(t,s)}setBackgroundColor(t,s,g){return this.style.setBackgroundColor(t,s,g)}setBackgroundStrokeColor(t,s){return this.style.setBackgroundStrokeColor(t,s)}setBackgroundCornerRadius(t,s){return this.style.setBackgroundCornerRadius(t,s)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,s){return this.style.setStroke(t,s)}setShadow(t,s,g,C,M,o){return this.style.setShadow(t,s,g,C,M,o)}setShadowOffset(t,s){return this.style.setShadowOffset(t,s)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}setLineSpacing(t){return this.style.setLineSpacing(t)}set lineSpacing(t){this.setLineSpacing(t)}get lineSpacing(){return this.style.lineSpacing}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,s){return this.style.setTextMetrics(t,s)}measureTextMargins(t,s){return N1(this.style,t,s)}}const ge=Phaser.GameObjects.Components;Phaser.Class.mixin(ag,[ge.Alpha,ge.BlendMode,ge.ComputedSize,ge.Crop,ge.Depth,ge.Flip,ge.GetBounds,ge.Mask,ge.Origin,ge.Pipeline,ge.PostPipeline,ge.ScrollFactor,ge.Tint,ge.Transform,ge.Visible,G1]);var V1={backgroundColor:["backgroundColor",null,yt],backgroundColor2:["backgroundColor2",null,yt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,yt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",yt],stroke:["stroke","#fff",yt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",yt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",yt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|M\xC3\u2030qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const ia=Phaser.Display.Canvas.CanvasPool;var ff=function(i){var t=ia.create(this),s=t.getContext("2d",{willReadFrequently:!0});i.syncFont(t,s);var g=s.measureText(i.testString);if("actualBoundingBoxAscent"in g){var C=g.actualBoundingBoxAscent,M=g.actualBoundingBoxDescent,u={ascent:C,descent:M,fontSize:C+M};return ia.remove(t),u}var o=Math.ceil(g.width*i.baselineX),T=o,e=2*T;T=T*i.baselineY|0,t.width=o,t.height=e,s.fillStyle="#f00",s.fillRect(0,0,o,e),s.font=i._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(i.testString,0,T);var u={ascent:0,descent:0,fontSize:0};if(!s.getImageData(0,0,o,e))return u.ascent=T,u.descent=T+6,u.fontSize=u.ascent+u.descent,ia.remove(t),u;var x=s.getImageData(0,0,o,e).data,d=x.length,l=o*4,h,n,r=0,f=!1;for(h=0;h<T;h++){for(n=0;n<l;n+=4)if(x[r+n]!==255){f=!0;break}if(!f)r+=l;else break}for(u.ascent=T-h,r=d-l,f=!1,h=e;h>T;h--){for(n=0;n<l;n+=4)if(x[r+n]!==255){f=!0;break}if(!f)r-=l;else break}return u.descent=h-T,u.fontSize=u.ascent+u.descent,ia.remove(t),u},_t={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/};const U1=Phaser.Utils.Objects.GetAdvancedValue,Oe=Phaser.Utils.Objects.GetValue;class fu{constructor(t,s,g){this.parent=t,g===void 0&&(g=V1),this.propertyMap=g,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(s,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==_t.NO_WRAP&&this.wrapWidth===0}setStyle(t,s,g){if(s===void 0&&(s=!0),g===void 0&&(g=!1),t&&t.hasOwnProperty("wrap")){var C=t.wrap;if(C.hasOwnProperty("mode")){var M=C.mode;typeof M=="string"&&(C.mode=cf[M])}else C.hasOwnProperty("width")&&(C.mode=1)}t&&t.rtl&&g&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var o=this.propertyMap;for(var T in o){var e=o[T],u=e[0],x=g?e[1]:this[T],d=e[2];if(T==="wrapCallback"||T==="wrapCallbackScope")this[T]=Oe(t,u,x);else{var l=U1(t,u,x);d&&(l=d(l)),this[T]=l}}var h=Oe(t,"font",null);h===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=h;var n=Oe(t,"fill",null);n!==null&&(this.color=yt(n));var r=Oe(t,"metrics",!1);return r?this.metrics={ascent:Oe(r,"ascent",0),descent:Oe(r,"descent",0),fontSize:Oe(r,"fontSize",0)}:(s||!this.metrics)&&(this.metrics=ff(this)),s?this.parent.updateText():this.parent}syncFont(t,s){s.font=this._font}syncStyle(t,s){s.textBaseline="alphabetic",s.fillStyle=this.color,s.strokeStyle=this.stroke,s.lineWidth=this.strokeThickness,s.lineCap="round",s.lineJoin="round"}syncShadow(t,s){s?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=ff(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Oe(t,"fontFamily","Courier"),this.fontSize=Oe(t,"fontSize","16px"),this.fontStyle=Oe(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,s){return this.fixedWidth=t,this.fixedHeight=s,t&&(this.parent.width=t),s&&(this.parent.height=s),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setLineSpacing(t){return this.lineSpacing=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,s,g){return g===void 0&&(g=!0),this.backgroundColor=yt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=yt(s,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=g,this.update(!1)}setBackgroundStrokeColor(t,s){return this.backgroundStrokeColor=yt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=s,this.update(!1)}setBackgroundCornerRadius(t,s){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=s,this.update(!1)}setFill(t){return this.color=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,s){return t===void 0?this.strokeThickness=0:(s===void 0&&(s=this.strokeThickness),this.stroke=yt(t,this.parent.canvas,this.parent.context),this.strokeThickness=s),this.update(!0)}setShadow(t,s,g,C,M,o){return t===void 0&&(t=0),s===void 0&&(s=0),g===void 0&&(g="#000"),C===void 0&&(C=0),M===void 0&&(M=!1),o===void 0&&(o=!0),this.shadowOffsetX=t,this.shadowOffsetY=s,this.shadowColor=yt(g,this.parent.canvas,this.parent.context),this.shadowBlur=C,this.shadowStroke=M,this.shadowFill=o,this.update(!1)}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=t),this.shadowOffsetX=t,this.shadowOffsetY=s,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,s,g){return t===void 0&&(t="#000"),s===void 0&&(s=0),g===void 0&&(g=0),this.underlineColor=yt(t,this.parent.canvas,this.parent.context),this.underlineThickness=s,this.underlineOffset=g,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=yt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=cf[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,s){return t===void 0&&(t="left"),s===void 0&&(s="top"),this.halign=t,this.valign=s,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,s){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,s&&(typeof s=="string"?(this.fontFamily=s,this.fontSize="",this.fontStyle=""):(this.fontFamily=Oe(s,"fontFamily",this.fontFamily),this.fontSize=Oe(s,"fontSize",this.fontSize),this.fontStyle=Oe(s,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}toJSON(){var t={},s=this.propertyMap;for(var g in s)t[g]=this[g];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}}const cf={none:_t.NO_WRAP,word:_t.WORD_WRAP,char:_t.CHAR_WRAP,character:_t.CHAR_WRAP},Y1={draw(i,t,s,g){var C=this.penManager;this.hitAreaManager.clear();var M=this.context;M.save();var o=this.defaultStyle;this.clear(),du(this,o.backgroundColor,o.backgroundStrokeColor,o.backgroundStrokeLineWidth,o.backgroundCornerRadius,o.backgroundColor2,o.backgroundHorizontalGradient,o.backgroundCornerIteration),i+=this.startXOffset,t+=this.startYOffset;var T=o.halign,e=o.valign,u,x=o.lineHeight,d=C.lines,l=d.length,h=o.maxLines,n,r,f;h>0&&l>h?(n=h,e==="center"?r=Math.floor((l-n)/2):e==="bottom"?r=l-n:r=0):(n=l,r=0),f=r+n;var a,c,p=this.rtl,v=p?this.parent.width:void 0;e==="center"?c=Math.max((g-n*x)/2,0):e==="bottom"?c=Math.max(g-n*x-2,0):c=0,c+=t;for(var m=r;m<f;m++)if(u=C.getLineWidth(m),u!==0){for(var y=d[m],E=y.length,P=T,S=0;S<E;S++){var w=y[S].prop.align;if(w!==void 0){P=w;break}}P==="center"?a=(s-u)/2:P==="right"?a=p?0:s-u:a=p?s-u:0,a+=i;for(var S=0;S<E;S++)this.drawPen(y[S],a,c,v)}M.restore()},drawPen(i,t,s,g){t+=i.x,s+=i.y+(i.prop.y||0),g!==void 0&&(t=g-t);var C=this.canvas,M=this.context;M.save();var o=this.parser.propToContextStyle(this.defaultStyle,i.prop);if(o.buildFont(),o.syncFont(C,M),o.syncStyle(C,M),o.underlineThickness>0&&i.width>0&&this.drawUnderline(t,s,i.width,o),i.isTextPen&&this.drawText(t,s,i.text,o),i.isImagePen&&this.drawImage(t,s,i.prop.img,o),M.restore(),i.hasAreaMarker&&i.width>0){var T,e=i.prop.area;if(e)T={key:e};else{var u=i.prop.url;T={key:`url:${u}`,url:u}}this.hitAreaManager.add(t,s-this.startYOffset,i.width,this.defaultStyle.lineHeight,T)}},clear(){var i=this.canvas;this.context.clearRect(0,0,i.width,i.height)},drawUnderline(i,t,s,g){t+=g.underlineOffset-g.underlineThickness/2,this.autoRound&&(i=Math.round(i),t=Math.round(t));var C=this.context,M=C.lineCap;C.lineCap="butt",C.strokeStyle=g.underlineColor,C.lineWidth=g.underlineThickness,C.beginPath(),C.moveTo(i,t),C.lineTo(i+s,t),C.stroke(),C.lineCap=M},drawText(i,t,s,g){this.autoRound&&(i=Math.round(i),t=Math.round(t));var C=this.context;g.stroke&&g.stroke!=="none"&&g.strokeThickness>0&&(g.syncShadow(C,g.shadowStroke),C.strokeText(s,i,t)),g.color&&g.color!=="none"&&(g.syncShadow(C,g.shadowFill),C.fillText(s,i,t))},drawImage(i,t,s,g){t-=this.startYOffset,this.parent.imageManager.draw(s,this.context,i,t,this.autoRound)}},Cs=Phaser.Utils.Objects.GetValue,X1=_t.NO_NEWLINE,vf=_t.RAW_NEWLINE;class k1{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=Cs(t,"text",""),this.x=Cs(t,"x",0),this.y=Cs(t,"y",0),this.width=Cs(t,"width",0);var s=Cs(t,"prop",null);s===null&&(s={}),this.prop=s,this.newLineMode=Cs(t,"newLineMode",0),this.startIndex=Cs(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===vf&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==X1&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===vf&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var zs=function(i,t){var s=Array.isArray(i);if(t===void 0?t=s?[]:{}:Ni(t),s){t.length=i.length;for(var g=0,C=i.length;g<C;g++)t[g]=i[g]}else for(var M in i)t[M]=i[M];return t};const pf=Phaser.Utils.Objects.GetFastValue,gf=_t.NO_NEWLINE,W1=_t.WRAPPED_NEWLINE;class cu{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=pf(t,"tagToText",ve),this.tagToTextScope=pf(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,s=this.lines.length;t<s;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,s,g,C,M,o){var T=this.pensPool.pop();return T==null&&(T=new k1),Ss.text=t,Ss.x=s,Ss.y=g,Ss.width=C,Ss.prop=M,Ss.newLineMode=o,T.resetFromJSON(Ss),this.addPen(T),this}addImagePen(t,s,g,C){return this.addTextPen("",t,s,g,C,gf),this}addNewLinePen(){var t=this.lastPen,s=t?t.lastX:0,g=t?t.y:0,C=t?zs(t.prop):null;return this.addTextPen("",s,g,0,C,W1),this}addPen(t){var s=this.lastPen;s==null?t.startIndex=0:t.startIndex=s.endIndex,this.pens.push(t);var g=this.lastLine;g==null&&(g=this.linesPool.pop()||[],this.lines.push(g)),g.push(t),t.newLineMode!==gf&&(g=this.linesPool.pop()||[],this.lines.push(g)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new cu),t.clear();for(var s=0,g=this.lines.length;s<g;s++)for(var C=this.lines[s],M=0,o=C.length;M<o;M++){var T=C[M];t.addPen(T.text,T.x,T.y,T.width,zs(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var s=this.lines[t];return s&&s[0]?s[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var s,g=!1,C;for(s=t;s>=0&&(C=this.lines[s],g=C!=null&&C.length>0,!g);s--);if(!g)return 0;var M=C[C.length-1];return M.endIndex}getLineWidth(t){var s=this.lines[t];if(!s)return 0;var g=s[s.length-1];if(g==null)return 0;var C=g.lastX;return C}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,s=0,g=0,C=this.lines.length;g<C;g++)t=this.getLineWidth(g),t>s&&(s=t);return this.maxLinesWidth=s,s}getLineWidths(){for(var t=[],s=0,g=this.lines.length;s<g;s++)t.push(this.getLineWidth(s));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",s=this.pens,g=0,C=s.length;g<C;g++)t+=s[g].plainText;return t}get rawTextLength(){for(var t=0,s=this.pens,g=0,C=this.pens.length;g<C;g++)t+=s[g].rawTextLength;return t}getSliceTagText(t,s,g){if(t===void 0&&(t=0),s===void 0){var C=this.lastPen;if(C==null)return"";s=C.endIndex}g===void 0&&(g=!1);for(var M="",o,T,e,u,x,d,l,h=0,n=this.pens.length;h<n&&(o=this.pens[h],u=o.endIndex,!(!(u<=t)&&(o=this.pens[h],T=g?o.wrapText:o.plainText,d=o.prop,e=o.startIndex,x=e>=t&&u<=s,x||(T=T.substring(t-e,s-e)),this.tagToTextScope?M+=this.tagToText.call(this.tagToTextScope,T,d,l):M+=this.tagToText(T,d,l),l=d,u>=s)));h++);return M}get length(){return this.lines.length}set length(t){this.clear()}}var Ss={};const H1=Phaser.Geom.Rectangle;var mf=new Ei;class $1{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,s=this.hitAreas.length;t<s;t++)Ni(this.hitAreas[t].data);return mf.pushMultiple(this.hitAreas),this}add(t,s,g,C,M){var o=mf.pop();return o===null?o=new H1(t,s,g,C):o.setTo(t,s,g,C),o.data=M,this.hitAreas.push(o),this}getFirst(t,s){for(var g=0,C=this.hitAreas.length;g<C;g++){var M=this.hitAreas[g];if(M.contains(t,s))return M}return null}getByKey(t){for(var s=0,g=this.hitAreas.length;s<g;s++){var C=this.hitAreas[s];if(C.data.key===t)return C}return null}drawBounds(t,s,g){s===void 0&&(s=16777215),g&&t.save().scaleCanvas(g.scaleX,g.scaleY).rotateCanvas(g.rotation).translateCanvas(g.x,g.y);for(var C=0,M=this.hitAreas.length;C<M;C++){var o=this.hitAreas[C];t.lineStyle(1,s).strokeRect(o.x,o.y,o.width,o.height)}return g&&t.restore(),this}}var K1=function(){this.parent.on("pointerdown",Z1,this).on("pointerup",J1,this).on("pointermove",uo,this).on("pointerover",uo,this).on("pointerout",function(i,t){uo.call(this,i,null,null,t)},this)},Z1=function(i,t,s,g){var C=this.hitAreaManager.getFirst(t,s);if(C!==null){var M=C.data.key;An.call(this,"areadown",M,i,t,s,g),C.data.isDown=!0}},J1=function(i,t,s,g){var C=this.hitAreaManager.getFirst(t,s);if(C!==null){var M=C.data,o=M.key;if(An.call(this,"areaup",o,i,t,s,g),M.isDown){An.call(this,"areaclick",o,i,t,s,g);var T=M.url;T&&window.open(T,"_blank")}M.isDown=!1}},uo=function(i,t,s,g){if(t===null){this.lastHitAreaKey!==null&&(An.call(this,"areaout",this.lastHitAreaKey,i,t,s,g),this.hitAreaManager.getByKey(this.lastHitAreaKey).isDown=!1,this.lastHitAreaKey=null);return}var C=this.hitAreaManager.getFirst(t,s),M=C?C.data.key:null;if(this.lastHitAreaKey!==M){if(this.lastHitAreaKey!==null){An.call(this,"areaout",this.lastHitAreaKey,i,t,s,g);var o=this.hitAreaManager.getByKey(this.lastHitAreaKey);this.urlTagCursorStyle&&!!o.data.url&&(this.scene.input.manager.canvas.style.cursor=""),o.isDown=!1}M!==null&&(An.call(this,"areaover",M,i,t,s,g),this.urlTagCursorStyle&&!!C.data.url&&(this.scene.input.manager.canvas.style.cursor=this.urlTagCursorStyle)),this.lastHitAreaKey=M}},An=function(i,t,s,g,C,M){this.parent.emit(`${i}-${t}`,s,g,C,M),this.parent.emit(i,t,s,g,C,M)};const j1=_t.NO_NEWLINE,Q1=_t.RAW_NEWLINE,fo=_t.WRAPPED_NEWLINE,xf=_t.NO_WRAP,q1=_t.WORD_WRAP,_1=_t.CHAR_WRAP,tT=_t.SPLITREGEXP;var hg=function(i,t,s,g,C,M){g<=0&&(s=xf);var o=[];if(!i||!i.length)return o;for(var T=s===xf,e=s===q1,u=i.split(tT),x,d,l,h=0,n=u.length;h<n;h++){if(x=u[h],l=h===n-1?j1:Q1,T){var r=t(x);o.push(M.getLine(x,r,l));continue}if(d=h===0?g-C:g,x.length<=100){var r=t(x);if(r<=d){o.push(M.getLine(x,r,l));continue}}var f,a;e?(f=x.split(" "),a=f[f.length-1]==="",a&&(f.length-=1)):f=x;for(var c,p,v,m="",y=0,E,P=e?t(" "):void 0,S=0,w=f.length;S<w;S++){if(c=f[S],p=t(c),v=S===w-1,e&&(!v||a)&&(c+=" ",p+=P),e&&p>g){m!==""?o.push(M.getLine(m,y,fo)):S===0&&C>0&&o.push(M.getLine("",0,fo)),o.push(...hg(c,t,_1,g,0,M));var A=o.pop();m=A.text,y=A.width,M.freeLine(A),m===" "&&(m="",y=0);continue}E=y+p,E>d?(o.push(M.getLine(m,y,fo)),m=c,y=p,d=g):(m+=c,y=E),v&&o.push(M.getLine(m,y,l))}}return o};const co=Phaser.Utils.Objects.GetValue,eT=_t.NO_WRAP,iT=_t.NO_NEWLINE;class og{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=co(t,"context",null),this.canvas=this.context.canvas,this.parser=co(t,"parser",null),this.defaultStyle=co(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new $1,this.lastHitAreaKey=null,this.urlTagCursorStyle=null;var s=this.context;this.getTextWidth=function(g){return s.measureText(g).width}}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,s,g,C,M){if(M===void 0&&(M=this.penManager),M.clear(),t==="")return M;var o=this.parent.style;if(o.isWrapFitMode){var T=this.parent.padding;g=o.fixedWidth-T.left-T.right}for(var e=this.canvas,u=this.context,x=function(b){return u.measureText(b).width},d=0,l=0,h=o.wrapCallback,n=o.wrapCallbackScope,r=!0,f,a,c,p=this.parser.splitText(t),v,m,y=this.wrapTextLinesPool,E=0,P=p.length;E<P;E++)if(v=this.parser.tagTextToProp(p[E],a),f=v.plainText,a=v.prop,a.img){var S=this.imageManager.getOuterWidth(a.img);g>0&&s!==eT&&g<d+S&&(M.addNewLinePen(),l+=C,d=0),M.addImagePen(d,l,S,zs(a)),d+=S}else if(f!==""){if(u.save(),c=this.parser.propToContextStyle(this.defaultStyle,a),c.buildFont(),c.syncFont(e,u),c.syncStyle(e,u),!h)m=hg(f,x,s,g,d,y);else{m=h.call(n,f,x,g,d),typeof m=="string"&&(m=m.split(`
`));for(var R,w=0,A=m.length;w<A;w++)R=m[w],typeof R=="string"?m[w]=y.getLine(R,x(R),w<A-1?2:0):r=!1}for(var R,w=0,A=m.length;w<A;w++)R=m[w],M.addTextPen(R.text,d,l,R.width,zs(a),R.newLineMode),R.newLineMode!==iT?(d=0,l+=C):d+=R.width;r&&y.freeLines(m),m=null,u.restore()}for(var E=0,P=this.lines.length;E<P;E++){var O=this.lines[E],L=O[O.length-1];L&&(L.width+=this.parser.getStrokeThinkness(this.defaultStyle,L.prop))}return M}get startXOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.xOffset}get startYOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.metrics.ascent}get lines(){return this.penManager.lines}get desplayLinesCount(){var t=this.penManager.linesCount,s=this.defaultStyle.maxLines;return s>0&&t>s&&(t=s),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.desplayLinesCount,s=this.defaultStyle.lineHeight*t;return t>0&&(s-=this.defaultStyle.lineSpacing),s}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new cu({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,s,g){var C;if(t==null)C=this.penManager.plainText;else{var M=this.parser.splitText(t,1);C="";for(var o=0,T=M.length;o<T;o++)C+=M[o]}return(s!=null||g!=null)&&(s==null&&(s=0),g==null&&(g=C.length),C=C.substring(s,g)),C}getPenManager(t,s){if(t===void 0)return this.copyPenManager(s,this.penManager);s===void 0&&(s=this.newPenManager());var g=this.defaultStyle;return this.updatePenManager(t,g.wrapMode,g.wrapWidth,g.lineHeight,s),s}getText(t,s,g,C){if(t==null)return this.penManager.getSliceTagText(s,g,C);var M=this.tmpPenManager,o=this.defaultStyle;return this.updatePenManager(t,o.wrapMode,o.wrapWidth,o.lineHeight,M),M.getSliceTagText(s,g,C)}copyPenManager(t,s){return s===void 0&&(s=this.penManager),s.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var sT={setInteractive:K1};Object.assign(og.prototype,Y1,sT);class yf extends Ei{freeLine(t){if(!!t)return this.push(t),this}freeLines(t){if(!!t)return this.pushMultiple(t),this}getLine(t,s,g){var C=this.pop();return C===null&&(C={}),C.text=t,C.width=s,C.newLineMode=g,C}}const nT=Phaser.Utils.Objects.IsPlainObject,$n=Phaser.Utils.Objects.GetValue;var vo=function(i,t){nT(i)?(t=i,i=t.key):t===void 0&&(t={key:i}),t.hasOwnProperty("key")||(t.key=i);var s=t.key,g=t.frame,C=t.width,M=t.height;if(C===void 0||M===void 0){var o=this.textureManager.getFrame(s,g),T=o?o.cutWidth:0,e=o?o.cutHeight:0;C===void 0&&M===void 0?(C=T,M=e):C===void 0?C=T*(M/e):M===void 0&&(M=e*(C/T))}this.images[i]={key:s,frame:g,width:C,height:M,y:$n(t,"y",0),left:$n(t,"left",0),right:$n(t,"right",0),originX:$n(t,"originX",0),originY:$n(t,"originY",0)}},rT=function(i,t,s,g,C){var M=this.get(i),o=this.textureManager.getFrame(M.key,M.frame),T=M.width,e=M.height;s+=M.left-M.originX*T,g+=M.y-M.originY*e,C&&(s=Math.round(s),g=Math.round(g)),t.drawImage(o.source.image,o.cutX,o.cutY,o.cutWidth,o.cutHeight,s,g,T,e)};class vu{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,s){if(typeof t=="string")vo.call(this,t,s);else if(Array.isArray(t))for(var g=t,C=0,M=g.length;C<M;C++)vo.call(this,g[C]);else{var g=t;for(var t in g)vo.call(this,t,g[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var s=this.get(t);return s?s.width+s.left+s.right:0}getFrame(t){var s=this.get(t);return s?this.textureManager.getFrame(s.key,s.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var aT={draw:rT};Object.assign(vu.prototype,aT);const hT=Phaser.Utils.Objects.IsPlainObject,oT=Phaser.DOM.AddToDOM,Tf=Phaser.Display.Canvas.CanvasPool,lT=Phaser.GameObjects.GameObject,Se=Phaser.Utils.Objects.GetValue,uT=Phaser.DOM.RemoveFromDOM,dT=_t.SPLITREGEXP;var js=null,po=null,go=null;class lg extends ag{constructor(t,s,g,C,M,o,T){if(hT(s)){var e=s;s=Se(e,"x",0),g=Se(e,"y",0),C=Se(e,"text",""),M=Se(e,"style")}if(s===void 0&&(s=0),g===void 0&&(g=0),super(t,o),this.renderer=t.sys.game.renderer,this.setPosition(s,g),this.setOrigin(0,0),this.initPipeline(),this.canvas=Tf.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,M){if(M.hasOwnProperty("align")){var u=M.align;delete M.align,M.halign=u}M.hasOwnProperty("stroke")&&!M.hasOwnProperty("strokeThickness")&&(M.strokeThickness=1)}this.style=new fu(this,M);var x=Se(M,"images",void 0);x&&this.addImage(x),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var d=Se(M,"sharedPool",!0),l,h,n;d?(js||(js={},po=new Ei,go=new yf,this.scene.game.events.once("destroy",function(){js=null,po=null,go=null})),js.hasOwnProperty(o)||(js[o]=new Ei),l=js[o],h=po,n=go):(l=new Ei,h=new Ei,n=new yf),this.canvasText=new og({parent:this,context:this.context,parser:T,style:this.style,pensPool:l,linesPool:h,wrapTextLinesPool:n}),this.parser=T,this.initRTL(),M&&M.padding&&this.setPadding(M.padding),this.setText(C),this.setUrlTagCursorStyle(Se(M,"urlTagCursorStyle","pointer")),Se(M,"interactive",!1)&&this.setInteractive()}preDestroy(){this.style.rtl&&uT(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),Tf.remove(this.canvas),this.texture.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",oT(this.canvas,this.scene.sys.canvas),this.originX=1)}setText(t){return t==null?t="":Array.isArray(t)?t=t.join(`
`):t=t.toString(),t===this._text?this:(this._text=t,this.updateText(),this)}appendText(t){return t==null?this:(Array.isArray(t)&&(t=t.join(`
`)),this.setText(this.text+t.toString()),this)}setPadding(t,s,g,C){if(typeof t=="object"){var M=t,o=Se(M,"x",null);o!==null?(t=o,g=o):(t=Se(M,"left",0),g=Se(M,"right",t));var T=Se(M,"y",null);T!==null?(s=T,C=T):(s=Se(M,"top",0),C=Se(M,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),g===void 0&&(g=t),C===void 0&&(C=s);return this.padding.left=t,this.padding.top=s,this.padding.right=g,this.padding.bottom=C,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var s=this.canvasText,g=this.style;t&&s.updatePenManager(this._text,g.wrapMode,g.wrapWidth,g.lineHeight);var C=this.padding,M,o,T=Math.ceil(s.linesWidth);g.fixedWidth===0?(this.width=T+C.left+C.right,M=T):(this.width=g.fixedWidth,M=this.width-C.left-C.right,M<T&&(M=T)),g.fixedHeight===0?(this.height=s.linesHeight+C.top+C.bottom,o=s.linesHeight):(this.height=g.fixedHeight,o=this.height-C.top-C.bottom,o<s.linesHeight&&(o=s.linesHeight));var e=this.width,u=this.height;this.updateDisplayOrigin();var x=g.resolution;e*=x,u*=x,e=Math.max(Math.ceil(e),1),u=Math.max(Math.ceil(u),1);var d=this.canvas,l=this.context;d.width!==e||d.height!==u?(d.width=e,d.height=u,this.frame.setSize(e,u)):l.clearRect(0,0,e,u),l.save(),l.scale(x,x);var h=this.style.rtl?C.right:C.left,n=C.top;s.draw(h,n,M,o),l.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=this.width,r.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),s={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=s,t}setInteractive(t,s,g){var C=!!this.input;return lT.prototype.setInteractive.call(this,t,s,g),C||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,s,g){return t=this.canvasText.getText(t,s,g,!0),t.split(dT)}getPlainText(t,s,g){return this.canvasText.getPlainText(t,s,g)}getText(t,s,g,C){return C===void 0&&(C=!1),this.canvasText.getText(t,s,g,C)}getSubString(t,s,g){return this.getText(t,s,g)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,s){return this.canvasText.getPenManager(t,s)}setSize(t,s){return this.setFixedSize(t,s)}resize(t,s){return this.setFixedSize(t,s)}get imageManager(){return this._imageManager||(this._imageManager=new vu(this.scene)),this._imageManager}addImage(t,s){return this.imageManager.add(t,s),this}drawAreaBounds(t,s){return this.canvasText.hitAreaManager.drawBounds(t,s,this),this}generateTexture(t,s,g,C,M){var o=this.canvas;return C===void 0?C=o.width:C*=this.resolution,M===void 0?M=o.height:M*=this.resolution,sg(this.scene,o,t,s,g,C,M),this}}var fT=function(i,t){for(var s=this.tagRegex,g=[],C=0,M=!1,o=!1;;){var T=s.RE_SPLITTEXT.exec(i);if(!T)break;var e=T[0];if(o)if(s.RE_ESC_CLOSE.test(e))o=!1;else continue;else if(M)if(s.RE_RAW_CLOSE.test(e))M=!1;else continue;else s.RE_ESC_OPEN.test(e)?o=!0:s.RE_RAW_OPEN.test(e)&&(M=!0);var u=s.RE_SPLITTEXT.lastIndex,x=u-e.length;if(C<x){var d=i.substring(C,x);g.push(d)}t===void 0&&g.push(e),C=u}var l=i.length;return C<l&&g.push(i.substring(C,l)),g};const te=!1,ie=!0;var cT={plainText:null,prevProp:null},vT=function(i,t){var s=this.tagRegex;t==null&&(t={});var g="";if(t.img&&Ct(t,te,"img"),t.esc)s.RE_ESC_CLOSE.test(i)?Ct(t,te,"esc"):g=i;else if(t.raw)s.RE_RAW_CLOSE.test(i)?Ct(t,te,"raw"):g=i;else if(s.RE_ESC_OPEN.test(i))Ct(t,ie,"esc",!0);else if(s.RE_ESC_CLOSE.test(i))Ct(t,te,"esc");else if(s.RE_RAW_OPEN.test(i))Ct(t,ie,"raw",!0);else if(s.RE_RAW_CLOSE.test(i))Ct(t,te,"raw");else if(s.RE_BLOD_OPEN.test(i))Ct(t,ie,"b",!0);else if(s.RE_BLOD_CLOSE.test(i))Ct(t,te,"b");else if(s.RE_ITALICS_OPEN.test(i))Ct(t,ie,"i",!0);else if(s.RE_ITALICS_CLOSE.test(i))Ct(t,te,"i");else if(s.RE_WEIGHT_OPEN.test(i)){var C=i.match(s.RE_WEIGHT_OPEN);Ct(t,ie,"weight",C[1])}else if(s.RE_WEIGHT_CLOSE.test(i))Ct(t,te,"weight");else if(s.RE_SIZE_OPEN.test(i)){var C=i.match(s.RE_SIZE_OPEN);Ct(t,ie,"size",`${C[1]}px`)}else if(s.RE_SIZE_CLOSE.test(i))Ct(t,te,"size");else if(s.RE_COLOR_OPEN.test(i)){var C=i.match(s.RE_COLOR_OPEN);Ct(t,ie,"color",C[1])}else if(s.RE_COLOR_CLOSE.test(i))Ct(t,te,"color");else if(s.RE_UNDERLINE_OPEN.test(i))Ct(t,ie,"u",!0);else if(s.RE_UNDERLINE_OPENC.test(i)){var C=i.match(s.RE_UNDERLINE_OPENC);Ct(t,ie,"u",C[1])}else if(s.RE_UNDERLINE_CLOSE.test(i))Ct(t,te,"u");else if(s.RE_SHADOW_OPEN.test(i))Ct(t,ie,"shadow",!0);else if(s.RE_SHADOW_CLOSE.test(i))Ct(t,te,"shadow");else if(s.RE_STROKE_OPEN.test(i))Ct(t,ie,"stroke",!0);else if(s.RE_STROKE_OPENC.test(i)){var C=i.match(s.RE_STROKE_OPENC);Ct(t,ie,"stroke",C[1])}else if(s.RE_STROKE_CLOSE.test(i))Ct(t,te,"stroke");else if(s.RE_OFFSETY_OPEN.test(i)){var C=i.match(s.RE_OFFSETY_OPEN);Ct(t,ie,"y",parseFloat(C[1]))}else if(s.RE_OFFSETY_CLOSE.test(i))Ct(t,te,"y");else if(s.RE_IMAGE_OPEN.test(i)){var C=i.match(s.RE_IMAGE_OPEN);Ct(t,ie,"img",C[1])}else if(s.RE_IMAGE_CLOSE.test(i))Ct(t,te,"img");else if(s.RE_AREA_OPEN.test(i)){var C=i.match(s.RE_AREA_OPEN);Ct(t,ie,"area",C[1])}else if(s.RE_AREA_CLOSE.test(i))Ct(t,te,"area");else if(s.RE_URL_OPEN.test(i)){var C=i.match(s.RE_URL_OPEN);Ct(t,ie,"url",C[1])}else if(s.RE_URL_CLOSE.test(i))Ct(t,te,"url");else if(s.RE_ALIGN_OPEN.test(i)){var C=i.match(s.RE_ALIGN_OPEN);Ct(t,ie,"align",C[1])}else s.RE_ALIGN_CLOSE.test(i)?Ct(t,te,"align"):g=i;var M=cT;return M.plainText=g,M.prop=t,M},Ct=function(i,t,s,g){return t===ie?i[s]=g:i.hasOwnProperty(s)&&delete i[s],i},pT=function(i,t){var s=mT;if(t.hasOwnProperty("img"))s.image=t.img;else{if(s.image=null,t.hasOwnProperty("family")?s.fontFamily=t.family:s.fontFamily=i.fontFamily,t.hasOwnProperty("size")){var g=t.size;typeof g=="number"&&(g=`${g}px`),s.fontSize=g}else s.fontSize=i.fontSize;s.fontStyle=gT(t),t.hasOwnProperty("color")?s.color=t.color:s.color=i.color,t.hasOwnProperty("stroke")?t.stroke===!0?(s.stroke=i.stroke,s.strokeThickness=i.strokeThickness):(s.stroke=t.stroke,s.strokeThickness=i.strokeThickness):(s.stroke=i.stroke,s.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(s.shadowColor=i.shadowColor,s.shadowOffsetX=i.shadowOffsetX,s.shadowOffsetY=i.shadowOffsetY,s.shadowBlur=i.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor=t.shadow,s.shadowOffsetX=i.shadowOffsetX,s.shadowOffsetY=i.shadowOffsetY,s.shadowBlur=i.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor="#000",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowStroke=!1,s.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(s.underlineColor=i.underlineColor,s.underlineThickness=i.underlineThickness,s.underlineOffset=i.underlineOffset):(s.underlineColor=t.u,s.underlineThickness=i.underlineThickness,s.underlineOffset=i.underlineOffset):(s.underlineColor="#000",s.underlineThickness=0,s.underlineOffset=0),s},gT=function(i){var t=i.b,s=i.weight,g=i.i;return t||s||g?g?t?"bold italic":s?`${s} italic`:"italic":t?"bold":s.toString():""},mT=new fu,xT=function(i,t,s){s==null&&(s=yT);var g=[];for(var C in s)t.hasOwnProperty(C)||g.push(`[/${C}]`);for(var C in t){var M=t[C];if(s[C]!==M)switch(C){case"size":g.push(`[size=${M.replace("px","")}]`);break;case"color":case"weight":case"stroke":case"y":case"img":case"area":case"url":case"align":g.push(`[${C}=${M}]`);break;case"u":M===!0?g.push("[u]"):g.push(`[u=${M}]`);break;default:g.push(`[${C}]`);break}}return g.push(i),g.join("")},yT={},Fn=function(i){return i.replace(TT,"\\$&").replace(CT,"\\x2d")},TT=/[|\\{}()[\]^$+*?.]/g,CT=/-/g,Cf,Sf,Et={},ae=function(i,t,s,g){return g===void 0?`${i}${s}${t}`:`${i}${s}=(${g})${t}`},me=function(i,t,s){return`${i}/${s}${t}`},mo="[-.0-9]+",xo="[a-z]+|#[0-9abcdef]+",sa="[^\\]]+",ug=function(i,t){if(t===void 0){var s=i;i=s[0],t=s[1]}if(Cf===i&&Sf===t)return!1;Cf=i,Sf=t,i=Fn(i),t=Fn(t);var g="esc",C=ae(i,t,g),M=me(i,t,g),o="raw",T=ae(i,t,o),e=me(i,t,o),u="b",x=ae(i,t,u),d=me(i,t,u),l="i",h=ae(i,t,l),n=me(i,t,l),r="weight",f=ae(i,t,r,mo),a=me(i,t,r),c="size",p=ae(i,t,c,mo),v=me(i,t,c),m="color",y=ae(i,t,m,xo),E=me(i,t,m),P="u",S=ae(i,t,P),w=ae(i,t,P,xo),A=me(i,t,P),R="shadow",O=ae(i,t,R),L=me(i,t,R),b="stroke",D=ae(i,t,b),I=ae(i,t,b,xo),B=me(i,t,b),V="y",Y=ae(i,t,V,mo),k=me(i,t,V),W="img",G=ae(i,t,W,sa),U=me(i,t,W),F="area",N=ae(i,t,F,sa),z=me(i,t,F),X="url",H=ae(i,t,X,sa),$=me(i,t,X),K="align",Z=ae(i,t,K,sa),J=me(i,t,K);return Et.RE_ESC_OPEN=new RegExp(C,"i"),Et.RE_ESC_CLOSE=new RegExp(M,"i"),Et.RE_RAW_OPEN=new RegExp(T,"i"),Et.RE_RAW_CLOSE=new RegExp(e,"i"),Et.RE_BLOD_OPEN=new RegExp(x,"i"),Et.RE_BLOD_CLOSE=new RegExp(d,"i"),Et.RE_ITALICS_OPEN=new RegExp(h,"i"),Et.RE_ITALICS_CLOSE=new RegExp(n,"i"),Et.RE_WEIGHT_OPEN=new RegExp(f,"i"),Et.RE_WEIGHT_CLOSE=new RegExp(a,"i"),Et.RE_SIZE_OPEN=new RegExp(p,"i"),Et.RE_SIZE_CLOSE=new RegExp(v,"i"),Et.RE_COLOR_OPEN=new RegExp(y,"i"),Et.RE_COLOR_CLOSE=new RegExp(E,"i"),Et.RE_UNDERLINE_OPEN=new RegExp(S,"i"),Et.RE_UNDERLINE_OPENC=new RegExp(w,"i"),Et.RE_UNDERLINE_CLOSE=new RegExp(A,"i"),Et.RE_SHADOW_OPEN=new RegExp(O,"i"),Et.RE_SHADOW_CLOSE=new RegExp(L,"i"),Et.RE_STROKE_OPEN=new RegExp(D,"i"),Et.RE_STROKE_OPENC=new RegExp(I,"i"),Et.RE_STROKE_CLOSE=new RegExp(B,"i"),Et.RE_OFFSETY_OPEN=new RegExp(Y,"i"),Et.RE_OFFSETY_CLOSE=new RegExp(k,"i"),Et.RE_IMAGE_OPEN=new RegExp(G,"i"),Et.RE_IMAGE_CLOSE=new RegExp(U,"i"),Et.RE_AREA_OPEN=new RegExp(N,"i"),Et.RE_AREA_CLOSE=new RegExp(z,"i"),Et.RE_URL_OPEN=new RegExp(H,"i"),Et.RE_URL_CLOSE=new RegExp($,"i"),Et.RE_ALIGN_OPEN=new RegExp(Z,"i"),Et.RE_ALIGN_CLOSE=new RegExp(J,"i"),Et.RE_SPLITTEXT=new RegExp([T,e,C,M,x,d,h,n,f,a,p,v,y,E,S,w,A,O,L,D,I,B,Y,k,G,U,N,z,H,$,Z,J].join("|"),"ig"),!0},Ef=function(i,t){return i!==void 0&&ug(i,t),Object.assign({},Et)};const ST=Phaser.Utils.Objects.GetValue;class dg{constructor(t){var s=ST(t,"delimiters","[]");this.tagRegex=Ef(s)}getStrokeThinkness(t,s){var g;return s.hasOwnProperty("stroke")?g=t.strokeThickness:g=0,g}setDelimiters(t,s){return ug(t,s)&&(this.tagRegex=Ef()),this}}var ET={splitText:fT,tagTextToProp:vT,propToContextStyle:pT,propToTagText:xT};Object.assign(dg.prototype,ET);class Gs extends lg{constructor(t,s,g,C,M){var o=new dg(M);super(t,s,g,C,M,"rexBBCodeText",o)}setDelimiters(t,s){return this.parse.setDelimiters(t,s),this}}nt.register("BBCodeText",function(i,t,s,g){var C=new Gs(this.scene,i,t,s,g);return this.scene.add.existing(C),C});st(window,"RexPlugins.UI.BBCodeText",Gs);var PT={plainText:null,prevProp:null},MT=new fu;class wT{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,s){this.tags[t]=s}getTag(t){return this.tags[t]}splitText(t,s){for(var g=[],C=0;;){var M=yo.exec(t);if(!M)break;var o=M[0],T=yo.lastIndex-o.length;if(C<T&&g.push(t.substring(C,T)),s===void 0)g.push(o);else if(s===1){if(Mf.test(o)){var e=o.match(wf);g.push(e[2])}else if(Af.test(o)){var e=o.match(Rf);g.push(e[2])}}C=yo.lastIndex}var u=t.length;return C<u&&g.push(t.substring(C,u)),g}tagTextToProp(t,s){var g,C;if(Mf.test(t)){var M=t.match(wf);if(M!=null){var o=M[1],T=this.tags;T.hasOwnProperty(o)?C=T[o]:C={},C._class=o,g=M[2]}}else if(Af.test(t)){var M=t.match(Rf);if(M!=null){var e=M[1];C=AT(e),C._style=e,g=M[2]}}g==null&&(g=t),C==null&&(C={});var u=PT;return u.plainText=g,u.prop=C,u}propToContextStyle(t,s){var g=MT;if(s.hasOwnProperty("img"))g.image=s.img;else{if(g.image=null,s.hasOwnProperty("family")||s.hasOwnProperty("fontFamily")||s.hasOwnProperty("font-family")){var C=s.hasOwnProperty("family")?s.family:s.hasOwnProperty("fontFamily")?s.fontFamily:s["font-family"];g.fontFamily=C}else g.fontFamily=t.fontFamily;if(s.hasOwnProperty("size")||s.hasOwnProperty("fontSize")||s.hasOwnProperty("font-size")){var M=s.hasOwnProperty("size")?s.size:s.hasOwnProperty("fontSize")?s.fontSize:s["font-size"];typeof M=="number"&&(M=`${M}px`),g.fontSize=M}else g.fontSize=t.fontSize;if(s.hasOwnProperty("style")||s.hasOwnProperty("fontStyle")||s.hasOwnProperty("font-style")){var o=s.hasOwnProperty("style")?s.style:s.hasOwnProperty("fontStyle")?s.fontStyle:s["font-style"];g.fontStyle=o}else g.fontStyle=t.fontStyle;if(s.hasOwnProperty("color")||s.hasOwnProperty("font-color")){var T=s.hasOwnProperty("color")?s.color:s["font-color"];g.color=T}else g.color=t.color;if(s.hasOwnProperty("stroke")){var e=s.stroke;g.stroke=e.hasOwnProperty("color")?e.color:t.stroke,g.strokeThickness=e.hasOwnProperty("thickness")?e.thickness:t.strokeThickness}else g.stroke=t.stroke,g.strokeThickness=t.strokeThickness}if(s.hasOwnProperty("shadow")){var u=s.shadow;g.shadowColor=u.hasOwnProperty("color")?u.color:t.shadowColor,g.shadowOffsetX=u.hasOwnProperty("offsetX")?u.offsetX:t.shadowOffsetX,g.shadowOffsetY=u.hasOwnProperty("offsetY")?u.offsetY:t.shadowOffsetY,g.shadowBlur=u.hasOwnProperty("blur")?u.blur:t.shadowBlur,g.shadowStroke=!0,g.shadowFill=!0}else g.shadowColor=t.shadowColor,g.shadowOffsetX=t.shadowOffsetX,g.shadowOffsetY=t.shadowOffsetY,g.shadowBlur=t.shadowBlur,g.shadowStroke=t.shadowStroke,g.shadowFill=t.shadowFill;if(s.hasOwnProperty("u")||s.hasOwnProperty("underline")){var x=s.hasOwnProperty("u")?s.u:s.underline;g.underlineColor=x.hasOwnProperty("color")?x.color:t.underlineColor,g.underlineThickness=x.hasOwnProperty("thickness")?x.thickness:t.underlineThickness,g.underlineOffset=x.hasOwnProperty("offset")?x.offset:t.underlineOffset}else g.underlineColor=t.underlineColor,g.underlineThickness=t.underlineThickness,g.underlineOffset=t.underlineOffset;return g}getStrokeThinkness(t,s){var g;if(s.hasOwnProperty("stroke")){var C=s.stroke;g=C.hasOwnProperty("thickness")?C.thickness:t.strokeThickness}else g=t.strokeThickness;return g}propToTagText(t,s,g){return s.hasOwnProperty("_class")?t===""&&this.isTextTag(s._class)?"":`<class='${s._class}'>${t}</class>`:s.hasOwnProperty("_style")?`<style='${s._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var s=this.tags[t];return s?s.img==null:!1}}var AT=function(i){i=i.split(";");for(var t={},s,g,C,M=0,o=i.length;M<o;M++)if(s=i[M].split(":"),g=s[0],C=s[1],!(Pf(g)||Pf(C))){switch(g){case"stroke":var T=C.split(" "),x=T.length;C={},x>=1&&(C.color=T[0]),x>=2&&(C.thickness=parseInt(T[1].replace("px","")));break;case"shadow":var e=C.split(" "),x=e.length;C={},x>=1&&(C.color=e[0]),x>=2&&(C.offsetX=parseInt(e[1].replace("px",""))),x>=3&&(C.offsetY=parseInt(e[2].replace("px",""))),x>=4&&(C.blur=parseInt(e[3].replace("px","")));break;case"u":case"underline":var u=C.split(" "),x=u.length;C={},x>=1&&(C.color=u[0]),x>=2&&(C.thickness=parseInt(u[1].replace("px",""))),x>=3&&(C.offset=parseInt(u[2].replace("px","")));break;case"y":C=parseFloat(C);break}t[g]=C}return t},Pf=function(i){return i=i.replace(RT,""),i.length===0},yo=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,Mf=/<\s*class=/i,wf=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,Af=/<\s*style=/i,Rf=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,RT=/^\s+|\s+$/;const OT=Phaser.Utils.Objects.GetValue;class fg extends lg{constructor(t,s,g,C,M){var o=OT(M,"tags",void 0),T=new wT(o);super(t,s,g,C,M,"rexTagText",T)}addTag(t,s){return this.parser.addTag(t,s),this.updateText(!0)}addTags(t){for(var s in t)this.parser.addTag(s,t[s]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}nt.register("tagText",function(i,t,s,g){var C=new fg(this.scene,i,t,s,g);return this.scene.add.existing(C),C});st(window,"RexPlugins.UI.TagText",fg);const na=Phaser.Utils.Objects.GetValue;var Wa=function(i,t){return t===void 0?i:i[t]},os=function(i,t,s){i===void 0&&(i={}),t===void 0&&(t=0);var g=typeof t;return g==="string"?i[t]=s:g==="number"?(i.left=t,i.right=t,i.top=t,i.bottom=t):(i.left=na(t,"left",0),i.right=na(t,"right",0),i.top=na(t,"top",0),i.bottom=na(t,"bottom",0)),i};class pu{constructor(t,s){this.setParent(t),this.type=s,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,s){return!1}}Object.assign(pu.prototype,hh);const bT={renderContent(){},render(){if(!this.willRender)return this;var i=this.context;if(i.save(),i.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,s=this.drawY;this.autoRound&&(t=Math.round(t),s=Math.round(s)),i.translate(t,s),i.scale(this.scaleX,this.scaleY),i.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),i.restore(),this}},LT=Phaser.Math.RotateAround;var FT=function(i,t,s,g){return g===void 0?g={}:g===!0&&(To===void 0&&(To={}),g=To),g.x=(i-s.drawX)/s.scaleX,g.y=(t-s.drawY)/s.scaleY,s.rotation!==0&&LT(g,0,0,-s.rotation),g},To;const DT=Phaser.Geom.Rectangle;var IT=function(i,t){if(this.width===0||this.height===0)return!1;var s=FT(i,t,this,!0);return BT(this).contains(s.x,s.y)},BT=function(i){ra===void 0&&(ra=new DT);var t=i.drawTLX,s=i.drawTLY;return ra.setTo(t,s,i.drawTRX-t,i.drawBLY-s),ra},ra;const GT=Phaser.Math.RotateAround;var cg=function(i,t,s,g){return g===void 0?g={}:g===!0&&(Co===void 0&&(Co={}),g=Co),g.x=t,g.y=s,i.rotation!==0&&GT(g,0,0,i.rotation),g.x=g.x*i.scaleX+i.drawX,g.y=g.y*i.scaleY+i.drawY,g},Co;const Of=Phaser.GameObjects.Components.TransformMatrix;var NT=function(i,t,s,g){g===void 0?g={}:g===!0&&(g=zT);var C=t-i.width*i.originX,M=s-i.height*i.originY;return Kn===void 0&&(Kn=new Of,bf=new Of),i.parentContainer?i.getWorldTransformMatrix(Kn,bf):Kn.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),Kn.transformPoint(C,M,g),g},Kn,bf,zT={},VT=function(i,t,s,g,C){var M=cg(t,s,g,!0),o=NT(i,M.x,M.y,C);return o},vg=function(i,t,s,g,C){typeof s!="number"&&(C=s,s=0,g=0);var M=t.drawCenterX+s,o=t.drawCenterY+g;return VT(i,t,M,o,C)},UT=function(i,t,s){return vg(this.parent,this,i,t,s)},pg={contains:IT,getWorldPosition:UT};Object.assign(pg,bT);const YT=Phaser.Math.DegToRad,XT=Phaser.Math.RadToDeg,aa=Phaser.Utils.Objects.GetValue;class Vs extends pu{constructor(t,s){super(t,s),this.renderable=!0,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setInitialPosition(t,s){return this.x0=t,this.y0=s,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return XT(this._rotation)}set angle(t){this.rotation=YT(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=aa(t,"width",void 0),g=aa(t,"height",void 0),C=aa(t,"scaleX",void 0),M=aa(t,"scaleY",void 0);return s!==void 0?g===void 0&&M===void 0?this.setWidth(s,!0):this.setWidth(s):C!==void 0&&this.setScaleX(C),g!==void 0?s===void 0&&C===void 0?this.setHeight(g,!0):this.setHeight(g):M!==void 0&&this.setScaleY(M),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){return this.x+this.leftSpace+this.offsetX-this.originX*this.width}get drawY(){return this.y+this.offsetY}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(Vs.prototype,pg);var as=function(i,t,s){return t.hasOwnProperty(i)?t[i]:s[i]};const Es=Phaser.Utils.Objects.GetValue;class kT extends Vs{constructor(t,s){super(t,"background"),this.setColor(Es(s,"color",null),Es(s,"color2",null),Es(s,"horizontalGradient",!0)),this.setStroke(Es(s,"stroke",null),Es(s,"strokeThickness",2)),this.setCornerRadius(Es(s,"cornerRadius",0),Es(s,"cornerIteration",null))}set color(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,g){return g===void 0&&(g=!0),this.color=t,this.color2=s,this.horizontalGradient=g,this}set stroke(t){t=yt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,as("color2",t,this),as("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,as("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,as("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,s){return this.cornerRadius=t,this.cornerIteration=s,this}renderContent(){du(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const Ji=Phaser.Utils.Objects.GetValue;class WT extends Vs{constructor(t,s){super(t,"innerbounds"),this.setColor(Ji(s,"color",null),Ji(s,"color2",null),Ji(s,"horizontalGradient",!0)),this.setStroke(Ji(s,"stroke",null),Ji(s,"strokeThickness",2))}set color(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=yt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,g){return g===void 0&&(g=!0),this.color=t,this.color2=s,this.horizontalGradient=g,this}set stroke(t){t=yt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,Ji(t,"color2",null),Ji(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Ji(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,s=t.left,g=t.top,C=this.parent.width-t.left-t.right,M=this.parent.height-t.top-t.bottom,o=this.context;if(this.color!=null){var T;if(this.color2!=null){var e;this.horizontalGradient?e=o.createLinearGradient(0,0,C,0):e=o.createLinearGradient(0,0,0,M),e.addColorStop(0,this.color),e.addColorStop(1,this.color2),T=e}else T=this.color;o.fillStyle=T,o.fillRect(s,g,C,M)}this.stroke!=null&&this.strokeThickness>0&&(o.strokeStyle=this.stroke,o.lineWidth=this.strokeThickness,o.strokeRect(s,g,C,M))}}const Kt=Phaser.Utils.Objects.GetValue;class dh{constructor(t,s){this.parent=t,this.set(s)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(Kt(t,"bold",!1)),this.setItalic(Kt(t,"italic",!1)),this.setFontSize(Kt(t,"fontSize","16px")),this.setFontFamily(Kt(t,"fontFamily","Courier")),this.setColor(Kt(t,"color","#fff")),this.setStrokeStyle(Kt(t,"stroke",null),Kt(t,"strokeThickness",0)),this.setShadow(Kt(t,"shadowColor",null),Kt(t,"shadowOffsetX",0),Kt(t,"shadowOffsetY",0),Kt(t,"shadowBlur",0)),this.setOffset(Kt(t,"offsetX",0),Kt(t,"offsetY",0)),this.setSpace(Kt(t,"leftSpace",0),Kt(t,"rightSpace",0)),this.setAlign(Kt(t,"align",void 0)),this.setBackgroundColor(Kt(t,"backgroundColor",null)),this.setBackgroundHeight(Kt(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(Kt(t,"backgroundBottomY",void 0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(as("stroke",t,this),as("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(as("shadowOffsetX",t,this),as("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new dh(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=yt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,s){return this.stroke=yt(t),s!==void 0&&(this.strokeThickness=s),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=yt(t),this}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=0),this.shadowOffsetX=t,this.shadowOffsetY=s,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,s,g,C){return this.setShadowColor(t).setShadowOffset(s,g).setShadowBlur(C),this}setBackgroundColor(t){return this.backgroundColor=yt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,s){return this.setOffsetX(t).setOffsetY(s),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,s){return this.setLeftSpace(t).setRightSpace(s),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var s=this.hasFill,g=this.hasStroke;return t.fillStyle=s?this.color:"#000",t.strokeStyle=g?this.stroke:"#000",t.lineWidth=g?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,s){return this.syncFont(t).syncStyle(t),t.measureText(s)}}var HT=function(i,t){i===void 0&&(i=0),t===void 0&&(t=0);var s=this.fixedWidth!==i||this.fixedHeight!==t;return s?(this.fixedWidth=i,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(i>0?i:this.width,t>0?t:this.height),this):this},$T=function(i,t){var s=this.padding,g=s.left,C=s.right,M=s.top,o=s.bottom;return os(s,i,t),this.dirty=this.dirty||g!=s.left||C!=s.right||M!=s.top||o!=s.bottom,this},KT=function(i){return Wa(this.padding,i)},ZT=function(i){return this.textStyle.modify(i),this},JT=function(i){return this.defaultTextStyle.modify(i),this},jT=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},QT=function(i){return this.testString=i,this};const qT=Phaser.Utils.Array.Remove;var _T=function(i){return this.poolManager.free(i),qT(this.children,i),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},tC=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const eC=Phaser.Utils.Array.Remove;var iC=function(i){return eC(this.children,i),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},sC=function(){return this.setText(),this},gg=function(i,t){var s=Array.isArray(i);return t===void 0||t===this.children.length?s?this.children.push(...i):this.children.push(i):s?this.children.splice(t,0,...i):this.children.splice(t,0,i),this.lastAppendedChildren.length=0,s?this.lastAppendedChildren.push(...i):this.lastAppendedChildren.push(i),this};const ps="text",mg="image",xg="drawer",yg="space",gu="command";var Tg=function(i){return i.type===ps&&i.text===`
`},Cg=function(i){return i.type===ps&&i.text==="\f"},nC=function(i){return i.type===ps&&i.text===" "},Dn=function(i){return i.type===ps},rC=function(i){return i.type===gu};class Sg extends Vs{constructor(t,s,g){super(t,ps),this.updateTextFlag=!1,this.style=new dh(this,g),this.setText(s)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0;else{var s=this.style.getTextMetrics(this.context,this.text);this.textWidth=s.width;var g,C;"actualBoundingBoxAscent"in s?(g=s.actualBoundingBoxAscent,C=s.actualBoundingBoxDescent):(g=0,C=0),this.textHeight=g+C,this.ascent=g,this.descent=C}return this.updateTextFlag=!1,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){var t=this.text;return t===`
`||t==="\f"?!1:super.willRender}renderContent(){var t=this.context,s=this.style;if(s.hasBackgroundColor){t.fillStyle=s.backgroundColor;var g=this.drawTLX,C=this.drawTRX-g,M=s.backgroundBottomY;M==null&&(M=this.drawBLY);var o=s.backgroundHeight;o==null&&(o=M-this.drawTLY);var T=M-o;t.fillRect(g,T,C,o)}var e=s.hasFill,u=s.hasStroke;!e&&!u||(s.syncFont(t).syncStyle(t),u&&(s.syncShadow(t),t.strokeText(this.text,0,0)),e&&(s.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var aC=function(i,t){t&&this.textStyle.modify(t);var s=this.poolManager.allocate(ps);return s===null?s=new Sg(this,i,this.textStyle):s.setParent(this).setActive().modifyStyle(this.textStyle).setText(i),s},hC=function(i,t){t&&this.textStyle.modify(t);for(var s=[],g=0,C=i.length;g<C;g++){var M=i.charAt(g),o=this.poolManager.allocate(ps);o===null?o=new Sg(this,M,this.textStyle):o.setParent(this).setActive().modifyStyle(this.textStyle).setText(M),s.push(o)}return s},Lr=function(i,t){var s=this.createCharChildren(i,t);return this.addChild(s),this},oC=function(i,t){return i===void 0&&(i=""),this.removeChildren(),Lr.call(this,i,t),this.dirty=!0,this},lC=function(i,t,s){var g=this.createCharChildren(t,s);return i=this.getCharChildIndex(i,!0),this.addChild(g,i),this},uC=function(i,t){t===void 0&&(t=1);for(var s=0;s<t;s++){var g=this.getCharChildIndex(i,!0);if(g===void 0)break;this.removeChild(this.children[g])}return this},dC=function(i){var t="";return this.forEachCharChild(function(s){t+=s.text},void 0,i),t};class fC extends Vs{constructor(t,s,g){super(t,mg),this.setTexture(s,g)}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,s){return this.key=t,this.frame=s,this.frameObj=this.scene.sys.textures.getFrame(t,s),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}renderContent(){var t=this.context,s=this.frameObj,g=this.frameWidth,C=this.frameHeight;t.drawImage(s.source.image,s.cutX,s.cutY,g,C,0,0,g,C)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var cC=function(i,t,s){var g=this.poolManager.allocate(mg);return g===null?g=new fC(this,i,t):g.setParent(this).setActive().setTexture(i,t),g.modifyPorperties(s),g},Eg=function(i,t,s){var g=this.createImageChild(i,t,s);return this.addChild(g),this};class vC extends Vs{constructor(t,s,g,C){super(t,xg),this.setRenderCallback(s),this.setDrawerSize(g,C)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,s){return t===!0?(this.toLocalPosition=!1,t=void 0,s=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),s===void 0&&(s=t),this.drawerWidth=t,this.drawerHeight=s,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var pC=function(i,t,s){var g=this.poolManager.allocate(xg);return g===null?g=new vC(this,i,t,s):g.setParent(this).setActive().setRenderCallback(i).setDrawerSize(t,s),g},gC=function(i,t,s){var g=this.createDrawerChild(i,t,s);return this.addChild(g),this};class mC extends Vs{constructor(t,s){super(t,yg),this.setSpaceWidth(s)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}}var xC=function(i){var t=this.poolManager.allocate(yg);return t===null?t=new mC(this,i):t.setParent(this).setActive().setSpaceWidth(i),t},Pg=function(i){var t=this.createSpaceChild(i);return this.addChild(t),this};class yC extends pu{constructor(t,s,g,C,M){super(t,gu),this.setName(s).setParameter(C).setCallback(g,M)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,s){return this.callback=t,this.scope=s,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var TC=function(i,t,s,g){var C=this.poolManager.allocate(gu);return C===null?C=new yC(this,i,t,s,g):C.setParent(this).setActive().setName(i).setCallback(t,g).setParameter(s),C},mt=function(i,t,s,g){var C=this.createCommandChild(i,t,s,g);return this.addChild(C),this},CC=function(i){return i===void 0?i={}:typeof i=="object"&&(i=Te(i)),this.wrapConfig=i,this},SC=function(i,t,s,g){g===void 0&&(g={word:[],width:0}),g.word.length=0;for(var C=i.length,M=t,o=g.word,T=0;M<C;){var e=i[M];if(!e.renderable){o.push(e),M++;continue}var u=e.type===ps?e.text:null;if(u!==null&&u!==" "&&u!==`
`&&u!=="\f")o.push(e),T+=e.outerWidth,M++;else{M===t&&(o.push(e),T+=e.outerWidth);break}if(s)break}return g.width=T,g},Mg=function(i){for(var t=0,s=i.length;t<s;t++){var g=i[t];if(g.align!==void 0)return g.align}},wg=function(i,t,s){if(!(t===0&&s===0))for(var g=0,C=i.length;g<C;g++){var M=i[g];!M.renderable||(M.x+=t,M.y+=s)}},EC=function(i,t,s){var g=i.hAlign,C=i.vAlign,M,o,T=i.linesHeight;switch(C){case 1:case"center":o=(s-T)/2;break;case 2:case"bottom":o=s-T;break;default:o=0;break}for(var e=i.lines,u=0,x=e.length;u<x;u++){var d=e[u],l=d.width,h=d.children,n=Mg(h);switch(n===void 0&&(n=g),n){case 1:case"center":M=(t-l)/2;break;case 2:case"right":M=t-l;break;default:M=0;break}wg(h,M,o)}},Lf=function(){var i=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,s;return"actualBoundingBoxAscent"in i?(t=i.actualBoundingBoxAscent,s=i.actualBoundingBoxDescent):(t=0,s=0),ha.ascent=t,ha.descent=s,ha.height=t+s,ha},ha={};const be=Phaser.Utils.Objects.GetValue;var PC=function(i){var t=be(i,"start",0);os(this.wrapPadding,be(i,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,g=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,C=be(i,"lineHeight"),M=be(i,"ascent",C),o;if(C===void 0){var T=be(i,"useDefaultTextHeight",!1);if(o=be(i,"maxLines",0),this.fixedHeight>0&&!T){var X=this.fixedHeight-s;if(o>0)C=X/o;else{var e=Lf.call(this);C=e.height,M=e.ascent,o=Math.floor((X-M)/C)}}else{var e=Lf.call(this);C=e.height,M=e.ascent}}else if(this.fixedHeight>0){if(o=be(i,"maxLines"),o===void 0){var X=this.fixedHeight-s;o=Math.floor(X/C)}}else o=be(i,"maxLines",0);M===void 0&&(M=C);var u=o===0,x=be(i,"wrapWidth",void 0);x===void 0&&(this.fixedWidth>0?x=this.fixedWidth-g:x=1/0);for(var d=be(i,"letterSpacing",0),l=be(i,"hAlign",0),h=be(i,"vAlign",0),n=be(i,"charWrap",!1),r={callback:"runWordWrap",start:t,isLastPage:!1,padding:this.wrapPadding,ascent:M,lineHeight:C,maxLines:o,wrapWidth:x,letterSpacing:d,hAlign:l,vAlign:h,charWrap:n,children:[],lines:[],maxLineWidth:0,linesHeight:0},f=this.children,a=0,c=f.length;a<c;a++)f[a].setActive(!1);x+=d;for(var p=this.padding.left+this.wrapPadding.left,v=this.padding.top+this.wrapPadding.top+M,m=p,y=v,E=x,P=t,S=f.length,w=r.children,A=r.lines,R=[],O=0,L=0,b;P<S;){b=SC(f,P,n,b);var D=b.word,I=D.length,B=b.width+I*d;P+=I;var V=Tg(D[0]),Y=Cg(D[0]),k=V||Y;if(E<B||k){if(k){var W=D[0];W.setActive().setPosition(m,y),w.push(W),R.push(W)}m=p,y+=C,E=x,A.push({children:R,width:O}),L=Math.max(L,O),O=0,R=[];var G=Y||!u&&A.length===o;if(G)break;if(k)continue}E-=B,O+=B;for(var a=0,c=D.length;a<c;a++){var U=D[a];U.setActive(),w.push(U),R.push(U),U.renderable&&(U.setPosition(m,y),m+=U.outerWidth+d)}}R.length>0&&(A.push({children:R,width:O}),L=Math.max(L,O)),r.start+=w.length,r.isLastPage=r.start===S,r.maxLineWidth=L,r.linesHeight=A.length*C;var F=this.fixedWidth>0?this.fixedWidth:r.maxLineWidth+g,N=this.fixedHeight>0?this.fixedHeight:r.linesHeight+s,z=F-g,X=N-s;EC(r,z,X),this.setCanvasSize(F,N);for(var a=0,c=w.length;a<c;a++){var U=w[a];!U.renderable||(U.x0=U.x,U.y0=U.y)}return r};const MC=Phaser.Utils.Objects.Merge;var wC=function(i){return i===void 0&&(i={}),PC.call(this,MC(i,this.wrapConfig))},AC=function(i,t,s){var g=i.hAlign,C=i.vAlign,M,o,T=i.rtl,e=i.lines,u=i.lineWidth,x=i.linesWidth;switch(g){case 1:case"center":M=(t-x)/2;break;case 2:case"right":M=t-x;break;default:M=0;break}T&&(M+=u);for(var d=0,l=e.length;d<l;d++){var h=e[T?l-d-1:d],n=h.children,r=h.height,f=Mg(n);switch(f===void 0&&(f=C),f){case 1:case"center":o=(s-r)/2;break;case 2:case"bottom":o=s-r;break;default:o=0;break}wg(n,M,o),M+=u}};const Le=Phaser.Utils.Objects.GetValue;var RC=function(i){var t=Le(i,"start",0);os(this.wrapPadding,Le(i,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,g=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,C=Le(i,"lineWidth",void 0),M;if(C===void 0)if(M=Le(i,"maxLines",0),this.fixedWidth>0){var W=this.fixedWidth-g;C=W/M}else C=0;else if(this.fixedWidth>0){if(M=Le(i,"maxLines",void 0),M===void 0){var W=this.fixedWidth-g;M=Math.floor(W/C)+1}}else M=Le(i,"maxLines",0);var o=M===0,T=Le(i,"fixedChildHeight",void 0);if(T===void 0){var e=Le(i,"charPerLine",void 0);if(e!==void 0){var G=this.fixedHeight-s;T=Math.floor(G/e)}}var u=Le(i,"wrapHeight",void 0);u===void 0&&(this.fixedHeight>0?u=this.fixedHeight-s:u=1/0);for(var x=Le(i,"letterSpacing",0),d=Le(i,"rtl",!0),l=Le(i,"hAlign",d?2:0),h=Le(i,"vAlign",0),n={callback:"runVerticalWrap",start:t,isLastPage:!1,padding:this.wrapPadding,lineWidth:C,maxLines:M,fixedChildHeight:T,wrapHeight:u,letterSpacing:x,hAlign:l,vAlign:h,rtl:d,children:[],lines:[],maxLineHeight:0,linesWidth:0},r=this.children,f=0,a=r.length;f<a;f++)r[f].setActive(!1);u+=x;for(var c=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,v=c,m=p,y=u,E=t,P=r.length,S=n.children,w=n.lines,A=[],R=0,O=0;E<P;){var L=r[E];if(E++,!L.renderable){L.setActive(),S.push(L),A.push(L);continue}var b=(T!==void 0?T:L.height)+x,D=Tg(L),I=Cg(L),B=D||I;if(y<b||B){D&&(L.setActive().setPosition(v,m).setOrigin(.5),S.push(L),A.push(L)),v=c,m=p,y=u,w.push({children:A,height:R}),O=Math.max(O,R),R=0,A=[];var V=I||!o&&w.length===M;if(V)break;if(B)continue}y-=b,R+=b,L.setActive().setPosition(v,m).setOrigin(.5),S.push(L),A.push(L),m+=b}A.length>0&&(w.push({children:A,height:R}),O=Math.max(O,R)),n.start+=S.length,n.isLastPage=n.start===P,n.maxLineHeight=O,n.linesWidth=w.length*C;var Y=this.fixedWidth>0?this.fixedWidth:n.linesWidth+g,k=this.fixedHeight>0?this.fixedHeight:n.maxLineHeight+s,W=Y-g,G=k-s;AC(n,W,G),this.setCanvasSize(Y,k);for(var f=0,a=S.length;f<a;f++){var L=S[f];!L.renderable||(L.x0=L.x,L.y0=L.y)}return n};const OC=Phaser.Utils.Objects.Merge;var bC=function(i){return i===void 0&&(i={}),RC.call(this,OC(i,this.wrapConfig))};const Ff=Phaser.Utils.Objects.GetValue;var LC=function(i){var t=Ff(this.wrapConfig,"callback");return t||(t=Ff(i,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,i)};const FC={setVAlign(i){return this.wrapConfig.vAlign=i,this},setHAlign(i){return this.wrapConfig.hAlign=i,this}};var DC=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var i,t=0,s=this.children.length;t<s;t++)i=this.children[t],i.active&&i.render();this.innerBounds.active&&this.innerBounds.render()},IC=function(i,t,s){s===void 0&&(s=!0);for(var g=this.children,C=0,M=0,o=g.length;M<o;M++){var T=g[M];if(!(s&&!T.active)){var e;if(t?e=i.call(this,T,C,g):e=i(T,C,g),C++,e)break}}return this},BC=function(i,t,s){s===void 0&&(s=!0);for(var g=this.children,C=0,M=0,o=g.length;M<o;M++){var T=g[M];if(!(s&&!T.active)&&T.renderable&&!T.removed){var e;if(t?e=i.call(this,T,C,g):e=i(T,C,g),C++,e)break}}return this},GC=function(i,t,s){s===void 0&&(s=!0);for(var g=this.children,C=0,M=0,o=g.length;M<o;M++){var T=g[M];if(!(s&&!T.active)&&Dn(T)&&!T.removed){var e;if(t?e=i.call(this,T,C,g):e=i(T,C,g),C++,e)break}}return this},NC=function(){return this.children};const zC=Phaser.Utils.Array.GetAll;var VC=function(){return zC(this.children,"active",!0)},UC=function(i,t){return t===void 0&&(t=[]),this.forEachCharChild(function(s){t.push(s)},void 0,i),t},YC=function(){return this.lastAppendedChildren},XC=function(i,t,s,g){typeof t!="number"&&(g=t,t=0,s=0);var C=i.drawCenterX+t,M=i.drawCenterY+s;return cg(i,C,M,g)};const kC=Phaser.Math.Distance.BetweenPointsSquared;var WC=function(i,t){var s={x:i,y:t},g=1/0,C=null;return this.forEachRenderableChild(function(M){var o=kC(s,XC(M,!0));g>o&&(g=o,C=M)}),C},HC=function(i,t,s,g){return typeof i=="number"&&(i=this.getCharChild(i,!0)),vg(this,i,t,s,g)},$C=function(){for(var i=this.children,t=0,s=0,g=0,C=i.length;g<C;g++){var M=i[g];if(!(!M.renderable||!M.active||!M.visible)){var o=M.x0!==void 0?M.x0:M.x,T=M.y0!==void 0?M.y0:M.y;t=Math.max(t,o),s=Math.max(s,T)}}var e=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,u=s+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==e||this.height!==u)&&(this.dirty=!0,this.setCanvasSize(e,u)),this},KC=function(i,t){t===void 0&&(t=!0);for(var s=this.children,g=0,C=s.length;g<C;g++){var M=s[g];if(!(t&&!M.active)&&Dn(M)&&!M.removed){if(i===0)return g;i--}}},ZC=function(i,t){t===void 0&&(t=!0);for(var s=this.children,g=0,C=s.length;g<C;g++){var M=s[g];if(!(t&&!M.active)&&Dn(M)&&!M.removed){if(i===0)return M;i--}}},JC=function(i,t){if(typeof i!="number"&&(i=this.children.indexOf(i),i<0))return null;t===void 0&&(t=!0);var s=this.children;i>=s.length&&(i=s.length);for(var g=0,C=0;C<i;C++){var M=s[C];t&&!M.active||Dn(M)&&!M.removed&&g++}return g},jC=function(i){return i===void 0&&(i=!0),this.childrenInteractiveEnable!==i&&(this.lastOverChild=null),this.childrenInteractiveEnable=i,this},mu=function(g,t,s){for(var g=g,C=0,M=g.length;C<M;C++){var o=g[C];if(!(!o.active||!o.renderable)&&o.contains(t,s))return o}return null},QC=function(){return this.on("pointerdown",qC,this).on("pointerdown",_C,this).on("pointermove",So,this).on("pointerover",So,this).on("pointerout",function(i,t){So.call(this,i,null,null,t)},this),this},qC=function(i,t,s,g){if(!!this.childrenInteractiveEnable){var C=mu(this.children,t,s);!C||this.emit("child.pointerdown",C,i,t,s,g)}},_C=function(i,t,s,g){if(!!this.childrenInteractiveEnable){var C=mu(this.children,t,s);!C||this.emit("child.pointerup",C,i,t,s,g)}},So=function(i,t,s,g){if(!!this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,i,t,s,g),this.lastOverChild=null);return}var C=mu(this.children,t,s);C!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,i,t,s,g),C!==null&&this.emit("child.pointerover",C,i,t,s,g),this.lastOverChild=C)}};const tS=Phaser.GameObjects.GameObject;var eS=function(i,t,s){var g=!!this.input;return tS.prototype.setInteractive.call(this,i,t,s),g||QC.call(this),this};const iS=Phaser.Utils.Array.BringToTop,sS=Phaser.Utils.Array.SendToBack,nS=Phaser.Utils.Array.MoveUp,rS=Phaser.Utils.Array.MoveDown,aS=Phaser.Utils.Array.MoveAbove,hS=Phaser.Utils.Array.MoveBelow,oS={moveChildToFist(i){return sS(this.children,i),this},moveChildToLast(i){return iS(this.children,i),this},movechildUp(i){return nS(this.children,i),this},movechildDown(i){return rS(this.children,i),this},movechildAbove(i,t){return aS(this.children,i,t),this},movechildBelow(i,t){return hS(this.children,i,t),this}},lS={setBackgroundColor(i,t,s){return this.background.setColor(i,t,s),this},setBackgroundStroke(i,t){return this.background.setStroke(i,t),this},setBackgroundCornerRadius(i,t){return this.background.setCornerRadius(i,t),this}},uS={setInnerBoundsColor(i,t,s){return this.innerBounds.setColor(i,t,s),this},setInnerBoundsStroke(i,t){return this.innerBounds.setStroke(i,t),this}};var Ag={setFixedSize:HT,setPadding:$T,getPadding:KT,modifyTextStyle:ZT,modifyDefaultTextStyle:JT,resetTextStyle:jT,setTestString:QT,removeChild:_T,removeChildren:tC,popChild:iC,clearContent:sC,addChild:gg,createCharChild:aC,createCharChildren:hC,setText:oC,appendText:Lr,insertText:lC,removeText:uC,getText:dC,createImageChild:cC,appendImage:Eg,createDrawerChild:pC,appendDrawer:gC,createSpaceChild:xC,appendSpace:Pg,createCommandChild:TC,appendCommand:mt,setWrapConfig:CC,runWordWrap:wC,runVerticalWrap:bC,runWrap:LC,renderContent:DC,forEachChild:IC,forEachRenderableChild:BC,forEachCharChild:GC,getChildren:NC,getActiveChildren:VC,getCharChildren:UC,getLastAppendedChildren:YC,getNearestChild:WC,getCharWorldPosition:HC,setToMinSize:$C,getCharChildIndex:KC,getCharChild:ZC,getCharIndex:JC,setChildrenInteractiveEnable:jC,setInteractive:eS};Object.assign(Ag,oS,lS,uS,FC);const dS=Phaser.Utils.Objects.GetFastValue;var fS={};class cS{constructor(t){this.pools=dS(t,"pools",fS)}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new Ei),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,g=t.length;s<g;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const Df=Phaser.Utils.Objects.IsPlainObject,Ee=Phaser.Utils.Objects.GetValue;class zn extends vs{constructor(t,s,g,C,M,o){Df(s)?(o=s,s=Ee(o,"x",0),g=Ee(o,"y",0),C=Ee(o,"width",0),M=Ee(o,"height",0)):Df(C)&&(o=C,C=Ee(o,"width",0),M=Ee(o,"height",0));var T=C===0?1:C,e=M===0?1:M;super(t,s,g,T,e),this.type="rexDynamicText",this.autoRound=!0,this.padding=os(),this.wrapPadding=os();var u=Ee(o,"style",void 0);this.defaultTextStyle=new dh(null,u),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(Ee(o,"testString","|M\xC9qgy")),this.background=new kT(this,Ee(o,"background",void 0)),this.innerBounds=new WT(this,Ee(o,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new cS(o),this.setFixedSize(C,M),this.setPadding(Ee(o,"padding",0)),this.setWrapConfig(Ee(o,"wrap",void 0)),this.setChildrenInteractiveEnable(Ee(o,"childrenInteractive",!1));var x=Ee(o,"text",void 0);x&&this.setText(x)}updateTexture(){return this.renderContent(),super.updateTexture(),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,s){return this.setFixedSize(t,s),this}}Object.assign(zn.prototype,Ag);nt.register("dynamicText",function(i,t,s,g,C){var M=new zn(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.DynamicText",zn);var vS=function(i){return Bs(i)?i.sys.sound:i.sound};const Vn={setEventEmitter(i,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=i===!0||i===void 0,this._eventEmitter=this._privateEE?new t:i,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(i){return this._eventEmitter&&i&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var Rg=function(i){return i==null||typeof i!="object"?null:Bs(i)?i:i.scene&&Bs(i.scene)?i.scene:i.parent&&i.parent.scene&&Bs(i.parent.scene)?i.parent.scene:null};const pS=Phaser.Utils.Objects.GetValue;class re{constructor(t,s){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(pS(s,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,s){this.destroy(s)}setParent(t){return this.parent=t,this.scene=Rg(t),this.game=Ln(t),this}}Object.assign(re.prototype,Vn);const gS=Phaser.Utils.Objects.GetValue;class fh extends re{constructor(t,s){super(t,s),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(gS(s,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=mS[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const mS={no:0,lazy:1,always:2},xS=Phaser.Utils.Objects.GetValue;class yS extends fh{constructor(t,s){super(t,s);var g=this.scene?"update":"step";this.tickEventName=xS(s,"tickEventName",g),this.isSceneTicker=!TS(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var TS=function(i){return i==="step"||i==="poststep"};const bi=Phaser.Utils.Objects.GetValue,If=Phaser.Math.Clamp;class Og{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=bi(t,"state",Zn),this.timeScale=bi(t,"timeScale",1),this.delay=bi(t,"delay",0),this.repeat=bi(t,"repeat",0),this.repeatCounter=bi(t,"repeatCounter",0),this.repeatDelay=bi(t,"repeatDelay",0),this.duration=bi(t,"duration",0),this.nowTime=bi(t,"nowTime",0),this.justRestart=bi(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Qs:Jn,this.repeatCounter=0,this}stop(){return this.state=Zn,this}update(t,s){this.state===Zn||this.state===oa||s===0||this.timeScale===0||(this.nowTime+=s*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=Bf)):(this.nowTime=this.duration,this.state=oa):this.nowTime>=0&&(this.state=Qs))}get t(){var t;switch(this.state){case Zn:case Jn:case Bf:t=0;break;case Qs:t=this.nowTime/this.duration;break;case oa:t=1;break}return If(t,0,1)}set t(t){t=If(t,-1,1),t<0?(this.state=Jn,this.nowTime=-this.delay*t):(this.state=Qs,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===Zn}get isDelay(){return this.state===Jn}get isCountDown(){return this.state===Qs}get isRunning(){return this.state===Jn||this.state===Qs}get isDone(){return this.state===oa}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}}const Zn=0,Jn=1,Qs=2,Bf=3,oa=-1;class CS extends yS{constructor(t,s){super(t,s),this.timer=new Og}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const jn=Phaser.Utils.Objects.GetValue,Gf=Phaser.Utils.Objects.GetAdvancedValue,SS=Phaser.Tweens.Builders.GetEaseFunction;class Us extends CS{resetFromJSON(t){return this.timer.resetFromJSON(jn(t,"timer")),this.setEnable(jn(t,"enable",!0)),this.setTarget(jn(t,"target",this.parent)),this.setDelay(Gf(t,"delay",0)),this.setDuration(Gf(t,"duration",1e3)),this.setEase(jn(t,"ease","Linear")),this.setRepeat(jn(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=SS(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateGameObject(this.target,this.timer),this.complete()),this}update(t,s){if(!this.isRunning||!this.enable||!this.parent.active)return this;var g=this.target,C=this.timer;return C.update(t,s),C.isDelay||this.updateGameObject(g,C),this.emit("update",g,this),C.isDone&&this.complete(),this}updateGameObject(t,s){}}const ES=Phaser.Sound.BaseSound;var xu=function(i){return i instanceof ES};const Nf=Phaser.Utils.Objects.GetValue,zf=Phaser.Utils.Objects.GetAdvancedValue,PS=Phaser.Math.Linear;class bg extends Us{constructor(t,s,g){xu(t)&&(g=s,s=t,t=void 0),s.active=!0,s.scene=t,s.game=s.manager.game,super(s,g),this.volume={},this.resetFromJSON(g)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Nf(t,"mode",0)),this.setEnable(Nf(t,"enable",!0)),this.setVolumeRange(zf(t,"volume.start",this.parent.volume),zf(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=MS[t]),this.mode=t,this}setVolumeRange(t,s){return this.volume.start=t,this.volume.end=s,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateGameObject(t,s){t.volume=PS(this.volume.start,this.volume.end,s.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.destroy();break}return this}}const MS={stop:1,destroy:2};var ch=function(i,t,s,g,C){xu(i)&&(C=g,g=s,s=t,t=i,i=void 0),g===void 0&&(g=1),C===void 0&&(C=0);var M={mode:0,volume:{start:C,end:g},duration:s};typeof t=="string"&&(t=i.sys.sound.add(t));var o;return t.hasOwnProperty("_fade")?(o=t._fade,o.stop().resetFromJSON(M)):(o=new bg(i,t,M),t._fade=o),o.start(),t.isPlaying||t.setVolume(C).play(),t},In=function(i,t,s,g){xu(i)&&(g=s,s=t,t=i,i=void 0),g===void 0&&(g=!0);var C={mode:g?2:1,volume:{start:t.volume,end:0},duration:s},M;return t.hasOwnProperty("_fade")?(M=t._fade,M.stop().resetFromJSON(C)):(M=new bg(i,t,C),t._fade=M),M.start(),t.isPlaying||t.play(),t};const wS={setBackgroundMusicLoopValue(i){return this.backgroundMusicLoopValue=i,this},setBackgroundMusicFadeTime(i){return this.backgroundMusicFadeTime=i,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(i){return this.backgroundMusic=i,i&&(i.setLoop(this.backgroundMusicLoopValue),i.once("complete",function(){this.backgroundMusic===i&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===i&&(this.backgroundMusic=void 0)},this),i.isPlaying||i.play()),this},playBackgroundMusic(i){return this.backgroundMusic&&this.backgroundMusic.key===i?this:(this.stopBackgroundMusic(),this.setCurrentBackgroundMusic(this.sound.add(i)),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this)},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(i){return this.backgroundMusic&&ch(this.backgroundMusic,i,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(i,t){return this.backgroundMusic&&In(this.backgroundMusic,i,t),this},crossFadeBackgroundMusic(i,t){var s=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(i).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=s,this},setBackgroundMusicVolume(i){return this.backgroundMusicVolume=i,this}},AS={setBackgroundMusic2LoopValue(i){return this.backgroundMusic2LoopValue=i,this},setBackgroundMusic2FadeTime(i){return this.backgroundMusic2FadeTime=i,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(i){return this.backgroundMusic2=i,i&&(i.setLoop(this.backgroundMusic2LoopValue),i.once("complete",function(){this.backgroundMusic2===i&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===i&&(this.backgroundMusic2=void 0)},this),i.isPlaying||i.play()),this},playBackgroundMusic2(i){return this.backgroundMusic2&&this.backgroundMusic2.key===i?this:(this.stopBackgroundMusic2(),this.setCurrentBackgroundMusic2(this.sound.add(i)),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this)},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(i){return this.backgroundMusic2&&ch(this.backgroundMusic2,i,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(i,t){return this.backgroundMusic2&&In(this.backgroundMusic2,i,t),this},crossFadeBackgroundMusic2(i,t){var s=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(i).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=s,this},setBackgroundMusic2Volume(i){return this.backgroundMusic2Volume=i,this}},Vf=Phaser.Utils.Array.Remove,RS={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(i){var t=this.sound.add(i);return t.setVolume(this.soundEffectsVolume),this.soundEffects.push(t),t.once("complete",function(){t.destroy(),this.sound&&Vf(this.soundEffects,t)},this).once("destroy",function(){!this.sound||Vf(this.soundEffects,t)},this).play(),this},fadeInSoundEffect(i){var t=this.getLastSoundEffect();return t&&ch(t,i,this.soundEffectsVolume,0),this},fadeOutSoundEffect(i,t){var s=this.getLastSoundEffect();return s&&In(s,i,t),this},fadeOutAllSoundEffects(i,t){for(var s=this.soundEffects.length-1;s>=0;s--)In(this.soundEffects[s],i,t);return this},setSoundEffectVolume(i,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setVolume(i)}else this.soundEffectsVolume=i;return this}},Uf=Phaser.Utils.Array.Remove,OS={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(i){var t=this.sound.add(i);return t.setVolume(this.soundEffects2Volume),this.soundEffects2.push(t),t.once("complete",function(){t.destroy(),this.sound&&Uf(this.soundEffects2,t)},this).once("destroy",function(){!this.sound||Uf(this.soundEffects2,t)},this).play(),this},fadeInSoundEffect2(i){var t=this.getLastSoundEffect2();return t&&ch(t,i,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(i,t){var s=this.getLastSoundEffect2();return s&&In(s,i,t),this},fadeOutAllSoundEffects2(i,t){for(var s=this.soundEffects2.length-1;s>=0;s--)In(this.soundEffects2[s],i,t);return this},setSoundEffect2Volume(i,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setVolume(i)}else this.soundEffects2Volume=i;return this}};var Lg={};Object.assign(Lg,wS,AS,RS,OS);const di=Phaser.Utils.Objects.GetValue;class Fg{constructor(t,s){this.sound=vS(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=di(s,"bgm.volume",1),this.setBackgroundMusicLoopValue(di(s,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(di(s,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=di(s,"bgm2.volume",1),this.setBackgroundMusic2LoopValue(di(s,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(di(s,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=di(s,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=di(s,"soundEffect2.volume",1);var g=di(s,"bgm.initial",void 0);g&&this.setCurrentBackgroundMusic(g);var C=di(s,"bgm2.initial",void 0);C&&this.setCurrentBackgroundMusic2(C)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var s=this.soundEffects,g=0,C=s.length;g<C;g++)s[g].setVolume(t)}}Object.assign(Fg.prototype,Lg);const Eo=Phaser.Utils.Objects.GetValue;class bS extends fh{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.isRunning=Eo(t,"isRunning",!1),this.timeScale=Eo(t,"timeScale",1),this.now=Eo(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class Dg extends bS{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,s){return!this.isRunning||this.timeScale===0?this:(this.tick(s),this)}}var LS=function(i,t){return t===void 0&&(t=.5),i<=t?i=i/t:i=1-(i-t)/(1-t),i};const Yf=Phaser.Math.Clamp;class FS{constructor(t,s){this.setTimeline(t).reset(s)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,s,g,C){return this.target=t,this.onStart=s,this.onProgress=g,this.onComplete=C,this}setDuration(t,s){return s===void 0&&(s=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=s,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=Yf(t,0,1),this.yoyo&&(t=LS(t)),t}setProgress(t){t=Yf(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){!t||t(this.target,this.t,this)}update(t,s){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=s,this.t=this.getProgress(),this.runCallback(this.onProgress);var g=this.remainder<=0;return g&&this.runCallback(this.onComplete),g}}class DS extends Ei{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var s=0,g=t.length;s<g;s++)this.free(t[s]);return this}}const IS=Phaser.Utils.Objects.GetValue,BS=new DS;class GS extends Dg{constructor(t,s){super(t,s),this.addedTimers=[],this.timers=[],this.timerPool=IS(s,"pool",BS)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var s=this.timerPool.allocate();return s?s.setTimeline(this).reset(t):s=new FS(this,t),this.addedTimers.push(s),s.runCallback(s.onStart),this.isRunning||this.start(),s}delayCall(t,s,g,C){var M=this.addTimer({duration:t,onComplete:function(o,T,e){g===void 0&&(g=[]),g.push(e),s.apply(C,g)}});return M}getTimers(t){for(var s=[],g=[this.addedTimers,this.timers],C=0,M=g.length;C<M;C++)for(var o=g[C],T=0,e=o.length;T<e;T++){var u=o[T];u.name===t&&s.push(u)}return s}update(t,s){if(super.update(t,s),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var g=[],C=0,M=this.timers.length;C<M;C++){var o=this.timers[C],T=o.update(this.now,this.delta);T?this.timerPool.free(o):g.push(o)}this.timers=g,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const NS=Phaser.Utils.Objects.GetValue;var zS=function(i,t){var s=NS(t,"sounds");return s!==!1&&(this.soundManager=new Fg(i,s)),this.gameObjectManagers={},this.timeline=new GS(this),this.managersScene=i,this},VS=function(i){this.timeline.timeScale=i;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(i);return this},US=function(){return this.timeline.timeScale},YS=function(i){this.soundManager&&this.soundManager.destroy(),this.soundManager=void 0;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(i),delete this.gameObjectManagers[t];this.timeline&&this.timeline.destroy(),this.timeline=void 0,this.managersScene=void 0};const XS={hasProperty(i){var t=this.gameObject;if(t.hasOwnProperty(i))return!0;var s=t[i];return s!==void 0},getProperty(i){return this.gameObject[i]},setProperty(i,t){return this.gameObject[i]=t,this},easeProperty(i,t,s,g,C,M,o){var T=this.tweens,e=T[i];e&&e.remove();var u=this.gameObject,x={targets:u,duration:s,ease:g,repeat:C,yoyo:M,onComplete:function(){T[i].remove(),T[i]=null,o&&o(u,i)},onCompleteScope:this};return x[i]=t,e=this.scene.tweens.add(x),e.timeScale=this.timeScale,T[i]=e,this}},kS={hasMethod(i){return typeof this.gameObject[i]=="function"},call(i,...t){if(!this.hasMethod(i))return this;var s=this.gameObject;return s[i].apply(s,t),this}},WS={hasData(i){var t=this.gameObject;return t.data?t.data.has(i):!1},getData(i){return this.gameObject.getData(i)},setData(i,t){return this.gameObject.setData(i,t),this}};class yu{constructor(t,s,g){this.GOManager=t,this.tweens={},this.setGO(s,g)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeTweens(){var t=this.tweens,s;for(var g in t)s=t[g],s&&s.remove(),t[g]=null;return this}freeGO(){return this.freeTweens(),this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,s){return t.setName(s),this.gameObject=t,this.name=s,this.freeTweens(),this}setTimeScale(t){var s=this.tweens;for(var g in s){var C=s[g];C&&(C.timeScale=t)}return this}}Object.assign(yu.prototype,XS,kS,WS);var Tu=function(i){for(var t in i)return!1;return!0};const HS={tint:0,alpha:1},$S={setGOFadeMode(i){return typeof i=="string"&&(i=HS[i]),this.fadeMode=i,this},setGOFadeTime(i){return this.fadeTime=i,this},hasTintFadeEffect(i){return(this.fadeMode===void 0||this.fadeMode===0)&&this.fadeTime>0&&i.setTint!==void 0},hasAlphaFadeEffect(i){return(this.fadeMode===void 0||this.fadeMode===1)&&this.fadeTime>0&&i.setAlpha!==void 0},fadeBob(i,t,s,g){var C=i.gameObject;return this.hasTintFadeEffect(C)?(t!==void 0&&i.setProperty("tintGray",255*t),i.easeProperty("tintGray",Math.floor(255*s),this.fadeTime,"Linear",0,!1,g)):this.hasAlphaFadeEffect(C)?(t!==void 0&&i.setProperty("alpha",t),i.easeProperty("alpha",s,this.fadeTime,"Linear",0,!1,g)):g&&g(C),this}};var mr=function(i){return i>>16&255},xr=function(i){return i>>8&255},yr=function(i){return i&255};const KS=~(255<<16)&16777215,ZS=~(255<<8)&16777215,JS=16776960;var jS=function(i,t){return(t&255)<<16|i&KS},QS=function(i,t){return(t&255)<<8|i&ZS},qS=function(i,t){return t&255|i&JS},_S=function(i,t,s,g){return(t&255)<<16|(s&255)<<8|g&255},t2=function(i,t){if(i.hasOwnProperty("tintR"))return i;t===void 0&&(t=16777215);var s=mr(t),g=xr(t),C=yr(t);return Object.defineProperty(i,"tint",{get:function(){return t},set:function(M){M=Math.floor(M)&16777215,i.setTint&&i.setTint(M),t!==M&&(t=M,s=mr(t),g=xr(t),C=yr(t))}}),Object.defineProperty(i,"tintR",{get:function(){return s},set:function(M){M=Math.floor(M)&255,s!==M&&(s=M,i.tint=jS(t,M))}}),Object.defineProperty(i,"tintG",{get:function(){return g},set:function(M){M=Math.floor(M)&255,g!==M&&(g=M,i.tint=QS(t,M))}}),Object.defineProperty(i,"tintB",{get:function(){return C},set:function(M){M=Math.floor(M)&255,C!==M&&(C=M,i.tint=qS(t,M))}}),Object.defineProperty(i,"tintGray",{get:function(){return Math.floor((s+g+C)/3)},set:function(M){M=Math.floor(M)&255,(s!==M||g!==M||C!==M)&&(s=M,g=M,C=M,i.tint=_S(t,M,M,M))}}),i.tint=t,i};const e2=Phaser.Events.EventEmitter;var i2=function(i){if(i.events)return i;var t=new e2,s=i.x;Object.defineProperty(i,"x",{get:function(){return s},set:function(o){s!==o&&(s=o,t.emit("update",i))}});var g=i.y;Object.defineProperty(i,"y",{get:function(){return g},set:function(o){g!==o&&(g=o,t.emit("update",i))}});var C=i.width;Object.defineProperty(i,"width",{get:function(){return C},set:function(o){C!==o&&(C=o,t.emit("update",i))}});var M=i.height;return Object.defineProperty(i,"height",{get:function(){return M},set:function(o){M!==o&&(M=o,t.emit("update",i))}}),i.events=t,i},s2=function(i,t,s,g,C,M){return M===void 0?M={}:M===!0&&(M=n2),typeof s!="number"&&(s=0,g=0),M.x=C.x+C.width*i+s,M.y=C.y+C.height*t+g,M},n2={},r2=function(i,t,s,g,C,M,o){if(i.hasOwnProperty("vp"))return i;typeof s=="function"&&(o=s,s=void 0),typeof C=="function"&&(o=C,C=void 0),s===void 0&&(s=.5),g===void 0&&(g=.5),C===void 0&&(C=0),M===void 0&&(M=0),o===void 0&&(o=s2),i2(t);var T=t.events;i.vp=t;var e=function(){o(s,g,C,M,t,i)};T.on("update",e),i.once("destroy",function(){T.off("update",e),i.vp=void 0}),Object.defineProperty(i,"vpx",{get:function(){return s},set:function(u){s!==u&&(s=u,e())}}),Object.defineProperty(i,"vpy",{get:function(){return g},set:function(u){g!==u&&(g=u,e())}}),Object.defineProperty(i,"vpxOffset",{get:function(){return C},set:function(u){C!==u&&(C=u,e())}}),Object.defineProperty(i,"vpyOffset",{get:function(){return M},set:function(u){M!==u&&(M=u,e())}}),e()};const a2=Phaser.Utils.Array.Remove,h2={has(i){return this.bobs.hasOwnProperty(i)},exists(i){return this.bobs.hasOwnProperty(i)},get(i){return this.bobs[i]},getGO(i){var t=this.get(i);return t?t.gameObject:null},addGO(i,t){this.remove(i,!0),this.hasTintFadeEffect(t)&&t2(t),this.viewportCoordinateEnable&&r2(t,this.viewport),t.once("destroy",function(){a2(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var s=new this.BobClass(this,t,i);return this.bobs[i]=s,this},add(i,...t){var s=this.createGameObjectCallback,g=this.createGameObjectScope,C=s.call(g,this.scene,...t);this.addGO(i,C);var M=this.get(i);return this.fadeBob(M,0,1),this},forEachGO(i,t){for(var s in this.bobs){var g=this.bobs[s].gameObject,C;if(t?C=i.call(t,g,s,this):C=i(g,s,this),C)break}return this}},o2={remove(i,t){if(!this.has(i))return this;var s=this.get(i);return delete this.bobs[i],this.removedGOs.push(s.gameObject),t?s.destroy():this.fadeBob(s,void 0,0,function(){s.destroy()}),this},removeAll(){var i=this.bobs;for(var t in i)this.remove(t);return this},clear(i){i===void 0&&(i=!0);var t=this.bobs;for(var s in t)i&&t[s].destroy(),delete t[s];return this.removedGOs.length=0,this}},l2={hasProperty(i,t){return this.has(i)?this.get(i).hasProperty(t):!1},getProperty(i,t){if(!!this.has(i))return this.get(i).getProperty(t)},isNumberProperty(i,t){var s=this.getProperty(i,t);return typeof s=="number"},setProperty(i,t,s){return this.has(i)?(this.symbols&&typeof s=="string"&&this.isNumberProperty(i,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),this.get(i).setProperty(t,s),this):this},easeProperty(i,t,s,g,C,M,o,T){return this.has(i)?(g===void 0&&(g=1e3),C===void 0&&(C="Linear"),M===void 0&&(M=0),o===void 0&&(o=!1),this.symbols&&typeof s=="string"&&this.isNumberProperty(i,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),this.get(i).easeProperty(t,s,g,C,M,o,T),this):this},hasTweenTask(i,t){if(!this.has(i))return!1;var s=this.get(i).tweens;return s.hasOwnProperty(t)},getTweenTask(i,t){if(!this.has(i))return null;var s=this.get(i).tweens,g=s[t];return g||null}},u2={hasMethod(i,t){return this.has(i)?this.get(i).hasMethod(t):!1},call(i,t,...s){return this.has(i)?(this.get(i).call(t,...s),this):this}},d2={hasData(i,t){return this.has(i)?this.get(i).hasData(t):!1},getData(i,t){if(!!this.has(i))return this.get(i).getData(t)},setData(i,t,s){return this.has(i)?(this.get(i).setData(t,s),this):this}};var bt=function(i){return i.displayWidth!==void 0?i.displayWidth:i.width},wt=function(i){return i.displayHeight!==void 0?i.displayHeight:i.height};const Xf=Phaser.Geom.Rectangle,us=Phaser.Math.Vector2,f2=Phaser.Math.RotateAround;var Cu=function(i,t){if(t===void 0?t=new Xf:t===!0&&(Po===void 0&&(Po=new Xf),t=Po),i.getBounds)return i.getBounds(t);var s,g,C,M,o,T,e,u;if(i.parentContainer){var x=i.parentContainer.getBoundsTransformMatrix();Ul(i,t),x.transformPoint(t.x,t.y,t),s=t.x,g=t.y,Yl(i,t),x.transformPoint(t.x,t.y,t),C=t.x,M=t.y,Xl(i,t),x.transformPoint(t.x,t.y,t),o=t.x,T=t.y,kl(i,t),x.transformPoint(t.x,t.y,t),e=t.x,u=t.y}else Ul(i,t),s=t.x,g=t.y,Yl(i,t),C=t.x,M=t.y,Xl(i,t),o=t.x,T=t.y,kl(i,t),e=t.x,u=t.y;return t.x=Math.min(s,C,o,e),t.y=Math.min(g,M,T,u),t.width=Math.max(s,C,o,e)-t.x,t.height=Math.max(g,M,T,u)-t.y,t},Po=void 0,Ul=function(i,t,s){return t===void 0?t=new us:t===!0&&(We===void 0&&(We=new us),t=We),i.getTopLeft?i.getTopLeft(t):(t.x=i.x-bt(i)*i.originX,t.y=i.y-wt(i)*i.originY,vh(i,t,s))},Yl=function(i,t,s){return t===void 0?t=new us:t===!0&&(We===void 0&&(We=new us),t=We),i.getTopRight?i.getTopRight(t):(t.x=i.x-bt(i)*i.originX+bt(i),t.y=i.y-wt(i)*i.originY,vh(i,t,s))},Xl=function(i,t,s){return t===void 0?t=new us:t===!0&&(We===void 0&&(We=new us),t=We),i.getBottomLeft?i.getBottomLeft(t):(t.x=i.x-bt(i)*i.originX,t.y=i.y-wt(i)*i.originY+wt(i),vh(i,t,s))},kl=function(i,t,s){return t===void 0?t=new us:t===!0&&(We===void 0&&(We=new us),t=We),i.getBottomRight?i.getBottomRight(t):(t.x=i.x-bt(i)*i.originX+bt(i),t.y=i.y-wt(i)*i.originY+wt(i),vh(i,t,s))},We=void 0,vh=function(i,t,s){if(s===void 0&&(s=!1),i.rotation!==0&&f2(t,i.x,i.y,i.rotation),s&&i.parentContainer){var g=i.parentContainer.getBoundsTransformMatrix();g.transformPoint(t.x,t.y,t)}return t};const Qn=Phaser.Utils.Objects.GetValue;var Ig=function(i,t,s){var g,C,M,o,T;if(typeof s=="number"?g=s:(g=Qn(s,"color"),C=Qn(s,"lineWidth"),M=Qn(s,"fillColor"),o=Qn(s,"fillAlpha",1),T=Qn(s,"padding",0)),Array.isArray(i))for(var e=0,u=i.length;e<u;e++)kf(i[e],t,g,C,M,o,T);else kf(i,t,g,C,M,o,T)},kf=function(i,t,s,g,C,M,o){var T=i.getBounds||i.width!==void 0&&i.height!==void 0;if(!!T){s===void 0&&(s=16777215),g===void 0&&(g=1),C===void 0&&(C=null),M===void 0&&(M=1),o===void 0&&(o=0);var e=Ul(i,qs[0]);e.x-=o,e.y-=o;var u=Yl(i,qs[1]);u.x+=o,u.y-=o;var x=kl(i,qs[2]);x.x+=o,x.y+=o;var d=Xl(i,qs[3]);d.x-=o,d.y+=o,C!==null&&t.fillStyle(C,M).fillPoints(qs,!0,!0),s!==null&&t.lineStyle(g,s).strokePoints(qs,!0,!0)}},qs=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],c2=function(i,t){return this.forEachGO(function(s){s.drawBounds?s.drawBounds(i,t):Ig(s,i,t)}),this},Bg={drawGameObjectsBounds:c2};Object.assign(Bg,$S,h2,o2,l2,u2,d2);const v2=Phaser.Cameras.Scene2D.BaseCamera;var p2=function(i){return i instanceof v2};const Gg=Phaser.Geom.Rectangle;var Un=function(i,t,s){return p2(t)||(s=t,t=void 0),s===void 0?s=new Gg:s===!0&&(s=g2),t?i.scale.getViewPort(t,s):i.scale.getViewPort(s)},g2=new Gg;const qe=Phaser.Utils.Objects.GetValue;class Su{constructor(t,s){this.scene=t,this.BobClass=qe(s,"BobClass",yu),this.setCreateGameObjectCallback(qe(s,"createGameObject"),qe(s,"createGameObjectScope")),this.setEventEmitter(qe(s,"eventEmitter",void 0));var g=qe(s,"fade",500);typeof g=="number"?(this.setGOFadeMode(),this.setGOFadeTime(g)):(this.setGOFadeMode(qe(g,"mode")),this.setGOFadeTime(qe(g,"time",500)));var C=qe(s,"viewportCoordinate",!1);C!==!1?(this.setViewportCoordinateEnable(qe(s,"enable",!0)),this.setViewport(qe(C,"viewport"))):this.setViewportCoordinateEnable(!1),this.setSymbols(qe(s,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var s=this.bobs;for(var g in s)s[g].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,s){return this.createGameObjectCallback=t,this.createGameObjectScope=s,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setViewport(t){return t===void 0&&(t=Un(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return Tu(this.bobs)&&this.removedGOs.length===0}}Object.assign(Su.prototype,Vn,Bg);const Ng={addGameObjectManager(i,t){i===void 0&&(i={}),t===void 0&&(t=Su),i.createGameObjectScope||(i.createGameObjectScope=this);var s=new t(this.managersScene,i);return this.gameObjectManagers[i.name]=s,this},getGameObjectManager(i){return this.gameObjectManagers[i]},getGameObjectManagerNames(){var i=[];for(var t in this.gameObjectManagers)i.push(t);return i}},m2={createGameObject(i,t,...s){return this.getGameObjectManager(i).add(t,...s),this},destroyGameObject(i,t){var s=this.getGameObjectManager(i);return t===void 0?s.removeAll():s.remove(t),this},callGameObjectMethod(i,t,s,...g){return this.getGameObjectManager(i).call(t,s,...g),this},setGameObjectProperty(i,t,s,g){return this.getGameObjectManager(i).setProperty(t,s,g),this},easeGameObjectProperty(i,t,s,g,C,M,o,T){return this.getGameObjectManager(i).easeProperty(t,s,g,C,M,o,T),this},getGameObject(i,t,s){var g=this.getGameObjectManager(i);if(typeof t=="string")return g.getGO(t);var C=t;C===void 0&&(C=g.bobs),s===void 0&&(s={});for(t in C)s[t]=g.getGO(t);return s},addGameObject(i,t,s){var g=this.getGameObjectManager(i);if(typeof t=="string")g.addGO(t,s);else{var C=t;for(t in C)g.addGO(t,C[t])}return this},drawGameObjectsBounds(i,t,s){i instanceof Phaser.GameObjects.Graphics&&(s=t,t=i,i=void 0),i===void 0&&(i=this.getGameObjectManagerNames()),Array.isArray(i)||(i=[i]);for(var g=0,C=i.length;g<C;g++)this.getGameObjectManager(i[g]).drawGameObjectsBounds(t,s);return this}};var x2=function(i){class t extends i{}var s={initManagers:zS,setTimeScale:VS,getTimeScale:US,destroyManagers:YS};return Object.assign(t.prototype,s,Ng,m2),t},y2=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,T2=/^0x[0-9A-F]+$/i,zg=function(i){return typeof i!="string"||(i===""?i=null:y2.test(i)?i=parseFloat(i):T2.test(i)?i=parseInt(i,16):i==="false"?i=!1:i==="true"&&(i=!0)),i};class Vg{constructor(t){this.setEventEmitter(Dt(t,"eventEmitter",void 0)),this.setValueConverter(Dt(t,"valueConvert",!0)),this.setLoopEnable(Dt(t,"loop",!1)),this.setMultipleLinesTagEnable(Dt(t,"multipleLinesTag",!1));var s=Dt(t,"delimiters","<>");this.setDelimiters(s[0],s[1]),this.setTranslateTagNameCallback(Dt(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,s){s===void 0&&(s=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=s,t=Fn(this.delimiterLeft),s=Fn(this.delimiterRight);var g=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${s}`,g),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=zg:t||(t=C2),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,s=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var g=this.reSplit.exec(t);if(!g){if(this.progressIndex<s&&(this.onContent(t.substring(this.progressIndex,s)),this.isPaused)){this.progressIndex=s;break}this.onComplete(),this.isRunning=!1;return}var C=this.reSplit.lastIndex,M=C-g[0].length;if(this.progressIndex<M&&(this.onContent(t.substring(this.progressIndex,M)),this.isPaused)){this.progressIndex=M;break}if(this.onTag(g[1]),this.progressIndex=C,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,s){return this.isPaused?this:(this.pause(),t.once(s,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}}const C2=function(i){return i};Object.assign(Vg.prototype,Vn);var S2=function(i,t){if(i==null)return[];for(var s=i.split(","),g=0,C=s.length;g<C;g++)s[g]=t(s[g]);return s};class E2 extends Vg{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Dt(t,"regex.tag",void 0)),this.setValueExpression(Dt(t,"regex.value",void 0));var s=Dt(t,"delimiters","<>");this.setDelimiters(s[0],s[1])}setTagExpression(t){return t||(t=la),this.tagExpression=t,this}setValueExpression(t){return t||(t=la),this.valueExpression=t,this}setDelimiters(t,s){super.setDelimiters(t,s);var g=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(g,"i"),this.tagExpression!==la||this.valueExpression!==la){var C=`${this.tagExpression}(=${this.valueExpression})?`,M=`/${this.tagExpression}`;t=Fn(this.delimiterLeft),s=Fn(this.delimiterRight);var o=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${C})|(${M}))${s}`,o)}return this}onTag(t){var s=t.match(this.reTag),g=s[1],C=g.charAt(0)==="/";if(C&&(g=g.substring(1,g.length)),this.translateTagNameCallback&&(g=this.translateTagNameCallback(g)),this.skipEventFlag=!1,C)this.emit(`-${g}`),this.skipEventFlag||this.emit("-",g),this.lastTagEnd=g;else{var M=S2(s[3],this.valueConverter);this.emit(`+${g}`,...M),this.skipEventFlag||this.emit("+",g,...M),this.lastTagStart=g}}}const la="[^=]+";var P2=function(i,t,s){var g="color",C;t.on("start",function(){C=i.textStyle.color}).on(`+${g}`,function(M){i.textStyle.setColor(M),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setColor(C),t.skipEvent()}).on("complete",function(){i.textStyle.setColor(C)})},M2=function(i,t,s){var g="stroke",C;t.on("start",function(){C=i.textStyle.stroke,i.textStyle.setStrokeStyle(null)}).on(`+${g}`,function(M){M===void 0&&(M=C),i.textStyle.setStrokeStyle(M),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){i.textStyle.setStrokeStyle(C)})},w2=function(i,t,s){var g="b";t.on("start",function(){i.textStyle.setBold(!1)}).on(`+${g}`,function(){i.textStyle.setBold(!0),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setBold(!1),t.skipEvent()})},A2=function(i,t,s){var g="i";t.on("start",function(){i.textStyle.setItalic(!1)}).on(`+${g}`,function(){i.textStyle.setItalic(!0),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setItalic(!1),t.skipEvent()})},R2=function(i,t,s){var g="size",C;t.on("start",function(){C=i.textStyle.fontSize}).on(`+${g}`,function(M){i.textStyle.setFontSize(M),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setFontSize(C),t.skipEvent()}).on("complete",function(){i.textStyle.setFontSize(C)})},O2=function(i,t,s){var g="y",C;t.on("start",function(){C=i.textStyle.offsetY,i.textStyle.setOffsetY(0)}).on(`+${g}`,function(M){M===void 0&&(M=C),i.textStyle.setOffsetY(M),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){i.textStyle.setOffsetY(0)})},b2=function(i,t,s){var g="x",C;t.on("start",function(){C=i.textStyle.offsetY,i.textStyle.setOffsetX(0)}).on(`+${g}`,function(M){M===void 0&&(M=C),i.textStyle.setOffsetX(M),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){i.textStyle.setOffsetX(0)})},L2=function(i,t,s){var g="left",C;t.on("start",function(){C=i.textStyle.leftSpace,i.textStyle.setLeftSpace(0)}).on(`+${g}`,function(M){M===void 0&&(M=C),i.textStyle.setLeftSpace(M),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){i.textStyle.setLeftSpace(0)})},F2=function(i,t,s){var g="right",C;t.on("start",function(){C=i.textStyle.rightSpace,i.textStyle.setRightSpace(0)}).on(`+${g}`,function(M){M===void 0&&(M=C),i.textStyle.setRightSpace(M),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){i.textStyle.setRightSpace(0)})},D2=function(i,t,s){var g="shadow",C;t.on("start",function(){C=i.textStyle.shadowColor,i.textStyle.setShadowColor(null)}).on(`+${g}`,function(M){M===void 0&&(M=C),i.textStyle.setShadowColor(M),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){i.textStyle.setShadowColor(C)})},I2=function(i,t,s){var g="align";t.on(`+${g}`,function(C){i.textStyle.setAlign(C),t.skipEvent()}).on(`-${g}`,function(){i.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){i.textStyle.setAlign()})},B2=function(i,t,s){var g="img";t.on(`+${g}`,function(C){var M=i.imageManager.get(C);Eg.call(i,M.key,M.frame,{width:M.width,hieght:M.height,leftSpace:M.left,rightSpace:M.right}),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},G2=function(i,t,s){var g="space";t.on(`+${g}`,function(C){Pg.call(i,C),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},N2=function(i,t,s){var g="speed";t.on(`+${g}`,function(C){Wf(i,C),t.skipEvent()}).on(`-${g}`,function(){Wf(i,void 0),t.skipEvent()})},z2=function(i){this.typeWriter.setTypingSpeed(i)},Wf=function(i,t){mt.call(i,"speed",z2,t,i)},V2=function(i,t,s){var g="se";t.on(`+${g}`,function(C,M){mt.call(i,g,U2,[C,M],i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()});var g="se2";t.on(`+${g}`,function(C,M){mt.call(i,g,Y2,[C,M],i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},U2=function(i){if(!this.skipSoundEffect){var t=i[0],s=i[1];this.soundManager.playSoundEffect(t),s&&this.soundManager.fadeInSoundEffect(s)}},Y2=function(i){if(!this.skipSoundEffect){var t=i[0],s=i[1];this.soundManager.playSoundEffect2(t),s&&this.soundManager.fadeInSoundEffect2(s)}},X2=function(i,t,s){var g="se.fadein";t.on(`+${g}`,function(C){mt.call(i,g,k2,C,i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()});var g="se2.fadein";t.on(`+${g}`,function(C){mt.call(i,g,W2,C,i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},k2=function(i){this.soundManager.fadeInSoundEffect(i)},W2=function(i){this.soundManager.fadeInSoundEffect2(i)},H2=function(i,t,s){var g="se.fadeout";t.on(`+${g}`,function(C,M){M=M==="stop",mt.call(i,g,$2,[C,M],i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()});var g="se2.fadeout";t.on(`+${g}`,function(C,M){M=M==="stop",mt.call(i,g,K2,[C,M],i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},$2=function(i){this.soundManager.fadeOutSoundEffect(...i)},K2=function(i){this.soundManager.fadeOutSoundEffect2(...i)},Z2=function(i,t,s){var g="se.volume";t.on(`+${g}`,function(C){mt.call(i,g,J2,C,i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()});var g="se2.volume";t.on(`+${g}`,function(C){mt.call(i,g,j2,C,i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},J2=function(i){this.soundManager.setSoundEffectVolume(i,!0)},j2=function(i){this.soundManager.setSoundEffectVolume2(i,!0)},Q2=function(i,t,s){var g="bgm";t.on(`+${g}`,function(C,M){mt.call(i,g,q2,[C,M],i),t.skipEvent()}).on(`-${g}`,function(){mt.call(i,"bgm.stop",_2,void 0,i),t.skipEvent()});var g="bgm2";t.on(`+${g}`,function(C,M){mt.call(i,g,tE,[C,M],i),t.skipEvent()}).on(`-${g}`,function(){mt.call(i,"bgm2.stop",eE,void 0,i),t.skipEvent()})},q2=function(i){var t=i[0],s=i[1];this.soundManager.playBackgroundMusic(t),s&&this.soundManager.fadeInBackgroundMusic(s)},_2=function(){this.soundManager.stopBackgroundMusic()},tE=function(i){var t=i[0],s=i[1];this.soundManager.playBackgroundMusic2(t),s&&this.soundManager.fadeInBackgroundMusic2(s)},eE=function(){this.soundManager.stopBackgroundMusic2()},iE=function(i,t,s){var g="bgm.fadein";t.on(`+${g}`,function(C){mt.call(i,g,sE,C,i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()});var g="bgm2.fadein";t.on(`+${g}`,function(C){mt.call(i,g,nE,C,i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},sE=function(i){this.soundManager.fadeInBackgroundMusic(i)},nE=function(i){this.soundManager.fadeInBackgroundMusic2(i)},rE=function(i,t,s){var g="bgm.fadeout";t.on(`+${g}`,function(C,M){M=M==="stop",mt.call(i,g,aE,[C,M],i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()});var g="bgm2.fadeout";t.on(`+${g}`,function(C,M){M=M==="stop",mt.call(i,g,hE,[C,M],i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},aE=function(i){this.soundManager.fadeOutBackgroundMusic(...i)},hE=function(i){this.soundManager.fadeOutBackgroundMusic2(...i)},oE=function(i,t,s){var g="bgm.cross";t.on(`+${g}`,function(C,M){mt.call(i,g,lE,[C,M],i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()});var g="bgm2.cross";t.on(`+${g}`,function(C,M){mt.call(i,g,uE,[C,M],i),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},lE=function(i){this.soundManager.crossFadeBackgroundMusic(...i)},uE=function(i){this.soundManager.crossFadeBackgroundMusic2(...i)},dE=function(i,t,s){var g="bgm.pause";t.on(`+${g}`,function(){mt.call(i,g,fE,void 0,i),t.skipEvent()}).on(`-${g}`,function(){mt.call(i,"bgm.resume",cE,void 0,i),t.skipEvent()});var g="bgm2.pause";t.on(`+${g}`,function(){mt.call(i,g,vE,void 0,i),t.skipEvent()}).on(`-${g}`,function(){mt.call(i,"bgm2.resume",pE,void 0,i),t.skipEvent()})},fE=function(){this.soundManager.pauseBackgroundMusic()},cE=function(){this.soundManager.resumeBackgroundMusic()},vE=function(){this.soundManager.pauseBackgroundMusic2()},pE=function(){this.soundManager.resumeBackgroundMusic2()},gE=function(i,t,s){var g="camera.fadein";t.on(`+${g}`,function(C,M,o,T){mt.call(i,g,mE,[C,M,o,T],i),t.skipEvent()})},mE=function(i){this.targetCamera.fadeIn(...i)},xE=function(i,t,s){var g="camera.fadeout";t.on(`+${g}`,function(C,M,o,T){mt.call(i,g,yE,[C,M,o,T],i),t.skipEvent()})},yE=function(i){this.targetCamera.fadeOut(...i)},TE=function(i,t,s){var g="camera.shake";t.on(`+${g}`,function(C,M){mt.call(i,g,CE,[C,M],i),t.skipEvent()})},CE=function(i){this.targetCamera.shake(...i)},SE=function(i,t,s){var g="camera.flash";t.on(`+${g}`,function(C,M,o,T){mt.call(i,g,EE,[C,M,o,T],i),t.skipEvent()})},EE=function(i){this.targetCamera.flash(...i)},PE=function(i,t,s){var g="camera.zoom";t.on(`+${g}`,function(C){mt.call(i,g,ME,C,i),t.skipEvent()}).on(`+${g}.to`,function(C,M,o){mt.call(i,"camera.zoom.to",wE,[C,M,o],i),t.skipEvent()})},ME=function(i){this.targetCamera.setZoom(i)},wE=function(i){this.targetCamera.zoomTo(...i)};const Hf=Phaser.Math.DegToRad;var AE=function(i,t,s){var g="camera.rotate";t.on(`+${g}`,function(C){C=Hf(C),mt.call(i,g,RE,C,i),t.skipEvent()}).on(`+${g}.to`,function(C,M,o){C=Hf(C),mt.call(i,"camera.rotate.to",OE,[C,M,o],i),t.skipEvent()})},RE=function(i){this.targetCamera.setRotation(i)},OE=function(i){var t=i[0],s=i[1],g=i[2];this.targetCamera.rotateTo(t,!1,s,g)},bE=function(i,t,s){var g="camera.scroll";t.on(`+${g}`,function(C,M){mt.call(i,g,LE,[C,M],i),t.skipEvent()}).on(`+${g}.to`,function(C,M,o,T){mt.call(i,"camera.scroll.to",FE,[C,M,o,T],i),t.skipEvent()})},LE=function(i){this.targetCamera.setScroll(...i)},FE=function(i){var t=i[0],s=i[1],g=i[2],C=i[3],M=this.targetCamera,o=M.scrollX,T=M.scrollY;M.setScroll(t,s),t+=M.centerX,s+=M.centerY,M.setScroll(o,T),M.pan(t,s,g,C)},DE=function(i,t,s){var g="wait",C="click";t.on(`+${g}`,function(M){$f(i,M),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()}).on(`+${C}`,function(){$f(i,"click"),t.skipEvent()}).on(`-${C}`,function(){t.skipEvent()})},IE=function(i){this.typeWriter.wait(i)},$f=function(i,t){mt.call(i,"wait",IE,t,i)},BE=function(i,t,s){var g="r";t.on(`+${g}`,function(){Lr.call(i,`
`),t.skipEvent()}).on(`-${g}`,function(){t.skipEvent()})},GE=function(i,t,s){for(var g=["pagebreak","pb"],C=0,M=g.length;C<M;C++){var o=g[C];t.on(`+${o}`,function(){Lr.call(i,"\f"),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})}},NE=function(i,t,s){var g="content.off";t.on(`+${g}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},zE=function(i,t,s){var g="content.on";t.on(`+${g}`,function(){t.setContentOutputEnable(),t.skipEvent()})},VE=function(i,t,s){t.on("content",function(g){if(t.contentOutputEnable)Lr.call(i,g);else{var C=`+${t.lastTagStart}`;i.emit(`parser.${C}#content`,t,g)}})},UE=function(i,t,s){t.on("start",function(){i.emit("parser.start",t)}).on("+",function(g,...C){if(!t.skipEventFlag){var M=`+${g}`,o=C;i.emit(`parser.${M}`,t,...C,o),Kf(i,M,o)}}).on("-",function(g){if(!t.skipEventFlag){var C=`-${g}`,M=[];i.emit(`parser.${C}`,t,M),Kf(i,C,M)}}).on("complete",function(){i.emit("parser.complete",t)})},YE=function(i,t){var s=`tag.${t}`;i==null?this.emit(s):this.emit(s,...i)},Kf=function(i,t,s){mt.call(i,t,YE,s,i)};const Zf=[P2,M2,w2,A2,R2,D2,I2,O2,b2,L2,F2,B2,G2,N2,V2,X2,H2,Z2,Q2,iE,rE,oE,dE,gE,xE,TE,SE,PE,AE,bE,DE,BE,GE,NE,zE,VE,UE];var XE=function(i,t,s){for(var g=0,C=Zf.length;g<C;g++)Zf[g](i,t,s)},kE=function(i,t){for(var s=i.commentLineStart,g=t.split(`
`),C=0,M=g.length;C<M;C++){var o=g[C];o===""||(o.trim().length===0||s&&o.startsWith(s))&&(g[C]="")}return g.join("")};const WE=Phaser.Utils.Objects.GetValue;class HE extends E2{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("delimiters")||(s.delimiters="[]"),super(s),XE(t,this,s),this.setCommentLineStartSymbol(WE(s,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(kE(this,t)),this}}const $E={setDefaultTypingSpeed(i){return this.defaultSpeed=i,this},setTypingSpeed(i){return i===void 0&&(i=this.defaultSpeed),this.speed=i,this}},qn="page.fadeout";var KE=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(qn),this;var i=this.children.filter(function(g){return g.renderable}),t=this.fadeOutPageCallback(i,this.fadeOutPageDuration);if(!t)this.emit(qn);else if(t.once)t.once("complete",function(){this.emit(qn)},this);else if(t.then){var s=this;t.then(function(){s.emit(qn)})}else this.emit(qn);return this},ph=function(i,t){return new Promise(function(s,g){i.once(t,function(){s()})})},le=function(i){return ph(i,"complete")},ZE=function(i){return this.children=i,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(i),this.typing(),le(this)};const JE="delay",Ug="anim";var Yg=function(i){i===void 0&&(i=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var s=this.getNextChild();if(!s){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(s.renderable){var g=this.animationConfig;if(g.duration>0){var C=this.timeline.addTimer({name:Ug,target:s,duration:g.duration,yoyo:g.yoyo,onStart:g.onStart,onProgress:g.onProgress,onComplete:g.onComplete});this.skipTypingAnimation&&C.seek(1)}else g.onStart&&g.onStart(s,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",s);var M=this.nextChild;if(M&&!(this.skipSpaceEnable&&nC(M))){if(t+=this.speed+i,i=0,t>0){this.typingTimer=this.timeline.addTimer({name:JE,target:this,duration:t,onComplete:function(o,T,e){o.typingTimer=void 0,Yg.call(o,e.remainder)}});break}}}else rC(s)&&s.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},jE=function(){return this.timeline.pause(),this},QE=function(){return this.timeline.resume(),this},qE=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},_E=function(i){return this.isTypingPaused?(i===void 0&&(i=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=i):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(i)),this):this};const ai="_remove.wait",Wl="_remove.play",Jf=[ai,Wl];var gs=function(i,t,s,g,C){return function(){i.emit(ai,C),t.apply(g,s)}},jf=function(i,t,s,g,C){var M=gs(i,s,g,C,"custom"),o=t?`wait.${t}`:"wait";i.emit(o,M)},tP=function(i,t,s,g,C){var M=gs(i,s,g,C,"time"),o;i.once(ai,function(){o&&(o.remove(),o=void 0)}),o=i.timeline.delayCall(t,M),i.emit("wait.time",t)},eP=function(i,t,s,g){var C=i.clickEE;if(!!C){var M=gs(i,t,s,g,"click");i.once(ai,function(){C.off("pointerdown",M,i)}),C.once("pointerdown",M,i),i.emit("wait.click")}},ua=function(i,t,s,g,C){var M=gs(i,s,g,C,"music");t&&(i.once(ai,function(){t.off("complete",M,i)}),t.once("complete",M,i)),i.emit("wait.music",t),t||M()},iP=function(i){switch(i){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},sP=function(i,t,s,g,C){var M=gs(i,s,g,C,`camera.${t}`),o=i.targetCamera,T,e;switch(t){case"camera.fadein":T=o.fadeEffect,e="camerafadeincomplete";break;case"camera.fadeout":T=o.fadeEffect,e="camerafadeoutcomplete";break;case"camera.flash":T=o.flashEffect,e="cameraflashcomplete";break;case"camera.shake":T=o.shakeEffect,e="camerashakecomplete";break;case"camera.zoom":T=o.zoomEffect,e="camerazoomcomplete";break;case"camera.rotate":T=o.rotateToEffect,e="camerarotatecomplete";break;case"camera.scroll":T=o.panEffect,e="camerapancomplete";break}T.isRunning?(i.once(ai,function(u){o.off(e,M,i)}),o.once(e,M,i),i.emit("wait.camera",t)):(i.emit("wait.camera",t),M())},nP=function(i,t,s,g,C){var M=gs(i,s,g,C,"keydown"),o=`keydown-${t.toUpperCase()}`,T=i.scene.input.keyboard;i.once(ai,function(){T.off(o,M,i)}),T.once(o,M,i),i.emit("wait.keydown",t)},rP=function(i,t){var s=t.split(".");return i.gameObjectManagers.hasOwnProperty(s[0])},aP=function(i,t,s,g,C){var M=gs(i,s,g,C),o=t.split("."),T=o[0],e=i.getGameObjectManager(T),u=`wait.${T}`;switch(o.length){case 1:e.isEmpty?(i.emit(u),M()):(i.once(ai,function(m){e.off("empty",M,i)}),e.once("empty",M,i),i.emit(u));return;case 2:var l=o[1];if(!e.has(l))i.emit(u,l),M();else{var x=e.get(l),d=x.gameObject;i.once(ai,function(){d.off("destroy",M,i)}),d.once("destroy",M,i),i.emit(u,l)}return;case 3:var l=o[1],h=o[2],n=e.getProperty(l,h);if(typeof n=="number"){var r=e.getTweenTask(l,h);r?(i.once(ai,function(){r.off("complete",M,i)}),r.once("complete",M,i),i.emit(u,l,h)):(i.emit(u,l,h),M());return}var f=h,a=f.startsWith("!");if(a&&(f=f.substring(1)),e.hasData(l,f)){var d=e.getGO(l),c=d.getData(f),p=!a;if(c===p)i.emit(u,l,h),M();else{var v=`changedata-${f}`,s=function(E,P,S){P=!!P,P===p&&M.call(i)};i.once(ai,function(){d.off(v,s)}),d.on(v,s),i.emit(u,l,h)}return}}};const hP=Phaser.Input.Keyboard.KeyCodes;var Xg=function(i,t,s,g,C){typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var M=0,o=t.length;M<o;M++){var T=t[M];if(T==null||T==="wait")jf(i,void 0,s,g,C);else if(typeof T=="number"||!isNaN(T))tP(i,parseFloat(T),s,g,C);else if(T==="click")eP(i,s,g,C);else if(T==="se"){var e=i.soundManager.getLastSoundEffect();ua(i,e,s,g,C)}else if(T==="se2"){var e=i.soundManager.getLastSoundEffect2();ua(i,e,s,g,C)}else if(T==="bgm"){var e=i.soundManager.getBackgroundMusic();ua(i,e,s,g,C)}else if(T==="bgm2"){var e=i.soundManager.getBackgroundMusic2();ua(i,e,s,g,C)}else hP.hasOwnProperty(T.toUpperCase())?nP(i,T,s,g,C):iP(T)?sP(i,T,s,g,C):rP(i,T)?aP(i,T,s,g,C):jf(i,T,s,g,C)}},oP=function(i){return this.ignoreWait?this:(this.pauseTyping(),Xg(this.textPlayer,i,this.resumeTyping,[],this),this)},lP=function(i){return i===void 0&&(i=!0),this.ignoreWait=i,this},uP=function(i){return i===void 0&&(i=!0),this.skipSpaceEnable=i,this},dP=function(i){if(i===void 0&&(i=!0),this.skipTypingAnimation=i,i)for(var t=this.timeline.getTimers(Ug),s=0,g=t.length;s<g;s++)t[s].seek(1);return this},fP=function(i){if(i===void 0&&(i=!0),this.skipSoundEffect=i,i){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},cP=function(){return this.typingTimer&&this.typingTimer.seek(1),this},kg={fadeOutPage:KE,start:ZE,typing:Yg,pause:jE,resume:QE,pauseTyping:qE,resumeTyping:_E,wait:oP,setIgnoreWait:lP,setSkipSpaceEnable:uP,setSkipTypingAnimation:dP,setSkipSoundEffect:fP,skipCurrentTypingDelay:cP};Object.assign(kg,$E);const _s=Phaser.Utils.Objects.GetValue;class Wg{constructor(t,s){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(_s(s,"onTypingStart",pP)),this.setDefaultTypingSpeed(_s(s,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(_s(s,"skipSpace",!1)),this.setAnimationConfig(_s(s,"animation",void 0)),this.setMinSizeEnable(_s(s,"minSizeEnable",!1)),this.setFadeOutPageCallback(_s(s,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=vP),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var vP=function(i){i.setVisible&&i.setVisible()},pP=function(i){for(var t=0,s=i.length;t<s;t++){var g=i[t];g.setVisible&&g.setVisible(!1)}};Object.assign(Wg.prototype,Vn,kg);class gP extends yu{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const mP={playAnimation(i,t){return this.has(i)||this.add(i),this.get(i).playAnimation(t),this},stopAnimation(i){return this.has(i)?(this.get(i).stopAnimation(),this):this},chainAnimation(i,t){return this.has(i)?(this.get(i).chainAnimation(t),this):this},pauseAnimation(i){return this.has(i)?(this.get(i).pauseAnimation(),this):this}};var Hg={};Object.assign(Hg,mP);class $g extends Su{constructor(t,s){s===void 0&&(s={}),s.BobClass=gP,super(t,s)}setCreateGameObjectCallback(t,s){return!t||t==="sprite"?t=xP:t==="image"&&(t=yP),super.setCreateGameObjectCallback(t,s),this}}var xP=function(i,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),i.add.sprite(0,0,t,s)},yP=function(i,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),i.add.image(0,0,t,s)};Object.assign($g.prototype,Hg);var Qf=function(i,t){return i.length===3&&i[0]===t&&i[2]==="play"},TP=function(i,t){return i.length===3&&i[0]===t&&i[2]==="stop"},CP=function(i,t,s){var g=s.name;t.on("+",function(C,...M){if(!t.skipEventFlag){var o=C.split("."),T;if(Qf(o,g))T=o[1];else return;mt.call(i,`${g}.play`,SP,[g,T,M],i),t.skipEvent()}}).on("+",function(C){if(!t.skipEventFlag){var M=C.split("."),o;if(TP(M,g))o=M[1];else return;mt.call(i,`${g}.stop`,qf,[g,o],i),t.skipEvent()}}).on("-",function(C){if(!t.skipEventFlag){var M=C.split("."),o;if(Qf(M,g))o=M[1];else return;mt.call(i,`${g}.stop`,qf,[g,o],i),t.skipEvent()}})},SP=function(i){var t,s,g;[t,s,g]=i;var C=g.shift(),M=this.getGameObjectManager(t);M.playAnimation(s,C),g.length>0&&M.chainAnimation(s,g)},qf=function(i){var t,s;[t,...s]=i;var g=this.getGameObjectManager(t);g.stopAnimation(...s)},EP=function(i,t){return i.length===3&&i[0]===t&&i[2]==="pause"},PP=function(i,t,s){var g=s.name;t.on("+",function(C){if(!t.skipEventFlag){var M=C.split("."),o;if(EP(M,g))o=M[1];else return;mt.call(i,`${g}.pause`,MP,[g,o],i),t.skipEvent()}})},MP=function(i){var t,s;[t,...s]=i;var g=this.getGameObjectManager(t);g.pauseAnimation(...s)},wP=function(i,t){return i.length===3&&i[0]===t&&i[2]==="chain"},AP=function(i,t,s){var g=s.name;t.on("+",function(C){if(!t.skipEventFlag){var M=C.split("."),o;if(wP(M,g))o=M[1];else return;var T=Array.prototype.slice.call(arguments,1);mt.call(i,`${g}.chain`,RP,[g,o,T],i),t.skipEvent()}})},RP=function(i){var t,s;[t,...s]=i;var g=this.getGameObjectManager(t);g.chainAnimation(...s)};const OP=[CP,PP,AP];var bP=function(i){i===void 0&&(i={}),i.name="sprite",i.parseCallbacks=OP,this.addGameObjectManager(i,$g)},_f=function(i,t){return i.length===2&&i[0]===t},LP=function(i,t,s){var g=s.name;t.on("+",function(C,...M){if(!t.skipEventFlag){var o=C.split("."),T;if(_f(o,g))T=o[1];else return;mt.call(i,`${g}.add`,FP,[g,T,...M],i),t.skipEvent()}}).on("-",function(C){if(!t.skipEventFlag){var M=C.split("."),o;if(_f(M,g))o=M[1];else return;mt.call(i,`${g}.remove`,DP,[g,o],i),t.skipEvent()}})},FP=function(i){var t,s;[t,...s]=i;var g=this.getGameObjectManager(t);g.add(...s)},DP=function(i){var t,s;[t,...s]=i;var g=this.getGameObjectManager(t);g.remove(...s)},IP=function(i,t,s){var g=s.name;t.on("-",function(C){t.skipEventFlag||C===g&&(mt.call(i,`${g}.removeall`,BP,g,i),t.skipEvent())})},BP=function(i){var t=this.getGameObjectManager(i);t.removeAll()},GP=function(i,t){return i.length===3&&i[0]===t},NP=function(i,t,s){var g=s.name;t.on("+",function(C,...M){if(!t.skipEventFlag){var o=C.split("."),T,e;if(GP(o,g))T=o[1],e=o[2];else return;mt.call(i,`${g}.call`,zP,[g,T,e,...M],i),t.skipEvent()}})},zP=function(i){var t,s,g,C;[t,s,g,...C]=i;var M=`${t}.${g}`;if(this.emit(M,s,...C),!(this.listenerCount(M)>0)){var o=this.getGameObjectManager(t);o.hasMethod(s,g)?o.call(s,g,...C):o.setProperty(s,g,C[0])}},VP={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},UP=function(i,t){return i.length===4&&i[0]===t&&VP[i[3]]},YP=function(i,t,s){var g=s.name;i.getGameObjectManager(g),t.on("+",function(C,M,o,T,e){if(!t.skipEventFlag){var u=C.split("."),x,d,l;if(UP(u,g))x=u[1],d=u[2],l=u[3];else return;typeof T=="number"&&(e=T,T=void 0),mt.call(i,`${g}.ease`,XP,[g,x,d,M,o,T,e,l],i),t.skipEvent()}})},XP=function(i){var t,s,g,C,M,o,T,e;[t,s,g,C,M,o,T,e]=i;var u=this.getGameObjectManager(t),x=u.getProperty(s,g);if(typeof x=="number"){e.endsWith("Left")||e.endsWith("Up")?e.startsWith("to")||e.startsWith("yoyo")?C=x-C:e.startsWith("from")&&(u.setProperty(s,g,x-C),C=x):e.endsWith("Right")||e.endsWith("Down")?e.startsWith("to")||e.startsWith("yoyo")?C=x+C:e.startsWith("from")&&(u.setProperty(s,g,x+C),C=x):e==="from"&&(u.setProperty(s,g,C),C=x);var d=e.startsWith("yoyo");u.easeProperty(s,g,C,M,o,T,d)}};const tc=[LP,IP,NP,YP],kP=Ng.addGameObjectManager,WP={addGameObjectManager(i,t){i===void 0&&(i={});var s=i.name;s||console.warn("Parameter 'name' is required in TextPlayer.addGameObjectManager(config) method"),kP.call(this,i,t);var g=i.parseCallbacks;g?g=[...g,...tc]:g=tc;for(var C=0,M=g.length;C<M;C++)g[C](this,this.parser,i);return this}};var HP=function(i){return this.clickTarget=i,i?Bs(i)?this.clickEE=i.input:this.clickEE=i.setInteractive():this.clickEE=null,this},$P=function(i){return this.targetCamera=i,this},KP=function(i){var t=this;i?typeof i=="function"?this.nextPageInput=function(s,g,C){var M=gs(t,s,g,C);i.call(t,M)}:this.nextPageInput=function(s,g,C){Xg(t,i,s,g,C)}:this.nextPageInput=null},ZP=function(i,t){return this.imageManager.add(i,t),this};const JP={play(i){return this.isPlaying?this:(this.removeChildren(),this.parser.start(i),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(i){var t=le(this);return this.play(i),t}};Phaser.Utils.Objects.GetValue;var Hl=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once("page.fadeout",jP,this).fadeOutPage(),this)},jP=function(){var i=this.runWrap(this.lastWrapResult);this.lastWrapResult=i,this.emit("page.start");var t=function(){this.emit(Wl),i.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?Hl.call(this):this.nextPageInput&&this.nextPageInput(Hl,[],this))};this.once(Wl,function(){this.typeWriter.off("complete",t,this)}),this.typeWriter.once("complete",t,this).start(i.children)};const QP={pause(){return this.timeline.pause(),this},pauseTyping(){return this.typeWriter.pauseTyping(),this}},qP={resume(){return this.timeline.resume(),this},resumeTyping(i){return this.typeWriter.resumeTyping(i),this}};var _P=function(i){return this.typeWriter.wait(i),this};const tM={setDefaultTypingSpeed(i){return this.defaultTypingSpeed=i,this},setTypingSpeed(i){return this.typingSpeed=i,this}};var eM=function(i){return this.typeWriter.setIgnoreWait(i),this},iM=function(i){return i===void 0&&(i=!0),this.ignoreNextPageInput=i,this},sM=function(){if(!this.isPlaying||!this.isPageTyping)return this;var i=this.typeWriter.speed,t=this.typeWriter.ignoreWait,s=this.typeWriter.skipTypingAnimation,g=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(i).setIgnoreWait(t).setSkipTypingAnimation(s).setSkipSoundEffect(g)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const nM={getSprite(i){return this.getGameObject("sprite",i)},addSprite(i,t){return this.addGameObject("sprite",i,t),this}},rM={setContentOutputEnable(i){return this.parser.setContentOutputEnable(i),this},setContentCallback(i,t){return this.contentCallback=i,this.contentCallbackScope=t,this}};var Kg={setClickTarget:HP,setTargetCamera:$P,setNextPageInput:KP,addImage:ZP,typingNextPage:Hl,wait:_P,setIgnoreWait:eM,setIgnoreNextPageInput:iM,showPage:sM};Object.assign(Kg,WP,JP,QP,qP,tM,nM,rM);var aM=function(i){for(var t=0,s=Jf.length;t<s;t++)i.emit(Jf[t])};const ec=Phaser.Utils.Objects.IsPlainObject,ji=Phaser.Utils.Objects.GetValue;class Eu extends x2(zn){constructor(t,s,g,C,M,o){ec(s)?o=s:ec(C)&&(o=C),o===void 0&&(o={});var T=o.text;delete o.text,super(t,s,g,C,M,o),this.type="rexTextPlayer",this.parser=new HE(this,ji(o,"parser",void 0)),this.typeWriter=new Wg(this,ji(o,"typing",void 0)),this._imageManager=void 0;var e=ji(o,"images",void 0);e&&this.addImage(e),this.setTargetCamera(ji(o,"camera",this.scene.sys.cameras.main)),this.initManagers(t,o);var u=ji(o,"sprites");u!==!1&&u!==null&&bP.call(this,u),this.setIgnoreNextPageInput(ji(o,"ignoreNextPageInput",!1)),this.setClickTarget(ji(o,"clickTarget",this)),this.setNextPageInput(ji(o,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new vu(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(aM(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.targetCamera=void 0,this.clickEE=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(Eu.prototype,Kg);nt.register("textPlayer",function(i,t,s,g,C){var M=new Eu(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.TextPlayer",Eu);const Zg={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},Jg={direction:["direction",void 0]};var ss=function(i,t,s){if(typeof s=="string")i.hasOwnProperty(s)&&(t[s]=i[s]);else{var g=s;if(Array.isArray(g))for(var C=0,M=g.length;C<M;C++)ss(i,t,g[C]);else for(var s in g)ss(i,t,s)}},hM=function(i){i===void 0&&(i={});var t={};return ss(i,t,"inputType"),ss(i,t,"type"),ss(i,t,"style"),ss(i,t,Jg),ss(i,t,Zg),t},Pu=function(i,t,s,g){if(t)return!(s&&!s(i,t)||!ic(i,t)||g&&!g(i,t));for(var C=i.scene.input.manager,M=C.pointersTotal,o=C.pointers,t,T=0;T<M;T++)if(t=o[T],!(s&&!s(i,t))&&!!ic(i,t)&&!(g&&!g(i,t)))return!0;return!1},ic=function(i,t){for(var s=i.scene,g=s.input.cameras.getCamerasBelowPointer(t),C=s.input.manager,M=[i],o,T=0,e=g.length;T<e;T++)if(o=C.hitTest(t,M,g[T]),o.length>0)return!0;return!1},En=void 0,oM=function(i){i!==En&&(En!==void 0&&En.close(),En=i)},lM=function(i){i===En&&(En=void 0)};const uM=Phaser.Utils.Objects.GetValue;var ja=function(i,t,s){s===void 0&&(s={});var g,C;for(var M in i)g=i[M],C=uM(t,M,g[1]),C!==void 0&&(s[g[0]]=C);return s},jg=function(i){i.addEventListener("touchstart",tn,!1),i.addEventListener("touchmove",tn,!1),i.addEventListener("touchend",tn,!1),i.addEventListener("mousedown",tn,!1),i.addEventListener("mouseup",tn,!1),i.addEventListener("mousemove",tn,!1)},tn=function(i){i.stopPropagation()};const Mo=Phaser.Utils.Objects.GetValue;var dM=function(i,t){var s,g=Mo(t,"inputType",void 0);g===void 0&&(g=Mo(t,"type","text")),g==="textarea"?(s=document.createElement("textarea"),s.style.resize="none"):(s=document.createElement("input"),s.type=g);var C=Mo(t,"style",void 0),M=s.style;ja(Jg,C,M),M.position="absolute",M.opacity=0,M.pointerEvents="none",M.zIndex=0,M.transform="scale(0)",ja(Zg,t,s),jg(s);var o=i.scene.sys.scale,T=o.isFullscreen?o.fullscreenTarget:document.body;return T.appendChild(s),s},fM=function(){return this.isOpened?this:this.readOnly?this:(oM(this),this.isOpened=!0,this.node||(this.node=dM(this,this.nodeConfig)),this.setFocus(),this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this),this)},cM=function(i){if(!!i){var t=i.parentElement;t&&t.removeChild(i)}},vM=function(){return this.isOpened?(lM(this),this.setBlur(),this.isOpened=!1,this.updateText(),this.scene.sys.events.off("postupdate",this.updateText,this),this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),cM(this.node),this.node=void 0,this.emit("close",this),this):this},pM={open:fM,close:vM};const Qi=Phaser.Utils.Objects.GetValue;class Mu extends re{constructor(t,s){super(t);var g=Qi(s,"inputType",void 0);g===void 0&&(g=Qi(s,"type","text")),this.setEnterCloseEnable(Qi(s,"enterClose",g!=="textarea"));var C=Qi(s,"onOpen",void 0);C||(C=Qi(s,"onFocus",void 0)),this.onOpenCallback=C;var M=Qi(s,"onClose",void 0);M||(M=Qi(s,"onBlur",void 0)),this.onCloseCallback=M,this.onUpdateCallback=Qi(s,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=hM(s),this.node=void 0}destroy(){this.close(),super.destroy()}onClickOutside(t){Pu(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){!this.node||(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){!this.node||(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,s),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){!this.node||this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){!this.node||(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(!!this.node)return this.node.style.color}set fontColor(t){!this.node||(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node?(this.node.style[t]=s,this):this}getStyle(t){if(!!this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(Mu.prototype,pM);var Qg=function(i,t,s){i=i.replace(" ","");var g=s.previousText;if(i===g)return i;if(isNaN(i)){s.emit("nan",i,s),i=g;var C=s.cursorPosition-1;s.setText(i),s.setCursorPosition(C)}else s.previousText=i;return i},gM=function(i){var t=i.parent,s=i.isOpened?i.selectionStart:null,g=i.isOpened?i.selectionEnd:null,C=i.prevSelectionStart,M=i.prevSelectionEnd;if(!(C===s&&M===g)){var o,T;C===null?(o=s,T=g):(o=Math.min(C,s),T=Math.max(M,g));for(var e=o;e<T;e++){var u=C===null?!1:e>=C&&e<M,x=e>=s&&e<g;if(!(u&&x)){var d=t.getCharChild(e);d&&(u?t.emit("cursorout",d,e,t):t.emit("cursorin",d,e,t))}}i.prevSelectionStart=s,i.prevSelectionEnd=g}},mM=function(i){var t=i.parent,s=t.text,g=i.cursorPosition;if(i.prevCursorPosition!==g){if(i.prevCursorPosition!==null&&i.prevCursorPosition>s.length&&(i.prevCursorPosition=null),i.prevCursorPosition!==null){var C=t.getCharChild(i.prevCursorPosition);C&&t.emit("cursorout",C,i.prevCursorPosition,t)}if(g!=null){var C=t.getCharChild(g);C&&t.emit("cursorin",C,g,t)}t.emit("movecursor",g,i.prevCursorPosition,t),i.prevCursorPosition=g}},sc=function(i){var t=i.prevSelectionStart;if(t!==null){for(var s=i.prevSelectionEnd,g=i.parent,C=t;C<s;C++){var M=g.getCharChild(C);M&&g.emit("cursorout",M,C,g)}i.prevSelectionStart=null,i.prevSelectionEnd=null}},nc=function(i){var t=i.prevCursorPosition;if(t!==null){var s=i.parent,g=s.getCharChild(t);g&&s.emit("cursorout",g,t,s),i.prevCursorPosition=null}};const xM=Phaser.Utils.Objects.GetValue;class yM extends Mu{constructor(t,s){super(t,s),this.setSelectAllWhenFocusEnable(xM(s,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,t.on("pointerdown",function(g,C,M,o){var T=t.getNearestChild(C,M),e=t.getCharIndex(T);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(e),this.cursorMoveStartIndex=e,this.firstClickAfterOpen=!1},this).on("pointermove",function(g,C,M,o){if(!!g.isDown){var T=t.getNearestChild(C,M),e=t.getCharIndex(T);this.cursorMoveStartIndex<e?this.selectText(this.cursorMoveStartIndex,e+1):this.selectText(e,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")},this)}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var g=this.onUpdateCallback(s,t,this);g!=null&&(s=g)}return t.text!==s&&(t.setText(s),t.emit("textchange",s,t,this)),this.isOpened?this.selectionStart!==this.selectionEnd?(nc(this),gM(this)):(sc(this),mM(this)):(sc(this),nc(this)),this}setNumberInput(){return this.onUpdateCallback=Qg,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}}const TM=Phaser.Utils.Objects.GetValue,CM=["inputType","onOpen","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var SM=function(i,t){var s=TM(t,"edit");return s===void 0&&(s={}),ss(t,s,CM),new yM(i,s)},Si=function(i,t){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var s=t.split("."),g=i,C=0;C<s.length;C++)if(g.hasOwnProperty(s[C]))g=g[s[C]];else return!1;return!0}else return!1},EM=function(i){var t=!i.textArea;if(!Si(i,"wrap.vAlign")){var s=t?"center":"top";st(i,"wrap.vAlign",s)}if(Si(i,"wrap.charWrap")||st(i,"wrap.charWrap",!0),!Si(i,"wrap.maxLines")){var s=t?1:void 0;st(i,"wrap.maxLines",s)}if(Si(i,"wrap.useDefaultTextHeight")||st(i,"wrap.useDefaultTextHeight",!0),i.edit||(i.edit={}),!Si(i.edit,"inputType")){var s=t?"text":"textarea";st(i.edit,"inputType",s)}return i},PM=function(i){Tu(i)||this.setCursorStyle(i).on("cursorin",function(t){var s=this.cursorStyle,g=lu(t.style,s);uu(s,g)||(t.styleSave=g,t.modifyStyle(s))},this).on("cursorout",function(t){!t.styleSave||(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},MM=function(i){Tu(i)||this.setFocusStyle(i).on("open",function(){var t=this.background,s=this.focusStyle,g=lu(t,s);uu(s,g)||(t.styleSave=g,t.modifyStyle(s))},this).on("close",function(){var t=this.background;!t.styleSave||(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},wM=function(i){var t=i.createCharChild("|");return t.text="",gg.call(i,t),t};function ki(){}ki.prototype={diff(i,t,s={}){let g=s.callback;typeof s=="function"&&(g=s,s={}),this.options=s;let C=this;function M(h){return g?(setTimeout(function(){g(void 0,h)},0),!0):h}i=this.castInput(i),t=this.castInput(t),i=this.removeEmpty(this.tokenize(i)),t=this.removeEmpty(this.tokenize(t));let o=t.length,T=i.length,e=1,u=o+T;s.maxEditLength&&(u=Math.min(u,s.maxEditLength));let x=[{newPos:-1,components:[]}],d=this.extractCommon(x[0],t,i,0);if(x[0].newPos+1>=o&&d+1>=T)return M([{value:this.join(t),count:t.length}]);function l(){for(let h=-1*e;h<=e;h+=2){let n,r=x[h-1],f=x[h+1],a=(f?f.newPos:0)-h;r&&(x[h-1]=void 0);let c=r&&r.newPos+1<o,p=f&&0<=a&&a<T;if(!c&&!p){x[h]=void 0;continue}if(!c||p&&r.newPos<f.newPos?(n=RM(f),C.pushComponent(n.components,void 0,!0)):(n=r,n.newPos++,C.pushComponent(n.components,!0,void 0)),a=C.extractCommon(n,t,i,h),n.newPos+1>=o&&a+1>=T)return M(AM(C,n.components,t,i,C.useLongestToken));x[h]=n}e++}if(g)(function h(){setTimeout(function(){if(e>u)return g();l()||h()},0)})();else for(;e<=u;){let h=l();if(h)return h}},pushComponent(i,t,s){let g=i[i.length-1];g&&g.added===t&&g.removed===s?i[i.length-1]={count:g.count+1,added:t,removed:s}:i.push({count:1,added:t,removed:s})},extractCommon(i,t,s,g){let C=t.length,M=s.length,o=i.newPos,T=o-g,e=0;for(;o+1<C&&T+1<M&&this.equals(t[o+1],s[T+1]);)o++,T++,e++;return e&&i.components.push({count:e}),i.newPos=o,T},equals(i,t){return this.options.comparator?this.options.comparator(i,t):i===t||this.options.ignoreCase&&i.toLowerCase()===t.toLowerCase()},removeEmpty(i){let t=[];for(let s=0;s<i.length;s++)i[s]&&t.push(i[s]);return t},castInput(i){return i},tokenize(i){return i.split("")},join(i){return i.join("")}};function AM(i,t,s,g,C){let M=0,o=t.length,T=0,e=0;for(;M<o;M++){let x=t[M];if(x.removed){if(x.value=i.join(g.slice(e,e+x.count)),e+=x.count,M&&t[M-1].added){let d=t[M-1];t[M-1]=t[M],t[M]=d}}else{if(!x.added&&C){let d=s.slice(T,T+x.count);d=d.map(function(l,h){let n=g[e+h];return n.length>l.length?n:l}),x.value=i.join(d)}else x.value=i.join(s.slice(T,T+x.count));T+=x.count,x.added||(e+=x.count)}}let u=t[o-1];return o>1&&typeof u.value=="string"&&(u.added||u.removed)&&i.equals("",u.value)&&(t[o-2].value+=u.value,t.pop()),t}function RM(i){return{newPos:i.newPos,components:i.components.slice(0)}}const OM=new ki;function bM(i,t,s){return OM.diff(i,t,s)}const rc=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,ac=/\S/,qg=new ki;qg.equals=function(i,t){return this.options.ignoreCase&&(i=i.toLowerCase(),t=t.toLowerCase()),i===t||this.options.ignoreWhitespace&&!ac.test(i)&&!ac.test(t)};qg.tokenize=function(i){let t=i.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let s=0;s<t.length-1;s++)!t[s+1]&&t[s+2]&&rc.test(t[s])&&rc.test(t[s+2])&&(t[s]+=t[s+2],t.splice(s+1,2),s--);return t};const _g=new ki;_g.tokenize=function(i){let t=[],s=i.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(let g=0;g<s.length;g++){let C=s[g];g%2&&!this.options.newlineIsToken?t[t.length-1]+=C:(this.options.ignoreWhitespace&&(C=C.trim()),t.push(C))}return t};const LM=new ki;LM.tokenize=function(i){return i.split(/(\S.+?[.!?])(?=\s+|$)/)};const FM=new ki;FM.tokenize=function(i){return i.split(/([{}:;,]|\s+)/)};const DM=Object.prototype.toString,Tr=new ki;Tr.useLongestToken=!0;Tr.tokenize=_g.tokenize;Tr.castInput=function(i){const{undefinedReplacement:t,stringifyReplacer:s=(g,C)=>typeof C>"u"?t:C}=this.options;return typeof i=="string"?i:JSON.stringify($l(i,null,null,s),s,"  ")};Tr.equals=function(i,t){return ki.prototype.equals.call(Tr,i.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function $l(i,t,s,g,C){t=t||[],s=s||[],g&&(i=g(C,i));let M;for(M=0;M<t.length;M+=1)if(t[M]===i)return s[M];let o;if(DM.call(i)==="[object Array]"){for(t.push(i),o=new Array(i.length),s.push(o),M=0;M<i.length;M+=1)o[M]=$l(i[M],t,s,g,C);return t.pop(),s.pop(),o}if(i&&i.toJSON&&(i=i.toJSON()),typeof i=="object"&&i!==null){t.push(i),o={},s.push(o);let T=[],e;for(e in i)i.hasOwnProperty(e)&&T.push(e);for(T.sort(),M=0;M<T.length;M+=1)e=T[M],o[e]=$l(i[e],t,s,g,e);t.pop(),s.pop()}else o=i;return o}const Kl=new ki;Kl.tokenize=function(i){return i.slice()};Kl.join=Kl.removeEmpty=function(i){return i};const IM=Phaser.Utils.Array.Remove;var BM=function(i,t){var s=i.text;if(t!==s){if(IM(i.children,i.lastInsertCursor),t==="")i.removeChildren();else for(var g=bM(s,t),C=0,M=0,o=g.length;M<o;M++){var T=g[M];T.removed?i.removeText(C,T.count):(T.added&&i.insertText(C,T.value),C+=T.count)}i.children.push(i.lastInsertCursor),i.runWordWrap()}};const hc=Phaser.Utils.Objects.IsPlainObject;class wu extends zn{constructor(t,s,g,C,M,o){hc(s)?o=s:hc(C)&&(o=C),o===void 0&&(o={}),EM(o);var T=o.text;T&&delete o.text;var e=Vl(o.background,"focus"),u=Vl(o.style,"cursor");super(t,s,g,C,M,o),this.type="rexCanvasInput",this._text="",this.textEdit=SM(this,o),o.focusStyle&&Object.assign(e,o.focusStyle),MM.call(this,e),o.cursorStyle&&Object.assign(u,o.cursorStyle),PM.call(this,u);var x=o.onAddChar;x&&this.on("addchar",x);var d=o.onCursorOut;d&&this.on("cursorout",d);var l=o.onCursorIn;l&&this.on("cursorin",l);var h=o.onMoveCursor;h&&this.on("movecursor",h),this.setParseTextCallback(o.parseTextCallback),this.lastInsertCursor=wM(this),T?this.setText(T):this.runWordWrap()}addChild(t,s){if(super.addChild(t,s),Array.isArray(t))for(var g=t,C=0,M=g.length;C<M;C++){var t=g[C];Dn(t)&&this.emit("addchar",t,s+C,this)}else Dn(t)&&this.emit("addchar",t,s,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(BM(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}setSize(t,s){return this.width===t&&this.height===s?this:(super.setSize(t,s),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=GM),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}}var GM=function(i){return i};nt.register("canvasInput",function(i,t,s,g,C){var M=new wu(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.CanvasInput",wu);var Au=function(i){return Ln(i).loop.delta};const oc=Phaser.Utils.Objects.GetValue,NM=Phaser.Math.Wrap;class t0 extends Mu{constructor(t,s){s===void 0&&(s={}),s.onUpdate==="number"&&(s.onUpdate=Qg),super(t,s),this.setCursor(oc(s,"cursor","|")),this.setCursorFlashDuration(oc(s,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var g=this.onUpdateCallback(s,t,this);g!=null&&(s=g)}if(this.isOpened&&this.hasCursor){var C=this.cursorPosition;s=s.substring(0,C)+this.cursor+s.substring(C),this.prevCursorPosition!==C&&(this.prevCursorPosition=C)}return t.text!==s&&(t.setText(s),this.emit("textchange",s,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var s=this.cursorFlashTimer+Au(this.scene);return this.cursorFlashTimer=NM(s,0,this.cursorFlashDuration),t}}nt.register("hiddenEdit",function(i,t){var s=new t0(i,t);return s});st(window,"RexPlugins.UI.HiddenEdit",t0);const zM=Phaser.GameObjects.GetCalcMatrix;var VM=function(i,t,s,g){t.updateData(),s.addToRenderList(t);var C=i.pipelines.set(t.pipeline),M=zM(t,s,g),o=C.calcMatrix.copyFrom(M.calc),T=t._displayOriginX,e=t._displayOriginY,u=s.alpha*t.alpha;i.pipelines.preBatch(t);for(var x=t.geom,d=0,l=x.length;d<l;d++)x[d].webglRender(C,o,u,T,e);i.pipelines.postBatch(t)};const UM=Phaser.Renderer.Canvas.SetTransform;var YM=function(i,t,s,g){t.updateData(),s.addToRenderList(t);var C=i.currentContext;if(UM(i,C,t,s,g)){for(var M=t._displayOriginX,o=t._displayOriginY,T=t.geom,e=0,u=T.length;e<u;e++)T[e].canvasRender(C,M,o);C.restore()}};const XM={renderWebGL:VM,renderCanvas:YM},kM=Phaser.GameObjects.Shape,WM=Phaser.Utils.Array.Remove;class Ys extends kM{constructor(t,s,g,C,M){s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=2),M===void 0&&(M=C),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(s,g),this.setSize(C,M),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,s){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==s,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=s,this.updateDisplayOrigin();var g=this.input;return g&&!g.customHitArea&&(g.hitArea.width=t,g.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==s,this._fillColor=t,this._fillAlpha=s,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,s,g){return g===void 0&&(g=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==s||this.strokeAlpha!==g,this._lineWidth=t,this._strokeColor=s,this._strokeAlpha=g,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,s=0,g=t.length;s<g;s++){var C=t[s];C.dirty&&C.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Ni(this.shapes),this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var s=t.name;return s&&(this.shapes[s]=t),this.dirty=!0,this}deleteShape(t){var s=this.getShape(t);return s&&(delete this.shapes[t],WM(this.geom,s)),this}}Object.assign(Ys.prototype,XM);const HM={setBoxFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==i||this.boxFillAlpha!==t,this.boxFillColor=i,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==i||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=i,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(i,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.boxLineWidth!==i||this.boxStrokeColor!==t||this.boxStrokeAlpha!==s,this.boxLineWidth=i,this.boxStrokeColor=t,this.boxStrokeAlpha=s,this},setUncheckedBoxStrokeStyle(i,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==i||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==s,this.uncheckedBoxLineWidth=i,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=s,this},setCheckerStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==i||this.checkAlpha!==t,this.checkerColor=i,this.checkAlpha=t,this},setBoxShape(i){return i===void 0&&(i=!1),this.isCircleShape===i?this:(this.isCircleShape=i,this.isSizeChanged=!0,this.dirty=!0,this)}},$M={setBoxSize(i){return this.dirty=this.dirty||this.boxSize!==i,this.boxSize=i,this},setCheckerSize(i){return this.dirty=this.dirty||this.checkerSize!==i,this.checkerSize=i,this}};var KM=function(i,t){return i==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=i,this.fillAlpha=t),this},ZM=function(i,t,s){return i==null||t==null?this.isStroked=!1:(s===void 0&&(s=1),this.isStroked=!0,this.lineWidth=i,this.strokeColor=t,this.strokeAlpha=s),this};const JM={fillStyle:KM,lineStyle:ZM};class gh{constructor(){this.name=void 0,this.dirty=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}reset(){return this.fillStyle().lineStyle(),this}webglRender(t,s,g,C,M){}canvasRender(t,s,g){}updateData(){this.dirty=!1}}Object.assign(gh.prototype,JM,hh);const jM=Phaser.Geom.Polygon.Earcut;class Fr extends gh{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=jM(this.pathData),super.updateData(),this}webglRender(t,s,g,C,M){this.isFilled&&ig(t,s,this,g,C,M),this.isStroked&&lh(t,this,g,C,M)}canvasRender(t,s,g){var C=this.pathData,M=C.length-1,o=C[0]-s,T=C[1]-g;t.beginPath(),t.moveTo(o,T),this.closePath||(M-=2);for(var e=2;e<M;e+=2){var u=C[e]-s,x=C[e+1]-g;t.lineTo(u,x)}this.closePath&&t.closePath(),this.isFilled&&(Or(t,this),t.fill()),this.isStroked&&(br(t,this),t.stroke())}}const lc=Phaser.Math.DegToRad;class mh extends Fr{constructor(t,s,g,C,M,o,T,e){t===void 0&&(t=0),s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=0),M===void 0&&(M=0),o===void 0&&(o=360),T===void 0&&(T=!1),e===void 0&&(e=!1),super(),this.setCenterPosition(t,s),this.setRadius(g,C),this.setAngle(M,o,T),this.setPie(e),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,s){return s===void 0&&(s=t),this.x=t,this.y=s,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,s){return s===void 0&&(s=t),this.radiusX=t,this.radiusY=s,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,s,g){return g===void 0&&(g=!1),this.startAngle=t,this.endAngle=s,this.anticlockwise=g,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),se(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,s,g){t.beginPath();var C=this.x-s,M=this.y-g,o=lc(this.startAngle),T=lc(this.endAngle);this.pie&&(t.moveTo(C,M),t.lineTo(C+Math.cos(o)*this.radiusX,M+Math.sin(o)*this.radiusY)),t.ellipse(C,M,this.radiusX,this.radiusY,0,o,T,this.anticlockwise),this.pie&&t.lineTo(C,M),this.isFilled&&(Or(t,this),t.fill()),this.isStroked&&(br(t,this),t.stroke())}}class Zl extends mh{constructor(t,s,g){super(t,s,g,g,0,360)}}class QM extends Fr{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),s=0,g=t.length;s<g;s++)this.pathData.push(t[s].x,t[s].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class qM extends mh{constructor(t,s,g,C){super(t,s,g,C,0,360)}}class _M extends Fr{constructor(t,s,g,C){t===void 0&&(t=0),s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=0),super(),this.setP0(t,s),this.setP1(g,C)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var tw=function(i,t,s){return s.length=0,i!=null&&s.push(i,t),s};const uc=Phaser.Math.Interpolation.QuadraticBezier;var ew=function(i,t,s,g,C,M){for(var o=M.length,T=M[o-2],e=M[o-1],u=1,x=C-1;u<=x;u++){var d=u/x;M.push(uc(d,T,i,s),uc(d,e,t,g))}return M};const dc=Phaser.Math.Interpolation.CubicBezier;var iw=function(i,t,s,g,C,M,o,T){for(var e=T.length,u=T[e-2],x=T[e-1],d=1,l=o-1;d<=l;d++){var h=d/l;T.push(dc(h,u,i,s,C),dc(h,x,t,g,M))}return T},e0=function(i){var t=i.length;if(t<2)return i;var s=i[t-2],g=i[t-1];return i.push(s),i.push(g),i};const sw={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(i,t){return this.restorePathData(),this.accumulationLengths=void 0,tw(i,t,this.pathData),this.firstPointX=i,this.firstPointY=t,this.lastPointX=i,this.lastPointY=t,this},lineTo(i,t,s){return s===void 0&&(s=!1),s&&(i+=this.lastPointX,t+=this.lastPointY),Pi(i,t,this.pathData),this.lastPointX=i,this.lastPointY=t,this},verticalLineTo(i,t){return this.lineTo(i,this.lastPointY,t),this},horizontalLineTo(i,t){return this.lineTo(this.lastPointX,i,t),this},ellipticalArc(i,t,s,g,C,M,o){return o===void 0&&(o=!1),se(i,t,s,g,C,M,o,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(i,t,s,g,C,M){return this.ellipticalArc(i,t,s,s,g,C,M),this},quadraticBezierTo(i,t,s,g){return ew(i,t,s,g,this.iterations,this.pathData),this.lastPointX=s,this.lastPointY=g,this.lastCX=i,this.lastCY=t,this},smoothQuadraticBezierTo(i,t){var s=this.lastPointX*2-this.lastCX,g=this.lastPointY*2-this.lastCY;return this.quadraticBezierTo(s,g,i,t),this},cubicBezierCurveTo(i,t,s,g,C,M){return iw(i,t,s,g,C,M,this.iterations,this.pathData),this.lastPointX=C,this.lastPointY=M,this.lastCX=s,this.lastCY=g,this},smoothCubicBezierCurveTo(i,t,s,g){var C=this.lastPointX*2-this.lastCX,M=this.lastPointY*2-this.lastCY;return this.cubicBezierCurveTo(C,M,i,t,s,g),this},close(){return this.closePath=!0,this},end(){return e0(this.pathData),this}},nw=Phaser.Math.RotateAround;var rw=function(i,t,s,g){for(var C={x:0,y:0},M=0,o=g.length-1;M<o;M+=2)C.x=g[M],C.y=g[M+1],nw(C,i,t,s),g[M]=C.x,g[M+1]=C.y;return g},aw=function(i,t,s,g,C){for(var M=0,o=C.length-1;M<o;M+=2){var T=C[M]-i,e=C[M+1]-t;T*=s,e*=g,C[M]=T+i,C[M+1]=e+t}return C},i0=function(i,t,s){for(var g=0,C=s.length-1;g<C;g+=2)s[g]+=i,s[g+1]+=t;return s};const hw=Phaser.Math.DegToRad,ow=Phaser.Math.RotateAround,lw={rotateAround(i,t,s){if(this.pathData.length===0)return this;s=hw(s),rw(i,t,s,this.pathData);var g=this.pathData.length;if(this.lastPointX=this.pathData[g-2],this.lastPointY=this.pathData[g-1],this.lastCX!==void 0){var C={x:this.lastCX,y:this.lastCY};ow(C,i,t,s),this.lastCX=C.x,this.lastCY=C.y}return this},scale(i,t,s,g){if(this.pathData.length===0)return this;if(aw(i,t,s,g,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this.lastCX!==void 0){var C=this.lastCX-i,M=this.lastCY-t;C*=s,M*=g,this.lastCX=C+i,this.lastCY=M+t}return this},offset(i,t){return i0(i,t,this.pathData),this}};var Ru=function(i,t,s,g){s===void 0&&(s=0),g===void 0&&(g=t.length),i.length=g-s;for(var C=0,M=i.length;C<M;C++)i[C]=t[C+s];return i};const uw={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(Ru(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},dw=Phaser.Math.Distance.Between,fw=Phaser.Math.Wrap,cw=Phaser.Math.Linear;var fc=function(i,t,s,g,C){if(g===void 0&&(g=s,s=0),s=cc(s),g=cc(g),s!==g){var M=t[t.length-1],o=M*s,T=M*g;s<g?wo(i,t,o,T,C):(wo(i,t,o,M,C),wo(i,t,0,T,C)),e0(C)}},wo=function(i,t,s,g,C){for(var M=s>0,o=0,T=t.length;o<T;o++){var e=o*2,u=t[o];if(M){if(u<s)continue;if(u==s)M=!1;else{var x=u-t[o-1],d=1-(u-s)/x;C.push(da(i,e-2,e,d)),C.push(da(i,e-1,e+1,d)),M=!1}}if(u<=g){if(C.push(i[e]),C.push(i[e+1]),u===g)break}else{var x=u-t[o-1],d=1-(u-g)/x;C.push(da(i,e-2,e,d)),C.push(da(i,e-1,e+1,d));break}}},da=function(i,t,s,g){var C=i[t],M=i[s];return cw(C,M,g)},cc=function(i){return i===0?0:i%1===0?1:fw(i,0,1)};const vw={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var i=this.accumulationLengths,t=this.pathData,s,g,C,M,o,T=0,e=0,u=t.length;e<u;e+=2)C=t[e],M=t[e+1],o=s===void 0?0:dw(s,g,C,M),T+=o,i.push(T),s=C,g=M;return this.totalPathLength=T,this},setDisplayPathSegment(i,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,fc(this.pathDataSave,this.accumulationLengths,i,t,this.pathData),this},appendFromPathSegment(i,t,s){return t===void 0?this.pathData.push(...i.pathData):(i.updateAccumulationLengths(),fc(i.pathData,i.accumulationLengths,t,s,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},pw={draw(i,t,s){var g=this.toPoints();return t&&i.fillPoints(g,this.closePath,this.closePath),s&&i.strokePoints(g,this.closePath,this.closePath),this}};var gw=function(i,t){t===void 0&&(t=[]);for(var s=0,g=i.length-1;s<g;s+=2)t.push({x:i[s],y:i[s+1]});return t};const mw=Phaser.Geom.Polygon;var xw=function(i,t){return t===void 0&&(t=new mw),t.setTo(i),t};class s0{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return gw(this.pathData)}toPolygon(t){return xw(this.pathData,t)}}Object.assign(s0.prototype,sw,lw,uw,vw,pw);class Rn extends Fr{constructor(){super(),this.builder=new s0(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,s){return this.builder.startAt(t,s),this.dirty=!0,this}lineTo(t,s,g){return this.builder.lineTo(t,s,g),this.dirty=!0,this}verticalLineTo(t,s){return this.builder.verticalLineTo(t,s),this.dirty=!0,this}horizontalLineTo(t,s){return this.builder.horizontalLineTo(t,s),this.dirty=!0,this}ellipticalArc(t,s,g,C,M,o,T){return this.builder.ellipticalArc(t,s,g,C,M,o,T),this.dirty=!0,this}arc(t,s,g,C,M,o){return this.builder.arc(t,s,g,C,M,o),this.dirty=!0,this}quadraticBezierTo(t,s,g,C){return this.builder.quadraticBezierTo(t,s,g,C),this.dirty=!0,this}smoothQuadraticBezierTo(t,s){return this.builder.smoothQuadraticBezierTo(t,s),this.dirty=!0,this}cubicBezierCurveTo(t,s,g,C,M,o){return this.builder.cubicBezierCurveTo(t,s,g,C,M,o),this.dirty=!0,this}smoothCubicBezierCurveTo(t,s,g,C){return this.builder.smoothCubicBezierCurveTo(t,s,g,C),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,s,g){return this.builder.rotateAround(t,s,g),this.dirty=!0,this}scale(t,s,g,C){return this.builder.scale(t,s,g,C),this.dirty=!0,this}offset(t,s){return this.builder.offset(t,s),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,s,g){return this.builder.appendFromPathSegment(t.builder,s,g),this}copyPathFrom(t,s,g){return this.builder.clear().appendFromPathSegment(t.builder,s,g),this}setDisplayPathSegment(t,s){return this.builder.setDisplayPathSegment(t,s),this}}const yw=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;class Tw extends gh{constructor(t,s,g,C){t===void 0&&(t=0),s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=g),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,s),this.setSize(g,C)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}updateData(){this.pathData.length=0;var t=this.x,s=t+this.width,g=this.y,C=g+this.height;return this.pathData.push(t,g),this.pathData.push(s,g),this.pathData.push(s,C),this.pathData.push(t,C),this.pathData.push(t,g),super.updateData(),this}webglRender(t,s,g,C,M){if(this.isFilled){var o=t.fillTint,T=yw(this.fillColor,this.fillAlpha*g);o.TL=T,o.TR=T,o.BL=T,o.BR=T,t.batchFillRect(-C+this.x,-M+this.y,this.width,this.height)}this.isStroked&&lh(t,this,g,C,M)}canvasRender(t,s,g){this.isFilled&&(Or(t,this),t.fillRect(-s,-g,this.width,this.height)),this.isStroked&&(br(t,this),t.beginPath(),t.rect(-s,-g,this.width,this.height),t.stroke())}}const fa=Phaser.Utils.Objects.GetValue;class Qa extends Fr{constructor(t,s,g,C,M,o){t===void 0&&(t=0),s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=g),M===void 0&&(M=0),o===void 0&&(o=6),super(),this.setTopLeftPosition(t,s),this.setSize(g,C),this.setRadius(M),this.setIterations(o),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var s=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==s,this._convexTL=s,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var s=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==s,this._convexTR=s,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var s=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==s,this._convexBL=s,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var s=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==s,this._convexBR=s,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=fa(t,"tl",0),this.radiusTR=fa(t,"tr",0),this.radiusBL=fa(t,"bl",0),this.radiusBR=fa(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var s=this.width,g=this.height,C,M=this.iterations+1;if(C=this.radiusTL,C>0)if(this._convexTL){var o=C,T=C;se(o,T,C,C,180,270,!1,M,t)}else{var o=0,T=0;se(o,T,C,C,90,0,!0,M,t)}else Pi(0,0,t);if(C=this.radiusTR,C>0)if(this._convexTR){var o=s-C,T=C;se(o,T,C,C,270,360,!1,M,t)}else{var o=s,T=0;se(o,T,C,C,180,90,!0,M,t)}else Pi(s,0,t);if(C=this.radiusBR,C>0)if(this._convexBR){var o=s-C,T=g-C;se(o,T,C,C,0,90,!1,M,t)}else{var o=s,T=g;se(o,T,C,C,270,180,!0,M,t)}else Pi(s,g,t);if(C=this.radiusBL,C>0)if(this._convexBL){var o=C,T=g-C;se(o,T,C,C,90,180,!1,M,t)}else{var o=0,T=g;se(o,T,C,C,360,270,!0,M,t)}else Pi(0,g,t);return t.push(t[0],t[1]),i0(this.x,this.y,t),super.updateData(),this}}const Cw=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;class Sw extends gh{constructor(t,s,g,C,M,o){t===void 0&&(t=0),s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=0),M===void 0&&(M=0),o===void 0&&(o=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,s),this.setP1(g,C),this.setP2(M,o)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,s){return this.dirty=this.dirty||this.x2!==t||this.y2!==s,this.x2=t,this.y2=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,s,g,C,M){if(this.isFilled){var o=Cw(this.fillColor,this.fillAlpha*g),T=this.x0-C,e=this.y0-M,u=this.x1-C,x=this.y1-M,d=this.x2-C,l=this.y2-M,h=s.getX(T,e),n=s.getY(T,e),r=s.getX(u,x),f=s.getY(u,x),a=s.getX(d,l),c=s.getY(d,l);t.batchTri(h,n,r,f,a,c,o,o,o)}this.isStroked&&lh(t,this,g,C,M)}canvasRender(t,s,g){var C=this.x1-s,M=this.y1-g,o=this.x2-s,T=this.y2-g,e=this.x3-s,u=this.y3-g;t.beginPath(),t.moveTo(C,M),t.lineTo(o,T),t.lineTo(e,u),t.closePath(),this.isFilled&&(Or(t,this),t.fill()),this.isStroked&&(br(t,this),t.stroke())}}const Ew={buildShapes(){this.addShape(new Qa().setName("box")).addShape(new Rn().setName("checker"))},updateShapes(){var i=this.width/2,t=this.height/2,s=Math.min(i,t),g=s*2,C=i-s,M=t-s,o=this.boxLineWidth,T=Math.max(g/10,2),e=this.getShape("box"),u=this.getShape("checker");if(this.isSizeChanged){var l=g*(1-this.boxSize)/2,x=o/2,d=g*this.boxSize-o;e.setTopLeftPosition(C+x+l,M+x+l).setSize(d,d),this.isCircleShape?e.setRadius(d/2):e.setRadius(0);var l=g*(1-this.checkerSize)/2,h=g*this.checkerSize/4,n=h*1,r=h*2,f=h*3;u.startAt(n,r).lineTo(r,f).lineTo(f,n).offset(C+l,M+l).end()}this.checked?(e.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(o,this.boxStrokeColor,this.boxStrokeAlpha),u.lineStyle(T,this.checkerColor)):(e.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(o,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),u.lineStyle()),this.checked&&u.setDisplayPathSegment(this.checkerAnimProgress)}},qi=Phaser.Utils.Objects.GetValue,Pw=Phaser.Math.Linear;class Xs extends Us{constructor(t,s){super(t,s),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var s=this.target;this.propertyKey=qi(t,"key","value");var g=s[this.propertyKey];return this.fromValue=qi(t,"from",g),this.toValue=qi(t,"to",g),this.setEase(qi(t,"ease",this.ease)),this.setDuration(qi(t,"duration",this.duration)),this.setRepeat(qi(t,"repeat",0)),this.setDelay(qi(t,"delay",0)),this.setRepeatDelay(qi(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),s[this.propertyKey]=this.fromValue,super.start(),this}updateGameObject(t,s){var g=s.t;g=this.easeFn(g),t[this.propertyKey]=Pw(this.fromValue,this.toValue,g)}}const Mw={setCheckerAnimationDuration(i){return i===void 0&&(i=0),this.checkerAnimDuration=i,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new Xs(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var n0={};Object.assign(n0,HM,$M,Ew,Mw);const Yt=Phaser.Utils.Objects.GetValue,vc=Phaser.Utils.Objects.IsPlainObject,Ao=23730,ww=16777215;class r0 extends Ys{constructor(t,s,g,C,M,o,T){vc(s)?(T=s,s=Yt(T,"x",0),g=Yt(T,"y",0),C=Yt(T,"width",2),M=Yt(T,"height",2),o=Yt(T,"color",Ao)):vc(o)&&(T=o,o=Yt(T,"color",Ao)),super(t,s,g,C,M),this.type="rexCheckbox",o===void 0&&(o=Ao),this.setBoxShape(Yt(T,"circleBox",!1)),this.setBoxFillStyle(o,Yt(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(Yt(T,"uncheckedColor",null),Yt(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(Yt(T,"boxLineWidth",4),Yt(T,"boxStrokeColor",o),Yt(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,Yt(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),Yt(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(Yt(T,"checkerColor",ww),Yt(T,"checkerAlpha",1)),this.setBoxSize(Yt(T,"boxSize",1)),this.setCheckerSize(Yt(T,"checkerSize",1)),this.setCheckerAnimationDuration(Yt(T,"animationDuration",150)),this.buildShapes();var e=Yt(T,"checked");e===void 0&&(e=Yt(T,"value",!1)),this.setValue(e)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(r0.prototype,n0);const _n=Phaser.Utils.Objects.GetValue;class ms extends re{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(_n(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(_n(t,"enable",!0)),this.setMode(_n(t,"mode",1)),this.setClickInterval(_n(t,"clickInterval",100)),this.setDragThreshold(_n(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Aw[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,s,g,C){this.pointer===void 0&&(this.pointer=t,this.mode===0&&this.click(t.downTime,t,C))}onRelease(t,s,g,C){this.pointer===t&&(this.mode===1&&this.click(t.upTime,t,C),this.pointer=void 0)}onPointOut(t,s){this.pointer===t&&this.cancel()}onMove(t,s,g,C){this.pointer===t&&this.dragThreshold!==void 0&&t.getDistance()>=this.dragThreshold&&this.cancel()}click(t,s,g){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,s,g),this;this.pointer=void 0;var C=this.lastClickTime;return C!==void 0&&t-C<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,s,g),this)}cancel(){return this.pointer=void 0,this}onOver(t,s,g,C){return this.enable?(this.emit("over",this,this.parent,t,C),this):this}onOut(t,s){return this.enable?(this.emit("out",this,this.parent,t,s),this):this}}const Aw={press:0,pointerdown:0,release:1,pointerup:1},pc=Phaser.Utils.Objects.GetValue;class Ou extends r0{constructor(t,s,g,C,M,o,T){super(t,s,g,C,M,o,T),this._click=new ms(this,pc(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(pc(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}nt.register("checkbox",function(i,t,s,g,C,M){var o=new Ou(this.scene,i,t,s,g,C,M);return this.scene.add.existing(o),o});st(window,"RexPlugins.UI.Checkbox",Ou);const Rw={setTrackFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==i||this.trackFillAlpha!==t,this.trackFillColor=i,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==i||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=i,this.falseValueTrackFillAlpha=t,this},setThumbStyle(i,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==i||this.checkAlpha!==t,this.thumbColor=i,this.thumbAlpha=t,this}},Ow={setTrackSize(i,t){return this.dirty=this.dirty||this.trackWidth!==i||this.trackHeight!==t,this.trackWidth=i,this.trackHeight=t,this},setTrackRadius(i){return this.dirty=this.dirty||this.trackRadius!==i,this.trackRadius=i,this},setThumbSize(i,t){return t===void 0&&(t=i),this.dirty=this.dirty||this.thumbWidth!==i||this.thumbHeight!==t,this.thumbWidth=i,this.thumbHeight=t,this},setThumbRadius(i){return this.dirty=this.dirty||this.thumbRadius!==i,this.thumbRadius=i,this}},bw={setThumbPosition(i,t){return t===void 0&&(t=1-i),this.thumbLeftX=i,this.thumbRightX=t,this},setRTL(i){return i===void 0&&(i=!0),this.rtl=i,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ro=function(i,t,s){return(t-i)*s+i},Lw=function(i,t,s){var g=Ro(mr(i),mr(t),s),C=Ro(xr(i),xr(t),s),M=Ro(yr(i),yr(t),s);return(g&255)<<16|(C&255)<<8|M&255};const gc=Phaser.Math.Linear,Fw={buildShapes(){this.addShape(new Qa().setName("track")).addShape(new Qa().setName("thumb"))},updateShapes(){var i=this.width,t=this.height,s=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,g=this.getShape("track");if(this.isSizeChanged){var C=i*this.trackWidth,M=t*this.trackHeight,o=(i-C)/2,T=(t-M)/2,e=t*this.trackRadius;g.setTopLeftPosition(o,T).setSize(C,M).setRadius(e)}var u=Lw(this.falseValueTrackColor,this.trackFillColor,s),x=gc(this.falseValueTrackFillAlpha,this.trackFillAlpha,s);g.fillStyle(u,x);var d=this.getShape("thumb");if(this.isSizeChanged){var l=i*this.thumbWidth,h=t*this.thumbHeight,n=t*this.thumbRadius;d.setSize(l,h).setRadius(n)}var r=gc(this.thumbLeftX,this.thumbRightX,s)*i;this.rtl&&(r=i-r);var f=t/2;d.setCenterPosition(r,f),d.fillStyle(this.thumbColor,this.thumbAlpha)}},Dw={setToggleAnimationDuration(i){return i===void 0&&(i=0),this.toggleAnimDuration=i,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new Xs(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var a0={};Object.assign(a0,Rw,Ow,bw,Fw,Dw);var Iw=function(i){var t=.3*mr(i)+.59*xr(i)+.11*yr(i);return(t&255)<<16|(t&255)<<8|t&255};const Xt=Phaser.Utils.Objects.GetValue,mc=Phaser.Utils.Objects.IsPlainObject,Oo=23730,Bw=16777215;class h0 extends Ys{constructor(t,s,g,C,M,o,T){mc(s)?(T=s,s=Xt(T,"x",0),g=Xt(T,"y",0),C=Xt(T,"width",2),M=Xt(T,"height",2),o=Xt(T,"color",Oo)):mc(o)&&(T=o,o=Xt(T,"color",Oo)),super(t,s,g,C,M),this.type="rexToggleSwitch",o===void 0&&(o=Oo),this.setTrackFillStyle(o,Xt(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(Xt(T,"falseValueTrackColor",Iw(o)),Xt(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(Xt(T,"thumbColor",Bw),Xt(T,"thumbAlpha",1)),this.setTrackSize(Xt(T,"trackWidth",.9),Xt(T,"trackHeight",.5)),this.setTrackRadius(Xt(T,"trackRadius",this.trackHeight*.5));var e=Xt(T,"thumbHeight",void 0),u=Xt(T,"thumbWidth",e);u===void 0&&(u=this.trackHeight*.9),this.setThumbSize(u,e),this.setThumbRadius(Xt(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(Xt(T,"thumbLeft",.3),Xt(T,"thumbRight",void 0)),this.setRTL(Xt(T,"rtl",!1)),this.setToggleAnimationDuration(Xt(T,"animationDuration",150)),this.buildShapes(),this.setValue(Xt(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,s){s===void 0&&(s=this.toggleAnimDuration);var g=this.toggleAnimDuration;return this.toggleAnimDuration=s,this.value=t,this.toggleAnimDuration=g,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(h0.prototype,a0);const xc=Phaser.Utils.Objects.GetValue;class bu extends h0{constructor(t,s,g,C,M,o,T){super(t,s,g,C,M,o,T),this._click=new ms(this,xc(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(xc(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}nt.register("toggleSwitch",function(i,t,s,g,C,M){var o=new bu(this.scene,i,t,s,g,C,M);return this.scene.add.existing(o),o});st(window,"RexPlugins.UI.ToggleSwitch",bu);const Gw={loadFromURL(i,t){var s=this,g=new Image;return g.onload=function(){s.width!==g.width||s.height!==g.height?s.resize(g.width,g.height):s.clear(),s.context.drawImage(g,0,0),s.updateTexture(),t&&t(),g.onload=null,g.src="",g.remove()},g.src=i,this},loadFromURLPromise(i){var t=this;return new Promise(function(s,g){t.loadFromURL(i,s)})},loadFromFile(i,t){var s=URL.createObjectURL(i);return this.loadFromURL(s,function(){URL.revokeObjectURL(s),t&&t()}),this},loadFromFilePromise(i){var t=this;return new Promise(function(s,g){t.loadFromFile(i,s)})}};class ks extends vs{}Object.assign(ks.prototype,Gw);nt.register("canvas",function(i,t,s,g){var C=new ks(this.scene,i,t,s,g);return this.scene.add.existing(C),C});st(window,"RexPlugins.UI.Canvas",ks);const en=Phaser.Utils.Objects.GetValue;class Lu extends vs{constructor(t,s,g,C,M,o){super(t,s,g),this.type="rexCircleMaskImage",this.setTexture(C,M,o)}setTexture(t,s,g){typeof s=="object"&&(g=s,s=void 0),typeof g=="string"&&(g={maskType:g});var C=en(g,"maskType",0),M=en(g,"backgroundColor",void 0),o=en(g,"strokeColor",void 0),T=o!=null?10:0,e=en(g,"strokeWidth",T);if(C===void 0?C=0:typeof C=="string"&&(C=Nw[C]),this._textureKey=t,this._frameName=s,C===null)return this.loadTexture(t,s),this.dirty=!0,this;var u=this.scene.sys.textures.getFrame(t,s);if(!u)return this;u.cutWidth!==this.width||u.cutHeight!==this.height?this.setCanvasSize(u.cutWidth,u.cutHeight):this.clear();var x=this.canvas,d=this.context,l=x.width,h=x.height;M!=null&&(d.fillStyle=M,d.fillRect(0,0,l,h)),d.save(),d.beginPath();var n=e/2;switch(C){case 1:var p=Math.floor(l/2),v=Math.floor(h/2),r=p-n,f=v-n;d.ellipse(p,v,r,f,0,0,2*Math.PI);break;case 2:var a=en(g,"radius",0),c=en(g,"iteration",void 0);ng(d,n,n,l-e,h-e,a,c);break;default:var p=Math.floor(l/2),v=Math.floor(h/2),m=Math.min(p,v)-n;d.arc(p,v,m,0,2*Math.PI);break}return o!=null&&(d.strokeStyle=o,d.lineWidth=e,d.stroke()),d.clip(),this.loadTexture(t,s),d.restore(),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}}const Nw={circle:0,ellipse:1,roundRectangle:2};nt.register("circleMaskImage",function(i,t,s,g,C){var M=new Lu(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.CircleMaskImage",Lu);const tr=Phaser.Utils.Objects.GetValue;class o0 extends vs{constructor(t,s,g,C,M,o){super(t,s,g),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(C,M,o)}setTexture(t,s,g){typeof s=="object"&&(g=s,s=void 0),typeof g=="string"&&(g={mask:{key:g}});var C=tr(g,"mask.key"),M=tr(g,"mask.frame"),o=tr(g,"mask.invertAlpha",!1),T=tr(g,"mask.scale"),e=tr(g,"backgroundColor");if(C){this._maskKey=C,this._maskFrame=M,this._maskScale=T;var u=C?this.scene.sys.textures.get(C):null;this.maskFrame=u?u.get(M):null}this._textureKey=t,this._frameName=s;var x=this.maskFrame;if(x===null)return this.loadTexture(t,s),this.dirty=!0,this;var d=e!=null;this.loadTexture(t,s);var l=this.canvas,h=this.context,n=l.width,r=l.height;h.save(),h.globalCompositeOperation=o?"destination-out":"destination-in";var f,a;this._maskScale!=null?(f=x.cutWidth*this._maskScale,a=x.cutHeight*this._maskScale):(f=n,a=r);var c=(n-f)/2,p=(r-a)/2;return this.drawFrame(this._maskKey,this._maskFrame,c,p,f,a),h.restore(),d&&(h.save(),h.globalCompositeOperation="destination-over",h.fillStyle=e,h.fillRect(0,0,n,r),h.restore()),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}}nt.register("alphaMaskImage",function(i,t,s,g,C){var M=new o0(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.AlphaMaskImage",o0);const zw=Phaser.Math.Linear,yc=Phaser.Math.Percent,Vw={setValue(i,t,s){return i==null?this:(t!==void 0&&(i=yc(i,t,s)),this.value=i,this)},addValue(i,t,s){return t!==void 0&&(i=yc(i,t,s)),this.value+=i,this},getValue(i,t){var s=this.value;return i!==void 0&&(s=zw(i,t,s)),s}},Uw=Phaser.Math.Percent;var Yw=function(i){return this.easeValuePropName=i,this},Xw=function(i){return this.easeValueDuration=i,this},kw=function(i){return this.easeFunction=i,this},Ww=function(){return this.easeValueTask&&this.easeValueTask.stop(),this},Hw=function(i,t,s){return i==null?this:(t!==void 0&&(i=Uw(i,t,s)),this.easeValueTask===void 0&&(this.easeValueTask=new Xs(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:i,duration:this.easeValueDuration,ease:this.easeFunction}),this)},$w=function(i,t,s,g){return s===void 0&&(s=-1),g===void 0&&(g=0),this.easeValueTask===void 0&&(this.easeValueTask=new Xs(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:i,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:s,repeatDelay:g}),this};const Kw={setEaseValuePropName:Yw,setEaseValueDuration:Xw,setEaseValueFunction:kw,stopEaseValue:Ww,easeValueTo:Hw,easeValueRepeat:$w},er=Phaser.Utils.Objects.GetValue,Zw=Phaser.Math.Clamp;function Ws(i){class t extends i{bootProgressBase(g){this.eventEmitter=er(g,"eventEmitter",this);var C=er(g,"valuechangeCallback",null);if(C!==null){var M=er(g,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",C,M)}return this.setEaseValuePropName("value").setEaseValueDuration(er(g,"easeValue.duration",0)).setEaseValueFunction(er(g,"easeValue.ease","Linear")),this}get value(){return this._value}set value(g){g=Zw(g,0,1);var C=this._value,M=C!=g;this.dirty=this.dirty||M,this._value=g,M&&this.eventEmitter.emit("valuechange",this._value,C,this.eventEmitter)}}return Object.assign(t.prototype,Vw,Kw),t}const Jw=Phaser.Math.RadToDeg,jw={buildShapes(){this.addShape(new Zl().setName("track")).addShape(new mh().setName("bar")).addShape(new Zl().setName("center"))},updateShapes(){var i=this.radius,t=this.thickness*this.radius,s=this.radius-t/2,g=this.radius-t,C=this.getShape("track");this.trackColor!=null&&t>0?C.setCenterPosition(i,i).setRadius(s).lineStyle(t,this.trackColor):C.reset();var M=this.getShape("bar");if(this.barColor!=null&&s>0){var o,T,e;if(this.value===1)o=!1,T=0,e=361;else{o=this.anticlockwise,T=Jw(this.startAngle);var u=360*(o?1-this.value:this.value);e=u+T}M.setCenterPosition(i,i).setRadius(s).setAngle(T,e,o).lineStyle(t,this.barColor)}else M.reset();var x=this.getShape("center");this.centerColor&&g>0?x.setCenterPosition(i,i).setRadius(g).fillStyle(this.centerColor):x.reset()}},fi=Phaser.Utils.Objects.GetValue,Qw=Phaser.Utils.Objects.IsPlainObject,qw=Phaser.Math.Clamp,_w=Phaser.Math.DegToRad(270);class xh extends Ws(Ys){constructor(t,s,g,C,M,o,T){Qw(s)&&(T=s,s=fi(T,"x",0),g=fi(T,"y",0),C=fi(T,"radius",1),M=fi(T,"barColor",void 0),o=fi(T,"value",0)),C===void 0&&(C=1);var e=C*2;super(t,s,g,e,e),this.type="rexCircularProgress",this.bootProgressBase(T),this.setRadius(C),this.setTrackColor(fi(T,"trackColor",void 0)),this.setBarColor(M),this.setCenterColor(fi(T,"centerColor",void 0)),this.setThickness(fi(T,"thickness",.2)),this.setStartAngle(fi(T,"startAngle",_w)),this.setAnticlockwise(fi(T,"anticlockwise",!1)),this.buildShapes(),this.setValue(o)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=qw(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}}Object.assign(xh.prototype,jw);nt.register("circularProgress",function(i,t,s,g,C,M){var o=new xh(this.scene,i,t,s,g,C,M);return this.scene.add.existing(o),o});st(window,"RexPlugins.UI.CircularProgress",xh);var bo=function(i,t,s,g,C,M,o,T,e,u,x,d){u===void 0&&(u=0),x===void 0&&(x=2*Math.PI),d===void 0&&(d=!1),t.beginPath(),t.ellipse(s,g,C,M,0,u,x,d),o!=null&&(t.fillStyle=o,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=e,t.stroke())},tA=function(i,t,s,g,C,M,o,T,e,u,x){e===void 0&&T!=null&&(e=2),u===void 0&&(u="start"),x===void 0&&(x="alphabetic"),t.font=M,t.textAlign=u,t.textBaseline=x,t.fillStyle=o,t.strokeStyle=T,t.lineWidth=e,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&e>0&&t.strokeText(C,s,g),o!=null&&o!=="none"&&t.fillText(C,s,g)},eA=function(){var i=this.radius,t=this.thickness*this.radius,s=this.radius-t/2,g=this.radius-t,C=this.canvas,M=this.context;if(this.trackColor&&t>0&&(M.save(),bo(C,M,i,i,s,s,void 0,this.trackColor,t),M.restore()),this.barColor&&s>0){var o,T,e;if(this.value===1)o=!1,T=0,e=2*Math.PI;else{o=this.anticlockwise,T=this.startAngle;var u=2*Math.PI*(o?1-this.value:this.value);e=u+T}M.save(),bo(C,M,i,i,s,s,void 0,this.barColor,t,T,e,o),M.restore()}if(this.centerColor&&g>0){var x;this.centerColor2?(x=this.context.createRadialGradient(i,i,0,i,i,g),x.addColorStop(0,this.centerColor),x.addColorStop(1,this.centerColor2)):x=this.centerColor,M.save(),bo(C,M,i,i,g,g,x),M.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(M.save(),tA(C,M,i,i,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),M.restore())};const Zt=Phaser.Utils.Objects.GetValue,iA=Phaser.Utils.Objects.IsPlainObject,sA=Phaser.Math.Clamp,nA=Phaser.Math.DegToRad(270);class l0 extends Ws(vs){constructor(t,s,g,C,M,o,T){iA(s)&&(T=s,s=Zt(T,"x",0),g=Zt(T,"y",0),C=Zt(T,"radius",1),M=Zt(T,"barColor",void 0),o=Zt(T,"value",0));var e=C*2;super(t,s,g,e,e),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(C),this.setTrackColor(Zt(T,"trackColor",void 0)),this.setBarColor(M),this.setCenterColor(Zt(T,"centerColor",void 0)),this.setThickness(Zt(T,"thickness",.2)),this.setStartAngle(Zt(T,"startAngle",nA)),this.setAnticlockwise(Zt(T,"anticlockwise",!1)),this.setTextColor(Zt(T,"textColor",void 0)),this.setTextStrokeColor(Zt(T,"textStrokeColor",void 0),Zt(T,"textStrokeThickness",void 0));var u=Zt(T,"textFont",void 0);u?this.setTextFont(u):this.setTextFont(Zt(T,"textSize","16px"),Zt(T,"textFamily","Courier"),Zt(T,"textStyle","")),this.setTextFormatCallback(Zt(T,"textFormatCallback",void 0),Zt(T,"textFormatCallbackScope",void 0)),this.setValue(o)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=sA(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,s){return this.centerColor=t,this.centerColor2=s,this}get textColor(){return this._textColor}set textColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,s){return s===void 0&&(s=2),this.textStrokeColor=t,this.textStrokeThickness=s,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,s,g){var C;return s===void 0?C=t:C=g+" "+t+" "+s,this.textFont=C,this}setTextFormatCallback(t,s){return this.textFormatCallback=t,this.textFormatCallbackScope=s,this}updateTexture(){return this.clear(),eA.call(this),super.updateTexture(),this}getFormatText(t){t===void 0&&(t=this.value);var s;return this.textFormatCallbackScope?s=this.textFormatCallback(t):s=this.textFormatCallback.call(this.textFormatCallbackScope,t),s}}nt.register("circularProgressCanvas",function(i,t,s,g,C,M){var o=new l0(this.scene,i,t,s,g,C,M);return this.scene.add.existing(o),o});st(window,"RexPlugins.UI.CircularProgressCanvas",l0);var rA=function(){var i=this.skewX,t=this.width-Math.abs(i),s=this.height,g=this.getShape("trackFill");g.fillStyle(this.trackColor),g.isFilled&&Lo(g,0,0,t,s,i).close();var C=this.getShape("bar");if(C.fillStyle(this.barColor),C.isFilled){var M,o;this.rtl?(M=t*(1-this.value),o=t):(M=0,o=t*this.value),Lo(C,M,0,o,s,i).close()}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&Lo(T,0,0,t,s,i).end()},Lo=function(i,t,s,g,C,M){return M>=0?i.startAt(t+M,s).lineTo(g+M,s).lineTo(g,C).lineTo(t,C).lineTo(t+M,s):i.startAt(t,s).lineTo(g,s).lineTo(g-M,C).lineTo(t-M,C).lineTo(t,s),i};const he=Phaser.Utils.Objects.GetValue,Fo=Phaser.Utils.Objects.IsPlainObject;class Fu extends Ws(Ys){constructor(t,s,g,C,M,o,T,e){Fo(s)?(e=s,s=he(e,"x",0),g=he(e,"y",0),C=he(e,"width",2),M=he(e,"height",2),o=he(e,"barColor",void 0),T=he(e,"value",0)):Fo(C)?(e=C,C=he(e,"width",2),M=he(e,"height",2),o=he(e,"barColor",void 0),T=he(e,"value",0)):Fo(o)&&(e=o,o=he(e,"barColor",void 0),T=he(e,"value",0)),super(t,s,g,C,M,e),this.type="rexLineProgress",this.bootProgressBase(e),this.addShape(new Rn().setName("trackFill")).addShape(new Rn().setName("bar")).addShape(new Rn().setName("trackStroke")),this.setTrackColor(he(e,"trackColor",void 0)),this.setBarColor(o),this.setTrackStroke(he(e,"trackStrokeThickness",2),he(e,"trackStrokeColor",void 0)),this.setSkewX(he(e,"skewX",0)),this.setRTL(he(e,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}}var aA={updateShapes:rA};Object.assign(Fu.prototype,aA);nt.register("lineProgress",function(i,t,s,g,C,M,o){var T=new Fu(this.scene,i,t,s,g,C,M,o);return this.scene.add.existing(T),T});st(window,"RexPlugins.UI.LineProgress",Fu);var hA=function(i,t){i.save(),i.beginPath();var s=t[0];i.moveTo(s.x,s.y);for(var g=1,C=t.length;g<C;g++)s=t[g],i.lineTo(s.x,s.y);i.closePath(),i.restore()},Do=function(i,t,s,g,C,M,o){o===void 0&&(o="round"),hA(t,s),t.lineJoin=o,g!=null&&(t.fillStyle=g,t.fill()),C!=null&&(t.strokeStyle=C,t.lineWidth=M,t.stroke())},oA=function(){var i=this.skewX,t=this.width-Math.abs(i),s=this.height,g=this.canvas,C=this.context;(this.trackColor||this.trackStrokeColor)&&Tc(0,0,t,s,i,this.trackPoints);var M,o;if(this.barColor&&(this.rtl?(M=t*(1-this.value),o=t):(M=0,o=t*this.value),Tc(M,0,o,s,i,this.barPoints)),this.trackColor&&(C.save(),Do(g,C,this.trackPoints,this.trackColor),C.restore()),this.barColor){C.save();var T;if(this.barColor2){var e;if(this.isHorizontalGradient){var u=s/2;e=C.createLinearGradient(M,u,o,u)}else{var x=t/2;e=C.createLinearGradient(x,0,x,s)}e.addColorStop(0,this.rtl?this.barColor:this.barColor2),e.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=e}else T=this.barColor;Do(g,C,this.barPoints,T),C.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(C.save(),Do(g,C,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),C.restore())},Tc=function(i,t,s,g,C,M){M===void 0&&(M=[]),M.length=4;for(var o=0;o<4;o++)M[o]||(M[o]={});var T;return C>=0?(T=M[0],T.x=i+C,T.y=t,T=M[1],T.x=s+C,T.y=t,T=M[2],T.x=s,T.y=g,T=M[3],T.x=i,T.y=g):(T=M[0],T.x=i,T.y=t,T=M[1],T.x=s,T.y=t,T=M[2],T.x=s-C,T.y=g,T=M[3],T.x=i-C,T.y=g),M};const Jt=Phaser.Utils.Objects.GetValue,Io=Phaser.Utils.Objects.IsPlainObject;class Du extends Ws(vs){constructor(t,s,g,C,M,o,T,e){Io(s)?(e=s,s=Jt(e,"x",0),g=Jt(e,"y",0),C=Jt(e,"width",2),M=Jt(e,"height",2),o=Jt(e,"barColor",void 0),T=Jt(e,"value",0)):Io(C)?(e=C,C=Jt(e,"width",2),M=Jt(e,"height",2),o=Jt(e,"barColor",void 0),T=Jt(e,"value",0)):Io(o)&&(e=o,o=Jt(e,"barColor",void 0),T=Jt(e,"value",0)),super(t,s,g,C,M),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(e),this.setTrackColor(Jt(e,"trackColor",void 0)),this.setBarColor(o,Jt(e,"barColor2",void 0),Jt(e,"isHorizontalGradient",void 0)),this.setTrackStroke(Jt(e,"trackStrokeThickness",2),Jt(e,"trackStrokeColor",void 0)),this.setSkewX(Jt(e,"skewX",0)),this.setRTL(Jt(e,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=yt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,s,g){return g===void 0&&(g=!0),this.barColor=t,this.barColor2=s,this.isHorizontalGradient=g,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return this.clear(),oA.call(this),super.updateTexture(),this}}nt.register("circularProgressCanvas",function(i,t,s,g,C,M,o){var T=new Du(this.scene,i,t,s,g,C,M,o);return this.scene.add.existing(T),T});st(window,"RexPlugins.UI.LineProgressCanvas",Du);Phaser.Math.Wrap;const sn=Phaser.Math.Linear;var lA=function(){var i=this.getShape("triangle"),t=this.padding,s=this.width-t.right,g=0+t.left,C=this.height-t.bottom,M=0+t.top,o=(g+s)/2,T=(M+C)/2,e={0:{a:{x:g,y:M},b:{x:s,y:T},c:{x:g,y:C}},1:{a:{x:g,y:M},b:{x:o,y:C},c:{x:s,y:M}},2:{a:{x:s,y:M},b:{x:g,y:T},c:{x:s,y:C}},3:{a:{x:g,y:C},b:{x:o,y:M},c:{x:s,y:C}}},u,x,d,l,h,n;if(this.previousDirection===void 0){var r=e[this.direction],f=r.a,a=r.b,c=r.c;u=f.x,x=f.y,d=a.x,l=a.y,h=c.x,n=c.y}else{var p=e[this.previousDirection],v=e[this.direction],m=this.easeDirectionProgress;u=sn(p.a.x,v.a.x,m),x=sn(p.a.y,v.a.y,m),d=sn(p.b.x,v.b.x,m),l=sn(p.b.y,v.b.y,m),h=sn(p.c.x,v.c.x,m),n=sn(p.c.y,v.c.y,m)}i.startAt(u,x).lineTo(d,l).lineTo(h,n),this.arrowOnly?i.end():i.close()};const uA=Phaser.Math.DegToRad,ca=uA(120);var dA=function(t){var t=this.getShape("triangle"),s=this.width/2,g=this.height/2,C=Math.min(s,g)*this.radius,M=this.verticeRotation;t.startAt(s+C*Math.cos(M+ca),g+C*Math.sin(M+ca)).lineTo(s+C*Math.cos(M),g+C*Math.sin(M)).lineTo(s+C*Math.cos(M-ca),g+C*Math.sin(M-ca)),this.arrowOnly?t.end():t.close()};const fA={buildShapes(){this.addShape(new Rn().setName("triangle"))},updateShapes(){var i=this.getShape("triangle");this.arrowOnly?i.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):i.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?lA.call(this):dA.call(this)}},cA={setEaseDuration(i){return i===void 0&&(i=0),this.easeDuration=i,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new Xs(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},nn=Phaser.Utils.Objects.GetValue,vA=Phaser.Utils.Objects.IsPlainObject,pA=Phaser.Math.DegToRad,gA=Phaser.Math.RadToDeg;class yh extends Ys{constructor(t,s,g,C,M,o,T){var e,u,x,d,l,h,n,r;if(vA(s)){var f=s;s=f.x,g=f.y,C=f.width,M=f.height,o=f.color,T=f.alpha,e=f.strokeColor,u=f.strokeAlpha,x=f.strokeWidth,d=f.arrowOnly,l=f.direction,h=f.easeDuration,n=f.padding,r=f.radius}s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=1),M===void 0&&(M=C),d===void 0&&(d=!1),l===void 0&&(l=0),h===void 0&&(h=0),n===void 0&&(n=0),r===void 0&&(r=void 0),super(t,s,g,C,M),this.type="rexTriangle",this.setFillStyle(o,T),e!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,e,u),this.setArrowOnly(d),this.setDirection(l,h),this.setPadding(n),this.setRadius(r),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=xA(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,s){return s!==void 0&&this.setEaseDuration(s),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,s,g,C){if(typeof t=="object"){var M=t,o=nn(M,"x",null);o!==null?(t=o,g=o):(t=nn(M,"left",0),g=nn(M,"right",t));var T=nn(M,"y",null);T!==null?(s=T,C=T):(s=nn(M,"top",0),C=nn(M,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),g===void 0&&(g=t),C===void 0&&(C=s);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=s||this.padding.right!=g||this.padding.bottom!=C,this.padding.left=t,this.padding.top=s,this.padding.right=g,this.padding.bottom=C,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return gA(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=pA(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const mA={right:0,down:1,left:2,up:3};var xA=function(i){return typeof i=="string"&&(i=mA[i]),i=i%4,i};Object.assign(yh.prototype,fA,cA);nt.register("triangle",function(i,t,s,g,C,M){var o=new yh(this.scene,i,t,s,g,C,M);return this.scene.add.existing(o),o});st(window,"RexPlugins.UI.Triangle",yh);const yA=Phaser.GameObjects.Zone,TA=Phaser.Utils.Array.Add,CA=Phaser.Utils.Array.Remove;class Dr extends yA{constructor(t,s,g,C,M){s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=1),M===void 0&&(M=1),super(t,s,g,C,M),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s,g=this.children.length-1;g>=0;g--)s=this.children[g],!s.parentContainer&&!s.displayList&&s.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var s=this;return TA(this.children,t,0,function(g){g.once("destroy",s.onChildDestroy,s)},this),this}remove(t,s){var g=this;return CA(this.children,t,function(C){C.off("destroy",g.onChildDestroy,g),s&&C.destroy()}),this}onChildDestroy(t,s){this.remove(t,!1)}clear(t){for(var s=this,g,C=0,M=this.children.length;C<M;C++)g=this.children[C],g.off("destroy",s.onChildDestroy,s),t&&g.destroy();return this.children.length=0,this}}const Cc=Phaser.GameObjects.Components;Phaser.Class.mixin(Dr,[Cc.Alpha,Cc.Flip]);var Ke=function(i,t){var s;if(t===void 0)i.hasOwnProperty("rexContainer")&&(s=i.rexContainer.parent);else for(s=Ke(i);s&&s.name!==t;)s=Ke(s);return s},u0=function(i){for(var t=Ke(i);t;)i=t,t=Ke(t);return i};const SA=Phaser.Math.DegToRad,EA=Phaser.Math.RadToDeg;var Mt=function(i){if(!i.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return EA(this.rotation)},set:function(s){this.rotation=SA(s)}}),Object.defineProperty(t,"displayWidth",{get:function(){return i.width*this.scaleX},set:function(s){this.scaleX=s/i.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return i.height*this.scaleY},set:function(s){this.scaleY=s/i.height}}),i.rexContainer=t}return i.rexContainer};const PA={setParent(i,t){t===void 0&&(t=this);var s=Mt(i);return t?(s.parent=t,s.self=i):(s.parent=null,s.self=null),this},getParent(i,t){return typeof i=="string"&&(t=i,i=void 0),i===void 0&&(i=this),Ke(i,t)},getTopmostParent(i){return i===void 0&&(i=this),u0(i)}},ir=Phaser.Utils.Objects.GetValue,d0=Dr.prototype.add;var Bo=function(i,t){this.setParent(i);var s=Mt(i);return f0(s,t),this.resetChildState(i).updateChildVisible(i).updateChildActive(i).updateChildScrollFactor(i).updateChildMask(i),d0.call(this,i),this.addToParentContainer(i),this.addToRenderLayer(i),this},Go=function(i,t){this.setParent(i);var s=Mt(i);return f0(s,t),s.x=i.x,s.y=i.y,s.rotation=i.rotation,s.scaleX=i.scaleX,s.scaleY=i.scaleY,s.alpha=i.alpha,s.visible=i.visible,s.active=i.active,this.updateChildPosition(i).updateChildAlpha(i).updateChildVisible(i).updateChildActive(i).updateChildScrollFactor(i).updateChildMask(i),d0.call(this,i),this.addToRenderLayer(i),this},f0=function(i,t){t===void 0&&(t=!0),typeof t=="boolean"?(i.syncPosition=t,i.syncRotation=t,i.syncScale=t,i.syncAlpha=t,i.syncScrollFactor=t):(i.syncPosition=ir(t,"syncPosition",!0),i.syncRotation=ir(t,"syncRotation",!0),i.syncScale=ir(t,"syncScale",!0),i.syncAlpha=ir(t,"syncAlpha",!0),i.syncScrollFactor=ir(t,"syncScrollFactor",!0))};const MA={add(i){return Array.isArray(i)?this.addMultiple(i):Bo.call(this,i),this},pin(i,t){return Array.isArray(i)?this.addMultiple(i,t):Bo.call(this,i,t),this},addMultiple(i){for(var t=0,s=i.length;t<s;t++)Bo.call(this,i[t]);return this},addLocal(i){return Array.isArray(i)?this.addMultiple(i):Go.call(this,i),this},pinLocal(i,t){return Array.isArray(i)?this.addMultiple(i,t):Go.call(this,i,t),this},addLocalMultiple(i){for(var t=0,s=i.length;t<s;t++)Go.call(this,i[t]);return this}},Sc=Dr.prototype.remove,wA=Dr.prototype.clear,AA={remove(i,t){return Ke(i)!==this?this:(this.setParent(i,null),t||this.removeFromRenderLayer(i),Sc.call(this,i,t),this)},unpin(i,t){return Ke(i)!==this?this:(this.setParent(i,null),t||this.removeFromRenderLayer(i),Sc.call(this,i,t),this)},clear(i){for(var t=this.children,s=0,g=t.length;s<g;s++){var C=t[s];this.setParent(C,null),i||this.removeFromRenderLayer(C)}return wA.call(this,i),this}},RA={getLocalState(i){return Mt(i)},resetChildState(i){return this.resetChildPositionState(i).resetChildVisibleState(i).resetChildAlphaState(i).resetChildActiveState(i),this},resetChildrenState(i){for(var t=0,s=i.length;t<s;t++)this.resetChildState(i[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},Ec=Phaser.Math.RotateAround,OA={worldToLocal(i){return i.x-=this.x,i.y-=this.y,Ec(i,0,0,-this.rotation),i.x/=this.scaleX,i.y/=this.scaleY,i},localToWorld(i){return i.x*=this.scaleX,i.y*=this.scaleY,Ec(i,0,0,this.rotation),i.x+=this.x,i.y+=this.y,i}};var Cr=function(i,t){return i===t?1:i/t};const bA={updateChildPosition(i){i.isRexContainerLite&&(i.syncChildrenEnable=!1);var t=Mt(i),s=t.parent;return t.syncPosition&&(i.x=t.x,i.y=t.y,s.localToWorld(i)),t.syncRotation&&(i.rotation=t.rotation+s.rotation),t.syncScale&&(i.scaleX=t.scaleX*s.scaleX,i.scaleY=t.scaleY*s.scaleY),i.isRexContainerLite&&(i.syncChildrenEnable=!0,i.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(i){var t=Mt(i),s=t.parent;return t.x=i.x,t.y=i.y,s.worldToLocal(t),t.scaleX=Cr(i.scaleX,s.scaleX),t.scaleY=Cr(i.scaleY,s.scaleY),t.rotation=i.rotation-s.rotation,this},setChildPosition(i,t,s){return i.x=t,i.y=s,this.resetChildPositionState(i),this},setChildLocalPosition(i,t,s){var g=Mt(i);return g.x=t,g.y=s,this.updateChildPosition(i),this},resetLocalPositionState(){var i=Mt(this).parent;return i&&i.resetChildPositionState(this),this}},LA=Phaser.Math.DegToRad,FA={updateChildRotation(i){var t=Mt(i),s=t.parent;return t.syncRotation&&(i.rotation=s.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(i){var t=Mt(i),s=t.parent;return t.rotation=i.rotation-s.rotation,this},setChildRotation(i,t){return i.rotation=t,this.resetChildRotationState(i),this},setChildAngle(i,t){return i.angle=t,this.resetChildRotationState(i),this},setChildLocalRotation(i,t){var s=Mt(i);return s.rotation=t,this.updateChildRotation(i),this},setChildLocalAngle(i,t){var s=Mt(i);return s.rotation=LA(t),this.updateChildRotation(i),this},resetLocalRotationState(){var i=Mt(this).parent;return i&&i.resetChildRotationState(this),this}},DA={updateChildScale(i){var t=Mt(i),s=t.parent;return t.syncScale&&(i.scaleX=s.scaleX*t.scaleX,i.scaleY=s.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(i){var t=Mt(i),s=t.parent;return t.scaleX=Cr(i.scaleX,s.scaleX),t.scaleY=Cr(i.scaleY,s.scaleY),this},setChildScale(i,t,s){return s===void 0&&(s=t),i.scaleX=t,i.scaleY=s,this.resetChildScaleState(i),this},setChildLocalScale(i,t,s){s===void 0&&(s=t);var g=Mt(i);return g.scaleX=t,g.scaleY=s,this.updateChildScale(i),this},setChildDisplaySize(i,t,s){return i.setDisplaySize(t,s),this.resetChildScaleState(i),this},resetLocalScaleState(){var i=Mt(this).parent;return i&&i.resetChildScaleState(this),this}},IA={updateChildVisible(i){var t=Mt(i),s=t.parent,g=t.hasOwnProperty("maskVisible")?t.maskVisible:!0;return i.visible=s.visible&&t.visible&&g,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(i){var t=Mt(i);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=i.visible,this},setChildVisible(i,t){return this.setChildLocalVisible(i,t),this},setChildLocalVisible(i,t){t===void 0&&(t=!0);var s=Mt(i);return s.visible=t,this.updateChildVisible(i),this},setChildMaskVisible(i,t){t===void 0&&(t=!0);var s=Mt(i);return s.maskVisible=t,this.updateChildVisible(i),this},resetLocalVisibleState(){var i=Mt(this).parent;return i&&i.resetChildVisibleState(this),this}},BA={updateChildAlpha(i){var t=Mt(i),s=t.parent;return t.syncAlpha&&(i.alpha=s.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(i){var t=Mt(i),s=t.parent;return t.alpha=Cr(i.alpha,s.alpha),this},setChildAlpha(i,t){return i.alpha=t,this.resetChildAlphaState(i),this},setChildLocalAlpha(i,t){var s=Mt(i);return s.alpha=t,this.updateChildAlpha(i),this},resetLocalAlphaState(){var i=Mt(this).parent;return i&&i.resetChildAlphaState(this),this}},GA={updateChildActive(i){var t=Mt(i),s=t.parent;return i.active=s.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(i){var t=Mt(i);return t.active=i.active,this},setChildActive(i,t){return i.active=t,this.resetChildActiveState(i),this},setChildLocalActive(i,t){t===void 0&&(t=!0);var s=Mt(i);return s.active=t,this.updateChildActive(i),this},resetLocalActiveState(){var i=Mt(this).parent;return i&&i.resetChildActiveState(this),this}},NA={updateChildScrollFactor(i){var t=Mt(i),s=t.parent;return t.syncScrollFactor&&i.setScrollFactor(s.scrollFactorX,s.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},zA={updateChildMask(i){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==i&&(i.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(i){return this.mask=i,this},clearMask(i){return i===void 0&&(i=!1),this._mask=null,this.children.forEach(function(t){t.clearMask(!1)}),i&&this.mask&&this.mask.destroy(),this}};var On=function(i,t){if(i.length<=1)return i;t===void 0&&(t=!1);var s=i[0].scene,g=s.sys.displayList;return g.depthSort(),t?i.sort(function(C,M){return g.getIndex(M)-g.getIndex(C)}):i.sort(function(C,M){return g.getIndex(C)-g.getIndex(M)}),i};const VA={setDepth(i,t){if(this.depth=i,!t&&this.children)for(var s=this.getAllChildren(),g=0,C=s.length;g<C;g++)s[g].depth=i;return this},swapDepth(i){var t=this.depth,s=i.depth;return this.setDepth(s),i.setDepth(t),this},incDepth(i){if(this.depth+=i,this.children)for(var t=this.getAllChildren(),s=0,g=t.length;s<g;s++)t[s].depth+=i;return this},bringToTop(){var i=this.displayList,t=this.getAllChildren([this]);On(t,!1);for(var s=0,g=t.length;s<g;s++){var C=t[s];i.exists(C)&&i.bringToTop(C)}return this},moveDepthBelow(i){var t=this.displayList;if(i.displayList!==t)return this;var s=this.getAllChildren([this]);On(s,!1);for(var g=0,C=s.length;g<C;g++){var M=s[g];if(t.exists(M)){t.moveBelow(i,M);break}}return this},moveDepthAbove(i){var t=this.displayList;if(i.displayList!==t)return this;var s=this.getAllChildren([this]);On(s,!0);for(var g=0,C=s.length;g<C;g++){var M=s[g];if(t.exists(M)){t.moveAbove(i,M);break}}return this}};var c0=function(i,t){var s=t(i);if(!s&&i.isRexContainerLite)for(var g=i.children,C=0,M=g.length;C<M;C++)c0(g[C],t)},No=function(i,t){for(var s=[i];s.length>0;){var g=s.shift(),C=t(g);!C&&g.isRexContainerLite&&s.push(...g.children)}};const Ps=Phaser.Utils.Array,UA={getChildren(i){if(!i)i=this.children;else for(var t=0,s=this.children.length;t<s;t++)i.push(this.children[t]);return i},getAllChildren(i){i===void 0&&(i=[]);var t=this;return No(t,function(s){s!==t&&i.push(s)}),i},getAllVisibleChildren(i){i===void 0&&(i=[]);var t=this;return No(t,function(s){if(s!==t){if(!s.visible)return!0;i.push(s)}}),i},bfs(i,t){return t===void 0&&(t=this),No(t,i),this},dfs(i,t){return t===void 0&&(t=this),c0(t,i),this},contains(i){var t=Ke(i);return t?t===this?!0:this.contains(t):!1},getByName(i,t){if(t){for(var s=[this],g,C;s.length;){g=s.shift();for(var M=0,o=g.children.length;M<o;M++){if(C=g.children[M],C.name===i)return C;C.isRexContainerLite&&s.push(C)}}return null}else return Ps.GetFirst(this.children,"name",i)},getRandom(i,t){return Ps.GetRandom(this.children,i,t)},getFirst(i,t,s,g){return Ps.GetFirstElement(this.children,i,t,s,g)},getAll(i,t,s,g){return Ps.GetAll(this.children,i,t,s,g)},count(i,t,s,g){return Ps.CountAllMatching(this.children,i,t,s,g)},swap(i,t){return Ps.Swap(this.children,i,t),this},setAll(i,t,s,g){return Ps.SetAll(this.children,i,t,s,g),this}};var zo=function(i){for(var t=[],s=0,g=i.length;s<g;s++){var C=i[s];!C.hasOwnProperty("rexContainer")||t.push(C.rexContainer)}return t},YA=function(i){for(var t=0,s=i.length;t<s;t++){var g=i[t].scene;if(g)return g}return null},Pc=function(i,t,s){if(!s.parent){i.remove();return}var g=s.parent,C=s.self;switch(t){case"x":case"y":g.updateChildPosition(C);break;case"angle":case"rotation":g.updateChildRotation(C);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":g.updateChildScale(C);break;case"alpha":g.updateChildAlpha(C);break;default:g.updateChildPosition(C),g.updateChildRotation(C),g.updateChildScale(C),g.updateChildAlpha(C);break}};const XA={tweenChild(i){var t=i.targets;Array.isArray(t)||(t=[t]);var s=this.scene||YA(t);if(!!s){i.targets=zo(t);var g=s.tweens.add(i);return g.on("update",Pc),g}},tweenSelf(i){return i.targets=[this],this.tweenChild(i)},createTweenChildConfig(i){var t=i.targets;t&&(Array.isArray(t)||(t=[t]),i.targets=zo(t));var s=i.onUpdate;return i.onUpdate=function(g,C){s&&s(g,C),Pc(g,void 0,C)},i},tween(i){var t=this.scene;return i.targets||(i.targets=this),t.tweens.add(i)},timelineChild(i){var t=i.targets;t&&(Array.isArray(t)||(t=[t]),i.targets=zo(t));for(var s=i.tweens,g=0,C=s.length;g<C;g++)s[g]=this.createTweenChildConfig(s[g]);var M=this.scene.tweens.timeline(i);return M}},kA={addToContainer(i){this._setParentContainerFlag=!0;var t=this.getAllChildren([this]);return On(t),i.add(t),this._setParentContainerFlag=!1,this},addToLayer(i){return this.addToContainer(i),this},removeFromContainer(){if(!this.parentContainer)return this;var i=this.getAllChildren([this]).filter(function(t){return!!t.scene});return i.length===0?this:(this._setParentContainerFlag=!0,i.length>1&&(On(i),i.reverse()),this.parentContainer.remove(i),this._setParentContainerFlag=!1,this)},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var i=this.getParent();i;){var t=i.parentContainer;if(t)return t;i=i.getParent()}return null},addToParentContainer(i){if(!i.displayList)return this;var t=this.getParentContainer();return t?(i.isRexContainerLite?i.addToContainer(t):t.add(i),this):this}},WA={enableLayer(){if(this.privateRenderLayer)return this;var i=this.scene.add.layer();return this.moveDepthBelow(i),this.addToLayer(i),this.privateRenderLayer=i,this},getLayer(){return this.privateRenderLayer||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.privateRenderLayer)return this.privateRenderLayer;for(var i=this.getParent();i;){var t=i.privateRenderLayer;if(t)return t;i=i.getParent()}return null},addToRenderLayer(i){if(!i.displayList)return this;var t=this.getRenderLayer();if(!t)return this;i.isRexContainerLite?i.addToLayer(t):t.add(i);var s=Mt(i);return s.layer=t,this},removeFromRenderLayer(i){var t=Mt(i),s=t.layer;return s?(s.remove(i),t.layer=null,this):this}},Mc=Phaser.Geom.Rectangle,HA=Phaser.Geom.Rectangle.Union;var $A=function(i,t){t===void 0?t=new Mc:t===!0&&(Vo===void 0&&(Vo=new Mc),t=Vo),t.setTo(0,0,0,0);for(var s,g=!0,C=0,M=i.length;C<M;C++)if(s=i[C],!!s.getBounds){var o=Cu(s,!0);g?(t.setTo(o.x,o.y,o.width,o.height),g=!1):HA(o,t,t)}return t},Vo;const KA=Phaser.GameObjects.GameObject;var xs=function(i){return i instanceof KA},Ms=Phaser.Utils.Objects.GetValue,ZA=Phaser.Textures.DynamicTexture,JA=Phaser.Utils.String.UUID,Iu=function(i){if(!!i){var t=i.gameObjects,s=i.renderTexture,g=Ms(i,"x",void 0),C=Ms(i,"y",void 0),M=Ms(i,"width",void 0),o=Ms(i,"height",void 0),T=Ms(i,"originX",0),e=Ms(i,"originY",0),u=Ms(i,"padding",0),x,d;if(M===void 0||o===void 0||g===void 0||C===void 0){var l=$A(t,!0),h=g!==void 0&&C!==void 0;h?(M=Math.max(g-l.left,l.right-g)*2,o=Math.max(C-l.top,l.bottom-C)*2,T=.5,e=.5):(g=l.x,C=l.y,M=l.width,o=l.height,T=0,e=0),x=l.x,d=l.y}else x=g+(0-T)*M,d=C+(0-e)*o;x-=u,d-=u,M+=u*2,o+=u*2;var n=t[0].scene;r&&!s&&(s=new ZA(n.sys.textures,JA(),M,o)),s||(s=n.add.renderTexture(0,0,M,o)),s.setPosition&&s.setPosition(g,C),(s.width!==M||s.height!==o)&&s.setSize(M,o),s.setOrigin&&s.setOrigin(T,e),s.camera.setScroll(x,d),t=On(zs(t)),s.draw(t);var r=i.saveTexture;if(r)if(xs(s))s.saveTexture(r);else{var f=s,a=f.manager;a.exists(f.key)?a.renameTexture(f.key,key):(f.key=key,a.list[key]=f,a.emit("addtexture",key,f),a.emit(`addtexture-${key}`,f))}return s}};const jA={snapshot(i){var t=this.scaleX,s=this.scaleY,g=t===1&&s===1;g||this.setScale(1),i===void 0&&(i={}),i.gameObjects=this.getAllVisibleChildren(),i.x=this.x,i.y=this.y,i.originX=this.originX,i.originY=this.originY;var C=Iu(i),M=!!C.scene;return g||(this.setScale(t,s),M&&C.setScale(t,s)),M?C:this}},wc=Phaser.Utils.Objects.GetValue;var QA=function(i,t){var s=wc(t,"drawContainer",!0),g=wc(t,"children");return g===void 0&&(g=this.getAllVisibleChildren([this])),s||(g=g.filter(function(C){return!C.isRexContainerLite})),Ig(g,i,t),this};const qA=Phaser.Math.RotateAround;var _A=function(i,t,s){s===void 0&&(s=t);var g={x:(t-i.originX)*i.displayWidth,y:(s-i.originY)*i.displayHeight};return qA(g,0,0,i.rotation),i.originX=t,i.originY=s,i.x=i.x+g.x,i.y=i.y+g.y,i},tR=function(i,t){this.syncChildrenEnable=!1,_A(this,i,t),this.syncChildrenEnable=!0;for(var s=this.getAllChildren(),g=0,C=s.length;g<C;g++)this.resetChildPositionState(s[g]);return this},v0={changeOrigin:tR,drawBounds:QA};Object.assign(v0,PA,MA,AA,RA,OA,bA,FA,DA,IA,BA,GA,NA,zA,VA,UA,XA,kA,WA,jA);class Ge extends Dr{constructor(t,s,g,C,M,o){Array.isArray(C)&&(o=C,C=void 0,M=void 0),super(t,s,g,C,M),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this.privateRenderLayer=void 0,o&&this.add(o)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,s){return this.setSize(t,s),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children}static GetParent(t){return Ke(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Ke(this);return t?t.setParentContainerFlag:!1}}Object.assign(Ge.prototype,v0);var Th=function(i){return i.hasOwnProperty("rexSizer")||(i.rexSizer={}),i.rexSizer};function eR(i){return i===void 0&&(i=this),Th(i)}var iR=function(i){var t=Th(i);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},sR=function(i){return i===void 0&&(i=Un(this.scene)),this.left=Math.max(this.left,i.left),this.right=Math.min(this.right,i.right),this.top=Math.max(this.top,i.top),this.bottom=Math.min(this.bottom,i.bottom),this};const Pe=Phaser.Display.Align,Yn={center:Pe.CENTER,left:Pe.LEFT_CENTER,right:Pe.RIGHT_CENTER,top:Pe.TOP_CENTER,bottom:Pe.BOTTOM_CENTER,"left-top":Pe.TOP_LEFT,"left-center":Pe.LEFT_CENTER,"left-bottom":Pe.BOTTOM_LEFT,"center-top":Pe.TOP_CENTER,"center-center":Pe.CENTER,"center-bottom":Pe.BOTTOM_CENTER,"right-top":Pe.TOP_RIGHT,"right-center":Pe.RIGHT_CENTER,"right-bottom":Pe.BOTTOM_RIGHT};var Jl=new Phaser.GameObjects.Zone({sys:{queueDepthSort:ve,events:{once:ve}}},0,0,1,1);Jl.setOrigin(0);var Wi={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},Bu=function(i){var t=wt(i);return i.y+t-t*i.originY},Gu=function(i){var t=bt(i);return i.x-t*i.originX+t*.5},Nu=function(i,t){var s=wt(i);return i.y=t-s+s*i.originY,i},zu=function(i,t){var s=bt(i),g=s*i.originX;return i.x=t+g-s*.5,i},nR=function(i,t,s,g){return s===void 0&&(s=0),g===void 0&&(g=0),zu(i,Gu(t)+s),Nu(i,Bu(t)+g),i},Vu=function(i){var t=bt(i);return i.x-t*i.originX},Uu=function(i,t){var s=bt(i);return i.x=t+s*i.originX,i},rR=function(i,t,s,g){return s===void 0&&(s=0),g===void 0&&(g=0),Uu(i,Vu(t)-s),Nu(i,Bu(t)+g),i},Yu=function(i){var t=bt(i);return i.x+t-t*i.originX},Xu=function(i,t){var s=bt(i);return i.x=t-s+s*i.originX,i},aR=function(i,t,s,g){return s===void 0&&(s=0),g===void 0&&(g=0),Xu(i,Yu(t)+s),Nu(i,Bu(t)+g),i},ku=function(i,t){var s=wt(i),g=s*i.originY;return i.y=t+g-s*.5,i},hR=function(i,t,s){return zu(i,t),ku(i,s)},Wu=function(i){var t=wt(i);return i.y-t*i.originY+t*.5},oR=function(i,t,s,g){return s===void 0&&(s=0),g===void 0&&(g=0),hR(i,Gu(t)+s,Wu(t)+g),i},lR=function(i,t,s,g){return s===void 0&&(s=0),g===void 0&&(g=0),Uu(i,Vu(t)-s),ku(i,Wu(t)+g),i},uR=function(i,t,s,g){return s===void 0&&(s=0),g===void 0&&(g=0),Xu(i,Yu(t)+s),ku(i,Wu(t)+g),i},Hu=function(i){var t=wt(i);return i.y-t*i.originY},$u=function(i,t){var s=wt(i);return i.y=t+s*i.originY,i},dR=function(i,t,s,g){return s===void 0&&(s=0),g===void 0&&(g=0),zu(i,Gu(t)+s),$u(i,Hu(t)-g),i},fR=function(i,t,s,g){return s===void 0&&(s=0),g===void 0&&(g=0),Uu(i,Vu(t)-s),$u(i,Hu(t)-g),i},cR=function(i,t,s,g){return s===void 0&&(s=0),g===void 0&&(g=0),Xu(i,Yu(t)+s),$u(i,Hu(t)-g),i},Ri=[];Ri[Wi.BOTTOM_CENTER]=nR;Ri[Wi.BOTTOM_LEFT]=rR;Ri[Wi.BOTTOM_RIGHT]=aR;Ri[Wi.CENTER]=oR;Ri[Wi.LEFT_CENTER]=lR;Ri[Wi.RIGHT_CENTER]=uR;Ri[Wi.TOP_CENTER]=dR;Ri[Wi.TOP_LEFT]=fR;Ri[Wi.TOP_RIGHT]=cR;var p0=function(i,t,s,g,C){return Ri[s](i,t,g,C)},Ir=function(i,t,s,g,C,M){Jl.setPosition(t,s).setSize(g,C),p0(i,Jl,M)};const rn=Phaser.Utils.Objects.GetValue,vR=Phaser.GameObjects.Group;var pR=function(i,t){var s=i.scene,g,C,M,o,T;if(typeof t=="number")g=t;else{g=rn(t,"color"),C=rn(t,"lineWidth");var e=rn(t,"name",!1);e&&(M=rn(e,"createTextCallback",gR),o=rn(e,"createTextCallbackScope",void 0),T=rn(e,"align","left-top"),typeof T=="string"&&(T=Yn[T]))}if(g===void 0&&(g=16777215),C===void 0&&(C=1),M&&!i.children){i.children=new vR(s),i.once("destroy",function(r,f){r.children.destroy(!f),r.children=void 0});var u=i.clear.bind(i);i.clear=function(){u(),i.children.clear(!1,!0)}}for(var x=this.getAllShownChildren([this]),d,l,h=0,n=x.length;h<n;h++){if(d=x[h],d.getBounds||d.width!==void 0&&d.height!==void 0)ws=Cu(d,ws);else continue;g!=null&&i.lineStyle(C,g).strokeRectShape(ws),d.name&&M&&(o?l=M.call(o,s):l=M(s),l&&(l.setText(d.name),i.children.add(l),Ir(l,ws.x,ws.y,ws.width,ws.height,T)))}return this},gR=function(i,t,s){return i.add.text(0,0,"")},ws=void 0;const va=Phaser.Utils.Objects.GetValue;var Xn=function(i,t){return t===void 0&&(t={}),typeof i=="number"?(t.left=i,t.right=i,t.top=i,t.bottom=i):(t.left=va(i,"left",0),t.right=va(i,"right",0),t.top=va(i,"top",0),t.bottom=va(i,"bottom",0)),t};const mR=Ge.prototype.add;var Br=function(i){return mR.call(this,i),this.sizerEventsEnable&&(i.emit("sizer.add",i,this),this.emit("add",i,this)),this};const xR={addBackground(i,t,s){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(s=t,t=void 0),t===void 0&&(t=0),Br.call(this,i),this.backgroundChildren.push(i);var g=this.getSizerConfig(i);return g.padding=Xn(t),s!==void 0&&this.addChildrenMap(s,i),this},isBackground(i){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(i)!==-1}},yR=Phaser.Utils.Array.Remove,TR=Ge.prototype.remove;var Gr=function(i,t){return this.isBackground(i)&&yR(this.backgroundChildren,i),TR.call(this,i,t),!t&&this.sizerEventsEnable&&(i.emit("sizer.remove",i,this),this.emit("remove",i,this)),this},bn=function(i,t){var s=null;if(t===void 0)i.hasOwnProperty("rexContainer")&&(s=i.rexContainer.parent,s?s.isRexSizer||(s=bn(s)):s=null);else for(s=bn(i);s&&s.name!==t;)s=bn(s);return s},CR=function(i){for(var t=bn(i);t;)i=t,t=bn(t);return i};const Nr={getParentSizer(i,t){return typeof i=="string"&&(t=i,i=void 0),i===void 0&&(i=this),bn(i,t)},getTopmostSizer(i){return i===void 0&&(i=this),CR(i)}},SR=Phaser.Utils.Array.Remove,ER={removeFromParentSizer(){var i=Nr.getParentSizer(gameObject);return i&&i.remove(this),this},removeBackground(i,t){return this.backgroundChildren===void 0?this:this.getParentSizer(i)!==this?this:(SR(this.backgroundChildren,i),Gr.call(this,i,t),this)},removeAllBackgrounds(i){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],i);return this}};var Ac=function(i,t){return this.childrenMap[i]=t,this},PR=function(i){if(typeof i=="object"){var t=i;for(var i in this.childrenMap)if(this.childrenMap[i]===t)return delete this.childrenMap[i],this}return delete this.childrenMap[i],this},MR=function(i,t){if(typeof i=="string"&&(i=i.split(".")),i.length!==0){var s=i.shift(),g=null;if(s.charAt(0)==="#")s=s.substring(1),g=this.getByName(s,t);else if(s.indexOf("[")===-1)this.childrenMap&&(g=this.childrenMap[s]);else{var C=s.match(wR);if(C!=null&&this.childrenMap){var M=this.childrenMap[C[1]];M&&(g=M[C[2]])}}return i.length===0?g:g&&g.childrenMap?g.getElement(i):null}};const wR=/(\S+)\[(\d+)\]/i,AR={getInnerPadding(i){return Wa(this.space,i)},setInnerPadding(i,t){return os(this.space,i,t),this},getOuterPadding(i){return Wa(this.getSizerConfig(this).padding,i)},setOuterPadding(i,t){return os(this.getSizerConfig(this).padding,i,t),this},getChildOuterPadding(i,t){return typeof i=="string"&&(i=this.getElement(i)),Wa(this.getSizerConfig(i).padding,t)},setChildOuterPadding(i,t,s){return typeof i=="string"&&(i=this.getElement(i)),os(this.getSizerConfig(i).padding,t,s),this}};var Ku=function(i){return i===void 0&&(i=Math.max(this.childrenWidth,this.minWidth)),i},RR=function(i){var t,s;for(var g in this.sizerChildren)t=this.sizerChildren[g],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildWidth(t,i),s=t.resolveWidth(s),t.resolveChildrenWidth(s))},Zu=function(i){var t=Math.max(this.childrenHeight,this.minHeight);return i===void 0&&(i=t),i},OR=function(i,t){},bR=function(i){var t;return i.isRexSizer?t=Math.max(i.minWidth,i.childrenWidth):i.minWidth!==void 0?t=i.minWidth:t=bt(i),t},LR=function(i){var t;return i.isRexSizer?t=Math.max(i.minHeight,i.childrenHeight):i.minHeight!==void 0?t=i.minHeight:t=wt(i),t},FR=function(i,t){return t},DR=function(i,t){return t},IR=function(){return 0},BR=function(){return 0},GR=function(i){i===void 0&&(i=[]);for(var t=i.length,s=this.getChildrenSizers(i),g=i.length,C=t;C<g;C++)s[C].getAllChildrenSizers(i);return i},NR=function(i){return i===void 0&&(i=[]),i};const zR={getShownChildren(i){i===void 0&&(i=[]);for(var t=this.children,s,g=0,C=t.length;g<C;g++)s=t[g],!(s.rexSizer&&s.rexSizer.hidden)&&i.push(s);return i},getAllShownChildren(i){i===void 0&&(i=[]);for(var t=[this];t.length>0;){var s=t.shift();s.rexSizer&&s.rexSizer.hidden||(s!==this&&i.push(s),s.isRexContainerLite&&t.push(...s.children))}return i}};var zr=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var i=this.getChildrenSizers(),t,s=0,g=i.length;s<g;s++)t=i[s],!t.ignoreLayout&&t.preLayout()},VR=function(){var i=this.scaleX,t=this.scaleY,s=i===1&&t===1;return s||this.setScale(1),this.runLayout(),s||this.setScale(i,t),this},UR=function(i,t,s){if(this.ignoreLayout)return this;var g=!i;return g&&this.preLayout(),t=this.resolveWidth(t),g&&(this.resolveChildrenWidth(t),this.runWidthWrap(t)),s=this.resolveHeight(s),this.postResolveSize(t,s),this.resize(t,s),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout()},YR=function(){},XR=function(i,t,s){return this._anchor&&this._anchor.updatePosition(),this},g0=function(i){var t,s;for(var g in this.sizerChildren)t=this.sizerChildren[g],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(s=this.getExpandedChildWidth(t,i),t.isRexSizer&&(s=t.resolveWidth(s)),t.runWidthWrap(s));return this};class Ju extends re{constructor(t,s){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(s)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var s,g;t.x!==void 0?(s=null,g=t.x):t.left!==void 0?(s=0,g=t.left):t.right!==void 0?(s=1,g=t.right):t.centerX!==void 0&&(s=.5,g=t.centerX);var C,M;t.y!==void 0?(C=null,M=t.y):t.top!==void 0?(C=0,M=t.top):t.bottom!==void 0?(C=1,M=t.bottom):t.centerY!==void 0&&(C=.5,M=t.centerY);var o,T;g!==void 0&&(g=g.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),o=parseFloat(g[0])/100,T=g[1]===""?0:parseFloat(g[1]));var e,u;M!==void 0&&(M=M.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),e=parseFloat(M[0])/100,u=M[1]===""?0:parseFloat(M[1]));var x=t.width,d,l;x!==void 0&&(x=x.split("%"),d=parseFloat(x[0])/100,l=x[1]===""?0:parseFloat(x[1]));var h=t.height,n,r;h!==void 0&&(h=h.split("%"),n=parseFloat(h[0])/100,r=h[1]===""?0:parseFloat(h[1])),this.setAlign(s,C),this.setPercentage(o,e),this.setOffset(T,u),this.setSizePercentage(d,n),this.setSizePadding(l,r);var f=t.onResizeCallback,a=t.onResizeCallbackScope;f!==void 0&&this.setResizeCallback(f,a);var c=t.onUpdateViewportCallback,p=t.onUpdateViewportCallbackScope;return c!==void 0&&this.setUpdateViewportCallback(c,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,s){return this.alignX=t,this.alignY=s,this}setPercentage(t,s){return this.percentageX=t,this.percentageY=s,this}setOffset(t,s){return this.offsetX=t,this.offsetY=s,this}setSizePercentage(t,s){return this.percentageWidth=t,this.percentageHeight=s,this}setSizePadding(t,s){return this.paddingWidth=t,this.paddingHeight=s,this}setResizeCallback(t,s){return this.onResizeCallback=t,this.onResizeCallbackScope=s,this}setUpdateViewportCallback(t,s){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=s,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,s=this.onResizeCallbackScope,g=this.anchorWidth,C=this.anchorHeight;if(!(g===void 0&&C===void 0||!t)){var M=this.parent;g===void 0&&(g=M.width),C===void 0&&(C=M.height),s?t.call(s,g,C,M,this):t(g,C,M,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=Un(this.scene,t,this.viewport);var s=this.viewport,g=this.onUpdateViewportCallback,C=this.onUpdateViewportCallbackScope;g&&(C?g.call(C,s,this.parent,this):g(s,this.parent,this))}}var kR=function(i){i===void 0&&(i={});var t=i.hasOwnProperty("width"),s=i.hasOwnProperty("height"),g=i.hasOwnProperty("onResizeCallback");return(t||s)&&!g&&(i.onResizeCallback=function(C,M,o){t&&o.setMinWidth(C),s&&o.setMinHeight(M),o.layout()}),this._anchor===void 0?this._anchor=new Ju(this,i):this._anchor.resetFromJSON(i),this};const WR=Phaser.Utils.Objects.GetValue,an=Phaser.Utils.Objects.GetAdvancedValue,Rc=Phaser.Math.Linear;class Sr extends Us{constructor(t,s){super(t,s),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(WR(t,"mode",0)),this.setScaleRange(an(t,"start",void 0),an(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=HR[t]),this.mode=t,this}setScaleRange(t,s){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=an(t,"x",this.parent.scaleX),this.startY=an(t,"y",this.parent.scaleY)),typeof s=="number"?(this.endX=s,this.endY=s):(this.endX=an(s,"x",void 0),this.endY=an(s,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var s=this.repeat;return this.mode===2&&s!==-1&&(s=(s+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(s),super.start(),this}updateGameObject(t,s){var g=s.t;s.isOddIteration&&(g=1-g),g=this.easeFn(g),this.hasScaleX&&(t.scaleX=Rc(this.startX,this.endX,g)),this.hasScaleY&&(t.scaleY=Rc(this.startY,this.endY,g))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const HR={stop:0,destroy:1,yoyo:2};var ju=function(i,t,s,g,C){g===void 0&&(g="Cubic");var M,o;switch(s){case 0:case"x":M={x:0},o={x:i.scaleX};break;case 1:case"y":M={y:0},o={y:i.scaleY};break;default:M=0,o=i.scale;break}var T={mode:0,start:M,end:o,duration:t,ease:g};return C===void 0?C=new Sr(i,T):C.resetFromJSON(T),C.restart(),C},m0=function(i,t,s,g,C,M){g===void 0&&(g="Linear"),C instanceof Sr&&(M=C,C=void 0),C===void 0&&(C=!0);var o={};switch(o.mode=C?1:0,s){case 0:case"x":o.end={x:0};break;case 1:case"y":o.end={y:0};break;default:o.end=0;break}return o.duration=t,o.ease=g,M===void 0?M=new Sr(i,o):M.resetFromJSON(o),M.restart(),M},$R=function(i,t,s,g,C,M,o){s===void 0&&(s=1.2),g===void 0&&(g=0),M===void 0&&(M="Cubic");var T,e;switch(C){case 0:case"x":T={x:i.scaleX},e={x:s};break;case 1:case"y":T={y:i.scaleX},e={y:s};break;default:T=i.scaleX,e=s;break}var u={mode:2,start:T,end:e,duration:t/2,ease:M,repeat:g};return o===void 0?o=new Sr(i,u):o.resetFromJSON(u),o.restart(),o};const Uo=Phaser.Utils.Objects.IsPlainObject;var Yo=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var s=Nr.getParentSizer(i);s&&s.resetChildPositionState(i)})};const Qu={popUp(i,t,s){if(Uo(i)){var g=i;i=g.duration,t=g.orientation,s=g.ease}var C=this._scaleBehavior===void 0;return this._scaleBehavior=ju(this,i,t,s,this._scaleBehavior),C&&Yo(this,this._scaleBehavior),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(i,t,s){return this.popUp(i,t,s),le(this._scaleBehavior)},scaleDownDestroy(i,t,s,g){if(Uo(i)){var C=i;i=C.duration,t=C.orientation,s=C.ease,g=C.destroy}var M=this._scaleBehavior===void 0;return this._scaleBehavior=m0(this,i,t,s,g,this._scaleBehavior),M&&Yo(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(i,t,s,g){return this.scaleDownDestroy(i,t,s,g),le(this._scaleBehavior)},scaleDown(i,t,s){return this.scaleDownDestroy(i,t,s,!1),this},scaleDownPromise(i,t,s){return this.scaleDown(i,t,s),le(this._scaleBehavior)},scaleYoyo(i,t,s,g,C){if(Uo(i)){var M=i;i=M.duration,t=M.peakValue,s=M.repeat,g=M.orientation,C=M.ease}var o=this._scaleBehavior===void 0;return this._scaleBehavior=$R(this,i,t,s,g,C,this._scaleBehavior),o&&Yo(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(i,t,s,g,C){return this.scaleYoyo(i,t,s,g,C),le(this._scaleBehavior)}},KR=Phaser.Utils.Objects.GetValue,Oc=Phaser.Utils.Objects.GetAdvancedValue,ZR=Phaser.Math.Linear;class jl extends Us{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(KR(t,"mode",0)),this.setAlphaRange(Oc(t,"start",this.parent.alpha),Oc(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=JR[t]),this.mode=t,this}setAlphaRange(t,s){return this.alphaStart=t,this.alphaEnd=s,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,s){var g=s.t;s.isOddIteration&&(g=1-g),t.alpha=ZR(this.alphaStart,this.alphaEnd,g)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const JR={stop:0,destroy:1,yoyo:2},jR=Phaser.Utils.Objects.IsPlainObject;var Ch=function(i,t,s,g){var C,M;jR(s)?(C=s.start,M=s.end):M=s,C===void 0&&(C=0),M===void 0&&(M=1);var o={mode:0,start:C,end:M,duration:t};return g===void 0?g=new jl(i,o):g.resetFromJSON(o),g.restart(),g},Sh=function(i,t,s,g){s instanceof jl&&(g=s,s=void 0),s===void 0&&(s=!0);var C={mode:s?1:0,end:0,duration:t};return g===void 0?g=new jl(i,C):g.resetFromJSON(C),g.restart(),g};const bc=Phaser.Utils.Objects.IsPlainObject;var Lc=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var s=Nr.getParentSizer(i);s&&s.resetChildAlphaState(i)})};const QR={fadeIn(i,t){if(bc(i)){var s=i;i=s.duration,t=s.alpha}var g=this._fade===void 0;return this._fade=Ch(this,i,t,this._fade),g&&Lc(this,this._fade),this._fade.completeEventName="fadein.complete",this},fadeInPromise(i,t){return this.fadeIn(i,t),le(this._fade)},fadeOutDestroy(i,t){if(bc(i)){var s=i;i=s.duration,t=s.destroy}var g=this._fade===void 0;return this._fade=Sh(this,i,t,this._fade),g&&Lc(this,this._fade),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(i,t){return this.fadeOutDestroy(i,t),le(this._fade)},fadeOut(i){return this.fadeOutDestroy(i,!1),this},fadeOutPromise(i){return this.fadeOut(i),le(this._fade)}},qR=Phaser.Utils.Objects.GetValue,hn=Phaser.Utils.Objects.GetAdvancedValue,Fc=Phaser.Math.Linear;class qa extends Us{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(qR(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var s=hn(t,"x",void 0),g=hn(t,"y",void 0);this.setTargetPosition(s,g)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=_R[t]),this.mode=t,this}setTargetPosition(t,s){if(typeof t=="number"||typeof s=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=s;else{var g=t;this.startX=hn(g,"startX",void 0),this.startY=hn(g,"startY",void 0),this.endX=hn(g,"endX",void 0),this.endY=hn(g,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,s){var g=s.t;s.isOddIteration&&(g=1-g),g=this.easeFn(g),this.hasMoveX&&(t.x=Fc(this.startX,this.endX,g)),this.hasMoveY&&(t.y=Fc(this.startY,this.endY,g))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const _R={stop:0,destroy:1,yoyo:2};var _a=function(i,t){if(typeof i=="number")return i;var s=i[0],g=parseFloat(i.substr(2));switch(s){case"+":return t+g;case"-":return t-g;case"*":return t*g;case"/":return t/g}},x0=function(i,t,s,g,C,M,o){M instanceof qa&&(o=M,M=void 0),M===void 0&&(M=!1);var T={};return T.mode=M?1:0,s!==void 0&&(T.startX=i.x,T.endX=_a(s,i.x)),g!==void 0&&(T.startY=i.y,T.endY=_a(g,i.y)),T.duration=t,T.ease=C===void 0?"Linear":C,o===void 0?o=new qa(i,T):o.resetFromJSON(T),o.restart(),o},y0=function(i,t,s,g,C,M,o){M instanceof qa&&(o=M,M=void 0),M===void 0&&(M=!1);var T={};return T.mode=M?1:0,s!==void 0&&(T.startX=_a(s,i.x),T.endX=i.x),g!==void 0&&(T.startY=_a(g,i.y),T.endY=i.y),T.duration=t,T.ease=C===void 0?"Linear":C,o===void 0?o=new qa(i,T):o.resetFromJSON(T),o.restart(),o};const Dc=Phaser.Utils.Objects.IsPlainObject,Ic=Phaser.Math.Distance.Between;var Bc=function(i,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(i.emit(t.completeEventName,i),t.completeEventName=void 0)}),t.on("update",function(){var s=Nr.getParentSizer(i);s&&s.resetChildPositionState(i)})};const tO={moveFrom(i,t,s,g,C){if(Dc(i)){var M=i;t=M.x,s=M.y,M.hasOwnProperty("speed")?i=Ic(t,s,this.x,this.y)*1e3/M.speed:i=M.duration,g=M.ease}var o=this._easeMove===void 0;return this._easeMove=y0(this,i,t,s,g,C,this._easeMove),o&&Bc(this,this._easeMove),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(i,t,s,g,C){return this.moveFrom(i,t,s,g,C),le(this._easeMove)},moveFromDestroy(i,t,s,g){return this.moveFrom(i,t,s,g,!0),this},moveFromDestroyPromise(i,t,s,g){return this.moveFromDestroy(i,t,s,g),le(this._easeMove)},moveTo(i,t,s,g,C){if(Dc(i)){var M=i;t=M.x,s=M.y,M.hasOwnProperty("speed")?i=Ic(t,s,this.x,this.y)*1e3/M.speed:i=M.duration,g=M.ease}var o=this._easeMove===void 0;return this._easeMove=x0(this,i,t,s,g,C,this._easeMove),o&&Bc(this,this._easeMove),this._easeMove.completeEventName="moveto.complete",this},moveToPromise(i,t,s,g,C){return this.moveTo(i,t,s,g,C),le(this._easeMove)},moveToDestroy(i,t,s,g){return this.moveTo(i,t,s,g,!0),this},moveToDestroyPromise(i,t,s,g){return this.moveToDestroy(i,t,s,g,!0),le(this._easeMove)},moveStop(i){return this._easeMove?(this._easeMove.stop(i),this):this}},ze=Phaser.Utils.Objects.GetValue;class qu extends fh{constructor(t,s){super(t,s),this.timer=new Og,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(ze(t,"timer")),this.setEnable(ze(t,"enable",!0)),this.setMode(ze(t,"mode",1)),this.isRunning=ze(t,"isRunning",!1),this.setMagnitudeMode(ze(t,"magnitudeMode",1)),this.setAxisMode(ze(t,"axis",0)),this.setDuration(ze(t,"duration",500)),this.setMagnitude(ze(t,"magnitude",10)),this.ox=ze(t,"ox",void 0),this.oy=ze(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=eO[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=sO[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=iO[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,s){if(typeof t!="number"){var g=t;s=ze(g,"magnitude",void 0),t=ze(g,"duration",void 0)}return s!==void 0&&this.setMagnitude(s),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,s){return this.start(t,s),this}update(t,s){if(!this.isRunning||!this.enable)return this;var g=this.parent;if(!g.active)return this;if(this.timer.update(t,s),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=g.x,this.oy=g.y);var C=this.magnitude;this.magnitudeMode===1&&(C*=1-this.timer.t);var M=Math.random()*Math.PI*2,o=this.ox+Math.cos(M)*C,T=this.oy+Math.sin(M)*C;switch(this.axisMode){case 1:g.x=o;break;case 2:g.y=T;break;default:g.x=o,g.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const eO={effect:0,behavior:1},iO={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},sO={constant:0,decay:1},nO=Phaser.Utils.Objects.IsPlainObject;var rO=function(i,t){t.on("complete",function(){i.emit("shake.complete",i)})};const aO={shake(i,t,s){if(nO(i)){var g=i;i=g.duration,t=g.magnitude,s=g.magnitudeMode}return this._shake===void 0&&(this._shake=new qu(this,{mode:0,magnitudeMode:1}),rO(this,this._shake)),i!==void 0&&this._shake.setDuration(i),t!==void 0&&this._shake.setMagnitude(t),s!==void 0&&this._shake.setMagnitudeMode(s),this._shake.shake(),this},shakePromise(i,t){return this.shake(i,t),le(this._shake)}},Gc=Phaser.Utils.Objects.IsPlainObject;class hO extends re{constructor(t,s){super(t,s),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var s=this.easeTasks[t];return s===void 0&&(s=new Xs(this.parent),this.easeTasks[t]=s,s.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),s}easeTo(t,s,g,C){if(Gc(t)){var M=t;t=M.key,s=M.value,g=M.duration,C=M.ease;var o=M.speed;g===void 0&&o!==void 0&&(g=Math.abs(s-this.parent.data.values[t])/o*1e3)}g===void 0&&(g=1e3),C===void 0&&(C="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:s,duration:g,ease:C}),this}easeFrom(t,s,g,C){if(Gc(t)){var M=t;t=M.key,s=M.value,g=M.duration,C=M.ease;var o=M.speed;g===void 0&&o!==void 0&&(g=Math.abs(s-this.parent.data.values[t])/o*1e3)}g===void 0&&(g=1e3),C===void 0&&(C="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:s,duration:g,ease:C}),this}stopEase(t,s){s===void 0&&(s=!0);var g=this.easeTasks[t];return g&&g.stop(s),this}stopAll(t){t===void 0&&(t=!0);for(var s in this.easeTasks)this.stopEase(s,t);return this}}var oO=function(i,t){t.on("complete",function(s){i.emit(`easedata.${s}.complete`,i),i.emit("easedata.complete",s,i)})};const lO={easeDataTo(i,t,s,g){return this._easeData||(this._easeData=new hO(this),oO(this,this._easeData)),this._easeData.easeTo(i,t,s,g),this},easeDataToPromise(i,t,s,g){return this.easeDataTo(i,t,s,g),ph(this._easeData,`complete-${i}`)},stopEaseData(i,t){return this._easeData?(this._easeData.stopEase(i,t),this):this},stopAllEaseData(i){return this._easeData?(this._easeData.stopAll(i),this):this}};var ns=function(i){T0(i,!1)},rs=function(i){T0(i,!0)},_u=function(i){if(!i)return!1;var t=Th(i);return!t.hidden},T0=function(i,t){if(!!i){var s=Th(i);s.hidden=t;var g=Ke(i);g?g.setChildVisible(i,!t):i.setVisible(!t)}};const uO={show(i){return i===void 0&&(i=this),ns(i),this},hide(i){return i===void 0&&(i=this),rs(i),this},isShow(i){return i===void 0&&(i=this),_u(i)}},dO=["next","exit","enter"];class C0{constructor(t){var s=Dt(t,"states",void 0);s&&this.addStates(s);var g=Dt(t,"extend",void 0);if(g)for(var C in g)(!this.hasOwnProperty(C)||this[C]===void 0)&&(this[C]=g[C]);var M=Dt(t,"eventEmitter",void 0),o=Dt(t,"EventEmitterClass",void 0);this.setEventEmitter(M,o),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Dt(t,"enable",!0)),this.start(Dt(t,"start",void 0));var s=Dt(t,"init",void 0);return s&&s.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var s="exit_"+this._prevState,g=this[s];g&&g.call(this),this.emit(s,this)}if(this._stateLock=!1,this._state!=null){var C="enter_"+this._state,M=this[C];M&&M.call(this),this.emit(C,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,s=this["next_"+this.state];return s&&(typeof s=="string"?t=s:t=s.call(this)),this.goto(t),this}get stateProperties(){return dO}addState(t,s){typeof t!="string"&&(s=t,t=s.name);for(var g=this.stateProperties,C=0,M=g.length;C<M;C++){var o=g[C],T=s[o];T&&(this[`${o}_${t}`]=T)}return this}addStates(t){if(Array.isArray(t))for(var s=0,g=t.length;s<g;s++)this.addState(t[s]);else for(var C in t)this.addState(C,t[C]);return this}runMethod(t,s,g,C,M,o){var T=this[t+"_"+this.state];if(!!T){var e=arguments.length;switch(e){case 1:return T.call(this);case 2:return T.call(this,s);case 3:return T.call(this,s,g);case 4:return T.call(this,s,g,C);case 5:return T.call(this,s,g,C,M);case 6:return T.call(this,s,g,C,M,o)}for(var u=new Array(e-1),x=1;x<e;x++)u[x-1]=arguments[x];return T.apply(this,u)}}}Object.assign(C0.prototype,Vn);var Xo=function(i,t,s,g,C){C===void 0&&(C=!1);var M=i._events[t];if(!M)return!1;for(var o=0,T=M.length;o<T;o++){var e=M[o];if(e.fn===s&&e.context===g&&e.once===C)return!0}return!1};const fO=["next","exit","enter","update","preupdate","postupdate"];class Hi extends C0{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Dt(t,"scene",void 0),this}get stateProperties(){return fO}update(t,s){this.runMethod("update",t,s)}preupdate(t,s){this.runMethod("preupdate",t,s)}postupdate(t,s){this.runMethod("postupdate",t,s)}startUpdate(t){t||(t=this._scene);var s=t.sys.events;return Xo(s,"update",this.update,this)?this:(this._scene=t,s.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var s=t.sys.events;return Xo(s,"preupdate",this.preupdate,this)?this:(this._scene=t,s.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var s=t.sys.events;return Xo(s,"postupdate",this.postupdate,this)?this:(this._scene=t,s.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}class cO extends Hi{constructor(t,s){super(s),this.parent=t;var g=s.initState||"IDLE";this.start(g)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var s=t.runTransitionInCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var s=t.runTransitionOutCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}}var vO=function(i,t,s,g,C){var M=i.scene,o=M.time.delayedCall(t,function(){M.game.events.once("poststep",function(){s.call(g,C)})});return o};const pO={delayCall(i,t,s){return this.delayCallTimer=vO(this,i,t,s),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},gO={setTransitInTime(i){return this.transitInTime=i,this},setTransitOutTime(i){return this.transitOutTime=i,this},setTransitInCallback(i){return i||(i=ve),this.transitInCallback=i,this},setTransitOutCallback(i){return i||(i=ve),this.transitOutCallback=i,this}},mO={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(i,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?i:this.parent;var s=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=s,this}},xO={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(i,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?i:this.parent;var s=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=s,this}};var S0={};Object.assign(S0,pO,gO,mO,xO);const on=Phaser.Utils.Objects.GetValue;class Eh extends re{constructor(t,s){super(t,s),this.setTransitInTime(on(s,"duration.in",200)),this.setTransitOutTime(on(s,"duration.out",200)),this.setTransitInCallback(on(s,"transitIn")),this.setTransitOutCallback(on(s,"transitOut")),this.oneShotMode=on(s,"destroy",!1),this.delayCallTimer=void 0,this._state=new cO(this,{eventEmitter:!1,initState:on(s,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(Eh.prototype,S0);const yO=Phaser.GameObjects.Rectangle;class td extends yO{constructor(t,s,g){super(t,0,0,2,2,s,1),this.setAlpha(g),this.setScrollFactor(0),this.boot()}boot(){var t=this.scene;t.sys.events.on("prerender",this.resize,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.sys.events.off("prerender",this.resize,this),super.destroy(t))}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}resize(){var t=this.scene,s=t.sys.scale.gameSize,g=t.sys.cameras.main,C=s.width,M=s.height,o=1/g.zoom,T=C/2,e=M/2,u=C*o,x=M*o;(this.x!==T||this.y!==e)&&this.setPosition(T,e),(this.width!==u||this.height!==x)&&this.setSize(u,x).setOrigin(.5)}}const ko=Phaser.Utils.Objects.GetValue;class Ph extends re{constructor(t,s){super(t,{eventEmitter:!1}),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setHitAreaMode(ko(t,"hitAreaMode",0)),this.setEnable(ko(t,"enable",!0)),this.setStopMode(ko(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,s,g,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerup",function(t,s,g,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointermove",function(t,s,g,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerover",function(t,s,g,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerout",function(t,s){this.stopAllLevels&&s.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=TO[t]);var s=this.parent;return s.input&&s.removeInteractive(),t===0?s.setInteractive():s.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var TO={default:0,fullWindow:1};const Nc=Phaser.Utils.Objects.GetValue;class ed extends td{constructor(t,s){var g=Nc(s,"color",0),C=Nc(s,"alpha",.8);super(t,g,C),this.touchEventStop=new Ph(this,{hitAreaMode:1})}}var CO=function(i,t){var s=i.scene,g=new ed(s,t);return s.add.existing(g),i.isRexContainerLite?(i.moveDepthBelow(g),i.pin(g,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1})):s.children.moveBelow(g,i),g};const pa={popUp(i,t){i._modalScaleSave!==void 0?(i.scaleX=i._modalScaleSave,i.scaleY=i._modalScaleSave):i._modalScaleSave=i.scaleX,ju(i,t)},scaleDown(i,t){m0(i,t,void 0,void 0,!1)},fadeIn(i,t){i._modalAlphaSave!==void 0?i.alpha=i._modalAlphaSave:i._modalAlphaSave=i.alpha,Ch(i,t)},fadeOut(i,t){Sh(i,t,!1)}};var SO=function(i,t){i._modalAlphaSave!==void 0?i.alpha=i._modalAlphaSave:i._modalAlphaSave=i.alpha,Ch(i,t,i.alpha)},EO=function(i,t){Sh(i,t,!1)},Er=function(i,t,s,g,C){if(!i||g&&!g(i,t,s))return!1;var M=Cu(i,!0);return!(!M.contains(t,s)||C&&!C(i,t,s))};const ci=Phaser.Utils.Objects.GetValue;class PO extends Eh{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=_i.popUp),s.transitOut==null&&(s.transitOut=_i.scaleDown),s.destroy=ci(s,"destroy",!0),super(t,s);var g=ci(s,"cover");this.cover=g!==!1?CO(t,g):void 0,this.cover&&(this.setCoverTransitInCallback(ci(g,"transitIn",SO)),this.setCoverTransitOutCallback(ci(g,"transitOut",EO)));var C=ci(s,"touchOutsideClose",!1),M=ci(s,"duration.hold",-1),o=ci(s,"timeOutClose",M>=0),T=ci(s,"anyTouchClose",!1),e=ci(s,"manualClose",!1);e&&(C=!1,T=!1,o=!1),T&&(C=!1),o?this.setDisplayTime(M):this.setDisplayTime(-1),T?this.once("open",this.anyTouchClose,this):C&&this.once("open",this.touchOutsideClose,this),ci(s,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Er(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),s=this.cover;return s&&this.coverTransitInCallback&&this.coverTransitInCallback(s,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),s=this.cover;return s&&this.coverTransitOutCallback&&this.coverTransitOutCallback(s,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=_i[t]),t){case _i.popUp:t=pa.popUp;break;case _i.fadeIn:t=pa.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=_i[t]),t){case _i.scaleDown:t=pa.scaleDown;break;case _i.fadeOut:t=pa.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}}const _i={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var id=function(i,t){var s=new PO(i,t);return s.on("open",function(){i.emit("modal.open",s)}),s.on("close",function(g){i.emit("modal.close",g,s)}),i.on("modal.requestClose",s.requestClose,s),s},MO=function(i,t){var s=id(i,t);return new Promise(function(g,C){s.once("close",function(M){g(M)})})},E0=function(i,t){i.emit("modal.requestClose",t)},ds=function(i){return i&&typeof i=="function"};const sd={modal(i,t){return ds(i)&&(t=i,i=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,i),this._modalBehavior=id(this,i)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(i){var t=this;return new Promise(function(s,g){t.modal(i,s)})},modalClose(i){return E0(this,i),this}};var Mh=function(i,t,s,g){if(t)return Er(i,t.worldX,t.worldY,s,g);for(var C=i.scene.input.manager,M=C.pointersTotal,o=C.pointers,T=0;T<M;T++)if(t=o[T],Er(i,t.worldX,t.worldY,s,g))return!0;return!1},wO=function(i,t){return(xs(i)||typeof i=="string")&&(t=i,i=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),Mh(t,i)},hi=function(i){return Object.prototype.toString.call(i)==="[object Array]"},Ql=function(i,t,s,g,C){return Er(i,t,s,AO(g),RO(C))},zc=function(i){var t=i.rexSizer&&i.rexSizer.hidden;return!t},AO=function(i){return i?function(t,s,g){return zc(t)?(i(t,s,g),!0):!1}:zc},RO=function(i){return i},OO=function(i,t,s,g,C){if(ds(s)||(C=s,s=void 0,g=void 0),C===void 0&&(this.sizerChildren?C=this.sizerChildren:C=this.children),hi(C)){for(var M,o=0,T=C.length;o<T;o++)if(M=C[o],Ql(M,i,t,s,g))return M}else{var M;for(var e in C)if(M=C[e],Ql(M,i,t,s,g))return M}return null},oi=function(i,t,s){!i||t===void 0&&s===void 0||(i.resize?(t===void 0&&(t=i.width),s===void 0&&(s=i.height),i.resize(t,s)):(t!==void 0&&(i.displayWidth=t),s!==void 0&&(i.displayHeight=s)))},bO=function(i,t){return t===void 0?t={}:t===!0&&(t=LO),t.x=i.x,t.y=i.y,t.scaleX=i.scaleX,t.scaleY=i.scaleY,t.width=i.width,t.height=i.height,t.displayWidth=i.displayWidth,t.displayHeight=i.displayHeight,t},LO={},Vr=function(i){this.sizerEventsEnable&&(bO(i,this.getChildPrevState(i)),this.layoutedChildren.push(i))},Ur=function(i,t,s,g,C,M,o,T){Ir(i,t,s,g,C,M),o!==void 0&&(i.x+=o),T!==void 0&&(i.y+=T),this.resetChildPositionState(i),this.sizerEventsEnable&&i.emit("sizer.postlayout",i,this)};const FO=Phaser.Display.Align.CENTER;var DO=function(){if(this.backgroundChildren!==void 0)for(var i=this.backgroundChildren,t=this.left,s=this.top,g=this.width,C=this.height,M,o,T,e,u,x,d,l=0,h=i.length;l<h;l++)M=i[l],o=M.rexSizer,!o.hidden&&(T=o.padding,Vr.call(this,M),e=t+T.left,u=s+T.top,x=g-T.left-T.right,d=C-T.top-T.bottom,oi(M,x,d),Ur.call(this,M,e,u,x,d,FO))},IO=function(i,t){var s=typeof i;if(s==="string"){var g=i;if(i=this.getElement(g),!i)return console.error(`Can get element '${g}'`),this}else(i===void 0||s!="object")&&(t=i,i=this);return t===void 0&&(t=!0),i.input&&i.input._dragTopmostSizer?i.input.draggable=t:t&&(i.setInteractive(),i.scene.input.setDraggable(i),i.on("drag",function(C,M,o){var T=this.getTopmostSizer();T.x+=M-i.x,T.y+=o-i.y,T.emit("sizer.drag",C,M,o)},this).on("dragstart",function(C,M,o){var T=this.getTopmostSizer();T.emit("sizer.dragstart",C,M,o)},this).on("dragend",function(C,M,o,T){var e=this.getTopmostSizer();e.emit("sizer.dragend",C,M,o,T)},this),i.input._dragTopmostSizer=!0),this};const P0={onClick(i,t,s,g){return i?(typeof i=="function"&&(g=s,s=t,t=i,i=this),i._click===void 0&&(i._click=new ms(i,g)),i._click.on("click",t,s),this):this},offClick(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._click===void 0?this:(i._click.off("click",t,s),this)},enableClick(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._click===void 0?this:(i._click.setEnable(t),this)},disableClick(i){return i&&typeof i!="object"&&(i=this),i._click===void 0?this:(i._click.setEnable(!1),this)}},ga=Phaser.Utils.Objects.GetValue;class nd extends re{constructor(t,s){super(t,s),this._enable=void 0;var g=ga(s,"inputConfig",void 0);g&&t.setInteractive(g),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(ga(t,"enable",!0)),this.setMode(ga(t,"mode",1)),this.setClickInterval(ga(t,"clickInterval",100)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this)}shutdown(t){if(!this.isShutdown){var s=this.parent.scene;s.input.off("pointerdown",this.onPress,this),s.input.off("pointerup",this.onRelease,this),super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=BO[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}isPointerInside(t){var s=this.parent,g=s.input?Pu:Mh;return g(s,t)}onPress(t){if(this.mode===0){if(!this.parent.willRender(t.camera))return;this.isPointerInside(t)||this.click(t.downTime,t)}}onRelease(t){if(this.mode===1){if(!this.parent.willRender(t.camera))return;this.isPointerInside(t)||this.click(t.upTime,t)}}click(t,s){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,s),this;var g=this.lastClickTime;return g!==void 0&&t-g<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,s),this)}}const BO={press:0,pointerdown:0,release:1,pointerup:1},GO={onClickOutside(i,t,s,g){return i?(typeof i=="function"&&(g=s,s=t,t=i,i=this),i._clickOutside===void 0&&(i._clickOutside=new nd(i,g)),i._clickOutside.on("clickoutside",t,s),this):this},offClickOutside(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._clickOutside===void 0?this:(i._clickOutside.off("clickoutside",t,s),this)},enableClickOutside(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._clickOutside===void 0?this:(i._clickOutside.setEnable(t),this)},disableClickOutside(i){return i&&typeof i!="object"&&(i=this),i._clickOutside===void 0?this:(i._clickOutside.setEnable(!1),this)}};class NO extends Hi{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,s){this.remainderTime-=s,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>s?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const Wo=Phaser.Utils.Objects.GetValue;class Bn extends re{constructor(t,s){super(t,s),this._enable=void 0,this.cooldown=new NO,this.parent.setInteractive(Wo(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(Wo(t,"enable",!0)),this.setCooldown(Wo(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,s,g){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,s){this.cooldown.update(t,s),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const zO={isPointerInBounds(i){return i===void 0?i=this:typeof i=="string"&&(i=this.getElement(i)),i?Mh(i):!1},onTouching(i,t,s,g){return i?(typeof i=="function"&&(g=s,s=t,t=i,i=this),i._inTouching===void 0&&(i._inTouching=new Bn(i,g)),i._inTouching.on("intouch",t,s),this):this},offTouching(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._inTouching===void 0?this:(i._inTouching.off("intouch",t,s),this)},onTouchingEnd(i,t,s,g){return i?(typeof i=="function"&&(g=s,s=t,t=i,i=this),i._inTouching===void 0&&(i._inTouching=new Bn(i,g)),i._inTouching.on("touchend",t,s),this):this},offTouchingEnd(i,t,s){return typeof i=="function"&&(s=t,t=i,i=this),i._inTouching===void 0?this:(i._inTouching.off("touchend",t,s),this)},enableTouching(i,t){return i&&typeof i!="object"&&(t=i,i=this),i._inTouching===void 0?this:(i._inTouching.setEnable(t),this)},disableTouching(i){return i&&typeof i!="object"&&(i=this),i._inTouching===void 0?this:(i._inTouching.setEnable(!1),this)}};var M0=function(i,t,s){for(var g,C=0,M=i.length;C<M;C++)if(g=i[C],!!Ql(g,t,s))return g.pointToChild(t,s);return null},wi=function(i,t,s,g,C,M,o){var T;C===void 0?T=g:T=M0(s,g,C),T&&i.emit(t,T,M,o)};const VO=Phaser.Utils.Objects.GetValue;var UO=function(i){var t=VO(i,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",YO,this))},YO=function(i,t,s,g){var C=this._childrenInteractive;wi(C.eventEmitter,`${C.eventNamePrefix}down`,C.targetSizers,i.worldX,i.worldY,i,g)};const XO=Phaser.Utils.Objects.GetValue;var kO=function(i){var t=XO(i,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",WO,this))},WO=function(i,t,s,g){var C=this._childrenInteractive;wi(C.eventEmitter,`${C.eventNamePrefix}up`,C.targetSizers,i.worldX,i.worldY,i,g)};const HO=Phaser.Utils.Objects.GetValue;var $O=function(i){var t=HO(i,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",Vc,this).on("pointerover",Vc,this).on("pointerout",KO,this))},Vc=function(i,t,s,g){var C=this._childrenInteractive,M=M0(C.targetSizers,i.worldX,i.worldY),o=C.lastOverChild;M&&o&&M===o||(C.lastOverChild=M,wi(C.eventEmitter,`${C.eventNamePrefix}out`,C.targetSizers,o,void 0,i,g),wi(C.eventEmitter,`${C.eventNamePrefix}over`,C.targetSizers,M,void 0,i,g))},KO=function(i,t){var s=this._childrenInteractive,g=s.lastOverChild;s.lastOverChild=null,wi(s.eventEmitter,`${s.eventNamePrefix}out`,s.targetSizers,g,void 0,i,t)};const ZO=Phaser.Utils.Objects.GetValue;var JO=function(i){var t=ZO(i,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var s=this._childrenInteractive;this._click=new ms(this,t),this._click.on("click",function(g,C,M,o){wi(s.eventEmitter,`${s.eventNamePrefix}click`,s.targetSizers,M.worldX,M.worldY,M,o)},this)}};const Ho=Phaser.Utils.Objects.GetValue;class wh extends fh{constructor(t,s){var g=Rg(t);g===t&&(t=void 0),super(g,s),this.gameObject=t,t&&t.setInteractive(Ho(s,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(Ho(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(Ho(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=$o,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){!this.scene||(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,s){if(!!this.enable&&this.pointer===void 0){var g=this.bounds?this.bounds.contains(t.x,t.y):!0;!g||this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=Uc,this.gameObject===void 0&&(this.isTouchingAnyObject=s.length>0),this.onDragStart())}}onPointerUp(t){if(!!this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;!s||this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=$o,this.onDragEnd())}}onPointerMove(t){if(!!this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,g=this.pointer===t;!g&&s||(g&&!s?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===Uc&&this.onDragEnd(),this.pointer=void 0,this.tracerState=$o,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,s){}postUpdate(t,s){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=jO,this}}const $o=0,Uc=1,jO="IDLE",As=Phaser.Utils.Objects.GetValue,QO=Phaser.Math.Distance.Between;class Ah extends wh{constructor(t,s){super(t,s);var g=this,C={states:{IDLE:{enter:function(){g.stop(),g.tapsCount=0,g.x=0,g.y=0,g.worldX=0,g.worldY=0},exit:function(){var M=g.lastPointer;g.x=M.x,g.y=M.y,g.worldX=M.worldX,g.worldY=M.worldY}},BEGIN:{enter:function(){g.start(),g.tapsCount=0,g.emit("tappingstart",g,g.gameObject,g.lastPointer)}},RECOGNIZED:{enter:function(){g.start(),g.emit("tap",g,g.gameObject,g.lastPointer),g.emit(`${g.tapsCount}tap`,g,g.gameObject,g.lastPointer)}}},init:function(){this.state=Rs},eventEmitter:!1};this.setRecongizedStateObject(new Hi(C))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(As(t,"time",250)),this.setTapInterval(As(t,"tapInterval",200)),this.setDragThreshold(As(t,"threshold",9)),this.setTapOffset(As(t,"tapOffset",10));var s=As(t,"taps",void 0);return s!==void 0?this.setTaps(s):(this.setMaxTaps(As(t,"maxTaps",void 0)),this.setMinTaps(As(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case Rs:this.state=ln;break;case ln:var t=this.lastPointer,s=QO(t.upX,t.upY,t.x,t.y);s>this.tapOffset&&(this.state=un,this.state=ln);break;case un:this.state=ln;break}}onDragEnd(){this.state===ln&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=un))}onDrag(){this.state!==Rs&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Rs)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===ln){var g=this.lastPointer;if(g.isDown){var C=t-g.downTime;C>this.holdTime&&(this.state=Rs)}else{var M=t-g.upTime;M>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=un:this.state=Rs)}}}postUpdate(t,s){!this.isRunning||!this.enable||this.state===un&&(this.state=Rs)}get isTapped(){return this.state===un}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,s){return s===void 0&&(s=t),this.setMinTaps(t).setMaxTaps(s),this}}const Rs="IDLE",ln="BEGIN",un="RECOGNIZED",Yc=Phaser.Utils.Objects.GetValue;class Rh extends wh{constructor(t,s){super(t,s);var g=this,C={states:{IDLE:{enter:function(){g.x=0,g.y=0,g.worldX=0,g.worldY=0},exit:function(){var M=g.lastPointer;g.x=M.x,g.y=M.y,g.worldX=M.worldX,g.worldY=M.worldY}},BEGIN:{enter:function(){g.start()},exit:function(){g.stop()}},RECOGNIZED:{enter:function(){g.emit("pressstart",g,g.gameObject,g.lastPointer)},exit:function(){g.emit("pressend",g,g.gameObject,g.lastPointer)}}},init:function(){this.state=ma},eventEmitter:!1};this.setRecongizedStateObject(new Hi(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Yc(t,"threshold",9)),this.setHoldTime(Yc(t,"time",251)),this}onDragStart(){this.state=Xc,this.holdTime===0&&(this.state=Ko)}onDragEnd(){this.state=ma}onDrag(){this.state!==ma&&this.pointer.getDistance()>this.dragThreshold&&(this.state=ma)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===Xc){var g=t-this.pointer.downTime;g>=this.holdTime&&(this.state=Ko)}}get isPressed(){return this.state===Ko}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const ma="IDLE",Xc="BEGIN",Ko="RECOGNIZED",qO=Phaser.Utils.Objects.GetValue;class w0 extends wh{constructor(t,s){super(t,s);var g=this,C={states:{IDLE:{},BEGIN:{enter:function(){var M=g.pointer;g.startX=M.x,g.startY=M.y,g.startWorldX=M.worldX,g.startWorldY=M.worldY}},RECOGNIZED:{enter:function(){g.emit("panstart",g,g.gameObject,g.lastPointer)},exit:function(){var M=g.lastPointer;g.endX=M.x,g.endY=M.y,g.endWorldX=M.worldX,g.endWorldY=M.worldY,g.emit("panend",g,g.gameObject,g.lastPointer)}}},init:function(){this.state=kc},eventEmitter:!1};this.setRecongizedStateObject(new Hi(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(qO(t,"threshold",10)),this}onDragStart(){this.state=Wc,this.dragThreshold===0&&(this.state=xa)}onDragEnd(){this.state=kc}onDrag(){switch(this.state){case Wc:this.pointer.getDistance()>=this.dragThreshold&&(this.state=xa);break;case xa:var t=this.pointer.position,s=this.pointer.prevPosition;this.dx=t.x-s.x,this.dy=t.y-s.y;var g=this.pointer;this.x=g.x,this.y=g.y,this.worldX=g.worldX,this.worldY=g.worldY,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===xa}setDragThreshold(t){return this.dragThreshold=t,this}}const kc="IDLE",Wc="BEGIN",xa="RECOGNIZED",_O=Phaser.Math.Distance.Between,tb=Phaser.Math.Angle.Between,eb={getDt:function(){var i=Au(this.scene);return i},getVelocity:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=_O(t.x,t.y,i.x,i.y),g=s/(this.getDt()*.001);return g},getVelocityX:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(i.x-t.x),g=s/(this.getDt()*.001);return g},getVelocityY:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(i.y-t.y),g=s/(this.getDt()*.001);return g},getVelocityAngle:function(){var i=this.pointer.position,t=this.pointer.prevPosition,s=tb(t.x,t.y,i.x,i.y);return s}},ib={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var sb=function(i,t,s){switch(s===void 0?s={}:s===!0&&(s=nb),s.left=!1,s.right=!1,s.up=!1,s.down=!1,i=(i+360)%360,t){case 0:i<180?s.down=!0:s.up=!0;break;case 1:i>90&&i<=270?s.left=!0:s.right=!0;break;case 2:i>45&&i<=135?s.down=!0:i>135&&i<=225?s.left=!0:i>225&&i<=315?s.up=!0:s.right=!0;break;case 3:i>22.5&&i<=67.5?(s.down=!0,s.right=!0):i>67.5&&i<=112.5?s.down=!0:i>112.5&&i<=157.5?(s.down=!0,s.left=!0):i>157.5&&i<=202.5?s.left=!0:i>202.5&&i<=247.5?(s.left=!0,s.up=!0):i>247.5&&i<=292.5?s.up=!0:(i>292.5&&i<=337.5&&(s.up=!0),s.right=!0);break}return s},nb={};const Zo=Phaser.Utils.Objects.GetValue,rb=Phaser.Math.RadToDeg;class Yr extends wh{constructor(t,s){super(t,s);var g=this,C={states:{IDLE:{enter:function(){g.x=0,g.y=0,g.worldX=0,g.worldY=0},exit:function(){var M=g.lastPointer;g.x=M.x,g.y=M.y,g.worldX=M.worldX,g.worldY=M.worldY}},BEGIN:{enter:function(){g.validDrag=!1}},RECOGNIZED:{enter:function(){g.start(),g.updateDirectionStates(),g.emit("swipe",g,g.gameObject,g.lastPointer)},exit:function(){g.stop(),g.clearDirectionStates()}}},init:function(){this.state=Jo},eventEmitter:!1};this.setRecongizedStateObject(new Hi(C)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Zo(t,"threshold",10)),this.setVelocityThreshold(Zo(t,"velocityThreshold",1e3)),this.setDirectionMode(Zo(t,"dir","8dir")),this}onDragStart(){this.state=Hc}onDragEnd(){this.state=Jo}onDrag(){this.state===Hc&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=jo))}postUpdate(t,s){!this.isRunning||!this.enable||this.state===jo&&(this.state=Jo)}get isSwiped(){return this.state===jo}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=ib[t]),this.dirMode=t,this}updateDirectionStates(){var t=rb(this.getVelocityAngle());return sb(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(Yr.prototype,eb);const Jo="IDLE",Hc="BEGIN",jo="RECOGNIZED",Qo=Phaser.Utils.Objects.GetValue,ab=Phaser.Utils.Array.SpliceOne,hb=Phaser.Math.Distance.Between,ob=Phaser.Math.Angle.Between;class rd{constructor(t,s){var g=t.input.manager.pointersTotal-1;g<2&&t.input.addPointer(2-g),this.scene=t,this.setEventEmitter(Qo(s,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(Qo(t,"enable",!0)),this.bounds=Qo(t,"bounds",void 0),this.tracerState=ya,this.pointers.length=0,Ni(this.movedState),this}boot(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){!this.scene||(this.destroyEventEmitter(),this.pointers.length=0,Ni(this.movedState),this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(!!this.enable&&this.pointers.length!==2){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(!!s){var g=this.pointers.indexOf(t);if(g===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case ya:this.tracerState=nr,this.onDrag1Start();break;case nr:this.tracerState=vi,this.onDrag2Start();break}}}}onPointerUp(t){if(!!this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(!!s){var g=this.pointers.indexOf(t);if(g!==-1)switch(delete this.movedState[t.id],ab(this.pointers,g),this.tracerState){case nr:this.tracerState=ya,this.onDrag1End();break;case vi:this.tracerState=nr,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(!!this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,g=this.pointers.indexOf(t)!==-1;if(!(!g&&s)){if(g&&!s)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case nr:this.onDrag1();break;case vi:this.onDrag2();break}}}}dragCancel(){return this.tracerState===vi&&this.onDrag2End(),this.pointers.length=0,Ni(this.movedState),this.tracerState=ya,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==vi)return 0;var t=this.pointers[0],s=this.pointers[1];return hb(t.x,t.y,s.x,s.y)}get angleBetween(){if(this.tracerState!==vi)return 0;var t=this.pointers[0],s=this.pointers[1];return ob(t.x,t.y,s.x,s.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var s=t.position,g=t.prevPosition;sr.x=s.x-g.x,sr.y=s.y-g.y}else sr.x=0,sr.y=0;return sr}get centerX(){if(this.tracerState!==vi)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.x+s.x)/2}get centerY(){if(this.tracerState!==vi)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.y+s.y)/2}get prevCenterX(){if(this.tracerState!==vi)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+s.x)/2}get prevCenterY(){if(this.tracerState!==vi)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+s.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=lb,this}}Object.assign(rd.prototype,Vn);var sr={};const ya=0,nr=1,vi=2,lb="IDLE",ub=Phaser.Utils.Objects.GetValue;class A0 extends rd{constructor(t,s){super(t,s);var g=this,C={states:{IDLE:{enter:function(){g.prevDistance=void 0,g.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){g.emit("pinchstart",g)},exit:function(){g.emit("pinchend",g)}}},init:function(){this.state=$c},eventEmitter:!1};this.setRecongizedStateObject(new Hi(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(ub(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=Kc,this.dragThreshold===0&&(this.state=Ta)}onDrag2End(){this.state=$c}onDrag2(){switch(this.state){case Kc:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=Ta}break;case Ta:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===Ta}setDragThreshold(t){return this.dragThreshold=t,this}}const $c="IDLE",Kc="BEGIN",Ta="RECOGNIZED",db=Phaser.Math.RotateAround;var Zc=function(i,t,s,g){return db(i,t,s,g),i.rotation+=g,i},fb=function(i,t,s,g){return g===void 0?g={}:g===!0&&(g=cb),s.getWorldPoint(i,t,g),g},cb={},vb=function(i,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var s=this.movementCenterX,g=this.movementCenterY,C=fb(this.centerX,this.centerY,t,!0),M=C.x,o=C.y,T=this.rotation;if(Array.isArray(i))for(var e=i,u=0,x=e.length;u<x;u++)i=e[u],i.x+=s,i.y+=g,Zc(i,M,o,T);else i.x+=s,i.y+=g,Zc(i,M,o,T);return this};const pb=Phaser.Utils.Objects.GetValue,qo=Phaser.Math.Angle.WrapDegrees,Jc=Phaser.Math.Angle.ShortestBetween,_o=Phaser.Math.RadToDeg,gb=Phaser.Math.DegToRad;class ad extends rd{constructor(t,s){super(t,s);var g=this,C={states:{IDLE:{enter:function(){g.prevAngle=void 0,g.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){g.emit("rotatestart",g)},exit:function(){g.emit("rotateend",g)}}},init:function(){this.state=jc},eventEmitter:!1};this.setRecongizedStateObject(new Hi(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(pb(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=qo(_o(this.angleBetween)),this.state=Qc,this.dragThreshold===0&&(this.state=Ca)}onDrag2End(){this.state=jc}onDrag2(){switch(this.state){case Qc:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=qo(_o(this.angleBetween));this.angle=Jc(this.prevAngle,t),this.prevAngle=t,this.state=Ca}break;case Ca:var t=qo(_o(this.angleBetween));this.angle=Jc(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===Ca}get rotation(){return gb(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var mb={spinObject:vb};Object.assign(ad.prototype,mb);const jc="IDLE",Qc="BEGIN",Ca="RECOGNIZED",xb=Phaser.Utils.Objects.GetValue;var yb=function(i){var t=xb(i,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._tap=new Ah(this,t),this._tap.on("tap",function(g,C,M){wi(s.eventEmitter,`${s.eventNamePrefix}${g.tapsCount}tap`,s.targetSizers,g.worldX,g.worldY,M)},this)}};const Tb=Phaser.Utils.Objects.GetValue;var Cb=function(i){var t=Tb(i,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._press=new Rh(this,t),this._press.on("pressstart",function(g,C,M){wi(s.eventEmitter,`${s.eventNamePrefix}pressstart`,s.targetSizers,g.worldX,g.worldY,M)},this).on("pressend",function(g,C,M){wi(s.eventEmitter,`${s.eventNamePrefix}pressend`,s.targetSizers,g.worldX,g.worldY,M)},this)}};const Sb=Phaser.Utils.Objects.GetValue;var Eb=function(i){var t=Sb(i,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var s=this._childrenInteractive;this._swipe=new Yr(this,t),this._swipe.on("swipe",function(g,C,M){var o=g.left?"left":g.right?"right":g.up?"up":"down";wi(s.eventEmitter,`${s.eventNamePrefix}swipe${o}`,s.targetSizers,g.worldX,g.worldY,M)},this)}};const tl=Phaser.Utils.Objects.GetValue;var hd=function(i,t){return i.setInteractive(),i._childrenInteractive={targetSizers:tl(t,"targets",[i]),eventEmitter:tl(t,"eventEmitter",i),eventNamePrefix:tl(t,"inputEventPrefix","child.")},UO.call(i,t),kO.call(i,t),$O.call(i,t),JO.call(i,t),yb.call(i,t),Cb.call(i,t),Eb.call(i,t),i},Pb=function(i){return hd(this,i),this},Mb=function(){for(var i=this.getAllChildren([this]),t=0,s=i.length;t<s;t++){var g=i[t];g.emit.apply(g,arguments)}return this},R0={getSizerConfig:eR,getChildPrevState:iR,pushIntoBounds:sR,drawBounds:pR,resolveWidth:Ku,resolveChildrenWidth:RR,resolveHeight:Zu,postResolveSize:OR,getChildWidth:bR,getChildHeight:LR,getExpandedChildWidth:FR,getExpandedChildHeight:DR,getChildrenWidth:IR,getChildrenHeight:BR,addChildrenMap:Ac,addElement:Ac,removeChildrenMap:PR,getElement:MR,getAllChildrenSizers:GR,getChildrenSizers:NR,preLayout:zr,layout:VR,runLayout:UR,layoutChildren:YR,runWidthWrap:g0,layoutBackgrounds:DO,postLayout:XR,setAnchor:kR,isInTouching:wO,pointToChild:OO,setDraggable:IO,setChildrenInteractive:Pb,broadcastEvent:Mb};Object.assign(R0,AR,xR,ER,Nr,Qu,QR,tO,aO,lO,P0,GO,zO,uO,sd,zR);const dn=Phaser.Utils.Objects.GetValue;class Hs extends Ge{constructor(t,s,g,C,M,o){super(t,s,g,1,1),this.isRexSizer=!0,this.setMinSize(C,M),this.setName(dn(o,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0;var T=dn(o,"anchor",void 0);T&&this.setAnchor(T),this.setInnerPadding(dn(o,"space",0));var e=dn(o,"draggable",!1);e&&this.setDraggable(e),this.setSizerEventsEnable(dn(o,"sizerEvents",!1)),this.setDirty(!0),dn(o,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s=this.getAllChildrenSizers([this]),g=0,C=s.length;g<C;g++)s[g].sizerEventsEnable=!1;super.destroy(t),Ni(this.backgroundChildren),Ni(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,s){return this.setMinWidth(t).setMinHeight(s),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-bt(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+bt(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+bt(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-wt(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+wt(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+wt(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left}get innerRight(){return this.right-this.space.right}get innerTop(){return this.top+this.space.top}get innerBottom(){return this.bottom-this.space.bottom}get innerWidth(){return this.width-this.space.left-this.space.right}get innerHeight(){return this.height-this.space.top-this.space.bottom}get minInnerWidth(){var t=this.minWidth-this.space.left-this.space.right;return Math.max(t,0)}get minInnerHeight(){var t=this.minHeight-this.space.top-this.space.bottom;return Math.max(t,0)}}Object.assign(Hs.prototype,R0);var wb=function(){if(this.rexSizer.hidden)return 0;var i=0,t=this.sizerChildren,s,g,C;for(var M in t)s=t[M],g=s.rexSizer.padding,C=this.getChildWidth(s)+g.left+g.right,i=Math.max(C,i);return i+this.space.left+this.space.right},Ab=function(){if(this.rexSizer.hidden)return 0;var i=0,t=this.sizerChildren,s,g,C;for(var M in t)s=t[M],C=s.isRexSizer?Math.max(s.minHeight,s.childrenHeight):s.minHeight!==void 0?s.minHeight:wt(s),g=s.rexSizer.padding,C+=g.top+g.bottom,i=Math.max(C,i);return i+this.space.top+this.space.bottom},Rb=function(i,t){t===void 0&&(t=this.width);var s,g=i.rexSizer;if(g.expandWidth){var C=t-this.space.left-this.space.right,M=g.padding;s=C-M.left-M.right}return s},Ob=function(i,t){t===void 0&&(t=this.height);var s,g=i.rexSizer;if(g.expandHeight){var C=t-this.space.top-this.space.bottom,M=g.padding;s=C-M.top-M.bottom}return s},bb=function(i){i===void 0&&(i=[]);var t=this.sizerChildren,s;for(var g in t)s=t[g],s.isRexSizer&&i.push(s);return i},od=function(i,t){i.width<i.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${i.constructor.name}`),i.height<i.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${i.constructor.name}`)},Lb=function(){var i,t,s,g=this.innerLeft,C=this.innerTop,M=this.innerWidth,o=this.innerHeight,T,e,u,x,d,l,h=this.sizerChildren;for(var n in h)i=h[n],!i.rexSizer.hidden&&(t=i.rexSizer,s=t.padding,Vr.call(this,i),i.isRexSizer?(i.runLayout(this,this.getExpandedChildWidth(i),this.getExpandedChildHeight(i)),od(i,this)):(d=void 0,l=void 0,t.expandWidth&&(d=M-s.left-s.right),t.expandHeight&&(l=o-s.top-s.bottom),oi(i,d,l)),T=g+s.left,u=M-s.left-s.right,e=C+s.top,x=o-s.top-s.bottom,Ur.call(this,i,T,e,u,x,t.align,t.alignOffsetX,t.alignOffsetY))};const qc=Phaser.Utils.Objects.IsPlainObject,pi=Phaser.Utils.Objects.GetValue,_c=Phaser.Display.Align.CENTER,Fb=Phaser.Utils.String.UUID;var Db=function(i,t,s,g,C,M,o,T,e){if(Br.call(this,i),qc(t)){var x=t;t=pi(x,"key",void 0),s=pi(x,"align",_c),T=pi(x,"offsetX",0),e=pi(x,"offsetY",0),g=pi(x,"padding",0),C=pi(x,"expand",!0),i.isRexSizer||(M=pi(x,"minWidth",i._minWidth),o=pi(x,"minHeight",i._minHeighted))}var u=t!==void 0;u||(t=Fb()),typeof s=="string"&&(s=Yn[s]),s===void 0&&(s=_c),T===void 0&&(T=0),e===void 0&&(e=0),g===void 0&&(g=0),C===void 0&&(C=!0),i.isRexSizer||(M===void 0&&(M=i._minWidth),o===void 0&&(o=i._minHeight));var x=this.getSizerConfig(i);return x.align=s,x.alignOffsetX=T,x.alignOffsetY=e,x.padding=Xn(g),qc(C)?(x.expandWidth=pi(C,"width",!1),x.expandHeight=pi(C,"height",!1)):(x.expandWidth=C,x.expandHeight=C),i.isRexSizer||(x.expandWidth&&(i.minWidth=M===void 0?bt(i):M),x.expandHeight&&(i.minHeight=o===void 0?wt(i):o)),this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=i,u&&this.addChildrenMap(t,i),this};const Ib={add:Db},Bb=Ge.prototype.clear;var Oh=function(i){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!i&&this.sizerEventsEnable,s;if(t&&(s=this.getChildren([])),Bb.call(this,i),t)for(var g,C=0,M=s.length;C<M;C++)g=s[C],g.emit("sizer.remove",g,this),this.emit("remove",g,this);return this};const Gb={remove(i,t){var s;if(typeof i=="string"){if(s=i,i=this.sizerChildren[s],!i)return this}else{if(this.getParentSizer(i)!==this)return this;s=this.childToKey(i)}return s&&(delete this.sizerChildren[s],this.childrenMap.hasOwnProperty(s)&&delete this.childrenMap[s]),Gr.call(this,i,t),this},removeAll(i){for(var t in this.sizerChildren)this.remove(t,i);return this},clear(i){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Oh.call(this,i),this}};var O0={getChildrenWidth:wb,getChildrenHeight:Ab,getExpandedChildWidth:Rb,getExpandedChildHeight:Ob,getChildrenSizers:bb,layoutChildren:Lb};Object.assign(O0,Ib,Gb);var bh=function(i,t){if(Array.isArray(i))return i.indexOf(t);for(var s in i)if(i[s]===t)return s;return null};const tv=Phaser.Utils.Objects.IsPlainObject,fn=Phaser.Utils.Objects.GetValue;class Ne extends Hs{constructor(t,s,g,C,M,o){tv(s)?(o=s,s=fn(o,"x",0),g=fn(o,"y",0),C=fn(o,"width",void 0),M=fn(o,"height",void 0)):tv(C)&&(o=C,C=fn(o,"width",void 0),M=fn(o,"height",void 0)),super(t,s,g,C,M,o),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var s=t;if(this.sizerChildren.hasOwnPropery(s))return s}else return bh(this.sizerChildren,t);return null}}Object.assign(Ne.prototype,O0);var Nb=Phaser.Math.Distance.Between,th=function(i,t,s){var g=i.width/2;return Nb(g,g,t,s)<=g};const zb=Phaser.Math.Angle.Between,Vb=Phaser.Math.Angle.Normalize;var ev=function(i,t,s){if(!!this.enable&&!!i.isDown){var g=this.sizerChildren.knob;if(!!th(g,t,s)){var C=g.width/2,M=g.startAngle,o=zb(C,C,t,s),T=g.anticlockwise?M-o:o-M,e=Vb(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-e)<.1?this.value=e:this.easeValueTo(e)}}},Ub=function(){var i=this.sizerChildren.knob;i.on("pointerdown",ev,this).on("pointermove",ev,this).setInteractive()};const iv=Phaser.Math.Angle.Between,Yb=Phaser.Math.Angle.Wrap;var Xb=function(i,t,s){if(!(!this.enable||this.panPointer)){var g=this.sizerChildren.knob;!th(g,t,s)||b0.call(this,i)}},kb=function(i,t,s){if(!!this.enable&&!!i.isDown){var g=this.sizerChildren.knob;switch(this.panState){case ld:th(g,t,s)&&b0.call(this,i);break;case F0:th(g,t,s)?Hb.call(this):L0.call(this);break}}},Wb=function(i,t,s){!this.enable||this.panPointer!==i||L0.call(this)},b0=function(i){this.panPointer=i,this.panState=F0},L0=function(){this.panPointer=void 0,this.panState=ld},Hb=function(){var i=this.panPointer.prevPosition,t=this.panPointer.position,s=this.sizerChildren.knob,g=iv(s.x,s.y,i.x,i.y),C=iv(s.x,s.y,t.x,t.y),M=s.anticlockwise?g-C:C-g,o=Yb(M)/(Math.PI*2);this.stopEaseValue(),this.value+=o};const ld=0,F0=1;var $b=function(){var i=this.sizerChildren.knob;i.on("pointerdown",Xb,this).on("pointermove",kb,this).on("pointerup",Wb,this).setInteractive(),this.panPointer=void 0,this.panState=ld},Kb=function(i,t){return this.textFormatCallback=i,this.textFormatCallbackScope=t,this},D0=function(i){i===void 0&&(i=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(i):t=this.textFormatCallback.call(this.textFormatCallbackScope,i),t},Zb=function(i){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(D0.call(this,i)),t.layout&&t.layout()),this};const Jb={setTextFormatCallback:Kb,getFormatText:D0,updateText:Zb},_e=Phaser.Utils.Objects.GetValue,jb=Phaser.Math.Snap.To;class Lh extends Ws(Ne){constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexKnob",this.bootProgressBase(s);var g=_e(s,"background",void 0),C=_e(s,"text",void 0);g&&this.addBackground(g),C&&(s.textColor=void 0,s.textStrokeColor=void 0,this.setTextFormatCallback(_e(s,"textFormatCallback",void 0),_e(s,"textFormatCallbackScope",void 0)));var M=new xh(t,s);M.setDepth(_e(s,"knobDepth",0)),M._value=-1,t.add.existing(M),this.add(M,"knob"),C&&(this.add(C,"text","center",0,!1),t.children.moveBelow(M,C)),this.addChildrenMap("background",g),this.addChildrenMap("knob",M),this.addChildrenMap("text",C),this.setEnable(_e(s,"enable",void 0)),this.setGap(_e(s,"gap",void 0)),this.setValue(_e(s,"value",0),_e(s,"min",void 0),_e(s,"max",void 0));var o=_e(s,"input",0);switch(typeof o=="string"&&(o=Qb[o]),o){case 0:$b.call(this);break;case 1:Ub.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=jb(t,this.gap));var s=this.value;this.sizerChildren.knob.value=t;var g=this.value;s!==g&&(this.updateText(),this.eventEmitter.emit("valuechange",g,s,this.eventEmitter))}}const Qb={pan:0,drag:0,click:1,none:-1};Object.assign(Lh.prototype,Jb);nt.register("knob",function(i){var t=new Lh(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Knob",Lh);const qb={arc:mh,circle:Zl,curve:QM,ellipse:qM,line:_M,lines:Rn,rectangle:Tw,roundRectangle:Qa,triangle:Sw},sv=Phaser.Utils.Objects.GetValue,_b=Phaser.Utils.Objects.IsPlainObject,tL=function(){for(var i=this.getShapes(),t=0,s=i.length;t<s;t++)i[t].lineStyle().fillStyle()},eL={createShape(i,t){var s=qb[i],g=new s;return t&&g.setName(t),g},buildShapes(i){var t=sv(i,"create",void 0);if(_b(t)){var s=t;for(var g in s){var C=s[g];switch(typeof C){case"number":for(var M=0;M<C;M++)this.addShape(this.createShape(g));break;case"string":this.addShape(this.createShape(g,C));break;default:for(var o=C,M=0,T=o.length;M<T;M++)this.addShape(this.createShape(g,o[M]));break}}}else if(Array.isArray(t))for(var s=t,M=0,T=s.length;M<T;M++){var e=s[M];this.addShape(this.createShape(e.type,e.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(sv(i,"update"))},setUpdateShapesCallback(i){return i===void 0&&(i=tL),this.dirty=this.dirty||this.updateCallback!==i,this.updateCallback=i,this},updateShapes(){this.updateCallback.call(this)}},nv=Phaser.GameObjects.Components.TransformMatrix,iL=Phaser.Math.TransformXY;var sL=function(i,t,s,g,C){g===void 0&&(g=i.scene.cameras.main),C===void 0?C={}:C===!0&&(C=nL);var M=g.scrollX,o=g.scrollY,T=t+M*i.scrollFactorX-M,e=s+o*i.scrollFactorY-o;return i.parentContainer?(Sa===void 0&&(Sa=new nv,rv=new nv),i.getWorldTransformMatrix(Sa,rv),Sa.applyInverse(T,e,C)):iL(T,e,i.x,i.y,i.rotation,i.scaleX,i.scaleY,C),C.x+=i.displayOriginX,C.y+=i.displayOriginY,C},Sa,rv,nL={};const rr=Phaser.Utils.Objects.GetValue,rL=Phaser.Utils.Objects.IsPlainObject;class Fh extends Ys{constructor(t,s,g,C,M,o){rL(s)&&(o=s,s=rr(o,"x",0),g=rr(o,"y",0),C=rr(o,"width",2),M=rr(o,"height",2)),super(t,s,g,C,M),this.type=rr(o,"type","rexCustomShapes"),this.buildShapes(o)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,s,g,C){return typeof g=="boolean"&&(C=g,g=void 0),sL(this,t,s,g,C)}}Object.assign(Fh.prototype,eL);nt.register("customShapes",function(i,t,s,g,C){var M=new Fh(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.CustomShapes",Fh);const ar=Phaser.Utils.Objects.GetValue,aL=Phaser.Utils.Objects.IsPlainObject;class I0 extends Ws(Fh){constructor(t,s,g,C,M,o){aL(s)&&(o=s,s=ar(o,"x",0),g=ar(o,"y",0),C=ar(o,"width",2),M=ar(o,"height",2)),o===void 0&&(o={}),o.type||(o.type="rexCustomProgress"),super(t,s,g,C,M,o),this.bootProgressBase(o),this.setValue(ar(o,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}nt.register("customProgress",function(i,t,s,g,C){var M=new I0(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.CustomProgress",I0);const hL={setTransitionStartCallback(i,t){return this.onStartCallback=i,this.onStartCallbackScope=t,this},setTransitionProgressCallback(i,t){return this.onProgressCallback=i,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(i,t){return this.onCompleteCallback=i,this.onCompleteCallbackScope=t,this}},oL=Phaser.Utils.Objects.IsPlainObject,Ve=Phaser.Utils.Objects.GetValue;var lL={out:0,in:1};const uL={setTransitionDirection(i){return typeof i=="string"&&(i=lL[i]),this.dir=i,this},setDuration(i){return this.duration=i,this},setEaseFunction(i){return this.easeFunction=i,this},setNextTexture(i,t){return this.nextImage.setTexture(i,t),this},transit(i,t){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),oL(i)){var s=i;i=Ve(s,"key",void 0),t=Ve(s,"frame",void 0),this.setDuration(Ve(s,"duration",this.duration)).setEaseFunction(Ve(s,"ease",this.easeFunction)).setTransitionDirection(Ve(s,"dir",this.dir));var g=Ve(s,"mask",void 0);g&&this.setMaskGameObject(g),this.setMaskEnable(g===!0);var C=Ve(s,"onStart",void 0),M=Ve(s,"onProgress",void 0),o=Ve(s,"onComplete",void 0);(C!==void 0||M!==void 0||o!==void 0)&&this.setTransitionStartCallback(C,Ve(s,"onStartScope",void 0)).setTransitionProgressCallback(M,Ve(s,"onProgressScope",void 0)).setTransitionCompleteCallback(o,Ve(s,"onCompleteScope",void 0))}return this.setNextTexture(i,t),this.start(),this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new Xs(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};var av=function(i,t,s,g,C){switch(this.clear().fillStyle(16777215),this.shape){case 1:var M=Math.min(i,t)/2;this.fillCircle(-i*(g-.5),-t*(C-.5),M+s);break;default:this.fillRect(-(i*g)-s,-(t*C)-s,i+2*s,t+2*s);break}};const dL=Phaser.GameObjects.Graphics;class ql extends dL{constructor(t,s,g){s===void 0&&(s=0),typeof s=="string"&&(s=fL[s]),g===void 0&&(g=0),super(t.scene),this.parent=t,this.shape=s,this.padding=g,this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,s){var g=this.parent;return t===void 0&&(t=g.x),s===void 0&&(s=g.y),super.setPosition(t,s),this}resize(t,s,g){var C=this.parent;return t===void 0&&(t=C.width),s===void 0&&(s=C.height),g===void 0&&(g=this.padding),this.width===t&&this.height===s&&this.paddingSave===g?this:(this.width=t,this.height=s,this.originX=C.originX,this.originY=C.originY,this.paddingSave=g,av.call(this,t,s,g,C.originX,C.originY),this)}setOrigin(t,s){s===void 0&&(s=t);var g=this.parent;return t===void 0&&(t=g.originX),s===void 0&&(s=g.originY),this.originX===t&&this.originY===s?this:(this.originX=t,this.originY=s,av.call(this,this.width,this.height,this.paddingSave,t,s),this)}}const fL={rectangle:0,circle:1},cL={setMaskGameObject(i){if(!i)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(i===!0&&this.maskGameObject instanceof ql)return this;if(this.maskGameObject===i)return this;this.removeMaskGameObject()}return i===!0&&(i=new ql(this)),this.maskGameObject=i,this.maskGameObject.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(this.maskGameObject),this.childrenMask=this.maskGameObject.createGeometryMask(),this},removeMaskGameObject(){return this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,!0),this.maskGameObject=void 0,this},setImageMaskEnable(i,t,s){return t===void 0&&(t=!0),this.childrenMask||this.setMaskGameObject(!0),t?(i.setMask(this.childrenMask),s&&this.childrenMask.setInvertAlpha()):i.clearMask(),this},setCurrentImageMaskEnable(i,t){return this.setImageMaskEnable(this.currentImage,i,t),this},setNextImageMaskEnable(i,t){return this.setImageMaskEnable(this.nextImage,i,t),this},setCellImagesMaskEnable(i,t){for(var s=this.getCellImages(),g=0,C=s.length;g<C;g++)this.setImageMaskEnable(s[g],i,t);return this},setMaskEnable(i,t){return this.setImageMaskEnable(this.backImage,i,t),this.setImageMaskEnable(this.frontImage,i,t),this.setCellImagesMaskEnable(i,t),this}};var vL=function(i,t){t===void 0&&(t=",");var s;return i==="__BASE"?s=function(g,C){return`${g}${t}${C}`}:s=function(g,C){return`${i}_${g}${t}${C}`},s},pL=function(i,t,s,g,C,M){s==null&&(s="__BASE"),M||(M=vL(s,M));for(var o=i.sys.textures.get(t),T=typeof s=="object"?s:o.get(s),e=T.width,u=T.height,x,d,l,h=e/g,n=u/C,r=0,f=0,a=0;a<C;a++){r=0;for(var c=0;c<g;c++)l=M(c,a),x=r+T.cutX,d=f+T.cutY,o.add(l,0,x,d,h,n),r+=h;f+=n}return{getFrameNameCallback:M,cellWidth:h,cellHeight:n,columns:g,rows:C}};const Li=Phaser.Utils.Objects.GetValue,gL=Phaser.GameObjects.Image,mL=Phaser.Utils.Objects.IsPlainObject,xL=Phaser.Math.RotateAround;var yL=function(i,t,s,g){mL(t)&&(g=t,t=Li(g,"columns",1),s=Li(g,"rows",1));var C=Li(g,"onCreateImage");if(!C){var M=Li(g,"ImageClass",gL);C=function(I,B,V){return new M(I,0,0,B,V)}}for(var o=Li(g,"originX",.5),T=Li(g,"originY",.5),e=Li(g,"add",!0),u=Li(g,"align",e),x=Li(g,"objectPool",void 0),d=i.scene,l=i.texture,h=i.frame,n=pL(d,l,h,t,s),r=n.getFrameNameCallback,f=i.scaleX,a=i.scaleY,c=i.rotation,p=i.getTopLeft(),v=p.x,m=p.y,y=[],E=n.cellWidth*f,P=n.cellHeight*a,S=0;S<s;S++)for(var w=0;w<t;w++){var A,R=r(w,S);x&&x.length>0?A=x.pop().setTexture(l,R):A=C(d,l,R),e&&d.add.existing(A);var O=v+E*w,L=m+P*S,b=O+o*E,D=L+T*P;u&&(A.setOrigin(o,T).setPosition(b,D).setScale(f,a).setRotation(c),xL(A,v,m,c)),y.push(A)}return y};const TL={gridCutImage(i,t,s,g){g===void 0&&(g={}),g.objectPool=this.imagesPool;for(var C=yL(i,t,s,g),M,o=0,T=C.length;o<T;o++)M=C[o],M.setVisible(!0),this.add(M);return this.cellImages=C,this.setChildLocalVisible(i,!1),C},gridCutCurrentImage(i,t,s){return this.gridCutImage(this.currentImage,i,t,s)},gridCutNextImage(i,t,s){return this.gridCutImage(this.nextImage,i,t,s)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var i=this.cellImages[0].texture,t=this.cellImages,s,g,C=0,M=t.length;C<M;C++)s=t[C],this.setChildLocalAlpha(s,1).setChildLocalScale(s,1).setChildLocalVisible(s,!1),s.clearMask(),g=s.frame.name,s.setTexture(),i.remove(g);return this.imagesPool.push(...t),t.length=0,this}},B0={setFlipX(i){return this.flipX=i,this},setFlipY(i){return this.flipY=i,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(i,t){return this.flipX=i,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var G0={};Object.assign(G0,hL,uL,cL,TL,B0);var CL=function(i,t,s,g){},SL=function(i,t,s,g){i.setChildLocalAlpha(t,1-g).setChildLocalAlpha(s,g)},EL=function(i,t,s,g){i.setChildLocalAlpha(t,1)};const hv=Phaser.Utils.Objects.IsPlainObject,ee=Phaser.Utils.Objects.GetValue,PL=Phaser.Math.Clamp;class ud extends Ge{constructor(t,s,g,C,M,o){hv(s)?(o=s,s=ee(o,"x",0),g=ee(o,"y",0),C=ee(o,"key",void 0),M=ee(o,"frame",void 0)):hv(M)&&(o=M,M=void 0);var T=ee(o,"back",void 0),e=ee(o,"front",void 0);T||(T=t.add.image(s,g,C,M)),e||(e=t.add.image(s,g,C,M));var u=ee(o,"width",e.width),x=ee(o,"height",e.height);super(t,s,g,u,x),this.type="rexTransitionImage",T.setVisible(!1),this.addMultiple([T,e]),this.backImage=T,this.frontImage=e,this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[];var d=ee(o,"onStart",void 0),l=ee(o,"onProgress",void 0),h=ee(o,"onComplete",void 0),n=ee(o,"dir",0);d===void 0&&l===void 0&&h===void 0&&(d=CL,l=SL,h=EL,n=0),this.setTransitionStartCallback(d,ee(o,"onStartScope",void 0)).setTransitionProgressCallback(l,ee(o,"onProgressScope",void 0)).setTransitionCompleteCallback(h,ee(o,"onCompleteScope",void 0)).setTransitionDirection(n).setDuration(ee(o,"duration",1e3)).setEaseFunction(ee(o,"ease","Linear"));var r=ee(o,"mask",void 0);r&&this.setMaskGameObject(r),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}get t(){return this._t}set t(t){if(t=PL(t,0,1),this._t!==t){this._t=t;var s=this.currentImage,g=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),el(this.onStartCallback,this.onStartCallbackScope,this,s,g,t)),el(this.onProgressCallback,this.onProgressCallbackScope,this,s,g,t),t===1){el(this.onCompleteCallback,this.onCompleteCallbackScope,this,s,g,t);var C=g.texture.key,M=g.frame.name;this.frontImage.setTexture(C,M),this.backImage.setTexture(C,M),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,s){return super.setOrigin(t,s),this.backImage.setOrigin(t,s),this.frontImage.setOrigin(t,s),this.maskGameObject&&this.maskGameObject.setOrigin(t,s),this}setTexture(t,s){return this.frontImage.setTexture(t,s),this.backImage.setTexture(t,s).setVisible(!1),this}}var el=function(i,t,s,g,C,M){!i||(t?i.call(t,s,g,C,M):i(s,g,C,M))};Object.assign(ud.prototype,G0);nt.register("transitionImage",function(i,t,s,g,C){var M=new ud(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.TransitionImage",ud);var ML=function(i,t,s){if(s===void 0?s={}:s===!0&&(s=wL),i.width<=t.width&&i.height<=t.height)return s.width=i.width,s.height=i.height,s;var g=i.width/i.height;s.width=Math.min(i.width,t.width),s.height=Math.min(i.height,t.height);var C=s.width/s.height;return C<g?s.height=s.width/g:C>g&&(s.width=s.height*g),s},wL={};const ov=Phaser.Utils.Objects.IsPlainObject,Os=Phaser.Utils.Objects.GetValue;class dd extends Ge{constructor(t,s,g,C,M,o){ov(s)?(o=s,s=Os(o,"x",0),g=Os(o,"y",0),C=Os(o,"key",void 0),M=Os(o,"frame",void 0)):ov(M)&&(o=M,M=void 0);var T=Os(o,"image");T?T.setPosition(s,g).setOrigin(.5):(T=t.add.image(s,g,C,M),C===void 0&&T.setVisible(!1)),super(t,s,g,1,1),this.type="rexImageBox",this.add(T),this.image=T;var e=Os(o,"width",T.width),u=Os(o,"height",T.height);this.resize(e,u)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}scaleImage(){var t=this.image,s=ML(t,{width:this.width,height:this.height},!0);return t.setDisplaySize(s.width,s.height),this.resetChildScaleState(t),this}resize(t,s){return super.resize(t,s),this.scaleImage(),this}setTexture(t,s){var g=this.image;return g.setTexture(t,s),t!==null?(this.setChildVisible(g,!0),this.scaleImage()):this.setChildVisible(g,!1),this}}Object.assign(dd.prototype,B0);nt.register("imageBox",function(i,t,s,g,C){var M=new dd(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.ImageBox",dd);nt.register("fullWindowRectangle",function(i,t){var s=new td(this.scene,i,t);return this.scene.add.existing(s),s});st(window,"RexPlugins.UI.FullWindowRectangle",td);nt.register("cover",function(i){var t=new ed(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Cover",ed);var fd=function(i,t){if(this.scene.sys.scale.autoRound&&(i=Math.floor(i),t=Math.floor(t)),this.width===i&&this.height===t)return this;var s=this.node.style;return s.width=`${i}px`,s.height=`${t}px`,this.updateSize(),this};const lv={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},uv={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"],direction:["direction",void 0]},AL={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},dv=Phaser.Utils.Objects.GetValue;var N0=function(i,t,s,g){var C=dv(g,"preventDefault",!1),M=dv(g,"preTest");for(let o in s)t.addEventListener(o,function(T){(!M||M(i,o))&&i.emit(s[o],i,T),C&&T.preventDefault()})};const RL=Phaser.GameObjects.DOMElement,fv=Phaser.Utils.Objects.IsPlainObject,Fi=Phaser.Utils.Objects.GetValue;class Dh extends RL{constructor(t,s,g,C,M,o){fv(s)?(o=s,s=Fi(o,"x",0),g=Fi(o,"y",0),C=Fi(o,"width",0),M=Fi(o,"height",0)):fv(C)&&(o=C,C=Fi(o,"width",0),M=Fi(o,"height",0)),o===void 0&&(o={});var T,e=Fi(o,"type","text");e==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=e),ja(lv,o,T);var u=Fi(o,"style",void 0);u=ja(uv,o,u);var x=T.style;for(var d in o)d in lv||d in uv||d in x&&(u[d]=o[d]);u["box-sizing"]="border-box",super(t,s,g,T,u),this.type="rexInputText",this.resize(C,M),N0(this,T,AL),jg(T),Fi(o,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return t===void 0?this.node.select():this.node.setSelectionRange(t,s),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node.style[t]=s,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var OL={resize:fd};Object.assign(Dh.prototype,OL);nt.register("inputText",function(i){var t=new Dh(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.InputText",Dh);const cv=Phaser.Utils.Objects.GetValue;var bL=function(i){var t=document.createElement("input");t.type="file";var s=cv(i,"accept",""),g=cv(i,"multiple",!1);return t.setAttribute("accept",s),g?t.setAttribute("multiple",""):t.removeAttribute("multiple"),t},z0=function(i,t){return i===void 0&&(i=0),new Promise(function(s,g){setTimeout(function(){s(t)},i)})},V0=function({game:i,fileInput:t,closeDelay:s}){return ph(Ln(i).events,"focus").then(function(){return z0(s)}).then(function(){var g={files:t.files};return Promise.resolve(g)})};const LL=Phaser.Utils.Objects.GetValue;var FL=function(i,t){var s=LL(t,"closeDelay",200),g=bL(t);return g.click(),V0({game:i,fileInput:g,closeDelay:s}).then(function(C){return g.remove(),Promise.resolve(C)})},U0=function(i){return this.setOrigin(i.originX,i.originY),this.setPosition(i.x,i.y),this.resize(i.displayWidth,i.displayHeight),this},DL=function(i,t,s){if(s===void 0)switch(t){case"image":case"svg":s="textures";break;case"animation":s="json";break;case"tilemapTiledJSON":case"tilemapCSV":s="tilemap";break;case"glsl":s="shader";break;default:s=t;break}i=Ln(i);var g;return s==="textures"?g=i.textures:g=i.cache[s],g},Y0=function(i,t,s,g,C,M){if(!(C===null||C===!1))if(ds(C))C();else{var o=DL(i,s,C);o.exists(g)&&o.remove(g)}var T=i.load;if(M&&T.once(`filecomplete-${s}-${g}`,function(u,x,d){M(d)}),ds(t))t();else{var e=window.URL.createObjectURL(t);T[s](g,e)}T.start()},IL=function(i,t,s,g,C){var M=this.scene;return Y0(M,i,t,s,g,C),this},BL=function(i,t,s,g){var C=this.scene;return new Promise(function(M,o){var T=function(e){M(e)};Y0(C,i,t,s,g,T)})};const X0={loadFile:IL,loadFilePromise:BL},GL=Phaser.GameObjects.DOMElement,vv=Phaser.Utils.Objects.IsPlainObject,gi=Phaser.Utils.Objects.GetValue;class Ih extends GL{constructor(t,s,g,C,M,o){vv(s)?(o=s,s=gi(o,"x",0),g=gi(o,"y",0),C=gi(o,"width",0),M=gi(o,"height",0)):vv(C)&&(o=C,C=gi(o,"width",0),M=gi(o,"height",0));var T=document.createElement("input");T.type="file";var e=T.style;e.display="none";var u=document.createElement("label");u.appendChild(T);var x=gi(o,"style",void 0);super(t,s,g,u,x),this.type="rexFileChooser",this.resetFromJSON(o),this.resize(C,M);var d=this;T.onchange=function(){d.emit("change",d)},this.setCloseDelay(gi(o,"closeDelay",200)),T.onclick=function(){V0({game:t,fileInput:T,closeDelay:d.closeDelay}).then(function(){d.emit("select",d)})}}resetFromJSON(t){return this.setAccept(gi(t,"accept","")),this.setMultiple(gi(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}}var NL={resize:fd,syncTo:U0};Object.assign(Ih.prototype,NL,X0);nt.register("fileChooser",function(i){var t=new Ih(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.FileChooser",Ih);const zL={setDropEnable(i){return i===void 0&&(i=!0),this.dropEnable=i,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},VL={addFilter(i,t){return this.filters||(this.filters={}),this.filters[i]=t,this},addFilters(i){this.filters||(this.filters={});for(var t in i)this.filters[t]=i[t];return this}};var k0={resize:fd,syncTo:U0};Object.assign(k0,zL,VL,X0);const UL={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},YL=Phaser.GameObjects.DOMElement,pv=Phaser.Utils.Objects.IsPlainObject,Di=Phaser.Utils.Objects.GetValue;class cd extends YL{constructor(t,s,g,C,M,o){pv(s)?(o=s,s=Di(o,"x",0),g=Di(o,"y",0),C=Di(o,"width",0),M=Di(o,"height",0)):pv(C)&&(o=C,C=Di(o,"width",0),M=Di(o,"height",0)),o===void 0&&(o={});var T=document.createElement("div"),e=Di(o,"style",void 0);super(t,s,g,T,e),this.type="rexFileDropZone",this.resize(C,M),this._files=[],this.setDropEnable(Di(o,"dropEnable",!0));var u=Di(o,"filters");u&&this.addFilters(u),N0(this,T,UL,{preventDefault:!0,preTest(x){return x.dropEnable}}),this.on("drop",function(x,d){this._files=d.dataTransfer.files;var l=this._files;if(l&&this.filters)for(var h in this.filters){for(var n=this.filters[h],r=[],f=0,a=l.length;f<a;f++){var c=l[f];n(c,l)&&r.push(c)}r.length>0&&this.emit(`drop.${h}`,r)}},this)}get files(){return this._files}}Object.assign(cd.prototype,k0);nt.register("fileDropZone",function(i){var t=new cd(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.FileDropZone",cd);var XL=function(i){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,kL(this,i)),this},kL=function(i,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var s=t.options;s.responsive=!1,s.maintainAspectRatio=!1,s.hasOwnProperty("devicePixelRatio")||(s.devicePixelRatio=1);var g=!1;s.animation===void 0?s.animation={}:s.animation===!1&&(g=!0,s.animation={});var C=s.animation;g&&(C.duration=0);var M=C.onProgress;C.onProgress=function(T){M&&M(T),i.needRedraw()};var o=C.onComplete;return C.onComplete=function(T){o&&o(T),i.needRedraw()},t},WL=function(i){if(this.chart!==void 0)if(typeof i=="string"){for(var t=this.chart.data.datasets,s,g=0,C=t.length;g<C;g++)if(s=t[g],s.label===i)return s}else return this.chart.data.datasets[i]},HL=function(i,t){var s=this.getChartDataset(i);if(s!==void 0){if(typeof t=="string"){var g=this.chart.data.labels;if(t=g.indexOf(t),t===-1)return}return s.data[t]}},$L=function(i,t,s){if(this.chart===void 0)return this;var g=this.getChartDataset(i);if(typeof t=="string"){var C=this.chart.data.labels;if(t=C.indexOf(t),t===-1)return this}return g.data[t]=s,this},KL=function(){return this.chart===void 0?this:(this.chart.update(),this)};class vd extends ks{constructor(t,s,g,C,M,o){super(t,s,g,C,M),this.type="rexChart",this.chart=void 0,o!==void 0&&this.setChart(o)}destroy(t){!this.scene||(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,s){if(t===this.width&&s===this.height)return this;if(super.resize(t,s),this.chart){var g=this.chart;g.height=this.canvas.height,g.width=this.canvas.width,g.aspectRatio=g.height?g.width/g.height:null,g.update()}return this}}var ZL={setChart:XL,getChartDataset:WL,getChartData:HL,setChartData:$L,updateChart:KL};Object.assign(vd.prototype,ZL);nt.register("chart",function(i,t,s,g,C){var M=new vd(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.Chart",vd);nt.register("container",function(i,t,s,g,C){var M=new Ge(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.Container",Ge);var JL=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,s=this.sizerChildren,g,C,M;if(this.orientation===0)for(var o=this.space.item,T=!0,e=0,u=s.length;e<u;e++)g=s[e],!g.rexSizer.hidden&&(g.rexSizer.proportion===0||i?M=this.getChildWidth(g):M=0,C=g.rexSizer.padding,M+=C.left+C.right,T?T=!1:M+=o,t+=M);else for(var e=0,u=s.length;e<u;e++)g=s[e],g.hasOwnProperty("rexSizer")&&(g.rexSizer.hidden||(C=g.rexSizer.padding,M=this.getChildWidth(g)+C.left+C.right,t=Math.max(M,t)));return t+this.space.left+this.space.right},jL=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);var t=0,s=this.sizerChildren,g,C,M;if(this.orientation===0)for(var o=0,T=s.length;o<T;o++)g=s[o],!g.rexSizer.hidden&&(C=g.rexSizer.padding,M=this.getChildHeight(g)+C.top+C.bottom,t=Math.max(M,t));else for(var e=this.space.item,u=!0,o=0,T=s.length;o<T;o++)g=s[o],g.hasOwnProperty("rexSizer")&&(g.rexSizer.hidden||(g.rexSizer.proportion===0||i?M=this.getChildHeight(g):M=0,C=g.rexSizer.padding,M+=C.top+C.bottom,u?u=!1:M+=e,t+=M));return t+this.space.top+this.space.bottom},QL=function(i,t){t===void 0&&(t=this.width);var s,g=i.rexSizer,C=g.padding;if(this.orientation===0)g.proportion>0&&this.proportionLength>0&&(s=g.proportion*this.proportionLength);else if(g.expand){var M=t-this.space.left-this.space.right;s=M-C.left-C.right}return s},qL=function(i,t){t===void 0&&(t=this.height);var s,g=i.rexSizer,C=g.padding;if(this.orientation===0){if(g.expand){var M=t-this.space.top-this.space.bottom;s=M-C.top-C.bottom}}else g.proportion>0&&this.proportionLength>0&&(s=g.proportion*this.proportionLength);return s},_L=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,s,g=0,C=t.length;g<C;g++)s=t[g],s.isRexSizer&&i.push(s);return i},tF=function(){this.hasRatioFitChild=!1;for(var i=this.sizerChildren,t=0,s=i.length;t<s;t++){var g=i[t];g.rexSizer.hidden||!g.rexSizer.fitRatio||(oi(g,1,1),this.hasRatioFitChild=!0)}return this._childrenProportion=void 0,this.proportionLength=void 0,zr.call(this),this},eF=function(i,t){if(this.hasRatioFitChild){var s;this.orientation===0?s=t-this.getInnerPadding("top")-this.getInnerPadding("bottom"):i-this.getInnerPadding("left")-this.getInnerPadding("right");for(var g=this.sizerChildren,C,M,o=0,T=g.length;o<T;o++){var e=g[o];if(!e.rexSizer.hidden){var u=e.rexSizer.fitRatio;!u||(this.orientation===0?(M=s-this.getChildOuterPadding(e,"top")-this.getChildOuterPadding(e,"bottom"),C=M*u):(C=s-this.getChildOuterPadding(e,"top")-this.getChildOuterPadding(e,"bottom"),M=C/u),oi(e,C,M),e.isRexSizer&&e.setMinSize(C,M))}}this.proportionLength=void 0,this._childrenWidth=void 0,this.resolveWidth(i,!0)}};const iF=Phaser.Math.Wrap;var sF=function(){for(var i=this.sizerChildren,t,s,g,C=this.innerLeft,M=this.innerTop,o=this.innerWidth,T=this.innerHeight,e=C,u=M,x,d,l,h,n,r,f,a=this.startChildIndex,c=0,p=i.length;c<p;c++)a===0?f=c:f=iF(c+a,0,p),this.rtl&&(f=p-f-1),t=i[f],!t.rexSizer.hidden&&(s=t.rexSizer,g=s.padding,Vr.call(this,t),t.isRexSpace?(n=0,r=0):(n=this.getExpandedChildWidth(t),r=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,n,r),od(t,this)):oi(t,n,r),n===void 0&&(n=bt(t)),r===void 0&&(r=wt(t)),this.orientation===0?(x=e+g.left,s.proportion===0||this.proportionLength===0?l=n:l=s.proportion*this.proportionLength,d=u+g.top,h=T-g.top-g.bottom):(x=e+g.left,l=o-g.left-g.right,d=u+g.top,s.proportion===0||this.proportionLength===0?h=r:h=s.proportion*this.proportionLength),Ur.call(this,t,x,d,l,h,s.align),this.orientation===0?e+=l+g.left+g.right+this.space.item:u+=h+g.top+g.bottom+this.space.item)},nF=function(t){var t=Ku.call(this,t);if(this.proportionLength===void 0&&this.orientation===0){var s=t-this.childrenWidth;s>0?(s=t-this.getChildrenWidth(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},rF=function(t){var t=Zu.call(this,t);if(this.proportionLength===void 0&&this.orientation===1){var s=t-this.childrenHeight;s>0?(s=t-this.getChildrenHeight(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t};const aF=Phaser.GameObjects.Zone;class Bh extends aF{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var hF=function(i,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var g=-1,C=1/0,M=0,o=s.length;M<o;M++){var T=s[M],e;this.orientation===0?e=Math.abs(T.left-i):e=Math.abs(T.top-t),C>e&&(C=e,g=M)}var T=s[s.length-1],e;return this.orientation===0?e=Math.abs(T.right-i):e=Math.abs(T.bottom-t),C>e&&(C=e,g=M+1),g};const W0=Phaser.Utils.Objects.IsPlainObject,Ii=Phaser.Utils.Objects.GetValue,gv=Phaser.Display.Align.CENTER,oF={min:0,full:-1};var il=function(i,t,s,g,C,M,o,T,e,u){Br.call(this,i);var x=i.isRexSpace,d=typeof t;if(t===null)return this;if(d!=="number"){if(d==="string")t=oF[t];else if(W0(t)){var l=t;t=Ii(l,"proportion",void 0),s=Ii(l,"align",gv),g=Ii(l,"padding",0),C=Ii(l,"expand",!1),M=Ii(l,"key",void 0),o=Ii(l,"index",void 0),i.isRexSizer||(T=Ii(l,"minWidth",void 0),e=Ii(l,"minHeight",void 0)),u=Ii(l,"fitRatio",0)}}typeof s=="string"&&(s=Yn[s]),t===void 0&&(t=x?1:0),s===void 0&&(s=gv),g===void 0&&(g=0),C===void 0&&(C=!1),T===void 0&&(x?T=0:i.isRexSizer||(T=i._minWidth)),e===void 0&&(x?e=0:i.isRexSizer||(e=i._minHeight)),u===void 0&&(u=0);var l=this.getSizerConfig(i);return l.proportion=t,l.align=s,l.padding=Xn(g),l.expand=C,l.fitRatio=t===0?u:0,o===void 0||o>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(o,0,i),i.isRexSizer||(t>0&&(this.orientation===0?i.minWidth=T===void 0?bt(i):T:i.minHeight=e===void 0?wt(i):e),C&&(this.orientation===0?i.minHeight=e:i.minWidth=T)),M!==void 0&&this.addChildrenMap(M,i),this};const lF={add:il,addSpace(i){return this.insertSpace(void 0,i),this},insertSpace(i,t){return t===void 0&&(t=1),il.call(this,new Bh(this.scene),{proportion:t,minWidth:0,minHeight:0,index:i}),this},insert(i,t,s,g,C,M,o,T){return W0(s)&&(s.index=i),il.call(this,t,s,g,C,M,o,i,T),this},insertAtPosition(i,t,s,g,C,M,o,T,e){var u=hF.call(this,i,t);return u===-1&&(u=void 0),this.insert(u,s,g,C,M,o,T,e),this}},uF=Phaser.Utils.Array.Remove,dF={remove(i,t){return this.getParentSizer(i)!==this?this:(uF(this.sizerChildren,i),Gr.call(this,i,t),this)},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],i);return this},clear(i){return this.sizerChildren.length=0,Oh.call(this,i),this}},fF={getChildAlign(i){return this.getSizerConfig(i).align},setChildAlign(i,t){return typeof t=="string"&&(t=Yn[t]),this.getSizerConfig(i).align=t,this}},cF={getChildProportion(i){return this.getSizerConfig(i).proportion},setChildProportion(i,t){return this.getSizerConfig(i).proportion=t,this}},vF={getChildExpand(i){return this.getSizerConfig(i).expand},setChildExpand(i,t){return this.getSizerConfig(i).expand=t,this}};var H0={getChildrenWidth:JL,getChildrenHeight:jL,getExpandedChildWidth:QL,getExpandedChildHeight:qL,getChildrenSizers:_L,preLayout:tF,postResolveSize:eF,layoutChildren:sF,resolveWidth:nF,resolveHeight:rF};Object.assign(H0,lF,dF,fF,cF,vF);var pF=function(){for(var i=0,t=this.sizerChildren,s,g,C=0,M=t.length;C<M;C++)s=t[C],!s.rexSizer.hidden&&(g=s.rexSizer.proportion,g>0&&(i+=g));return i},gF={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Gh=function(i){return typeof i=="string"&&(i=gF[i]),i};const sl=Phaser.Utils.Objects.IsPlainObject,Ue=Phaser.Utils.Objects.GetValue;class Pt extends Hs{constructor(t,s,g,C,M,o,T){sl(s)?(T=s,s=Ue(T,"x",0),g=Ue(T,"y",0),C=Ue(T,"width",void 0),M=Ue(T,"height",void 0),o=Ue(T,"orientation",0)):sl(C)?(T=C,C=Ue(T,"width",void 0),M=Ue(T,"height",void 0),o=Ue(T,"orientation",0)):sl(o)&&(T=o,o=Ue(T,"orientation",0)),o===void 0&&(o=0),super(t,s,g,C,M,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(o),this.setItemSpacing(Ue(T,"space.item",0)),this.setStartChildIndex(Ue(T,"startChildIndex",0)),this.setRTL(Ue(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Gh(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=pF.call(this)),this._childrenProportion}}Object.assign(Pt.prototype,H0);nt.register("sizer",function(i,t,s,g,C,M){var o=new Pt(this.scene,i,t,s,g,C,M);return this.scene.add.existing(o),o});st(window,"RexPlugins.UI.Sizer",Pt);var $0=function(){return Array.prototype.reduce.call(arguments,mF,0)},mF=function(i,t){return i+t},xF=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);for(var t=0,s,g=this.sizerChildren,C,M,o,T,e=0;e<this.columnCount;e++){if(T=this.columnProportions[e],s=0,T===0||i){for(var u=0;u<this.rowCount;u++)C=g[u*this.columnCount+e],C&&(C.rexSizer.hidden||(M=C.rexSizer.padding,o=this.getChildWidth(C)+M.left+M.right,s=Math.max(s,o)));t+=s}this.columnWidth[e]=s}var x=this.space,d=Math.max(x.indentLeftOdd,x.indentLeftEven);return t+$0(x.left,d,...x.column,x.right)},yF=function(i){if(this.rexSizer.hidden)return 0;i===void 0&&(i=!0);for(var t=0,s,g=this.sizerChildren,C,M,o,T,e=0;e<this.rowCount;e++){if(T=this.rowProportions[e],s=0,T===0||i){for(var u=0;u<this.columnCount;u++)C=g[e*this.columnCount+u],C&&(C.rexSizer.hidden||(o=C.isRexSizer?Math.max(C.minHeight,C.childrenHeight):C.hasOwnProperty("minHeight")?C.minHeight:wt(C),M=C.rexSizer.padding,o+=M.top+M.bottom,s=Math.max(s,o)));t+=s}this.rowHeight[e]=s}var x=this.space,d=Math.max(x.indentTopOdd,x.indentTopEven);return t+$0(x.top,d,...x.row,x.bottom)},TF=function(i,t){var s,g=i.rexSizer;if(g.expand){var C=g.padding;s=t-C.left-C.right}return s},CF=function(i,t){var s,g=i.rexSizer;if(g.expand){var C=g.padding;s=t-C.top-C.bottom}return s},SF=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,s,g=0,C=t.length;g<C;g++)s=t[g],s&&s.isRexSizer&&i.push(s);return i},EF=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,zr.call(this),this},PF=function(){for(var i,t,s,g=this.innerLeft,C=this.innerTop,M,o=C,T,e,u,x,d,l,h=this.space.column,n=this.space.row,r=this.space.indentLeftOdd,f=this.space.indentLeftEven,a=this.space.indentTopOdd,c=this.space.indentTopEven,p,v,m,y,E=0;E<this.rowCount;E++){v=this.getRowHeight(E),m=E%2?f:r,M=g+m;for(var P=0;P<this.columnCount;P++){if(p=this.getColumnWidth(P),i=this.getChildAt(P,E),!i||i.rexSizer.hidden){M+=p+h[P];continue}Vr.call(this,i),d=this.getExpandedChildWidth(i,p),l=this.getExpandedChildHeight(i,v),i.isRexSizer?(i.runLayout(this,d,l),od(i,this)):oi(i,d,l),t=i.rexSizer,s=t.padding,T=M+s.left,u=p-s.left-s.right,y=P%2?c:a,e=o+y+s.top,x=v-s.top-s.bottom,Ur.call(this,i,T,e,u,x,t.align),M+=p+h[P]}o+=v+n[E]}},MF=function(t){var t=Ku.call(this,t);if(this.proportionWidthLength===void 0){var s=this.totalColumnProportions;if(s>0){var g=t-this.getChildrenWidth(!1);g>=0&&(this.proportionWidthLength=g/s)}else this.proportionWidthLength=0}return t},wF=function(t){var t=Zu.call(this,t);if(this.proportionHeightLength===void 0){var s=this.totalRowProportions;if(s>0){var g=t-this.getChildrenHeight(!1);g>=0&&(this.proportionHeightLength=g/s)}else this.proportionHeightLength=0}return t},AF=function(i){var t,s,g;for(var C in this.sizerChildren)t=this.sizerChildren[C],t&&t.isRexSizer&&!t.ignoreLayout&&(g=this.getColumnWidth(parseInt(C)%this.columnCount),s=this.getExpandedChildWidth(t,g),s=t.resolveWidth(s),t.resolveChildrenWidth(s))},RF=function(i){var t,s,g;for(var C in this.sizerChildren)t=this.sizerChildren[C],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(g=this.getColumnWidth(parseInt(C)%this.columnCount),s=this.getExpandedChildWidth(t,g),t.isRexSizer&&(s=t.resolveWidth(s)),t.runWidthWrap(s));return this};const OF=Phaser.Utils.Objects.IsPlainObject,cn=Phaser.Utils.Objects.GetValue,mv=Phaser.Display.Align.CENTER;var xv=function(i,t,s,g,C){if(typeof i=="number"||typeof t=="number")if(i===void 0){for(var M,o=0;o<g;o++)if(M=t*g+o,!s[M])return M}else if(t===void 0){for(var M,o=0;o<C;o++)if(M=o*g+i,!s[M])return M}else{var M=t*g+i;if(!s[M])return M}else if(t===!0){for(var M,o=0;o<g;o++)for(var T=0;T<C;T++)if(M=T*g+o,!s[M])return M}else for(var o=0,e=s.length;o<e;o++)if(!s[o])return o;return null},bF=function(i,t,s,g,C,M,o){if(Br.call(this,i),OF(t)){var e=t;t=cn(e,"column",void 0),s=cn(e,"row",void 0),g=cn(e,"align",mv),C=cn(e,"padding",0),M=cn(e,"expand",!1),o=cn(e,"key",void 0)}var T=xv(t,s,this.sizerChildren,this.columnCount,this.rowCount);if(T===null){if(typeof t=="number"&&typeof s=="number")return this;s===!0||typeof s=="number"?this.addEmptyColumn():this.addEmptyRow(),T=xv(t,s,this.sizerChildren,this.columnCount,this.rowCount)}typeof g=="string"&&(g=Yn[g]),g===void 0&&(g=mv),C===void 0&&(C=0),M===void 0&&(M=!0);var e=this.getSizerConfig(i);return e.align=g,e.padding=Xn(C),e.expand=M,this.sizerChildren[T]=i,o!==void 0&&this.addChildrenMap(o,i),this};const LF={add:bF};var Cn=function(i,t,s,g){s===void 0&&(s=0),g===void 0&&(g=i.length-1);for(var C=s;C<=g;C++)i[C]=t;return i};const FF={remove(i,t){if(this.getParentSizer(i)!==this)return this;var s=this.sizerChildren.indexOf(i);return s!==-1&&(this.sizerChildren[s]=null),Gr.call(this,i,t),this},removeAt(i,t,s){var g=this.getChildAt(i,t);return g&&this.remove(g,s),this},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--){var s=this.sizerChildren[t];!s||this.remove(s,i)}return this},clear(i){return Cn(this.sizerChildren,null),Oh.call(this,i),this}},yv=Phaser.Utils.Objects.GetValue;var DF=function(i,t,s,g,C){if(s===void 0&&(s=0),g===void 0&&(g=0),this.columnCount=i,this.rowCount=t,this.gridCount=i*t,this.sizerChildren===void 0?this.sizerChildren=[]:this.removeAll(),this.sizerChildren.length=i*t,Cn(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=i,typeof s=="number")Cn(this.columnProportions,s);else for(var M=0;M<i;M++)this.columnProportions[M]=s[M]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof g=="number")Cn(this.rowProportions,g);else for(var M=0;M<t;M++)this.rowProportions[M]=g[M]||0;this.columnWidth=[],this.columnWidth.length=i,this.rowHeight=[],this.rowHeight.length=t,this.space.column=[],this.space.column.length=i-1;var o=yv(C,"column",0);if(typeof o=="number")Cn(this.space.column,o);else for(var M=0,T=this.space.column.length;M<T;M++)this.space.column[M]=o[M]||0;this.space.row=[],this.space.row.length=t-1;var e=yv(C,"row",0);if(typeof e=="number")Cn(this.space.row,e);else for(var M=0,T=this.space.row.length;M<T;M++)this.space.row[M]=e[M]||0;return this},K0=function(i,t,s){t===void 0&&(t=this.rowProportions[0]||0),s===void 0&&(s=this.space.row[0]||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var g=[i*this.columnCount,0],C=0;C<this.columnCount;C++)g.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,g),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(i,0,s),this},IF=function(i,t){return K0.call(this,this.rowCount,i,t),this},Z0=function(i,t,s){t===void 0&&(t=this.columnProportions[0]||0),s===void 0&&(s=this.space.column[0]||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var g=this.rowCount-1;g>=0;g--){var C=g*this.columnCount+i;this.sizerChildren.splice(C,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(i,0,s),this},BF=function(i,t){return Z0.call(this,this.columnCount,i,t),this},J0={getChildrenWidth:xF,getChildrenHeight:yF,getExpandedChildWidth:TF,getExpandedChildHeight:CF,getChildrenSizers:SF,preLayout:EF,layoutChildren:PF,resolveWidth:MF,resolveHeight:wF,resolveChildrenWidth:AF,runWidthWrap:RF,resetGrid:DF,inseryEmptyRow:K0,addEmptyRow:IF,insertEmptyColumn:Z0,addEmptyColumn:BF};Object.assign(J0,LF,FF);var GF=function(){for(var i=0,t,s=0;s<this.columnCount;s++)t=this.columnProportions[s],t>0&&(i+=t);return i},NF=function(){for(var i=0,t,s=0;s<this.rowCount;s++)t=this.rowProportions[s],t>0&&(i+=t);return i};const Ea=Phaser.Utils.Objects.IsPlainObject,Ft=Phaser.Utils.Objects.GetValue;class $i extends Hs{constructor(t,s,g,C,M,o,T,e,u,x){Ea(s)?(x=s,s=Ft(x,"x",0),g=Ft(x,"y",0),C=Ft(x,"width",void 0),M=Ft(x,"height",void 0),o=Ft(x,"column",x.col||0),T=Ft(x,"row",0),e=Ft(x,"columnProportions",0),u=Ft(x,"rowProportions",0)):Ea(C)?(x=C,C=Ft(x,"width",void 0),M=Ft(x,"height",void 0),o=Ft(x,"column",x.col||0),T=Ft(x,"row",0),e=Ft(x,"columnProportions",0),u=Ft(x,"rowProportions",0)):Ea(o)?(x=o,o=Ft(x,"column",x.col||0),T=Ft(x,"row",0),e=Ft(x,"columnProportions",0),u=Ft(x,"rowProportions",0)):Ea(e)&&(x=e,e=Ft(x,"columnProportions",0),u=Ft(x,"rowProportions",0)),super(t,s,g,C,M,x),this.type="rexGridSizer",this.resetGrid(o,T,e,u,Ft(x,"space",void 0)),this.setIndentLeft(Ft(x,"space.indentLeftOdd",0),Ft(x,"space.indentLeftEven",0)),this.setIndentTop(Ft(x,"space.indentTopOdd",0),Ft(x,"space.indentTopEven",0)),this.addChildrenMap("items",this.sizerChildren);var d=Ft(x,"createCellContainerCallback");if(d)for(var g=0,l=this.rowCount;g<l;g++)for(var s=0,h=this.columnCount;s<h;s++){var n={column:s,row:g},r=d(t,s,g,n);r&&this.add(r,n)}}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0)}setIndentLeft(t,s){return this.space.indentLeftOdd=t,this.space.indentLeftEven=s,this}setIndentTop(t,s){return this.space.indentTopOdd=t,this.space.indentTopEven=s,this}setColumnProportion(t,s){return t>=this.columnProportions.length?this:(this.columnProportions[t]=s,this)}setRowProportion(t,s){return t>=this.rowProportions.length?this:(this.rowProportions[t]=s,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=GF.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=NF.call(this)),this._totalRowProportions}getChildAt(t,s){return this.sizerChildren[s*this.columnCount+t]}childToGridIndex(t,s){if(!t)return null;var g=this.sizerChildren.indexOf(t);return g===-1?null:(s===void 0&&(s={}),s.x=g%this.columnCount,s.y=Math.floor(g/this.columnCount),s)}getColumnWidth(t){var s=this.columnProportions[t],g=s===0?this.columnWidth[t]:s*this.proportionWidthLength;return g}getRowHeight(t){var s=this.rowProportions[t],g=s===0?this.rowHeight[t]:s*this.proportionHeightLength;return g}}Object.assign($i.prototype,J0);nt.register("gridSizer",function(i,t,s,g,C,M,o,T,e){var u=new $i(this.scene,i,t,s,g,C,M,o,T,e);return this.scene.add.existing(u),u});st(window,"RexPlugins.UI.GridSizer",$i);var zF=function(){return this.rexSizer.hidden?0:this.maxChildWidth+this.space.left+this.space.right},VF=function(){return this.rexSizer.hidden?0:this.widthWrapResult.height+this.space.top+this.space.bottom},UF=function(i){i===void 0&&(i=[]);for(var t=this.sizerChildren,s,g=0,C=t.length;g<C;g++)s=t[g],s!==`
`&&s.isRexSizer&&i.push(s);return i},YF=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,zr.call(this),this},XF=function(){for(var i=this.innerWidth,t=this.justifyPercentage,s=this.space.item,g=this.space.line,C=this.space.indentLeftOdd,M=this.space.indentLeftEven,o=this.space.indentTopOdd,T=this.space.indentTopEven,e,u,x,d=0,l,h,n=this.innerLeft,r=this.innerTop,f,a,c,p,v=this.widthWrapResult.lines,m,y,E,P,S=r,w=0,A=v.length;w<A;w++){switch(m=v[w],y=m.children,this.rtl&&y.reverse(),l=w%2?M:C,P=n+l,E=i-m.width,this.align){case 0:break;case 1:P+=E;break;case 2:P+=E/2;break;case 3:d=nl(i,E,t,y.length);break;case 4:d=nl(i,E,t,y.length),d===0&&(P+=E);break;case 5:d=nl(i,E,t,y.length),d===0&&(P+=E/2);break}for(var R=!0,O=0,L=y.length;O<L;O++)e=y[O],!e.rexSizer.hidden&&(u=e.rexSizer,x=u.padding,Vr.call(this,e),f=P+x.left,R?R=!1:f+=s,h=O%2?T:o,a=S+h+x.top,c=bt(e),p=wt(e),P=f+c+x.right+d,Ur.call(this,e,f,a,c,p,u.align));S+=m.height+g}},nl=function(i,t,s,g){return t/i<=s?t/(g-1):0},kF=function(i,t){t===void 0?t={lines:[],width:0,height:0}:(t.lines.length=0,t.width=0,t.height=0);for(var s=this.sizerChildren,g=this.space.item,C=this.space.line,M=this.space.indentLeftOdd,o=this.space.indentLeftEven,T=this.space.indentTopOdd,e=this.space.indentTopEven,u,x,d,l=0,h,n=t.lines,r=void 0,f,a=0,c=s.length;a<c;a++){if(u=s[a],u===`
`)u=void 0,x=0,f=!0;else{if(u.rexSizer.hidden)continue;u.isRexSizer&&u.layout(),x=WF(u),f=l<x||r===void 0}if(f){r&&(r.width=i-(l+g),t.width=Math.max(t.width,r.width),t.height+=r.height+C),r={children:[],height:0},n.push(r);var h=n.length%2?M:o;l=i-h}l-=x+g,u&&(r.children.push(u),d=HF(u),r.height=Math.max(r.height,d))}return r&&(r.width=i-(l+g),t.width=Math.max(t.width,r.width),t.height+=r.height),t.height+=Math.max(T,e),t},WF=function(i){var t=i.rexSizer.padding;return bt(i)+t.left+t.right},HF=function(i){var t=i.rexSizer.padding;return wt(i)+t.top+t.bottom},$F=function(i){var t=i-this.space.left-this.space.right;this.widthWrapResult=kF.call(this,t,this.widthWrapResult),g0.call(this,i)};const Tv=Phaser.Math.Distance.Between;var KF=function(i,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var g=-1,C=1/0,M=0,o=s.length;M<o;M++){var T=s[M];if(!(Math.abs(T.centerY-t)>T.height/2)){var u=Tv(T.left,T.centerY,i,t);C>u&&(C=u,g=M);var e=s[M+1];if(!(e&&e.y===T.y)){var u=Tv(T.right,T.centerY,i,t);C>u&&(C=u,g=M+1)}}}return g};const ZF=Phaser.Utils.Objects.IsPlainObject,rl=Phaser.Utils.Objects.GetValue,JF=Phaser.Display.Align.CENTER;var al=function(i,t,s,g){if(i===`
`)return this.addNewLine(),this;if(Br.call(this,i),ZF(t)){var C=t;t=rl(C,"padding",0),s=rl(C,"key",void 0),g=rl(C,"index",void 0)}t===void 0&&(t=0);var C=this.getSizerConfig(i);return C.align=JF,C.padding=Xn(t),g===void 0||g>=this.sizerChildren.length?this.sizerChildren.push(i):this.sizerChildren.splice(g,0,i),s!==void 0&&this.addChildrenMap(s,i),this};const jF={add(i,t,s){if(hi(i))for(var g=i,C=0,M=g.length;C<M;C++)al.call(this,g[C],t);else al.call(this,i,t,s);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(i,t,s,g){return al.call(this,t,s,g,i),this},insertAtPosition(i,t,s,g,C){var M=KF.call(this,i,t);return M===-1&&(M=void 0),this.insert(M,s,g,C),this}},QF=Phaser.Utils.Array.Remove,qF={remove(i,t){return this.getParentSizer(i)!==this?this:(QF(this.sizerChildren,i),Gr.call(this,i,t),this)},removeAll(i){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],i);return this},clear(i){return this.sizerChildren.length=0,Oh.call(this,i),this}};var j0={getChildrenWidth:zF,getChildrenHeight:VF,getChildrenSizers:UF,preLayout:YF,layoutChildren:XF,runWidthWrap:$F};Object.assign(j0,jF,qF);var _F=function(i){i===void 0&&(i=this.sizerChildren);for(var t=0,s,g,C=0,M=i.length;C<M;C++)s=i[C],s!==`
`&&(g=this.getChildWidth(s),t=Math.max(g,t));return t},t5=function(i){i===void 0&&(i=this.sizerChildren);for(var t=0,s,g,C=0,M=i.length;C<M;C++)s=i[C],s!==`
`&&(g=s.isRexSizer?Math.max(s.minHeight,s.childrenHeight):s.hasOwnProperty("minHeight")?s.minHeight:wt(s),t=Math.max(g,t));return t};const Cv=Phaser.Utils.Objects.IsPlainObject,fe=Phaser.Utils.Objects.GetValue;class ys extends Hs{constructor(t,s,g,C,M,o){Cv(s)?(o=s,s=fe(o,"x",0),g=fe(o,"y",0),C=fe(o,"width",void 0),M=fe(o,"height",void 0)):Cv(C)&&(o=C,C=fe(o,"width",void 0),M=fe(o,"height",void 0)),super(t,s,g,C,M,o),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(fe(o,"orientation",0)),this.setItemSpacing(fe(o,"space.item",0)),this.setLineSpacing(fe(o,"space.line",0)),this.setIntentLeft(fe(o,"space.indentLeftOdd",0),fe(o,"space.indentLeftEven",0)),this.setIntentTop(fe(o,"space.indentTopOdd",0),fe(o,"space.indentTopEven",0)),this.setAlign(fe(o,"align",0)),this.setJustifyPercentage(fe(o,"justifyPercentage",.25)),this.setRTL(fe(o,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Gh(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,s){return this.space.indentLeftOdd=t,this.space.indentLeftEven=s,this}setIntentTop(t,s){return this.space.indentTopOdd=t,this.space.indentTopEven=s,this}setAlign(t){return typeof t=="string"&&(t=e5[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=_F.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=t5.call(this)),this._maxChildHeight}}const e5={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(ys.prototype,j0);nt.register("fixWidthSizer",function(i,t,s,g,C){var M=new ys(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.FixWidthSizer",ys);nt.register("overlapSizer",function(i,t,s,g,C){var M=new Ne(this.scene,i,t,s,g,C);return this.scene.add.existing(M),M});st(window,"RexPlugins.UI.OverlapSizer",Ne);nt.register("space",function(){var i=new Bh(this.scene);return i});st(window,"RexPlugins.UI.Space",Bh);var Ui=function(i,t,s,g){var C=new ql(t,s,g);if(i&&!i.isRexSizer){var M=C.createGeometryMask();i.setMask(M),this.once("destroy",function(){i.setMask(),M.destroy()})}return this.pin(C),C},Pa=function(i,t,s){if(!!i){var g=t==null,C=s==null;return g&&C||(g||(i.displayWidth=t),C||(i.displayHeight=s),g&&(i.scaleX=i.scaleY),C&&(i.scaleY=i.scaleX)),i}},i5=function(i){i===void 0?i={}:typeof i=="string"&&(i={text:i});var t=i.text||"";this.setText(t);var s=this.childrenMap.icon;if(s){i.icon===void 0?this.hide(s):this.show(s);var g=i.iconSize;g&&(this.setChildDisplaySize(s,g,g),this.iconWidth!==void 0&&this.setIconSize(g)),this.setIconTexture(i.icon,i.iconFrame)}var C=this.childrenMap.action;if(C){i.action===void 0?this.hide(C):this.show(C);var M=i.actionSize;M&&(this.setChildDisplaySize(C,M,M),this.actionWidth!==void 0&&this.setActionSize(M)),this.setActionTexture(i.action,i.actionFrame)}return this},s5={resetDisplayContent:i5};const jt=Phaser.Utils.Objects.GetValue;class Oi extends Pt{constructor(t,s){super(t,s),this.type="rexLabel";var g=jt(s,"background",void 0),C=jt(s,"icon",void 0),M=jt(s,"iconMask",void 0),o=jt(s,"text",void 0),T=jt(s,"action",void 0),e=jt(s,"actionMask",void 0),u=jt(s,"align",void 0);if(g&&this.addBackground(g),(u==="right"||u==="bottom"||u==="center")&&this.addSpace(),C){var x=jt(s,"space.icon",0),d;this.orientation===0?(o||T)&&(d={right:x}):(o||T)&&(d={bottom:x});var l=jt(s,"squareFitIcon",!1)?1:0;if(this.add(C,{proportion:0,padding:d,fitRatio:l}),M&&(M=Ui.call(this,C,C,1)),!l){var h=jt(s,"iconSize",void 0);this.setIconSize(jt(s,"iconWidth",h),jt(s,"iconHeight",h))}}if(o){var n=jt(s,"space.text",0),r=jt(s,"expandTextWidth",!1),f=jt(s,"expandTextHeight",!1),a,d,c;this.orientation===0?(a=r?1:0,T&&(d={right:n}),c=f):(a=f?1:0,T&&(d={bottom:n}),c=r),this.add(o,{proportion:a,expand:c,padding:d})}if(T){var l=jt(s,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,fitRatio:l}),e&&(e=Ui.call(this,T,T,1)),!l){var p=jt(s,"actionSize");this.setActionSize(jt(s,"actionWidth",p),jt(s,"actionHeight",p))}}u==="center"&&this.addSpace(),this.addChildrenMap("background",g),this.addChildrenMap("icon",C),this.addChildrenMap("iconMask",M),this.addChildrenMap("text",o),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",e)}get text(){var t=this.childrenMap.text;return t===void 0?"":t.text}set text(t){var s=this.childrenMap.text;s!==void 0&&s.setText(t)}setText(t){return this.text=t,this}appendText(t){return this.text+=t,this}setIconTexture(t,s){var g=this.childrenMap.icon;return g===void 0?this:(g.setTexture(t,s),this.iconWidth!==void 0&&(Pa(g,this.iconWidth,this.iconHeight),this.resetChildScaleState(g)),this)}setTexture(t,s){return this.setIconTexture(t,s),this}setIconSize(t,s){return s===void 0&&(s=t),this.iconWidth=t,this.iconHeight=s,this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}setActionTexture(t,s){var g=this.childrenMap.action;return g===void 0?this:(g.setTexture(t,s),this.actionWidth!==void 0&&(Pa(g,this.actionWidth,this.actionHeight),this.resetChildScaleState(g)),this)}get actionTexture(){var t=this.childrenMap.action;if(t!==void 0)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t!==void 0)return t.frame}setActionSize(t,s){return s===void 0&&(s=t),this.actionWidth=t,this.actionHeight=s,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&Pa(t,this.iconWidth,this.iconHeight);var s=this.childrenMap.action;s&&this.actionWidth!==void 0&&Pa(s,this.actionWidth,this.actionHeight),super.preLayout()}runLayout(t,s,g){if(this.ignoreLayout)return this;super.runLayout(t,s,g);var C=this.childrenMap.iconMask;C&&(C.setPosition(),this.resetChildPositionState(C));var M=this.childrenMap.actionMask;return M&&(M.setPosition(),this.resetChildPositionState(M)),this}resize(t,s){super.resize(t,s);var g=this.childrenMap.iconMask;g&&g.resize();var C=this.childrenMap.actionMask;return C&&C.resize(),this}}Object.assign(Oi.prototype,s5);nt.register("label",function(i){var t=new Oi(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Label",Oi);const n5=Phaser.GameObjects.Image,Sv=Phaser.GameObjects.NineSlice;var Xe=function(i,t){var s;t&&(t.hasOwnProperty("type")?s=t.type:t.hasOwnProperty("leftWidth")?s="nineSlice":t.hasOwnProperty("key")&&(s="image"));var g;switch(s){case"image":g=new n5(i,0,0,t.key,t.frame);break;case"nineSlice":Sv?g=new Sv(i,0,0,t.key,t.frame,0,0,t.leftWidth,t.rightHeight,t.topHeight,t.bottomHeight):g=new Rr(i,t);break;default:g=new uh(i,t);break}return i.add.existing(g),g};const vn=Phaser.Utils.Objects.GetValue,r5=Phaser.GameObjects.Text,a5=Phaser.GameObjects.BitmapText;var Q0=function(i,t){var s=vn(t,"$type");s===void 0&&vn(t,"key")&&(s="bitmaptext");var g;switch(s){case"bitmaptext":var C=vn(t,"key"),M=vn(t,"size");M===void 0&&(M=vn(t,"fontSize")),g=new a5(i,0,0,C,"",M);var o=vn(t,"color");o!==void 0&&g.setTint(o);break;case"text":g=new r5(i,0,0,"",t);break;default:g=new Gs(i,0,0,"",t);break}return i.add.existing(g),g};const h5=Phaser.GameObjects.BitmapText;var q0=function(i){return i instanceof h5};const o5=Phaser.GameObjects.Text;var pd=function(i){return i instanceof o5},l5=function(i){var t=function(s){var g=i.padding,C=s-g.left-g.right,M=i.style;return pd(i)?(M.wordWrapWidth=C,M.maxLines=0):(M.wrapMode===0&&(M.wrapMode=1),M.wrapWidth=C,M.maxLines=0),M.fixedWidth=s,M.fixedHeight=0,i.updateText(),i.minHeight=i.height,i};return t},u5=function(i){var t=function(s){return i.setFixedSize(s,0).runWordWrap(),i.minHeight=i.height,i};return t},d5=function(i){var t=function(s){return i.setMaxWidth(s),i.minHeight=i.height,i};return t},f5=function(i){return i instanceof zn},_0=function(i,t){return t===void 0&&(t=0),i._minWidth=t,i.runWidthWrap=f5(i)?u5(i):q0(i)?d5(i):l5(i),i};const c5=Phaser.GameObjects.Image;var Ev=function(i,t){var s=new c5(i,0,0,"");return i.add.existing(s),s};const hr=Phaser.Utils.Objects.GetValue;var gd=function(i,t,s){t=t?Te(t):{};var g=hr(s,"background",Xe),C=hr(s,"text",Q0),M=hr(s,"icon",Ev),o=hr(s,"action",Ev);if(g?t.background=g(i,t.background):delete t.background,C){var T=hr(t,"wrapText",!1);T&&(T===!0&&(T="word"),st(t,"text.wrap.mode",T),t.expandTextWidth=!0),t.text=C(i,t.text),T&&(t.text=_0(t.text))}else delete t.text;return M&&t.icon!==null?t.icon=M(i,t.icon):delete t.icon,o&&t.action!==null?t.action=o(i,t.action):delete t.action,t};class md extends Oi{constructor(t,s,g){s=gd(t,s,g),super(t,s),this.type="rexSimpleLabel"}setActiveState(t){var s=this.childrenMap.background;return s&&s.setActiveState&&s.setActiveState(t),this}setHoverState(t){var s=this.childrenMap.background;return s&&s.setHoverState&&s.setHoverState(t),this}setDisableState(t){var s=this.childrenMap.background;return s&&s.setDisableState&&s.setDisableState(t),this}}nt.register("simpleLabel",function(i,t){var s=new md(this.scene,i,t);return this.scene.add.existing(s),s});st(window,"RexPlugins.UI.SimpleLabel",md);const It=Phaser.Utils.Objects.GetValue;class tm extends Pt{constructor(t,s){super(t,s),this.type="rexTitleLabel";var g=It(s,"background",void 0),C=It(s,"icon",void 0),M=It(s,"iconMask",void 0),o=It(s,"title",void 0),T=It(s,"separator",void 0),e=It(s,"text",void 0),u=It(s,"action",void 0),x=It(s,"actionMask",void 0),d=e||o||T;if(g&&this.addBackground(g),C){var l=void 0;this.orientation===0?(d||u)&&(l={right:It(s,"space.icon",0),top:It(s,"space.iconTop",0),bottom:It(s,"space.iconBottom",0)}):(d||u)&&(l={bottom:It(s,"space.icon",0),left:It(s,"space.iconLeft",0),right:It(s,"space.iconRight",0)}),this.add(C,{proportion:0,padding:l}),M&&(M=Ui.call(this,C,C,1))}if(d){var h=new Pt(t,{orientation:1}),n=It(s,"space.separator",0);if(o){var r=It(s,"align.title","right"),l={bottom:!T&&e?n:0};h.add(o,{align:r})}if(T){var l={top:o?n:0,bottom:e?n:0,left:It(s,"space.separatorLeft",0),right:It(s,"space.separatorRight",0)};h.add(T,{expand:!0,padding:l})}if(e){var f=It(s,"align.text","right");h.add(e,{align:f})}var l=void 0;u&&(l={right:It(s,"space.text",0)}),this.add(h,{proportion:1,padding:l})}if(u){var l;this.orientation===0?l={top:It(s,"space.actionTop",0),bottom:It(s,"space.actionBottom",0)}:l={left:It(s,"space.actionLeft",0),right:It(s,"space.actionRight",0)},this.add(u,{proportion:0,padding:l}),x&&(x=Ui.call(this,u,u,1))}this.addChildrenMap("background",g),this.addChildrenMap("icon",C),this.addChildrenMap("iconMask",M),this.addChildrenMap("title",o),this.addChildrenMap("separator",T),this.addChildrenMap("text",e),this.addChildrenMap("action",u),this.addChildrenMap("actionMask",x)}get title(){var t=this.childrenMap.title;return t===void 0?"":t.title}set title(t){var s=this.childrenMap.title;s!==void 0&&s.setText(t)}setTitle(t){return this.title=t,this}appendTitle(t){return this.title+=t,this}get text(){var t=this.childrenMap.text;return t===void 0?"":t.text}set text(t){var s=this.childrenMap.text;s!==void 0&&s.setText(t)}setText(t){return this.text=t,this}appendText(t){return this.text+=t,this}setTexture(t,s){var g=this.childrenMap.icon;if(g!==void 0)return g.setTexture(t,s),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}runLayout(t,s,g){if(this.ignoreLayout)return this;super.runLayout(t,s,g);var C=this.childrenMap.iconMask;C&&(C.setPosition(),this.resetChildPositionState(C));var M=this.childrenMap.actionMask;return M&&(M.setPosition(),this.resetChildPositionState(M)),this}resize(t,s){super.resize(t,s);var g=this.childrenMap.iconMask;g&&g.resize();var C=this.childrenMap.actionMask;return C&&C.resize(),this}}nt.register("titleLabel",function(i){var t=new tm(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.TitleLabel",tm);const Ot=Phaser.Utils.Objects.GetValue,v5=Phaser.Utils.Objects.IsPlainObject;var p5=function(i,t){var s=Ot(t,"background",void 0),g=Ot(t,"icon",void 0),C=Ot(t,"iconMask",void 0),M=Ot(t,"nameText",void 0),o=Ot(t,"valueText",void 0),T=Ot(t,"bar",void 0),e=Ot(t,"action",void 0),u=Ot(t,"actionMask",void 0);v5(T)&&(T=new Du(i,T),i.add.existing(T),M&&i.children.moveBelow(T,M),o&&i.children.moveBelow(T,o));var x=M||o||T;if(s&&this.addBackground(s),g){var d=void 0;this.orientation===0?(x||e)&&(d={right:Ot(t,"space.icon",0),top:Ot(t,"space.iconTop",0),bottom:Ot(t,"space.iconBottom",0)}):(x||e)&&(d={bottom:Ot(t,"space.icon",0),left:Ot(t,"space.iconLeft",0),right:Ot(t,"space.iconRight",0)}),this.add(g,{proportion:0,padding:d}),C&&(C=Ui.call(this,g,g,1))}if(x){var l=new Pt(i,{orientation:1}),h;if(M||o){if(h=new Pt(i,{orientation:0}),M){M.text===""&&M.setText(" "),M.setOrigin(0,M.originY);var d={left:Ot(t,"space.name",0)};h.add(M,{padding:d})}if(o){o.text===""&&o.setText(" "),o.setOrigin(1,o.originY),h.addSpace();var d={right:Ot(t,"space.value",0)};h.add(o,{padding:d}),this.setValueTextFormatCallback(Ot(t,"valueTextFormatCallback",g5),Ot(t,"valueTextFormatCallbackScope",void 0))}l.add(h,{expand:!0})}if(T){var d={top:h?Ot(t,"space.bar",0):0,bottom:Ot(t,"space.barBottom",0),left:Ot(t,"space.barLeft",0),right:Ot(t,"space.barRight",0)};l.add(T,{expand:!0,padding:d})}var d=void 0;e&&(d={right:Ot(t,"space.text",0)});var n=Ot(t,"align.text","bottom");this.add(l,{proportion:1,align:n,padding:d})}if(e){var d;this.orientation===0?d={top:Ot(t,"space.actionTop",0),bottom:Ot(t,"space.actionBottom",0)}:d={left:Ot(t,"space.actionLeft",0),right:Ot(t,"space.actionRight",0)},this.add(e,{proportion:0,padding:d}),u&&(u=Ui.call(this,e,e,1))}this.addChildrenMap("background",s),this.addChildrenMap("icon",g),this.addChildrenMap("iconMask",C),this.addChildrenMap("name",M),this.addChildrenMap("value",o),this.addChildrenMap("bar",T),this.addChildrenMap("action",e),this.addChildrenMap("actionMask",u)},g5=function(i,t,s){return i.toString()};const m5=Phaser.Math.Clamp,x5={setValueTextFormatCallback(i,t){return this.valueTextFormatCallback=i,this.valueTextFormatCallbackScope=t,this},getFormatValueText(i,t,s){i===void 0&&(i=this.value),t===void 0&&(t=this.minValue),s===void 0&&(s=this.maxValue);var g;return this.valueTextFormatCallbackScope?g=this.valueTextFormatCallback(i,t,s):g=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,i,t,s),g},updateValueText(i,t,s){var g=this.childrenMap.value;return g&&this.valueTextFormatCallback&&(g.setText(this.getFormatValueText(i,t,s)),g.layout&&g.layout()),this},setValue(i,t,s){return i=m5(i,t,s),this.value=i,this.minValue=t,this.maxValue=s,this.updateValueText(i,t,s),this.setBarValue(i,t,s),this}};class xd extends Pt{constructor(t,s){super(t,s),this.type="rexNameValueLabel",p5.call(this,t,s)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var s=this.childrenMap.name;s!==void 0&&s.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var s=this.childrenMap.value;s!==void 0&&s.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var s=this.childrenMap.bar;s!==void 0&&s.setValue(t)}setBarValue(t,s,g){var C=this.childrenMap.bar;return C===void 0?this:(C.setValue(t,s,g),this)}easeBarValueTo(t,s,g){var C=this.childrenMap.bar;return C===void 0?this:(C.easeValueTo(t,s,g),this)}setTexture(t,s){var g=this.childrenMap.icon;if(g!==void 0)return g.setTexture(t,s),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}runLayout(t,s,g){if(this.ignoreLayout)return this;super.runLayout(t,s,g);var C=this.childrenMap.iconMask;C&&(C.setPosition(),this.resetChildPositionState(C));var M=this.childrenMap.actionMask;return M&&(M.setPosition(),this.resetChildPositionState(M)),this}resize(t,s){super.resize(t,s);var g=this.childrenMap.iconMask;g&&g.resize();var C=this.childrenMap.actionMask;return C&&C.resize(),this}}Object.assign(xd.prototype,x5);nt.register("nameValueLabel",function(i){var t=new xd(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.NameValueLabel",xd);const Ma=Pt.prototype.add,Pv=Pt.prototype.addSpace;var hl=function(i){var t=!i.isRexSpace,s=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var g=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");g&&Pv.call(this),Ma.call(this,i,{proportion:s,expand:!0});var C=!this.buttonsExpand&&this.buttonsAlign==="center";C&&Pv.call(this),this.hasTailSpace=C}else Ma.call(this,i,{proportion:s,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var M=this.sizerChildren.length-1;Ma.call(this,i,{index:M,proportion:s,expand:!0})}else Ma.call(this,i,{proportion:s,expand:!0});return t&&this.buttonGroup.add(i),this};const y5={addButton(i){if(hi(i))for(var t=i,s=0,g=t.length;s<g;s++)hl.call(this,t[s]);else hl.call(this,i);return this},addButtons(i){for(var t=0,s=i.length;t<s;t++)hl.call(this,i[t]);return this}},T5=Pt.prototype.remove,C5=Pt.prototype.clear;var ol=function(i,t){return this.getParentSizer(i)!==this?this:(this.buttonGroup.remove(i),T5.call(this,i,t),this)};const S5={remove(i,t){if(hi(i))for(var s=i,g=0,C=s.length;g<C;g++)ol.call(this,s[g],t);else ol.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,C5.call(this,i),this},removeButton(s,t){var s=this.getButton(s);return s?(this.remove(s,t),this):this},clearButtons(i){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)ol.call(this,t[s],i);return this}};var E5=function(i,t,s){if(!!i){var g=this.setValueCallback,C=this.setValueCallbackScope;g&&(C?g.call(C,i,t,s):g(i,t,s)),this.fireEvent("button.statechange",i,t,s)}},P5=function(i){var t=this;i._selected=void 0,Object.defineProperty(i,"selected",{get:function(){return i._selected},set:function(s){if(i._selected!==s){var g=i._selected;i._selected=s,E5.call(t,i,s,g)}},enumerable:!0,configurable:!0}),i.selected=!1};const M5={add(i){return this.buttons.push(i),i._click||(i._click=new ms(i,this.clickConfig),i._click.on("click",function(t,s,g,C){this.fireEvent("button.click",s,g,C)},this).on("enable",function(t,s){this.fireEvent("button.enable",s)},this).on("disable",function(t,s){this.fireEvent("button.disable",s)},this),i.on("pointerover",function(t,s,g,C){this.fireEvent("button.over",i,t,C)},this).on("pointerout",function(t,s){this.fireEvent("button.out",i,t,s)},this)),this.buttonsType&&(i.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),P5.call(this,i)),this},addMultiple(i){for(var t=0,s=i.length;t<s;t++)this.add(i[t]);return this}},w5=Phaser.Utils.Array.Remove,A5={remove(i){return this.buttonsType&&delete i.selected,w5(this.buttons,i),this},clear(){if(this.buttonsType)for(var i=this.buttons,t=0,s=i.length;t<s;t++)delete i[t].selected;return this.buttons.length=0,this}};var R5=function(i,t,...s){var g;if(typeof t=="number"){if(g=t,t=this.buttons[g],!t)return}else if(g=this.buttons.indexOf(t),g===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(i,t,g,...s),this.groupName!==void 0?this.eventEmitter.emit(i,t,this.groupName,g,...s):this.eventEmitter.emit(i,t,g,...s)};const or=Phaser.Utils.Objects.GetValue,O5={setButtonsType(i){i===void 0&&(i={});var t=or(i,"buttonsType",i.type);if(this.buttonsType=t,!this.buttonsType)return this;var s,g;switch(s=or(i,"setValueCallback",void 0),g=or(i,"setValueCallbackScope",void 0),s===void 0&&(s=or(i,"setButtonStateCallback",void 0),g=or(i,"setButtonStateCallbackScope",void 0)),this.setValueCallback=s,this.setValueCallbackScope=g,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var i=this.parent,t=this.buttons;i._value=void 0;var s=void 0;return Object.defineProperty(i,"value",{get:function(){return i._value},set:function(g){if(i._value!==g){i._value=g;for(var C=0,M=t.length;C<M;C++){var o=t[C];o.rexSizer.hidden||(s===void 0?o.name===g?o.selected=!0:o.selected=!1:s===C?o.selected=!0:o.selected=!1)}}},enumerable:!0,configurable:!0}),i.on("button.click",function(g){s=this.buttons.indexOf(g),i.value=g.name,s=void 0},this),this},setCheckboxesType(){var i=this.parent;return i.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var i=this.buttons,t=0,s=i.length;t<s;t++){var g=i[t];g.selected=!1}return this},getAllButtonsState(){for(var i={},t=this.buttons,s=0,g=t.length;s<g;s++){var C=t[s];C.rexSizer.hidden||(i[C.name]=C.selected)}return i},setSelectedButtonName(i){return this.parent.value=i,this},getSelectedButtonName(){return this.parent.value},setButtonState(i,t){t===void 0&&(t=!0);for(var s=this.buttons,g=0,C=s.length;g<C;g++){var M=s[g];if(!M.rexSizer.hidden&&M.name===i){M.selected=t;break}}return this},getButtonState(i){for(var t=this.buttons,s=0,g=t.length;s<g;s++){var C=t[s];if(!C.rexSizer.hidden&&C.name===i)return C.selected}}};var b5=function(i,t){if(i)if(hi(i)){for(var s,g=0,C=i.length;g<C;g++)if(s=Mv(i[g],t),s)return s}else{var s;for(var M in i)if(s=Mv(i[M],t),s)return s}else return null},Mv=function(i,t){return i?i.hasOwnProperty("name")?i.name===t?i:null:GetElementByName(i,t):null};const Nh={getButton(i){var t=this.buttons,s,g=typeof i;switch(g){case"number":s=t[i];break;case"string":s=b5(t,i);break;default:s=i,t.indexOf(s)===-1&&(s=void 0);break}return s},setButtonEnable(i,t){var s=this.buttons;if(i===void 0||typeof i=="boolean"){t=i;for(var g=0,C=s.length;g<C;g++)s[g]._click.setEnable(t)}else this.getButton(i)._click.setEnable(t);return this},toggleButtonEnable(i){var t=this.buttons;if(i===void 0||typeof i=="boolean")for(var s=0,g=t.length;s<g;s++)t[s]._click.toggleEnable();else this.getButton(i)._click.toggleEnable();return this},getButtonEnable(i){return i===void 0&&(i=0),this.getButton(i)._click.enable},emitButtonClick(i){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",i),this},showButton(i){return ns(this.getButton(i)),this},hideButton(i){return rs(this.getButton(i)),this},isButtonShown(i){return _u(this.getButton(i)),this},forEachButtton(i,t){for(var s=this.buttons,g=0,C=s.length;g<C;g++)t?i.call(t,s[g],g,s):i(s[g],g,s);return this}};class zh{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var L5={fireEvent:R5};Object.assign(zh.prototype,M5,A5,O5,Nh,L5);const yd={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(i){return this.buttonGroup.setSelectedButtonName(i),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(i,t){return this.buttonGroup.setButtonState(i,t),this},getButtonState(i){return this.buttonGroup.getButtonState(i)}},bs=Phaser.Utils.Objects.GetValue;class ne extends Pt{constructor(t,s){s===void 0&&(s={});var g=s.space;typeof g=="number"&&(s.space={item:g}),super(t,s),this.type="rexButtons",this.buttonGroup=new zh({parent:this,eventEmitter:bs(s,"eventEmitter",this),groupName:bs(s,"groupName",void 0),clickConfig:bs(s,"click",void 0)}).setButtonsType(s);var C=bs(s,"background",void 0),M=bs(s,"buttons",void 0);this.buttonsExpand=bs(s,"expand",!1),this.buttonsAlign=bs(s,"align",void 0),C&&this.addBackground(C),M&&this.addButtons(M),this.addChildrenMap("background",C),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(ne.prototype,y5,S5,Nh,yd);nt.register("buttons",function(i){var t=new ne(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Buttons",ne);const F5=$i.prototype.add,D5={addButton(i,t,s){return F5.call(this,i,t,s,void 0,0,this.buttonsExpand),this.buttonGroup.add(i),this},addButtons(i,t){for(var s=0,g=i;s<g;s++)this.addButton(i[s],void 0,t);return this}},I5=$i.prototype.remove,B5=$i.prototype.clear;var ll=function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),I5.call(this,s,t),this):this};const G5={remove(i,t){if(hi(i))for(var s=i,g=0,C=s.length;g<C;g++)ll.call(this,s[g],t);else ll.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,B5.call(this,i),this},removeButton(i,t){return this.remove(i,t),this},clearButtons(i){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)ll.call(this,t[s],i);return this}},mi=Phaser.Utils.Objects.GetValue;class Xr extends $i{constructor(t,s){s===void 0&&(s={});var g=mi(s,"row",0),C=mi(s,"column",s.col||0),M=mi(s,"createCellContainerCallback"),o=mi(s,"buttons",void 0),T=mi(s,"expand",!0),e=T?1:0;if(M&&(s.createCellContainerCallback=void 0),o!==void 0){g=Math.max(g,o.length);for(var u=0,x=o.length;u<x;u++)C=Math.max(C,o[u].length)}s.row=g,s.column=C,s.columnProportions=e,s.rowProportions=e,super(t,s),this.type="rexGridButtons",this.buttonGroup=new zh({parent:this,eventEmitter:mi(s,"eventEmitter",this),groupName:mi(s,"groupName",void 0),clickConfig:mi(s,"click",void 0)}).setButtonsType(s);var d=mi(s,"background",void 0);if(this.buttonsExpand=T,mi(s,"space",void 0),d&&this.addBackground(d),o)for(var l,h,n=0,r=o.length;n<r;n++){l=o[n];for(var f=0,a=l.length;f<a;f++)h=l[f],h&&this.addButton(h,f,n)}else if(M)for(var c=0;c<g;c++)for(var p=0;p<C;p++){var h=M(t,p,c);h&&this.addButton(h,p,c)}this.addChildrenMap("background",d),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Xr.prototype,D5,G5,Nh,yd);nt.register("gridButtons",function(i){var t=new Xr(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.GridButtons",Xr);const em=ys.prototype.add;var wa=function(i){return em.call(this,i),this.buttonGroup.add(i),this};const N5={addButton(i){if(hi(i))for(var t=i,s=0,g=t.length;s<g;s++)wa.call(this,t[s]);else wa.call(this,i);return this},addButtons(i){if(hi(i[0]))for(var t=i,s,g=0,C=t.length-1;g<=C;g++){s=t[g];for(var M=0,o=s.length;M<o;M++)wa.call(this,s[M]);g>C&&em.addNewLine(this)}else for(var M=0,o=i.length;M<o;M++)wa.call(this,i[M]);return this}},z5=ys.prototype.remove,V5=ys.prototype.clear;var ul=function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),z5.call(this,s,t),this):this};const U5={remove(i,t){if(hi(i))for(var s=i,g=0,C=s.length;g<C;g++)ul.call(this,s[g],t);else ul.call(this,i,t);return this},clear(i){var t=this.buttonGroup.buttons;return t.length=0,V5.call(this,i),this},removeButton(i,t){return this.remove(i,t),this},clearButtons(i){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)ul.call(this,t[s],i);return this}},pn=Phaser.Utils.Objects.GetValue;class fs extends ys{constructor(t,s){s===void 0&&(s={});var g=s.space;typeof g=="number"&&(s.space={item:g,line:g}),super(t,s),this.type="rexFixWidthButtons",this.buttonGroup=new zh({parent:this,eventEmitter:pn(s,"eventEmitter",this),groupName:pn(s,"groupName",void 0),clickConfig:pn(s,"click",void 0)}).setButtonsType(s);var C=pn(s,"background",void 0),M=pn(s,"buttons",void 0);this.buttonsAlign=pn(s,"align",void 0),C&&this.addBackground(C),M&&this.addButtons(M),this.addChildrenMap("background",C),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(fs.prototype,N5,U5,Nh,yd);nt.register("fixWidthButtons",function(i){var t=new fs(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.FixWidthButtons",fs);const Y5={setAccept(i){return this.childrenMap.fileChooser.setAccept(i),this},setMultiple(i){return this.childrenMap.fileChooser.setMultiple(i),this},loadFile(i,t,s,g,C){return this.childrenMap.fileChooser.loadFile(i,t,s,g,C),this},loadFilePromise(i,t,s,g){return this.childrenMap.fileChooser.loadFilePromise(i,t,s,g)}},wv=Phaser.Utils.Objects.GetValue;class Td extends Oi{constructor(t,s){super(t,s),this.type="rexFileSelectorButton";var g=new Ih(t);t.add.existing(g),this.addBackground(g),this.addChildrenMap("fileChooser",g),this.setAccept(wv(s,"accept","")),this.setMultiple(wv(s,"multiple",!1)),g.on("change",function(C){var M=C.files;M.length!==0&&(M=Array.from(M),this.emit("select",M,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(Td.prototype,Y5);nt.register("fileSelectorButton",function(i){var t=new Td(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.FileSelectorButton",Td);const X5={getChoice(i){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(i)},getAction(i){return this.childrenMap.actionsSizer.getButton(i)},getToolbar(i){return this.childrenMap.toolbarSizer.getButton(i)},getLeftToolbar(i){return this.childrenMap.leftToolbarSizer.getButton(i)},setChoiceEnable(i,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonEnable(i,t),this},setActionEnable(i,t){return this.childrenMap.actionsSizer.setButtonEnable(i,t),this},setToolbarEnable(i,t){return this.childrenMap.toolbarSizer.setButtonEnable(i,t),this},setLeftToolbarEnable(i,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(i,t),this},toggleChoiceEnable(i){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(i),this},toggleActionEnable(i){return this.childrenMap.actionsSizer.toggleButtonEnable(i),this},toggleToolbarEnable(i){return this.childrenMap.toolbarSizer.toggleButtonEnable(i),this},toggleLeftToolbarEnable(i){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(i),this},getChoiceEnable(i){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(i):!1},getActionEnable(i){return this.childrenMap.actionsSizer.getButtonEnable(i)},getToolbarEnable(i){return this.childrenMap.toolbarSizer.getButtonEnable(i)},getLeftToolbarEnable(i){return this.childrenMap.leftToolbarSizer.getButtonEnable(i)},emitChoiceClick(i){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(i),this},emitActionClick(i){return this.childrenMap.actionsSizer.emitButtonClick(i),this},emitToolbarClick(i){return this.childrenMap.toolbarSizer.emitButtonClick(i),this},emitLeftToolbarClick(i){return this.childrenMap.leftToolbarSizer.emitButtonClick(i),this},showChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.showButton(i),this},showAction(i){return this.childrenMap.actionsSizer.showButton(i),this},showToolbar(i){return this.childrenMap.toolbarSizer.showButton(i),this},showLeftToolbar(i){return this.childrenMap.leftToolbarSizer.showButton(i),this},hideChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(i),this},hideAction(i){return this.childrenMap.actionsSizer.hideButton(i),this},hideToolbar(i){return this.childrenMap.toolbarSizer.hideButton(i),this},hideLeftToolbar(i){return this.childrenMap.leftToolbarSizer.hideButton(i),this},addChoice(i){var t=this.childrenMap.choicesSizer;return t&&t.addButton(i),this},addAction(i){return this.childrenMap.actionsSizer.addButton(i),this},addToolbar(i){return this.childrenMap.toolbarSizer.addButton(i),this},addLeftToolbar(i){return this.childrenMap.leftToolbarSizer.addButton(i),this},removeChoice(i,t){var s=this.childrenMap.choicesSizer;return s&&s.removeButton(i,t),this},removeAction(i,t){return this.childrenMap.actionsSizer.removeButton(i,t),this},removeToolbar(i,t){return this.childrenMap.toolbarSizer.removeButton(i,t),this},removeLeftToolbar(i,t){return this.childrenMap.leftToolbarSizer.removeButton(i,t),this},clearChoices(i){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(i),this},clearActions(i){return this.childrenMap.actionsSizer.clearButtons(i),this},clearToolbar(i){return this.childrenMap.toolbarSizer.clearButtons(i),this},clearLeftToolbar(i){return this.childrenMap.leftToolbarSizer.clearButtons(i),this},forEachChoice(i,t){var s=this.childrenMap.choicesSizer;return s&&s.forEachButtton(i,t),this},forEachAction(i,t){return this.childrenMap.actionsSizer.forEachButtton(i,t),this},forEachToolbar(i,t){return this.childrenMap.toolbarSizer.forEachButtton(i,t),this},forEachLeftToolbar(i,t){return this.childrenMap.leftToolbarSizer.forEachButtton(i,t),this},setAllButtonsEnable(i){return i===void 0&&(i=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(i),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(i),this.childrenMap.actionsSizer&&this.setActionEnable(i),this.childrenMap.choicesSizer&&this.setChoiceEnable(i),this},getChoicesButtonStates(){var i=this.childrenMap.choicesSizer;return i?i.getAllButtonsState():{}},getChoicesButtonState(i){var t=this.childrenMap.choicesSizer;return i===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(i):!1},setChoicesButtonState(i,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonState(i,t),this},clearChoicesButtonStates(){var i=this.childrenMap.choicesSizer;return i&&i.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var i=this.childrenMap.choicesSizer;return i?i.getSelectedButtonName():""},setChoicesSelectedButtonName(i){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(i),this}},k5={onCreateModalBehavior(i){i.on("button.click",function(t,s,g,C,M){if(s==="actions"){var o={index:g,text:t.text,button:t,dialog:i};switch(i.buttonsType){case"radio":o.value=i.getChoicesSelectedButtonName();break;case"checkboxes":o.value=i.getChoicesButtonStates();break;default:o.value=void 0}i.modalClose(o)}})},modal(i,t){return i&&i.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,sd.modal.call(this,i,t),this}};var im={};Object.assign(im,X5,k5);const ut=Phaser.Utils.Objects.GetValue;class kr extends Pt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexDialog",this.eventEmitter=ut(s,"eventEmitter",this);var g=ut(s,"background",void 0),C=ut(s,"title",void 0),M=ut(s,"toolbar",void 0),o=ut(s,"toolbarBackground",void 0),T=ut(s,"leftToolbar",void 0),e=ut(s,"leftToolbarBackground",void 0),u=ut(s,"content",void 0),x=ut(s,"description",void 0),d,l=ut(s,"choices",void 0),h=ut(s,"choicesBackground",void 0),n,r=ut(s,"actions",void 0),f=ut(s,"actionsBackground",void 0),a=ut(s,"click",void 0);g&&this.addBackground(g);var c;M&&(c=new ne(t,{groupName:"toolbar",background:o,buttons:M,orientation:0,space:{item:ut(s,"space.toolbarItem",0)},click:a,eventEmitter:this.eventEmitter}));var p;if(T&&(p=new ne(t,{groupName:"leftToolbar",background:e,buttons:T,orientation:0,space:{item:ut(s,"space.leftToolbarItem",0)},click:a,eventEmitter:this.eventEmitter})),C||M||T){var v=!!C&&ut(s,"expand.title",!0),m=ut(s,"align.title","center"),y=C&&!v&&m==="center"||!C&&(M||T),E=!y,P;E?P=new Pt(t,{orientation:0}):P=new Ne(t);var S=E?!0:{height:!0};if(p&&P.add(p,{align:"left",expand:S}),C){E&&!v&&m==="right"&&P.addSpace();var A={left:ut(s,"space.titleLeft",0),right:ut(s,"space.titleRight",0)},R=v?1:0;P.add(C,{align:m,proportion:R,expand:S,padding:A}),E&&!v&&m==="left"&&P.addSpace()}c&&(E&&!C&&P.addSpace(),P.add(c,{align:"right",expand:S}));var w=ut(s,"space.title",0),A;(u||x||l||r)&&(A={bottom:w});var R=ut(s,"proportion.title",0);this.add(P,{padding:A,proportion:R,expand:!0})}if(u){var O=ut(s,"align.content","center"),L=ut(s,"space.content",0),A={left:ut(s,"space.contentLeft",0),right:ut(s,"space.contentRight",0),bottom:x||l||r?L:0},R=ut(s,"proportion.content",0),b=ut(s,"expand.content",!0);this.add(u,{align:O,padding:A,proportion:R,expand:b})}if(x){var O=ut(s,"align.description","center"),D=ut(s,"space.description",0),A={left:ut(s,"space.descriptionLeft",0),right:ut(s,"space.descriptionRight",0),bottom:l||r?D:0},R=ut(s,"proportion.description",0),b=ut(s,"expand.description",!0);this.add(x,{align:O,padding:A,proportion:R,expand:b})}if(l){var I=ut(s,"choicesType","").split("-"),B=lr(I,"wrap")?fs:lr(I,"grid")?Xr:ne,V=lr(I,"radio")?"radio":lr(I,"checkboxes")?"checkboxes":void 0,Y={left:ut(s,"space.choicesBackgroundLeft",0),right:ut(s,"space.choicesBackgroundRight",0),top:ut(s,"space.choicesBackgroundTop",0),bottom:ut(s,"space.choicesBackgroundBottom",0)},k=ut(s,"space.choice",0);B===ne?Y.item=k:B===fs?(Y.item=k,Y.line=ut(s,"space.choiceLine",k)):(Y.column=ut(s,"space.choiceColumn",k),Y.row=ut(s,"space.choiceRow",k));var W={width:ut(s,"choicesWidth",void 0),height:ut(s,"choicesHeight",void 0),groupName:"choices",buttonsType:V,background:h,buttons:l,space:Y,click:a,eventEmitter:this.eventEmitter,setValueCallback:ut(s,"choicesSetValueCallback",void 0),setValueCallbackScope:ut(s,"choicesSetValueCallbackScope",void 0)};B===ne&&(W.orientation=lr(I,"x")?0:1),d=new B(t,W);var G=ut(s,"space.choices",0),A={left:ut(s,"space.choicesLeft",0),right:ut(s,"space.choicesRight",0),bottom:r?G:0},O=ut(s,"align.choices","center"),R=ut(s,"proportion.choices",0),b=ut(s,"expand.choices",!0);this.add(d,{align:O,padding:A,proportion:R,expand:b}),this.buttonsType=V}if(r){n=new ne(t,{groupName:"actions",background:f,buttons:r,orientation:0,space:{item:ut(s,"space.action",0)},expand:ut(s,"expand.actions",!1),align:ut(s,"align.actions","center"),click:a,eventEmitter:this.eventEmitter});var A={left:ut(s,"space.actionsLeft",0),right:ut(s,"space.actionsRight",0)},R=ut(s,"proportion.action",0);this.add(n,{align:"center",padding:A,proportion:R,expand:!0})}ur(this,"click"),ur(this,"over"),ur(this,"out"),ur(this,"enable"),ur(this,"disable"),this.addChildrenMap("background",g),this.addChildrenMap("title",C),this.addChildrenMap("toolbar",M),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",u),this.addChildrenMap("description",x),this.addChildrenMap("choices",d?d.buttons:void 0),this.addChildrenMap("actions",n?n.buttons:void 0),this.addChildrenMap("choicesSizer",d),this.addChildrenMap("actionsSizer",n),this.addChildrenMap("toolbarSizer",c),this.addChildrenMap("leftToolbarSizer",p)}}var lr=function(i,t){return i.indexOf(t)!==-1},Av={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},ur=function(i,t){i.on(`button.${t}`,function(s,g,C,M,o){!Av.hasOwnProperty(g)||i.emit(`${Av[g]}.${t}`,s,C,M,o)})};Object.assign(kr.prototype,im);nt.register("dialog",function(i){var t=new kr(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Dialog",kr);var ke=function(i,t,s){var g=new md(i,t,s);return i.add.existing(g),g},W5=function(i){return i===void 0&&(i={}),H5.call(this,i),$5.call(this,i),K5.call(this,i),Z5.call(this,i),this},H5=function(i){var t=this.childrenMap.title;t.resetDisplayContent(i.title)},$5=function(i){var t=this.childrenMap.content;if(t.resetDisplayContent)t.resetDisplayContent(i.content);else{var s=i.content||"";t.setText(s)}},K5=function(i){var t=this.childrenMap.actions;if(!!t){var s=i.buttons;if(s){for(var M=this.scene,o=this.defaultActionConfig,T=this.defaultActionButtonCreator,e=0,u=s.length;e<u;e++){var x=s[e],d=t[e];d||(d=ke(M,o,T),this.addAction(d)),d.show().resetDisplayContent(x)}this.buttonMode=s.length;for(var e=s.length,u=t.length;e<u;e++)t[e].hide()}else{var g=t[0];g&&g.resetDisplayContent(i.buttonA);var C=t[1];C&&C.resetDisplayContent(i.buttonB)}}},Z5=function(i){var t=this.childrenMap.choices;if(!!t){var s=i.choices;s||(s=[]);for(var g=this.scene,C=this.defaultChoiceConfig,M=this.defaultActionButtonCreator,o=0,T=s.length;o<T;o++){var e=s[o];typeof e=="string"&&(e={text:e});var u=t[o];u||(u=ke(g,C,M),this.addChoice(u)),u.show().resetDisplayContent(e);var x;e.hasOwnProperty("value")?x=e.value:x=e.text,u.setName(x)}for(var o=s.length,T=t.length;o<T;o++)t[o].hide()}},J5=function(i,t){ds(i)&&(t=i,i=void 0),i===void 0&&(i={});var s=this.buttonMode===0;return i.hasOwnProperty("anyTouchClose")||(i.anyTouchClose=s),i.hasOwnProperty("manualClose")||(i.manualClose=!s),sd.modal.call(this,i,t),this},j5={resetDisplayContent:W5,modal:J5},Q5=function(i){i.setHoverState&&i.setHoverState(!0)},q5=function(i){i.setHoverState&&i.setHoverState(!1)},_5=function(i,t,s,g){i.setActiveState&&i.setActiveState(g)},t6=function(i){i.setDisableState&&i.setDisableState(!1)},e6=function(i){i.setDisableState&&i.setDisableState(!0)},i6=function(){this.on("button.over",Q5).on("button.out",q5).on("button.enable",t6).on("button.disable",e6).on("button.statechange",_5)};const sm={v:0,vertical:0,y:0,h:1,horizontal:1,x:1},s6=Phaser.Utils.Objects.GetValue;var Vh=function(i,t){var s=s6(i,"scrollMode",0);return typeof s=="string"&&(s=sm[s]),s};const Rv=Phaser.Math.Percent;var nm=function(i,t,s){var g;return i.y===t.y?g=Rv(s.x,i.x,t.x):i.x===t.x&&(g=Rv(s.y,i.y,t.y)),g},n6=function(i,t,s){if(!!this.enable){dl.x=t,dl.y=s;var g,C;this.reverseAxis?(g=this.getEndPoint(),C=this.getStartPoint()):(g=this.getStartPoint(),C=this.getEndPoint()),this.value=nm(g,C,dl)}},dl={},Ov=function(i,t,s){if(!!this.enable&&!!i.isDown){fl.x=i.worldX,fl.y=i.worldY;var g,C;this.reverseAxis?(g=this.getEndPoint(),C=this.getStartPoint()):(g=this.getStartPoint(),C=this.getEndPoint());var M=nm(g,C,fl);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-M)<.1?this.value=M:this.easeValueTo(M)}},fl={},rm=function(i,t){t===void 0&&(t=r6);var s=this.childrenMap.thumb,g=s.x,C=s.y;return Ir(s,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,i),t.x=s.x,t.y=s.y,s.x=g,s.y=C,t},r6={};const a6=Phaser.Display.Align.LEFT_CENTER,h6=Phaser.Display.Align.TOP_CENTER;var o6=function(i){if(i===void 0&&(i=l6),this.childrenMap.thumb){var t=this.orientation===0?a6:h6;rm.call(this,t,i)}else this.orientation===0?(i.x=this.innerLeft+1,i.y=this.centerY):(i.x=this.centerX,i.y=this.innerTop+1);return i},l6={};const u6=Phaser.Display.Align.RIGHT_CENTER,d6=Phaser.Display.Align.BOTTOM_CENTER;var f6=function(i){if(i===void 0&&(i=c6),this.childrenMap.thumb){var t=this.orientation===0?u6:d6;rm.call(this,t,i)}else this.orientation===0?(i.x=this.innerRight-1,i.y=this.centerY):(i.x=this.centerX,i.y=this.innerBottom-1);return i},c6={};const bv=Phaser.Math.Linear;var v6=function(i,t,s,g){return g===void 0&&(g=p6),g.x=bv(t.x,s.x,i),g.y=bv(t.y,s.y,i),g},p6={},g6=function(i){var t=this.childrenMap.thumb;if(t===void 0)return this;i===void 0&&(i=this.value);var s,g;return this.reverseAxis?(s=this.getEndPoint(),g=this.getStartPoint()):(s=this.getStartPoint(),g=this.getEndPoint()),v6(i,s,g,t),this.resetChildPositionState(t),this};const m6=Phaser.Display.Align.LEFT_CENTER,x6=Phaser.Display.Align.TOP_CENTER,y6=Phaser.Display.Align.RIGHT_CENTER,T6=Phaser.Display.Align.BOTTOM_CENTER;var C6=function(i){var t=this.childrenMap.indicator;if(t===void 0)return this;i===void 0&&(i=this.value);var s=this.reverseAxis,g,C,M=this.childrenMap.thumb;if(M)if(this.orientation===0){var o=bt(M);if(s){var T=M.x-o*M.originX;g=this.right-T}else{var T=M.x-o*M.originX,e=T+o;g=e-this.left}}else{var u=wt(M);if(s){var x=M.y-u*M.originY;C=this.bottom-x}else{var x=M.y-u*M.originY,d=x+u;C=d-this.top}}else this.orientation===0?g=this.width*i:C=this.height*i;oi(t,g,C);var l;s?l=this.orientation===0?y6:T6:l=this.orientation===0?m6:x6,p0(t,this,l),this.resetChildPositionState(t)};const ti=Phaser.Utils.Objects.GetValue,Aa=Phaser.Utils.Objects.IsPlainObject,S6=Phaser.Math.Clamp,E6=Phaser.Math.Snap.To;class $s extends Ws(Pt){constructor(t,s){super(t,s),this.type="rexSlider",this.bootProgressBase(s),this.reverseAxis=ti(s,"reverseAxis",!1);var g=ti(s,"background",void 0),C=ti(s,"track",void 0),M=ti(s,"indicator",void 0),o=ti(s,"thumb",void 0);g&&(Aa(g)&&(g=Xe(t,g)),this.addBackground(g)),C&&(Aa(C)&&(C=Xe(t,C)),this.add(C,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),M&&(Aa(M)&&(M=Xe(t,M)),this.pin(M)),o&&(Aa(o)&&(o=Xe(t,o)),this.pin(o));var T=ti(s,"input",0);switch(typeof T=="string"&&(T=P6[T]),T){case 0:o&&(o.setInteractive(),this.scene.input.setDraggable(o),o.on("drag",n6,this).on("dragstart",function(e){this.eventEmitter.emit("inputstart",e)},this).on("dragend",function(e){this.eventEmitter.emit("inputend",e)},this));break;case 1:this.on("pointerdown",Ov,this).on("pointermove",Ov,this).on("pointerdown",function(e){this.eventEmitter.emit("inputstart",e)},this).on("pointerup",function(e){this.eventEmitter.emit("inputend",e)},this).on("pointerover",function(e){e.isDown&&this.eventEmitter.emit("inputstart",e)},this).on("pointerout",function(e){e.isDown&&this.eventEmitter.emit("inputend",e)},this).setInteractive();break}this.addChildrenMap("background",g),this.addChildrenMap("track",C),this.addChildrenMap("indicator",M),this.addChildrenMap("thumb",o),this.setEnable(ti(s,"enable",void 0)),this.setGap(ti(s,"gap",void 0)),this.setValue(ti(s,"value",0),ti(s,"min",void 0),ti(s,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,s,g){return t&&s!==void 0&&(t=t/(g-s)),this.gap=t,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=E6(t,this.gap));var s=this._value;this._value=S6(t,0,1),s!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,s,this.eventEmitter))}runLayout(t,s,g){return this.ignoreLayout?this:(super.runLayout(t,s,g),this.updateThumb(),this.updateIndicator(),this)}}const P6={pan:0,drag:0,click:1,none:-1};var M6={getStartPoint:o6,getEndPoint:f6,updateThumb:g6,updateIndicator:C6};Object.assign($s.prototype,M6);const Me=Phaser.Utils.Objects.GetValue;class Uh extends Pt{constructor(t,s){super(t,s),this.type="rexScrollBar";var g=Me(s,"background",void 0),C=Me(s,"buttons",void 0),M=Me(C,"top",Me(C,"left",void 0)),o=Me(C,"bottom",Me(C,"right",void 0)),T,e=Me(s,"slider",void 0);if(g&&this.addBackground(g),M){this.add(M);var u=new Bn(M);u.on("intouch",function(){if(!!this.enable){var f=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=f}},this)}if(e){e.orientation=this.orientation,e.eventEmitter=this,e.value=null;var x;if(this.orientation===0){var d=Me(e,"width",void 0);x=d===void 0?1:0}else{var l=Me(e,"height",void 0);x=l===void 0?1:0}T=new $s(t,e),t.add.existing(T),this.add(T,{proportion:x})}if(o){this.add(o);var u=new Bn(o);u.on("intouch",function(){if(!!this.enable){var a=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=a}},this)}var h=[M,o];this.addChildrenMap("background",g),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",h);var n=Me(s,"valuechangeCallback",null);if(n!==null){var r=Me(s,"valuechangeCallbackScope",void 0);this.on("valuechange",n,r)}this.setEnable(Me(s,"enable",void 0)),this.setValue(Me(s,"value",0)),this.setScrollStep(Me(C,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){!this.childrenMap.slider||(this.childrenMap.slider.value=t)}setValue(t,s,g){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,g),this}addValue(t,s,g){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,g),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,g){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,g),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}}class w6 extends Uh{constructor(t,s){s===void 0&&(s={});var g=zs(s);s={slider:g},s.orientation=g.orientation,delete g.orientation,s.background=g.background,delete g.background,s.buttons=g.buttons,delete g.buttons,super(t,s);var C=this.childrenMap.slider;this.addChildrenMap("track",C.childrenMap.track),this.addChildrenMap("indicator",C.childrenMap.indicator),this.addChildrenMap("thumb",C.childrenMap.thumb)}}class A6 extends Hi{constructor(t,s){super(s),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,s=this.parent,g=s.dragState;return g.isDown&&(t=s.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,s){this.next()}next_DRAGBEGIN(){var t,s=this.parent,g=s.dragState;return g.isDown?t=g.pointer.getDistance()>=s.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,s){this.next()}next_DRAG(){var t,s=this.parent,g=s.dragState;return g.isUp&&(s.outOfBounds?t="BACK":s.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,s){var g=this.parent,C=g.dragState;C.justMoved&&g.dragging(),this.next()}enter_DRAG(){this.parent.onDragStart()}exit_DRAG(){this.parent.onDragEnd()}next_SLIDE(){var t,s=this.parent,g=s.dragState;return g.isDown?t="DRAG":s.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,s){this.parent.sliding(t,s),this.next()}next_BACK(){var t,s=this.parent,g=s.dragState;return g.isDown?t="DRAG":s.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,s){this.parent.pullBack(t,s),this.next()}}const Ra=Phaser.Utils.Objects.GetValue,R6=Phaser.Math.Distance.Between;class O6 extends re{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(Ra(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(Ra(t,"enable",!0)),this.holdThreshold=Ra(t,"holdThreshold",50),this.pointerOutReleaseEnable=Ra(t,"pointerOutRelease",!0),this}boot(){this.parent.on("pointerdown",this.onPointIn,this),this.parent.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&this.parent.on("pointerout",this.onPointOut,this),this.parent.on("pointermove",this.onPointerMove,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=Au(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=R6(this.preX,this.preY,this.x,this.y),s=t/(this.dt*.001);return s}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,s,g){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.localX=s,this.localY=g)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,s,g){!this.enable||!t.isDown||this.pointer!==t||(this.localX=s,this.localY=g)}preupdate(t,s){if(!!this.enable){var g=this.pointer;this.justMoved=!1,g&&!this.isInTouched?(this.x=g.worldX,this.y=g.worldY,this.preX=g.worldX,this.preY=g.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",g,this.localX,this.localY)):g&&this.isInTouched?this.x===g.x&&this.y===g.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=g.worldX,this.y=g.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",g,this.localX,this.localY)):!g&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",g))}}}const cl=Phaser.Utils.Objects.GetValue;class b6{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(cl(t,"value",0)),this.setSpeed(cl(t,"speed",0)),this.setAcceleration(cl(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class L6{constructor(){this.value,this.dir,this.movement=new b6}init(t,s,g,C,M){return this.value=t,this.end=M,M!==void 0?this.dir=t<M:this.dir=s,this.movement.setSpeed(g).setAcceleration(-C),this}stop(){this.movement.reset()}update(t){var s=this.movement.getDeltaValue(t);return this.dir||(s=-s),this.end===void 0?this.value+=s:s===0?this.value=this.end:(this.value+=s,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const Wt=Phaser.Utils.Objects.GetValue,F6=Phaser.Math.Clamp;class D6 extends re{constructor(t,s){super(t,s);var g=Wt(s,"enable",!0);this._state=new A6(this,{enable:g,eventEmitter:!1});var C={inputConfig:Wt(s,"inputConfig",void 0),enable:g,pointerOutRelease:Wt(s,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new O6(t,C),this._enable=void 0,this._value=void 0,this._slowDown=new L6;var M=Wt(s,"valuechangeCallback",null);if(M!==null){var o=Wt(s,"valuechangeCallbackScope",void 0);this.on("valuechange",M,o)}if(M=Wt(s,"overmaxCallback",null),M!==null){var o=Wt(s,"overmaxCallbackScope",void 0);this.on("overmax",M,o)}if(M=Wt(s,"overminCallback",null),M!==null){var o=Wt(s,"overminCallbackScope",void 0);this.on("overmin",M,o)}this.resetFromJSON(s),this.boot()}resetFromJSON(t){this.setOrientationMode(Wt(t,"orientation",0)),this.setDragThreshold(Wt(t,"threshold",10)),this.setSlidingDeceleration(Wt(t,"slidingDeceleration",5e3)),this.setBackDeceleration(Wt(t,"backDeceleration",2e3));var s=Wt(t,"dragRate",1);s=s*(Wt(t,"dragReverse",!1)?-1:1),this.setDragRate(s);var g=Wt(t,"bounds",void 0);return g?this.setBounds(g):this.setBounds(Wt(t,"max",0),Wt(t,"min",0)),this.setValue(Wt(t,"value",this.maxValue||0)),this.setEnable(Wt(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=I6[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,s){if(Array.isArray(t)){var g=t;t=g[0],s=g[1]}return t<s?(this.minValue=t,this.maxValue=s):(this.minValue=s,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var s=this._value,g=this.overMax(t),C=this.overMin(t);g&&this.emit("overmax",t,s),C&&this.emit("overmin",t,s),this.backEnable||(g&&(t=this.maxValue),C&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,s)}}setValue(t,s){return s===void 0&&(s=!1),s&&(t=F6(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,s){return this.setValue(this.value+t,s),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}onDragStart(){this.emit("dragstart")}onDragEnd(){this.emit("dragend")}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,s=this.dragSpeed;if(s===0){this._slowDown.stop(),this._state.next();return}var g=this.slidingDeceleration;this._slowDown.init(t,s>0,Math.abs(s),g)}sliding(t,s){s*=.001;var g=this._slowDown.update(s).value;this.overMax(g)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(g)?(this.value=this.minValue,this._slowDown.stop()):this.value=g}onPullBack(){var t=this.value,s=this.outOfMinBound?this.minValue:this.maxValue,g=Math.abs(s-t),C=this.backDeceleration,M=Math.sqrt(2*C*g);this._slowDown.init(t,void 0,M,C,s)}pullBack(t,s){s*=.001,this.value=this._slowDown.update(s).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}}const I6={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Oa=Phaser.Utils.Objects.GetValue;class B6 extends re{constructor(t,s){if(super(t,s),this.parent!==this.scene?this.focusMode=Oa(s,"focus",!1):this.focusMode=!1,this.setSpeed(Oa(s,"speed",.1)),this.setEnable(Oa(s,"enable",!0)),!this.focusMode)this.scene.input.on("wheel",this.onSceneScroll,this);else{var t=this.parent;t.setInteractive(Oa(s,"inputConfig",void 0)).on("wheel",function(C,M,o,T,e){!this.enable||this.scroll(o)},this)}}destroy(){this.focusMode||this.scene.input.off("wheel",this.onSceneScroll,this)}onSceneScroll(t,s,g,C,M,o){!this.enable||this.scroll(C)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}scroll(t){t*=this.speed,this.emit("scroll",t,this.parent,this)}}const Ht=Phaser.Utils.Objects.GetValue;var G6=function(i,t){var s=i.scene,g=Vh(t),C=new Pt(s,{orientation:g}),M=Ht(t,"child.gameObject",void 0),o=0,T=Ht(t,"slider",void 0),e,u=0,x=Ht(T,"position",0);typeof x=="string"&&(x=N6[x]);var d=x===0,l=Ht(t,"scroller",!0),h,n=Ht(t,"mouseWheelScroller",!1),r;if(M){var f=Ht(t,"space.child",0);if(i.childMargin={},typeof f!="number"){var a=f;g===0?(o={left:Ht(a,"left",0),right:Ht(a,"right",0)},i.childMargin.top=Ht(a,"top",0),i.childMargin.bottom=Ht(a,"bottom",0)):(o={top:Ht(a,"top",0),bottom:Ht(a,"bottom",0)},i.childMargin.top=Ht(a,"left",0),i.childMargin.bottom=Ht(a,"right",0))}else T&&(g===0?o=d?{right:f}:{left:f}:o=d?{bottom:f}:{top:f}),i.childMargin.top=0,i.childMargin.bottom=0;T?(T===!0&&(T={}),T.orientation=C.orientation===0?1:0,e=new w6(s,T),u=Ht(t,"space.slider",0),i.hideUnscrollableSlider=Ht(T,"hideUnscrollableSlider",!1),i.adaptThumbSizeMode=Ht(T,"adaptThumbSize",!1),i.minThumbSize=Ht(T,"minThumbSize",void 0)):(i.adaptThumbSizeMode=!1,i.minThumbSize=void 0),l&&(l===!0&&(l={}),l.orientation=g,h=new D6(M,l)),n&&(r=new B6(M,n)),e&&!d&&C.add(e,{proportion:0,align:"center",padding:u,expand:!0});var c=Ht(t,"child.proportion",1),p=Ht(t,"child.expand",!0);C.add(M,{proportion:c,align:"center",padding:o,expand:p}),e&&d&&C.add(e,{proportion:0,align:"center",padding:u,expand:!0})}return e&&e.on("valuechange",function(v){i.t=v,i.emit("scroll",i)}),h&&h.on("valuechange",function(v){i.childOY=v,i.emit("scroll",i)}),r&&r.on("scroll",function(v){i.addChildOY(-v,!0)}),i.addChildrenMap("child",M),i.addChildrenMap("slider",e),i.addChildrenMap("scroller",h),i.addChildrenMap("mouseWheelScroller",r),C},N6={right:0,left:1,bottom:0,top:1},z6=function(){var i=this.topChildOY,t=this.bottomChildOY,s=this.childrenMap.scroller,g=this.childrenMap.slider;return s&&s.setBounds(t,i),g&&g.setEnable(t!==i),this.updateController(),g&&(this.hideUnscrollableSlider&&this.setChildVisible(g,this.isOverflow),this.adaptThumbSizeMode&&V6.call(this)),this},V6=function(){var i=Math.min(this.childVisibleHeight/this.childHeight,1),t=this.childrenMap.slider,s=t.childrenMap.track,g=t.childrenMap.thumb,C=this.minThumbSize;if(this.scrollMode===0){var M=s.displayHeight*i;C!==void 0&&M<C&&(M=C),oi(g,void 0,M)}else{var o=s.displayWidth*i;C!==void 0&&o<C&&(o=C),oi(g,o,void 0)}U6.call(this)},U6=function(){var i=this.childrenMap.slider,t=i.minWidth,s=i.minHeight;i.minWidth=i.width,i.minHeight=i.height,i.layout(),i.minWidth=t,i.minHeight=s},Y6=function(){var i=this.childrenMap.scroller,t=this.childrenMap.slider;i&&i.setValue(this.childOY),t&&t.setValue(this.t)};const xi=Phaser.Utils.Objects.GetValue,Lv=Phaser.Math.Clamp;class Yh extends Pt{constructor(t,s){s===void 0&&(s={});var g=Vh(s);s.orientation=g===0?1:0,super(t,s),this.type=xi(s,"type","rexScrollable");var C=xi(s,"background",void 0),M=G6(this,s),o=xi(s,"header",void 0),T=xi(s,"footer",void 0);if(C&&this.addBackground(C),o){var e=xi(s,"align.header","center"),u=xi(s,"space.header",0),x;g===0?x={bottom:u}:x={right:u};var d=xi(s,"expand.header",!0);this.add(o,{proportion:0,align:e,padding:x,expand:d})}if(M&&this.add(M,{proportion:1,align:"center",padding:0,expand:!0}),T){var e=xi(s,"align.footer","center"),l=xi(s,"space.footer",0),x;g===0?x={top:l}:x={left:l};var d=xi(s,"expand.footer",!0);this.add(T,{proportion:0,align:e,padding:x,expand:d})}this.addChildrenMap("background",C),this.addChildrenMap("header",o),this.addChildrenMap("footer",T),this.runLayoutFlag=!1}runLayout(t,s,g){return this.ignoreLayout?this:(super.runLayout(t,s,g),this.resizeController(),this.runLayoutFlag||(this.runLayoutFlag=!0,this.setT(0)),this)}set t(t){var s=this.childMargin;if(s.top!==0||s.bottom!==0){var g=this.childrenMap.child,C=g.topChildOY-g.bottomChildOY,M=C+s.top+s.bottom,o=M*t-s.top;t=o/C}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,s=this.childMargin;if(s.top!==0||s.bottom!==0){var g=this.childrenMap.child,C=g.topChildOY-g.bottomChildOY,M=C+s.top+s.bottom,o=C*t+s.top;t=o/M}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get scrollMode(){return this.orientation===0?1:0}setChildOY(t,s){return s===void 0&&(s=!1),s&&(t=Lv(t,this.bottomChildOY,this.topChildOY)),this.childOY=t,this}addChildOY(t,s){return this.setChildOY(this.childOY+t,s),this}setT(t,s){return s===void 0&&(s=!1),s&&(t=Lv(t,0,1)),this.t=t,this}addT(t,s){return this.setT(this.t+t,s),this}scrollToTop(){return this.t=0,this}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var s=this.childrenMap.slider;!s||s.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var s=this.childrenMap.scroller;!s||s.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var s=this.childrenMap.mouseWheelScrollerEnable;!s||s.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setInteractive(),s.input.dropZone=t,this}}var X6={resizeController:z6,updateController:Y6};Object.assign(Yh.prototype,X6);const Be=0,He=1,$e=2;var Wr=function(i){var t;return q0(i)?t=$e:pd(i)?t=Be:t=He,t},Cd=function(i,t,s){var g=Wr(i);switch(g){case Be:s=i.getWrappedText(t);break;case He:s=i.getPenManager(t,s);break;case $e:i.maxWidth>0?s=i.setText(t).getTextBounds().wrappedText.split(`
`):s=t.split(`
`);break}return s},k6=function(i){return i!==void 0&&(this.text=i),this.lines=Cd(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},am=function(i){return(i-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},hm=function(i){return i*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},W6=function(i){var t=i+this.visibleLinesCount+1,s;switch(this.textObjectType){case Be:s=this.lines.slice(i,t).join(`
`);break;case He:var g=this.lines.getLineStartIndex(i),C=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(g,C,!0);break;case $e:s=this.lines.slice(i,t).join(`
`);break}return s},Sd=function(i,t){var s=Wr(i);switch(s){case Be:var M=i.style,g=M.wordWrapWidth,C=M.wordWrapCallback;M.wordWrapWidth=0,M.wordWrapCallback=void 0,i.setText(t),M.wordWrapWidth=g,M.wordWrapCallback=C;break;case He:var M=i.style,o=M.wrapMode;M.wrapMode=0,i.setText(t),M.wrapMode=o;break;case $e:var T=i._maxWidth;i._maxWidth=0,i.setText(t),i._maxWidth=T;break}},om=function(){var i=this.textObject.rexSizer;this.textObject.y+=i.offsetY-i.preOffsetY,i.preOffsetY=i.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&H6.call(this)},H6=function(){if(!!this.textObject.setCrop){var i=this.textObject.rexSizer.offsetY,t,s;i<=0?(t=-i,s=this.height):(t=0,s=this.height-i),this.textObject.setCrop(0,t,this.width,s)}},$6=function(){var i=Math.max(Math.floor(am.call(this,-this.textOY)),0),t=hm.call(this,i)+this.textOY,s=W6.call(this,i);return Sd(this.textObject,s),this.textObject.rexSizer.offsetY=t,om.call(this),this},K6=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,zr.call(this),this},Z6=function(i,t,s){if(s+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===s)){switch(this.textObjectWidth=t,this._textObjectRealHeight=s,this.textObjectType){case Be:case He:i.setFixedSize(t,s);var g=i.style,C=Math.max(t,0);this.textObjectType===Be?g.wordWrapWidth=C:(g.wrapMode===0&&(g.wrapMode=1),g.wrapWidth=C);break;case $e:i.setMaxWidth(t);break}this.setText()}},J6=function(){var i,t,s,g=this.left,C=this.top,M,o,T,e;i=this.textObject,i.rexSizer.hidden||(t=i.rexSizer,s=t.padding,M=g+s.left,o=C+s.top,T=this.width-s.left-s.right,e=this.height-s.top-s.bottom,Z6.call(this,i,T,e),Ir(i,M,o,T,e,t.align),t.preOffsetY=0,om.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const j6={setText:k6,updateTextObject:$6,preLayout:K6,layoutChildren:J6},Fv=Phaser.Utils.Objects.IsPlainObject,Fe=Phaser.Utils.Objects.GetValue,Q6=Phaser.Display.Align.TOP_LEFT;class lm extends Hs{constructor(t,s,g,C,M,o){Fv(s)?(o=s,s=Fe(o,"x",0),g=Fe(o,"y",0),C=Fe(o,"width",void 0),M=Fe(o,"height",void 0)):Fv(C)&&(o=C,C=Fe(o,"width",void 0),M=Fe(o,"height",void 0)),super(t,s,g,C,M,o),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=Fe(o,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(Fe(o,"clamplTextOY",!0)),this.alwaysScrollable=Fe(o,"alwaysScrollable",!1);var T=Fe(o,"background",void 0),e=Fe(o,"text",void 0);e===void 0&&(e=q6(t)),this.textCropEnable=Fe(o,"textCrop",!!e.setCrop);var u=Fe(o,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(e),this.sizerChildren=[e];var x=this.getSizerConfig(e);x.align=Q6,x.padding=Xn(0),x.expand=!0,this.textObject=e,this.textObjectType=Wr(e),x.preOffsetY=0,x.offsetY=0,u&&(this.textMask=Ui.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",e)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Be:this.lines.length=0;break;case He:this.lines.destroy();break;case $e:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Be:case He:var s=this.textObject.style;t=s.metrics.fontSize+s.strokeThickness;break;case $e:var g=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*g;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Be:case He:t=this.textObject.lineSpacing;break;case $e:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(am.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=hm.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var s=this.topTextOY,g=this.bottomTextOY,C=this.textOYExceedTop(t),M=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:C?t=s:M&&(t=g)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),C&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=C,M&&(this.execeedBottomState||this.emit("execeedbottom",this,t,g)),this.execeedBottomState=M}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var q6=function(i){return i.add.text(0,0,"")};Object.assign(lm.prototype,j6);var _6=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.textOY},set:function(t){i.textOY=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTextOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTextOY}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.textObjectHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.textHeight}})};const t3={setText(i){var t=this.childrenMap.child;return t.setText(i),this.resizeController(),this},appendText(i){return this.setText(this.text+i),this}};Phaser.Math.Clamp;const e3={scrollToLine(i){return this.setChildOY(-this.lineHeight*i),this},scrollToNextLine(i){i===void 0&&(i=1);var t=this.lineIndex+i;return this.scrollToLine(t),this}},Bi=Phaser.Utils.Objects.GetValue;class kn extends Yh{constructor(t,s){s===void 0&&(s={});var g=Bi(s,"text",void 0),C=Bi(s,"textWidth",void 0),M=Bi(s,"textHeight",void 0),o=Bi(s,"textCrop",!!g.setCrop),T=Bi(s,"textMask",!o),e=Bi(s,"content",""),u=new lm(t,{width:C,height:M,text:g,textMask:T,textCrop:o&&!T,content:e,clamplTextOY:Bi(s,"clamplChildOY",!1),alwaysScrollable:Bi(s,"alwaysScrollable",!1)});t.add.existing(u);var x=C===void 0?1:0,d=M===void 0;_6(u),s.scrollMode=0,s.type="rexTextArea",s.child={gameObject:u,proportion:x,expand:d};var l=Bi(s,"space",void 0);l&&(l.child=l.text),super(t,s),this.addChildrenMap("text",g)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){return this.childrenMap.child.linesCount}get contentHeight(){return this.childrenMap.child.textHeight}}Object.assign(kn.prototype,t3,e3);const ba=Phaser.Utils.Objects.GetValue;var i3=function(i,t,s){t=t?Te(t):{};var g=ba(s,"background",Xe),C=ba(s,"text",Q0),M=ba(s,"track",Xe),o=ba(s,"thumb",Xe);g?t.background=g(i,t.background):delete t.background,C?t.text=C(i,t.text):delete t.text;var T=t.slider;T!==!1&&(T===void 0&&(T={}),M?T.track=M(i,T.track):delete T.track,o?T.thumb=o(i,T.thumb):delete T.thumb,t.slider=T);var e=new kn(i,t);return i.add.existing(e),e};const s3=Phaser.Utils.Objects.GetValue;var n3=function(i,t,s){var g=s3(t,"$type");g===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(g="textarea");var C;switch(g){case"textarea":C=new i3(i,t,s);break;default:C=new ke(i,t,s);break}return i.add.existing(C),C};const r3=Phaser.Utils.Objects.GetValue;class Ed extends kr{constructor(t,s,g){s=s?Te(s):{},g===void 0&&(g={});var C=r3(g,"background",Xe);C?s.background=C(t,s.background):delete s.background,s.title=ke(t,s.title,g.title),s.content=n3(t,s.content,g.content),s.content instanceof kn&&Si(s,"height")&&!Si(s,"proportion.content")&&st(s,"proportion.content",1);var M=s.button,o=s.buttonA||M,T=s.buttonB||M,e=s.buttonMode;e===void 0&&(e=!!o&&!!T?2:o?1:0);var u=g.button,x=g.buttonA||u,d=g.buttonB||u;switch(e){case 2:s.actions=[ke(t,o,x),ke(t,T,d)];break;case 1:s.actions=[ke(t,o,x)];break;case 0:break;default:s.actions=[];break}var l=s.choice;l&&(s.choices=[]),super(t,s),this.type="rexConfirmDialog",this.buttonMode=e,this.defaultActionConfig=M,this.defaultActionButtonCreator=u,this.defaultChoiceConfig=l,this.defaultChoiceCreator=g.choice;var h=this.childrenMap.actions;this.addChildrenMap("buttonA",h?h[0]:null),this.addChildrenMap("buttonB",h?h[1]:null),i6.call(this)}}Object.assign(Ed.prototype,j5);nt.register("confirmDialog",function(i,t){var s=new Ed(this.scene,i,t);return this.scene.add.existing(s),s});st(window,"RexPlugins.UI.ConfirmDialog",Ed);const La=Phaser.Utils.Objects.GetValue;var Hr=function(i,t,s){var g=La(i,`proportion.${t}`,s.proportion),C=La(i,`align.${t}`,"center"),M=La(i,`space.${t}`,void 0);if(typeof M=="number"&&s.paddingKey){var o=M;M={},M[s.paddingKey]=o}var T=La(i,`expand.${t}`,!0);return{proportion:g,align:C,padding:M,expand:T}},Xh=function(i){return Hr(i,"header",{proportion:0,paddingKey:"bottom"})},kh=function(i){return Hr(i,"leftSide",{proportion:0,paddingKey:"right"})},Wh=function(i){return Hr(i,"content",{proportion:1})},Hh=function(i){return Hr(i,"rightSide",{proportion:0,paddingKey:"left"})},$h=function(i){return Hr(i,"footer",{proportion:0,paddingKey:"top"})},zi=function(i){return{proportion:1,align:"center",padding:0,expand:!0}},Vi=function(i,t){var s=new Pt(i,{orientation:t});return i.add.existing(s),s},a3=function(i){var t=this.scene,s=i.header;s&&this.add(s,Xh(i));var g=Vi(t,0);this.add(g,zi());var C=i.leftSide;C&&g.add(C,kh(i));var M=i.content;M&&g.add(M,Wh(i));var o=i.rightSide;o&&g.add(o,Hh(i));var T=i.footer;T&&this.add(T,$h(i))},h3=function(i){var t=this.scene,s=i.header;s&&this.add(s,Xh(i));var g=Vi(t,0);this.add(g,zi());var C=i.leftSide;C&&g.add(C,kh(i));var M=Vi(t,1);g.add(M,zi());var o=Vi(t,0);M.add(o,zi());var T=i.content;T&&o.add(T,Wh(i));var e=i.rightSide;e&&o.add(e,Hh(i));var u=i.footer;u&&M.add(u,$h(i))},o3=function(i){var t=this.scene,s=i.header;s&&this.add(s,Xh(i));var g=Vi(t,0);this.add(g,zi());var C=Vi(t,1);g.add(C,zi());var M=Vi(t,0);C.add(M,zi());var o=i.leftSide;o&&M.add(o,kh(i));var T=i.content;T&&M.add(T,Wh(i));var e=i.footer;e&&C.add(e,$h(i));var u=i.rightSide;u&&g.add(u,Hh(i))},l3=function(i){var t=this.scene,s=i.header;s&&this.add(s,Xh(i));var g=Vi(t,0);this.add(g,zi());var C=i.leftSide;C&&g.add(C,kh(i));var M=Vi(t,1);g.add(M,zi());var o=i.content;o&&M.add(o,Wh(i));var T=i.footer;T&&M.add(T,$h(i));var e=i.rightSide;e&&g.add(e,Hh(i))};const Dv=Phaser.Utils.Objects.GetValue,Iv=[a3,h3,o3,l3];var u3=function(i){this.clear(!0);var t=Dv(i,"background",void 0);t&&this.addBackground(t);var s=Dv(i,"layoutMode",0);typeof s=="string"&&(s=d3[s.toUpperCase()]);var g=Iv[s]||Iv[0];g.call(this,i),this.addChildrenMap("background",i.background),this.addChildrenMap("header",i.header),this.addChildrenMap("leftSide",i.leftSide),this.addChildrenMap("content",i.content),this.addChildrenMap("rightSide",i.rightSide),this.addChildrenMap("footer",i.footer)};const d3={FFF:0,LFF:1,FFR:2,LFR:3};class Kh extends Pt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexHolyGrail",this.build(s)}}var f3={build:u3};Object.assign(Kh.prototype,f3);nt.register("holyGrail",function(i){var t=new Kh(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.HolyGrail",Kh);const c3={getButtonsSizer(i){return this.childrenMap[`${i}ButtonsSizer`]},getButton(i,t){var s=this.getButtonsSizer(i);return s?s.getButton(t):void 0},setButtonEnable(i,t,s){return this.getButtonsSizer(i).setButtonEnable(t,s),this},setLeftButtonEnable(i,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(i,t),this},setRightButtonEnable(i,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(i,t),this},setTopButtonEnable(i,t){return this.childrenMap.topButtonsSizer.setButtonEnable(i,t),this},setBottomButtonEnable(i,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(i,t),this},toggleButtonEnable(i,t){return this.getButtonsSizer(i).toggleButtonEnable(t),this},toggleLeftButtonEnable(i){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(i),this},toggleRightButtonEnable(i){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(i),this},toggleTopButtonEnable(i){return this.childrenMap.topButtonsSizer.toggleButtonEnable(i),this},toggleBottomButtonEnable(i){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(i),this},getButtonEnable(i,t){return this.getButtonsSizer(i).getButtonEnable(t)},getLeftButtonEnable(i){return this.childrenMap.leftButtonsSizer.getButtonEnable(i)},getRightButtonEnable(i){return this.childrenMap.rightButtonsSizer.getButtonEnable(i)},getTopButtonEnable(i){return this.childrenMap.topButtonsSizer.getButtonEnable(i)},getBottomButtonEnable(i){return this.childrenMap.bottomButtonsSizer.getButtonEnable(i)},emitButtonClick(i,t){var s=this.getButtonsSizer(i);return s?(s.emitButtonClick(t),this):this},emitLeftButtonClick(i){return this.childrenMap.leftButtonsSizer.emitButtonClick(i),this},emitRightButtonClick(i){return this.childrenMap.rightButtonsSizer.emitButtonClick(i),this},emitTopButtonClick(i){return this.childrenMap.topButtonsSizer.emitButtonClick(i),this},emitBottomButtonClick(i){return this.childrenMap.bottomButtonsSizer.emitButtonClick(i),this},getLeftButton(i){return this.childrenMap.leftButtonsSizer.getButton(i)},getRightButton(i){return this.childrenMap.rightButtonsSizer.getButton(i)},getTopButton(i){return this.childrenMap.topButtonsSizer.getButton(i)},getBottomButton(i){return this.childrenMap.bottomButtonsSizer.getButton(i)},showButton(i,t){return ns(this.getButton(i,t)),this},showLeftButton(i){return ns(this.getLeftButton(i)),this},showRightButton(i){return ns(this.getRightButton(i)),this},showTopButton(i){return ns(this.getTopButton(i)),this},showBottomButton(i){return ns(this.getBottomButton(i)),this},hideButton(i,t){return rs(this.getButton(i,t)),this},hideLeftButton(i){return rs(this.getLeftButton(i)),this},hideRightButton(i){return rs(this.getRightButton(i)),this},hideTopButton(i){return rs(this.getTopButton(i)),this},hideBottomButton(i){return rs(this.getBottomButton(i)),this},addButton(i,t){return this.getButtonsSizer(i).addButton(t),this},addLeftButton(i){return this.addButton("left",i),this},addRightButton(i){return this.addButton("right",i),this},addTopButton(i){return this.addButton("top",i),this},removeButton(i,t,s){return this.getButtonsSizer(i).removeButton(t,s),this},removeLeftButton(i,t){return this.removeButton("left",i,t),this},removeRightButton(i,t){return this.removeButton("right",i,t),this},removeTopButton(i,t){return this.removeButton("top",i,t),this},removeBottomButton(i,t){return this.removeButton("bottom",i,t),this},clearButtons(i,t){return this.getButtonsSizer(i).clearButtons(t),this},clearLeftButtons(i){return this.clearButtons("left",i),this},clearRightButtons(i){return this.clearButtons("right",i),this},clearTopButtons(i){return this.clearButtons("top",i),this},clearBottomButtonss(i){return this.clearButtons("bottom",i),this},forEachButton(i,t,s){return this.getButtonsSizer(i).forEachButtton(t,s),this},forEachLeftButton(i,t){return this.childrenMap.leftButtonsSizer.forEachButtton(i,t),this},forEachRightButton(i,t){return this.childrenMap.rightButtonsSizer.forEachButtton(i,t),this},forEachTopButton(i,t){return this.childrenMap.topButtonsSizer.forEachButtton(i,t),this},forEachBottomButton(i,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(i,t),this}},Bt=Phaser.Utils.Objects.GetValue;class Pd extends $i{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,super(t,s),this.type="rexTabs",this.eventEmitter=Bt(s,"eventEmitter",this);var g=Bt(s,"background",void 0),C=Bt(s,"panel",void 0),M=Bt(s,"leftButtons",void 0),o=Bt(s,"leftButtonsBackground",void 0),T,e=Bt(s,"rightButtons",void 0),u=Bt(s,"rightButtonsBackground",void 0),x,d=Bt(s,"topButtons",void 0),l=Bt(s,"topButtonsBackground",void 0),h,n=Bt(s,"bottomButtons",void 0),r=Bt(s,"bottomButtonsBackground",void 0),f,a=Bt(s,"click",void 0);if(g&&this.addBackground(g),C&&this.add(C,1,1,"center",0,!0),M){var c=Bt(s,"space.leftButtonsOffset",0),p=Bt(s,"space.leftButton",0);T=new ne(t,{groupName:"left",background:o,buttons:M,orientation:1,space:{item:p},align:Bt(s,"align.leftButtons",void 0),click:a,eventEmitter:this.eventEmitter});var v={top:c};this.add(T,0,1,"top",v,!1)}if(e){var m=Bt(s,"space.rightButtonsOffset",0),y=Bt(s,"space.rightButton",0);x=new ne(t,{groupName:"right",background:u,buttons:e,orientation:1,space:{item:y},align:Bt(s,"align.rightButtons",void 0),click:a,eventEmitter:this.eventEmitter});var v={top:m};this.add(x,2,1,"top",v,!1)}if(d){var E=Bt(s,"space.topButtonsOffset",0),P=Bt(s,"space.topButton",0);h=new ne(t,{groupName:"top",background:l,buttons:d,orientation:0,space:{item:P},align:Bt(s,"align.topButtons",void 0),click:a,eventEmitter:this.eventEmitter});var v={left:E};this.add(h,1,0,"left",v,!1)}if(n){var S=Bt(s,"space.bottomButtonsOffset",0),w=Bt(s,"space.bottomButton",0);f=new ne(t,{groupName:"bottom",background:r,buttons:n,orientation:0,space:{item:w},align:Bt(s,"align.bottomButtons",void 0),click:a,eventEmitter:this.eventEmitter});var v={left:S};this.add(f,1,2,"left",v,!1)}this.addChildrenMap("background",g),this.addChildrenMap("panel",C),this.addChildrenMap("leftButtons",M),this.addChildrenMap("rightButtons",e),this.addChildrenMap("topButtons",d),this.addChildrenMap("bottomButtons",n),this.addChildrenMap("leftButtonsSizer",T),this.addChildrenMap("rightButtonsSizer",x),this.addChildrenMap("topButtonsSizer",h),this.addChildrenMap("bottomButtonsSizer",f)}}Object.assign(Pd.prototype,c3);nt.register("tabs",function(i){var t=new Pd(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Tabs",Pd);nt.register("slider",function(i){var t=new $s(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Slider",$s);class um{constructor(t,s){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,s){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,s),this}setCellContainerAlign(t){return typeof t=="string"&&(t=Yn[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var s=this.parent;this._deltaHeight===0&&t!==0?s.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&s.nonZeroDeltaHeightCount--;var g=this._deltaHeight!==t;if(this._deltaHeight=t,g){s.resetTotalRowsHeight();var C=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(C,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(um.prototype,hh);const Bv=Phaser.Utils.Objects.GetValue,v3=Phaser.Utils.Array.SpliceOne;class p3{constructor(t,s){this.parent=t,this.cells=[],this.cellPool=new Ei,this.resetFromJSON(s)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var s=t.cellHeight;s===void 0&&(s=30);var g=t.cellWidth;return g===void 0&&(g=30),this.setDefaultCellHeight(s),this.setDefaultCellWidth(g),this.initCells(Bv(t,"cellsCount",0)),this.setColumnCount(Bv(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var s=this.cells;s.length=t;for(var g=0;g<t;g++)s[g]=null;return this}insertNewCells(t,s){var g=this.cells;if(t===g.length){var C=t+s;g.legth=C;for(var M=t;M<C;M++)g[M]=null}else{var o=[];o.length=s;for(var M=0;M<s;M++)o[M]=null;this.cells.splice(t,0,...o)}return this.resetTotalRowsHeight(),this}removeCells(t,s){for(var g=t+s,C=t;C<g;C++)this.freeCell(C);return g===this.cells.length?this.cells.length=t:(s===1?v3(this.cells,t):this.cells.splice(t,s),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,s){if(s===void 0&&(s=0),t===0)return 0;if(this.defaultCellHeightMode){var T=t/this.defaultCellHeight;switch(s){case 0:T=Math.floor(T);break;case 1:T=Math.ceil(T);break;default:Number.isInteger(T)?T+=1:T=Math.floor(T);break}return T}for(var g=this.rowCount,C=t,M,o,T=0;;)if(o=this.getRowHeight(T),C-=o,M=T>=0&&T<g,C>0&&M)T+=1;else{if(C===0)return s===2&&(T+=1),T;if(s===1){var e=T;T+=1,M=T>=0&&T<g,M||(T=e)}return T}}widthToColIndex(t,s){if(t===0)return 0;var g=t/this.defaultCellWidth;return s?g=Math.ceil(g):g=Math.floor(g),g}colRowToCellIndex(t,s){return t>=this.colCount?null:s*this.colCount+t}rowIndexToHeight(t,s){if(this.defaultCellHeightMode)return(s-t+1)*this.defaultCellHeight;for(var g,C=0,M=t;M<=s;M++)g=this.getRowHeight(M),C+=g;return C}colIndexToWidth(t,s){return(s-t+1)*this.defaultCellWidth}getRowHeight(t){var s=this.colCount;if(s<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var g=0,C,M=0;M<s;M++)C=this.getCellHeight(this.colRowToCellIndex(M,t)),g<C&&(g=C);return g}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var s;if(this.defaultCellHeightMode)s=this.defaultCellHeight;else{var g=this.getCell(t,!1),C=g?g.deltaHeight:0;s=this.defaultCellHeight+C}return s}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,s){if(!this.isValidCellIdx(t))return null;if(s===void 0&&(s=!0),this.cells[t]===null&&s){var g=this.newCell(t);this.cells[t]=g}return this.cells[t]}newCell(t){var s=this.cellPool.pop();return s===null?s=new um(this):s.setParent(this),s.index=t,s}buildCellIndex(t){t===void 0&&(t=0);for(var s=this.cells,g,C=t,M=s.length;C<M;C++)g=s[C],g&&(g.index=C);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var g3=function(i){var t=this.table,s=this.topTableOY,g=this.bottomTableOY,C=i>this.topTableOY,M=i<this.bottomTableOY;if(this.clampTableOXY){var o=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);o<T?i=0:C?i=s:M&&(i=g)}return this._tableOY!==i&&(this._tableOY=i),C&&(this.execeedTopState||this.emit("execeedtop",this,i,s)),this.execeedTopState=C,M&&(this.execeedBottomState||this.emit("execeedbottom",this,i,g)),this.execeedBottomState=M,this},m3=function(i){var t=this.table,s=this.leftTableOX,g=this.rightTableOX,C=i>this.leftTableOX,M=i<this.rightTableOX;if(this.clampTableOXY){var o=t.colCount,T=t.widthToColIndex(this.instWidth,!0);o<T?i=0:C?i=s:M&&(i=g)}return this._tableOX!==i&&(this._tableOX=i),C&&(this.execeedLeftState||this.emit("execeedleft",this,i,s)),this.execeedLeftState=C,M&&(this.execeedRightState||this.emit("execeedright",this,i,g)),this.execeedRightState=M,this},Md=function(i){return i.hasOwnProperty("geometryMask")?i.geometryMask:i.bitmapMask};const x3=Phaser.Geom.Intersects.RectangleToRectangle,y3=Phaser.Geom.Rectangle.Overlaps;var T3=function(i,t,s){if(!!t){s===void 0&&(s=i.getAllChildren());for(var g=i.getBounds(),C=Md(t),M,o,T,e=0,u=s.length;e<u;e++)if(M=s[e],!M.hasOwnProperty("isRexContainerLite")&&M!==C&&!!C3(M))if(M.getBounds)switch(o=M.getBounds(o),T=S3(g,o),T){case 4:E3(i,M);break;case 0:x3(g,o)||y3(g,o)?vl(i,M,t):P3(i,M);break;default:vl(i,M,t);break}else vl(i,M,t)}},C3=function(i){if(!i.displayList)return!1;for(;;){var t=i.rexContainer;if(t)if(t.visible){var s=t.parent;if(s){i=s;continue}else return!0}else return!1;else return i.visible}},S3=function(i,t){var s=0,g=t.top,C=t.bottom,M=t.left,o=t.right;return s+=i.contains(M,g)?1:0,s+=i.contains(M,C)?1:0,s+=i.contains(o,g)?1:0,s+=i.contains(o,C)?1:0,s},E3=function(i,t,s){i.setChildMaskVisible(t,!0),t.clearMask&&t.clearMask()},vl=function(i,t,s){i.setChildMaskVisible(t,!0),t.setMask&&t.setMask(s)},P3=function(i,t,s){i.setChildMaskVisible(t,!1),t.clearMask&&t.clearMask()};const pl=Phaser.Utils.Objects.GetValue,M3={update:0,everyTick:1},dm={setupChildrenMask(i){return i===!1?this:(this.setMaskUpdateMode(pl(i,"updateMode",0)),this.enableChildrenMask(pl(i,"padding",0)),this.setMaskLayer(pl(i,"layer",void 0)),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this):this},setMaskUpdateMode(i){return typeof i=="string"&&(i=M3[i]),this.maskUpdateMode=i,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(i){var t=Ui.call(this,null,this,0,i);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(i){return i===void 0&&(i=!0),this.maskChildrenFlag=i,this},setMaskLayer(i){return this.maskLayer=i,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):T3(this,this.childrenMask),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var i=Md(this.childrenMask);return i.setPosition().resize(),this.resetChildPositionState(i),this}};var w3=function(){if(this.cellsCount!==0){var i=this.table;this.startRowIndex=Math.max(i.heightToRowIndex(-this.tableOY,2),0);for(var t=this.startRowIndex,s=Math.max(i.widthToColIndex(-this.tableOX),0),g=s,C=i.colRowToCellIndex(g,t),M=this.bottomBound,o=this.rightBound,T=i.cellsCount-1,e=i.colCount-1,u=this.getCellTLX(g),x=u,d=this.getCellTLY(t);d<M&&C<=T;){if(this.table.isValidCellIdx(C)){var l=i.getCell(C,!0);this.visibleCells.set(l),this.preVisibleCells.contains(l)||this.showCell(l);var h,n;if(this.scrollMode===0?(h=x,n=d):(h=d,n=x),l.cellContainerAlign==null)l.setXY(h,n);else{var r=l.getContainer();Ir(r,h,n,l.width,l.height,l.cellContainerAlign),l.setXY(r.x,r.y)}}x<o&&g<e?(x+=i.getColWidth(g),g+=1):(x=u,d+=i.getRowHeight(t),g=s,t+=1),C=i.colRowToCellIndex(g,t)}}},fm=function(i){var t=null,s=i.getContainer();if(s?(t=s,i.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",i,t,this),this.cellContainersPool){var s=i.getContainer();s?t===null?this.cellContainersPool.add(s):t!==s&&(this.cellContainersPool.add(s),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},A3=function(i){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,s=this.tableOX+this.table.colIndexToWidth(0,i-1)+t;return s},R3=function(i){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,s=this.tableOY+this.table.rowIndexToHeight(0,i-1)+t;return s},O3=function(){var i=this.preVisibleCells,t=this.visibleCells;i.iterate(function(s){t.contains(s)||this.hideCell(s)},this)},cm=function(i){if(this.emit("cellinvisible",i),this.cellContainersPool){var t=i.popContainer();t&&this.cellContainersPool.killAndHide(t)}i.destroyContainer()},b3=function(i){return i===void 0&&(i=!1),i&&(Gv.call(this),this.hideCells()),Gv.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),this},Gv=function(){var i=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=i,this.visibleCells.clear()},L3=function(i){var t=this.table.getCell(i,!1);return t&&this.visibleCells.contains(t)},vm=function(i,t){t-=this.y+this.topLeftY,i-=this.x+this.topLeftX;var s=this.tableOY-(this.scrollMode===0?t:i),g=this.tableOX-(this.scrollMode===0?i:t),C=this.table,M=C.heightToRowIndex(-s,0),o=C.widthToColIndex(-g),T=C.colRowToCellIndex(o,M);return T===null||!this.isCellVisible(T)?null:T},F3=function(i,t){var s=vm.call(this,i,t);if(s!==null)return this.getCellContainer(s)},D3=function(i,t){return this.visibleCells.each(i,t),this},I3=function(i,t){return this.visibleCells.iterate(i,t),this},B3=function(i,t){return this.table.cells.slice().forEach(i,t),this},G3=function(i,t){return this.table.cells.forEach(i,t),this},N3=function(i){var t=this.cellsCount;return t===i?this:(t>i?this.removeCells(i,t-i):this.insertNewCells(t,i-t),this)};const z3=Phaser.Math.Clamp;var V3=function(i,t){return typeof i=="object"&&(i=i.index),t===void 0&&(t=1),t<=0?this:(i=z3(i,0,this.cellsCount),this.table.insertNewCells(i,t),this)},U3=function(i,t){if(typeof i=="object"&&(i=i.index),t===void 0&&(t=1),i<0&&(t+=i,i=0),t<=0)return this;if(i>this.cellsCount)return this;for(var s,g=i,C=i+t;g<C;g++)s=this.getCell(g,!1),s&&(this.visibleCells.contains(s)&&(cm.call(this,s),this.visibleCells.delete(s)),this.preVisibleCells.delete(s));return this.table.removeCells(i,t),this},Y3=function(i){return this.table.colCount===i?this:(this.table.setColumnCount(i),this)},X3=function(i,t){return this.setCellsCount(i*t),this.table.setColumnCount(i),this},k3=function(i){var t=this.table.getCell(i,!1);return!t||!t.container?this:(fm.call(this,t),this)},pm={setTableOY:g3,setTableOX:m3,showCells:w3,showCell:fm,getCellTLX:A3,getCellTLY:R3,hideCells:O3,hideCell:cm,updateTable:b3,isCellVisible:L3,pointToCellIndex:vm,pointToCellContainer:F3,eachVisibleCell:D3,iterateVisibleCell:I3,eachCell:B3,iterateCell:G3,setCellsCount:N3,insertNewCells:V3,removeCells:U3,setColumnCount:Y3,setGridSize:X3,updateVisibleCell:k3};Object.assign(pm,dm);const W3=Phaser.GameObjects.Group,Nv=Phaser.Structs.Set,yi=Phaser.Utils.Objects.GetValue;class gm extends Ge{constructor(t,s,g,C,M,o){o===void 0&&(o={}),super(t,s,g,C,M),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new Nv,this.preVisibleCells=new Nv,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var T=yi(o,"reuseCellContainer",!1);T&&(this.cellContainersPool=new W3(t));var e=yi(o,"cellVisibleCallback",null);if(e!==null){var u=yi(o,"cellVisibleCallbackScope",void 0);this.on("cellvisible",e,u)}if(e=yi(o,"cellInvisibleCallback",null),e!==null){var u=yi(o,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",e,u)}yi(o,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(yi(o,"mask",void 0)),this.setScrollMode(yi(o,"scrollMode",0)),this.setClampMode(yi(o,"clamplTableOXY",!0));var x,d,l,h=this.scrollMode===0;if(h?(x=o.cellWidth,d=o.cellHeight,l=o.columns):(x=o.cellHeight,d=o.cellWidth,l=yi(o,"rows",o.columns)),l||(l=1),this.expandCellSize=x===void 0,this.expandCellSize){var C=h?this.width:this.height;x=C/l}o.cellWidth=x,o.cellHeight=d,o.columns=l,this.table=new p3(this,o),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=H3[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,s){return this.setTableOY(s).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,s){return this.addTableOY(s).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var s=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-s).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var s=this.table.getCell(t,!1),g;return s&&(g=s.getContainer()),g}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,s){var g;return typeof t=="number"?g=this.table.getCell(t,!0):g=t,g.height=s,this}setCellWidth(t,s){var g;return typeof t=="number"?g=this.table.getCell(t,!0):g=t,g.width=s,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t,s=this.tableWidth,g=this.instWidth;return s>g?t=s-g:t=0,t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,s){return this.width===t&&this.height===s?this:(super.resize(t,s),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this.layoutChildrenMask(),this.maskChildren(),this)}}Object.assign(gm.prototype,pm);const H3={v:0,vertical:0,h:1,horizontal:1};var $3=function(i){Object.defineProperty(i,"childOY",{configurable:!0,get:function(){return i.tableOY},set:function(t){i.tableOY=t}}),Object.defineProperty(i,"topChildOY",{get:function(){return i.topTableOY}}),Object.defineProperty(i,"bottomChildOY",{get:function(){return i.bottomTableOY}}),Object.defineProperty(i,"childVisibleHeight",{get:function(){return i.instHeight}}),Object.defineProperty(i,"childHeight",{get:function(){return i.tableHeight}})},K3=function(i){i.on("cellvisible",function(t,o,g){var C=this.createCellContainerCallback,M=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var o;M?o=C.call(M,t,o,g):o=C(t,o,g),o&&(t.cellContainerAlign==null&&o.setOrigin&&o.setOrigin(0),o.isRexSizer&&o.layout()),t.item=void 0,t.items=void 0,t.setContainer(o)},this)},Ai=function(i,t,s,g,C,M,o){var T;if(C===void 0?T=g:T=s.pointToCellIndex(g,C),T!=null){var e=s.getCellContainer(T);e&&i.emit(t,e,T,M,o)}},Z3=function(i,t){i.on("pointerdown",function(s,g,C,M){Ai(this.eventEmitter,"cell.down",i,s.worldX,s.worldY,s,M)},this).on("pointerup",function(s,g,C,M){Ai(this.eventEmitter,"cell.up",i,s.worldX,s.worldY,s,M)},this)},J3=function(i,t){i.on("pointermove",zv,this).on("pointerover",zv,this).on("pointerout",j3,this)},zv=function(i,t,s,g){var C=this.childrenMap.child,M=C.pointToCellIndex(i.worldX,i.worldY);if(M!==C.input.lastOverCellIndex){var o=C.input.lastOverCellIndex;C.input.lastOverCellIndex=M,Ai(this.eventEmitter,"cell.out",C,o,void 0,i,g),Ai(this.eventEmitter,"cell.over",C,M,void 0,i,g)}},j3=function(i,t){var s=this.childrenMap.child,g=s.input.lastOverCellIndex;s.input.lastOverCellIndex=void 0,Ai(this.eventEmitter,"cell.out",s,g,void 0,i,t)};const Q3=Phaser.Utils.Objects.GetValue;var q3=function(i,t){var s=Q3(t,"click",void 0);s!==!1&&(s===void 0&&(s={}),s.threshold=10,i._click=new ms(i,s),i._click.on("click",function(g,C,M,o){Ai(this.eventEmitter,"cell.click",C,M.worldX,M.worldY,M,o)},this))};const _3=Phaser.Utils.Objects.GetValue;var tD=function(i,t){var s=_3(t,"tap",void 0);s!==!1&&(i._tap=new Ah(i,s),i._tap.on("tap",function(g,C,M){var o=`cell.${g.tapsCount}tap`;Ai(this.eventEmitter,o,g.gameObject,g.worldX,g.worldY,M)},this))};const eD=Phaser.Utils.Objects.GetValue;var iD=function(i,t){var s=eD(t,"press",void 0);s!==!1&&(i._press=new Rh(i,s),i._press.on("pressstart",function(g,C,M){Ai(this.eventEmitter,"cell.pressstart",i,g.worldX,g.worldY,M)},this).on("pressend",function(g,C,M){Ai(this.eventEmitter,"cell.pressend",i,g.worldX,g.worldY,M)},this))};const sD=Phaser.Utils.Objects.GetValue;var nD=function(i,t){var s=sD(t,"swipe",void 0);s!==!1&&(s===void 0&&(s={}),s.dir="4dir",i._swipe=new Yr(i,s),i._swipe.on("swipe",function(g,C,M){var o=g.left?"left":g.right?"right":g.up?"up":"down";Ai(this.eventEmitter,`cell.swipe${o}`,i,g.worldX,g.worldY,M)},this))},rD=function(i,t){i.setInteractive(),Z3.call(this,i,t),J3.call(this,i,t),q3.call(this,i,t),tD.call(this,i,t),iD.call(this,i,t),nD.call(this,i,t)},aD=function(i){i===void 0?this.items=[]:this.items=i;var t=this.childrenMap.child;return t.setCellsCount(this.items.length),t.updateTable(!0),this.resizeController(),this};const hD={scrollToRow(i){var t=this.childrenMap.child;return t.scrollToRow(i),this},scrollToNextRow(i){var t=this.childrenMap.child;return t.scrollToNextRow(i),this}},Ti=Phaser.Utils.Objects.GetValue;class wd extends Yh{constructor(t,s){s===void 0&&(s={});var g=Vh(s),C=Ti(s,"table",void 0);C===void 0&&(C={}),C.scrollMode=g,C.clamplTableOXY=Ti(s,"clamplChildOY",!1);var M=Ti(C,"width",void 0),o=Ti(C,"height",void 0),T=new gm(t,0,0,M,o,C);t.add.existing(T);var e,u;g===0?(e=M===void 0?1:0,u=o===void 0):(e=o===void 0?1:0,u=M===void 0),$3(T),T._minWidth=M===void 0?0:void 0,T._minHeight=o===void 0?0:void 0,s.type="rexGridTable",s.child={gameObject:T,proportion:e,expand:u};var x=Ti(s,"space",void 0);x&&(x.child=x.table),super(t,s),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=Ti(s,"eventEmitter",this);var d=Ti(s,"createCellContainerCallback",ve),l=Ti(s,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(d,l),K3.call(this,T),this.resizeControllerFlag=!1;var h=g===0?"cellheightchange":"cellwidthchange";T.on(h,function(){this.resizeControllerFlag=!0},this),Ti(C,"interactive",!0)&&rD.call(this,T,C),this.setItems(Ti(s,"items",[])),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,s){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=s,this}refresh(){return this.setItems(this.items),this}getCell(t){var s=this.childrenMap.child;return s.getCell(t)}getCellContainer(t){var s=this.childrenMap.child;return s.getCellContainer(t)}updateVisibleCell(t){var s=this.childrenMap.child;return s.updateVisibleCell(t)}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var oD={setItems:aD};Object.assign(wd.prototype,hD,oD);nt.register("gridTable",function(i){var t=new wd(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.GridTable",wd);var Ad=function(i,t){return i.sameOrientation?i.orientation=t.orientation:i.orientation=t.orientation===0?1:0,i},lD=function(i,t){i.popUp(Ad(i.root.easeIn,i))},uD=function(i,t){i.scaleDown(Ad(i.root.easeOut,i))};const dD={setTransitInCallback(i){return i===void 0&&(i=lD),this.transitInCallback=i,this},setTransitOutCallback(i){return i===void 0&&(i=uD),this.transitOutCallback=i,this}};var fD=function(i,t,s,g,C){var M=i.scene,o=M.time.delayedCall(t,function(){M.sys.events.once("postupdate",function(){s.call(g,C)})});return o};const cD={delayCall(i,t,s){return this.timer=fD(this,i,t,s),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var vD=function(i,t){var g=this.childrenMap.subMenu;if(g&&g.parentButton===i)return this;this.collapseSubMenu();var s;this.root.toggleOrientation?s=this.orientation===0?1:0:s=this.orientation;var g=new this.constructor(this.scene,{items:t,orientation:s,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:i});return this.pin(g),this.childrenMap.subMenu=g,this.root.emit("expand",g,i,this),this},pD=function(){var i=this.root;i.emit("collapse",this,this.parentButton,i);var t=i.easeOut.duration;return i.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},gD=function(){var i=this.childrenMap.subMenu;return i===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(i),i.collapse(),this)},mm={expandSubMenu:vD,collapse:pD,collapseSubMenu:gD};Object.assign(mm,dD,cD);var mD=function(i,t,s,g){var C;return s&&(t.scene=i,g?C=s.call(g,t):C=s(t),t.scene=void 0),C},xD=function(i,t,s,g){var C,M=[],o;if(t&&s)for(var T=0,e=t.length;T<e;T++)C=t[T],C.scene=i,g?o=s.call(g,C,T,t):o=s(C,T,t),C.scene=void 0,M.push(o);return M},yD=function(i){i.on(i.root.expandEventName,function(t,s){if(!this._isPassedEvent){var g=this.root.childrenKey,C=this.items[s][g];C&&this.expandSubMenu(t,C)}},i).on("button.click",function(t,s,g,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,s,g,C),this.root._isPassedEvent=!1)},i).on("button.over",function(t,s,g,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,s,g,C),this.root._isPassedEvent=!1)},i).on("button.out",function(t,s,g,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,s,g,C),this.root._isPassedEvent=!1)},i)},Vv=function(i,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Gh(t.orientation)===i.orientation:t.sameOrientation=!0,t.destroy=!1,t},TD=function(){var i=this.root,t=i.easeIn.duration;i.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const xe=Phaser.Utils.Objects.GetValue;class Zh extends ne{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1);var g=s._rootMenu,C=s._parentMenu,M=s._parentButton,o=xe(s,"popup",!0),T=xe(s,"items",void 0),e=xe(s,"createBackgroundCallback",void 0),u=xe(s,"createBackgroundCallbackScope",void 0);s.background=mD(t,T,e,u);var x=xe(s,"createButtonCallback",void 0),d=xe(s,"createButtonCallbackScope",void 0);if(s.buttons=xD(t,T,x,d),super(t,s),this.type="rexMenu",this.items=T,this.root=g===void 0?this:g,this.isRoot=this.root===this,this.parentMenu=C,this.parentButton=M,this.timer=void 0,this.isRoot){this.isPopUpMode=o;var l=s.bounds;l===void 0&&(l=Un(t)),this.bounds=l,this.subMenuSide=[this.y<l.centerY?tu:$a,this.x<l.centerX?_l:Ha];var h=xe(s,"subMenuSide",void 0);h!==void 0&&(typeof h=="string"&&(h=CD[h]),this.subMenuSide[this.orientation]=h),this.toggleOrientation=xe(s,"toggleOrientation",!1),this.expandEventName=xe(s,"expandEvent","button.click"),this.easeIn=Vv(this,xe(s,"easeIn",0)),this.easeOut=Vv(this,xe(s,"easeOut",0)),this.setTransitInCallback(xe(s,"transitIn")),this.setTransitOutCallback(xe(s,"transitOut")),this.createBackgroundCallback=e,this.createBackgroundCallbackScope=u,this.createButtonCallback=x,this.createButtonCallbackScope=d,this.childrenKey=xe(s,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=xe(s,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var n=0,r=0;if(!this.root.easeIn.sameOrientation){var f=Ad(this.root.easeIn,this).orientation,a=C?C.orientation:this.orientation,h=this.root.subMenuSide[a];f===0&&h===Ha&&(n=1),f===1&&h===$a&&(r=1)}if(o&&this.setOrigin(n,r).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var h=this.root.subMenuSide[C.orientation];switch(h){case Ha:this.alignTop(M.top).alignRight(M.left);break;case _l:this.alignTop(M.top).alignLeft(M.right);break;case $a:this.alignLeft(M.left).alignBottom(M.top);break;case tu:this.alignLeft(M.left).alignTop(M.bottom);break}}yD(this),o&&(this.pushIntoBounds(this.root.bounds),TD.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const Ha=2,_l=0,$a=3,tu=1,CD={up:$a,down:tu,left:Ha,right:_l};Object.assign(Zh.prototype,mm);nt.register("menu",function(i){var t=new Zh(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Menu",Zh);var SD={setWrapEnable(i){return i===void 0&&(i=!0),this.listWrapEnable=i,this},setCreateButtonCallback(i){return this.listCreateButtonCallback=i,this},setCreateListBackgroundCallback(i){return this.listCreateBackgroundCallback=i,this},setButtonClickCallback(i){return this.listOnButtonClick=i,this},setButtonOverCallback(i){return this.listOnButtonOver=i,this},setButtonOutCallback(i){return this.listOnButtonOut=i,this},setListExpandDirection(i){return typeof i=="string"&&(i=ED[i]),this.listExpandDirection=i,this},setListEaseInDuration(i){return i===void 0&&(i=0),this.listEaseInDuration=i,this},setListEaseOutDuration(i){return i===void 0&&(i=0),this.listEaseOutDuration=i,this},setListTransitInCallback(i){return this.listTransitInCallback=i,this},settListTransitOutCallback(i){return this.listTransitOutCallback=i,this},setListBounds(i){return this.listBounds=i,this},setListWidth(i){return this.listWidth=i,this},setListHeight(i){return this.listHeight=i,this},setListSize(i,t){return this.setListWidth(i).setListHeight(t),this},setListAlignmentMode(i){return this.listAlignMode=i,this},setListAlignmentSide(i){return i===void 0&&(i=""),this.listAlignSide=i,this},setListSpace(i){return i===void 0&&(i={}),this.listSpace=i,this},setListDraggable(i){return i===void 0&&(i=!0),this.listDraggable=i,this}};const ED={down:0,up:1};var PD=function(){var i=this.scene,t,s=this.listCreateBackgroundCallback;s&&(t=s.call(this,i),i.add.existing(t));var g=[],C=this.listCreateButtonCallback;if(C)for(var M=this.options,o=0,T=M.length;o<T;o++){var e=C.call(this,i,M[o],o,M);i.add.existing(e),g.push(e)}var u=this.listWidth;u===void 0&&(this.listAlignMode==="text"?u=this.getElement("text").width:u=this.width);var x=this.listHeight,d;return this.listWrapEnable?d=new fs(i,{width:u,height:x,background:t,buttons:g,space:this.listSpace,draggable:this.listDraggable}):d=new ne(i,{width:u,height:x,orientation:"y",background:t,buttons:g,space:this.listSpace,draggable:this.listDraggable}),i.add.existing(d),d},MD=function(i,t,s,g,C){g===void 0&&(g="Linear");var M={};switch(M.mode=0,s){case 0:case"x":M.end={x:0};break;case 1:case"y":M.end={y:0};break;default:M.end=0;break}return M.duration=t,M.ease=g,C===void 0?C=new Sr(i,M):C.resetFromJSON(M),C.restart(),C},wD=function(i,t,s,g,C){return Si(i,t)?Dt(i,t):s&&Si(i,s)?Dt(i,s):g&&Si(i,g)?Dt(i,g):C};const gn=Phaser.Utils.Objects.GetValue;var AD=function(i,t){var s=gn(t,"expandDirection",void 0);typeof s=="string"&&(s=RD[s]);var g=wD(t,"alignTarget","alignTargetX"),C=gn(t,"alignTargetY",g),M=gn(t,"alignOffsetX",0),o=gn(t,"alignOffsetY",0),T=gn(t,"alignSide",""),e=T.includes("right"),u=gn(t,"bounds"),x=s===0,d=s===1,l=!x&&!d,h=e?1:0,n=x||l?0:1;i.setOrigin(h,n);var r,f;e?r=g.getTopRight().x:r=g.getTopLeft().x,f=C.getBottomLeft().y,i.setPosition(r+M,f+o);var a=u;a||(a=Un(i.scene)),l&&i.getBottomLeft().y>a.bottom&&(f=C.getTopLeft().y,i.setOrigin(0,1).setPosition(r+M,f+o))};const RD={down:0,up:1},Uv=Phaser.Utils.Objects.GetValue;class xm extends Eh{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=function(M,o){ju(M,o,"y","Cubic")}),s.transitOut==null&&(s.transitOut=function(M,o){MD(M,o,"y","Linear")}),s.manualClose=!0,s.clickOutsideClose=!0,s.destroy=!0,super(t,s),AD(t,s),t.isRexSizer&&t.layout();var g=Uv(s,"touchOutsideClose",!1),C=Uv(s,"anyTouchClose",!1);C&&(g=!1),C?this.once("open",this.anyTouchClose,this):g&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Er(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var OD=function(){if(this.listPanel)return this;var i=PD.call(this);i.on("button.over",function(g,C,M,o){this.listOnButtonOver&&this.listOnButtonOver.call(this,g,C,M,o),this.emit("button.over",this,i,g,C,M,o)},this).on("button.out",function(g,C,M,o){this.listOnButtonOut&&this.listOnButtonOut.call(this,g,C,M,o),this.emit("button.out",this,i,g,C,M,o)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var s=new xm(i,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds,anyTouchClose:!0}).on("open",function(){i.on("button.click",function(g,C,M,o){this.listOnButtonClick&&this.listOnButtonClick.call(this,g,C,M,o),this.emit("button.click",this,i,g,C,M,o)},this),this.emit("list.open",this,i)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0},this);return this.listPanel=i,this.dropDownBehavior=s,this.pin(i),this},bD=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this):this},LD=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},ym={openListPanel:OD,closeListPanel:bD,toggleListPanel:LD};Object.assign(ym,SD);const zt=Phaser.Utils.Objects.GetValue;class $r extends Oi{constructor(t,s){super(t,s),this.type="rexDropDownList",this.timer=void 0,this.setOptions(zt(s,"options"));var g=zt(s,"list");this.setWrapEnable(zt(g,"wrap",!1)),this.setCreateButtonCallback(zt(g,"createButtonCallback")),this.setCreateListBackgroundCallback(zt(g,"createBackgroundCallback")),this.setButtonClickCallback(zt(g,"onButtonClick")),this.setButtonOverCallback(zt(g,"onButtonOver")),this.setButtonOutCallback(zt(g,"onButtonOut")),this.setListExpandDirection(zt(g,"expandDirection")),this.setListEaseInDuration(zt(g,"easeIn",500)),this.setListEaseOutDuration(zt(g,"easeOut",100)),this.setListTransitInCallback(zt(g,"transitIn")),this.settListTransitOutCallback(zt(g,"transitOut")),this.setListSize(zt(g,"width"),zt(g,"height")),this.setListAlignmentMode(zt(g,"alignParent","text")),this.setListAlignmentSide(zt(g,"alignSide","")),this.setListBounds(zt(g,"bounds")),this.setListSpace(zt(g,"space")),this.setListDraggable(zt(g,"draggable",!1)),this.setValueChangeCallback(zt(s,"setValueCallback"),zt(s,"setValueCallbackScope")),this.setValue(zt(s,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,s){return this.valueChangeCallback=t,this.valueChangeCallbackScope=s,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t;var g=this.valueChangeCallback,C=this.valueChangeCallbackScope;g&&(C?g.call(C,this,t,s):g(this,t,s)),this.emit("valuechange",this,t,s)}}emitButtonClick(t){var s=this.options[t];return s?(this.emit("button.click",this,void 0,s,t),this):this}}Object.assign($r.prototype,ym);nt.register("dropDownList",function(i){var t=new $r(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.DropDownList",$r);var Tm=function(i,t,s){t=t?Te(t):{},s===void 0&&(s={});var g=t.label||t.button,C=t.button||t.label;delete t.label,delete t.button;var M=s.label||s.button||s,o=s.button||s.label||s,T=gd(i,g,M);return T.list=t.list||{},T.list.createButtonCallback=function(e,u){var x=ke(e,C,o).resetDisplayContent({text:u.text});return u.hasOwnProperty("value")&&(x.value=u.value),x},T.list.onButtonOver=function(e,u,x,d){e.setHoverState&&e.setHoverState(!0)},T.list.onButtonOut=function(e,u,x,d){e.setHoverState&&e.setHoverState(!1)},T};class Cm extends $r{constructor(t,s,g){s=Tm(t,s,g),super(t,s),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var s=0,g=t.length;s<g;s++){var C=t[s];typeof C=="string"&&(t[s]={text:C,value:C})}return super.setOptions(t),this}}nt.register("simpleDropDownList",function(i,t){var s=new Cm(this.scene,i,t);return this.scene.add.existing(s),s});st(window,"RexPlugins.UI.SimpleDropDownList",Cm);var FD=function(i,t){i===void 0&&(i=this.startLineIndex),t===void 0&&(t=i+this.pageLinesCount);var s;switch(this.textObjectType){case Be:case $e:s=this.lines.slice(i,t).join(`
`);break;case He:var g=this.lines.getLineStartIndex(i),C=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(g,C,!0);break}return s},gl=function(i){return Array.isArray(i)?i=i.join(`
`):typeof i=="number"&&(i=i.toString()),i};const DD={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(s){var t=this.totalLinesCount;this.sections.push(gl(s));var s=this.sections.join(`
`);this.lines=Cd(this.parent,s,this.lines);for(var g=this.totalLinesCount-t,C=Math.ceil(g/this.pageLinesCount),M=0;M<C;M++)this.pageStartIndexes.push(t+M*this.pageLinesCount);return this},setText(i,t){t===void 0&&(t=!0),t&&this.resetPageIdx(),this.clearText();for(var s=gl(i).split(this.pageBreak),g=0,C=s.length;g<C;g++)this.appendPage(s[g]);return this},appendText(i){var t=this.content+gl(i);return this.setText(t,!1),this}},ID=Phaser.Math.Clamp,BD={getPage(i){return i===void 0&&(i=this.pageIndex),this.setPageIndex(i).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},resetPageIdx(){return this.pageIndex=-1,this},setPageIndex(i){return i=ID(i,0,this.pageCount-1),this.pageIndex=i,this.startLineIndex=this.pageStartIndexes[i],this.endLineIndex=this.pageStartIndexes[i+1],this}},GD={showPage(i){return this.displayText(this.getPage(i)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},show(){return this.displayText(this.getLines()),this},showNextLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex+1).getLines()),this},showPreviousLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex-1).getLines()),this},displayText(i){Sd(this.parent,i)}};var Sm={getLines:FD};Object.assign(Sm,DD,BD,GD);const dr=Phaser.Utils.Objects.GetValue,ND=Phaser.Math.Clamp;class Jh extends re{constructor(t,s){super(t,{eventEmitter:!1}),this.textObjectType=Wr(this.parent),this.pageStartIndexes=[],this.lines=Cd(this.parent,""),this.sections=[],this.resetFromJSON(s)}resetFromJSON(t){return this.setMaxLines(dr(t,"maxLines",void 0)),this.setPageBreak(dr(t,"pageBreak",`\f
`)),this.setText(dr(t,"text","")),this.setStartLineIndex(dr(t,"start",0)),this.setPageIndex(dr(t,"page",-1)),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Be:this.lines.length=0;break;case He:this.lines.destroy();break;case $e:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get startLineIndex(){return this._startLineIndex}set startLineIndex(t){t=ND(t,0,this.totalLinesCount-1),this._startLineIndex=t}setStartLineIndex(t){return this.startLineIndex=t,this}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Be:case He:var s=this.parent.style.maxLines;s>0?t=s:t=this.totalLinesCount;break;case $e:t=this.totalLinesCount;break}return t}get content(){return this.sections.join(this.pageBreak)}}Object.assign(Jh.prototype,Sm);var zD=function(i,t){var s=Wr(i);switch(s){case Be:i.style.syncFont(i.canvas,i.context),t=i.runWordWrap(t);break;case He:t=i.getText(t,void 0,void 0,!0);break;case $e:t=i.setText(t).getTextBounds().wrappedText;break}return t};const mn=Phaser.Utils.Objects.GetFastValue,ml=Phaser.Utils.Objects.GetValue;class Rd extends re{constructor(t,s){super(t,s),this.timer=null,this.resetFromJSON(s)}resetFromJSON(t){this.setTextWrapEnable(ml(t,"wrap",!1)),this.setTypeMode(ml(t,"typeMode",0)),this.setTypingSpeed(ml(t,"speed",333)),this.setTextCallback=mn(t,"setTextCallback",null),this.setTextCallbackScope=mn(t,"setTextCallbackScope",null),this.setTypingContent(mn(t,"text","")),this.typingIdx=mn(t,"typingIdx",0),this.insertIdx=mn(t,"insertIdx",null);var s=mn(t,"elapsed",null);return s!==null&&this.start(void 0,void 0,this.typingIdx,s),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=VD[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var s=Yv(t);this.textWrapEnable&&(s=zD(this.parent,s)),this._text=s}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIdx===this.textLen}start(t,s,g,C){return t!==void 0&&this.setTypingContent(t),s!==void 0&&(this.speed=s),g===void 0&&(g=0),this.typingIdx=g+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(C)),this}appendText(t){var s=this.text.concat(Yv(t));return this.isTyping?this.setTypingContent(s):this.start(s,void 0,this.textLen),this}stop(t){var s=this.getTimer();return s&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)),this}pause(){var t=this.getTimer();return t&&(t.paused=!0),this}resume(){var t=this.getTimer();return t&&(t.paused=!1),this}setTypingContent(t){return this.text=t,this.textLen=this.getTextLength(this.text),this}onTyping(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.parent)):(this.timer.delay=this.speed,this.typingIdx++)}getTypingString(t,s,g,C){var M;if(C===0){var o=0,T=s;this.insertIdx=T,M=this.getSubString(t,o,T)}else if(C===1){var T=g,o=T-s;this.insertIdx=0,M=this.getSubString(t,o,T)}else if(C===2){var e=g/2,o=Math.floor(e-s/2),T=o+s;this.insertIdx=s%2?s:0,M=this.getSubString(t,o,T)}else if(C===3){var u=Math.floor(s/2),x;if(u>0){var T=g,o=T-u;x=this.getSubString(t,o,T)}else x="";var d=s-u,l;if(d>0){var o=0,T=o+d;this.insertIdx=T,l=this.getSubString(t,o,T)}else l="",this.insertIdx=0;M=l+x}return M}startTimer(t){this.timer&&this.freeTimer();var s;return t===void 0?s=0:(this.speed,s=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:s,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):t=this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.textWrapEnable?Sd(this.parent,t):this.parent.setText(t)}getTextLength(t){var s=this.parent,g;return s.getPlainText?g=s.getPlainText(t).length:g=t.length,g}getSubString(t,s,g){var C=this.parent,M;return C.getSubString?M=C.getSubString(t,s,g):M=t.slice(s,g),M}}var Yv=function(i){return Array.isArray(i)?i=i.join(`
`):typeof i=="number"&&(i=i.toString()),i};const VD={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},Xv=Phaser.Utils.Objects.GetValue;class Od extends Oi{constructor(t,s){s===void 0&&(s={text:UD(t)}),super(t,s),this.type="rexTextBox";var g=this.childrenMap.text;this.page=new Jh(g,Xv(s,"page",void 0)),this.typing=new Rd(g,Xv(s,"typing",s.type)),this.typing.on("complete",this.onPageEnd,this).on("type",this.onType,this),this.textWidth=g.width,this.textHeight=g.height}start(t,s){return this.page.setText(t),s!==void 0&&this.setTypingSpeed(s),this.typeNextPage(),this}typeNextPage(){if(this.isLastPage)this.emit("complete");else{var t=this.page.getNextPage();this.typing.start(t)}return this}pause(){return this.typing.pause(),this}resume(){return this.typing.resume(),this}stop(t){return this.typing.stop(t),this}setTypeSpeed(t){return this.typing.setTypingSpeed(t),this}setTypingSpeed(t){return this.typing.setTypingSpeed(t),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}onType(){var t=this.childrenMap.text;(this.textWidth!==t.width||this.textHeight!==t.height)&&(this.textWidth=t.width,this.textHeight=t.height,this.getTopmostSizer().layout()),this.emit("type")}onPageEnd(){this.emit("pageend"),this.isLastPage&&this.emit("complete")}}var UD=function(i){return i.add.text(0,0,"",{wordWrap:{width:200},maxLines:5})};nt.register("textBox",function(i){var t=new Od(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.TextBox",Od);const De=Phaser.Utils.Objects.GetValue;class bd extends Pt{constructor(t,s){super(t,s),this.type="rexNumberBar";var g=De(s,"background",void 0),C=De(s,"icon",void 0),M=De(s,"iconMask",void 0),o=De(s,"slider",void 0),T=De(s,"text",void 0),e=De(s,"space.icon",0),u=De(s,"space.slider",0);if(g&&this.addBackground(g),C){var x;this.orientation===0?(o||T)&&(x={right:e}):(o||T)&&(x={bottom:e}),this.add(C,{proportion:0,align:"center",padding:x}),M&&(M=Ui.call(this,C,C,1))}var d;if(o){o.orientation=this.orientation,o.eventEmitter=this,o.value=null,o.hasOwnProperty("input")||(o.input=-1),d=new $s(t,o),t.add.existing(d);var x;this.orientation===0?T&&(x={right:u}):T&&(x={bottom:u});var l;if(this.orientation===0){var h=De(o,"width",void 0);l=h===void 0?1:0}else{var n=De(o,"height",void 0);l=n===void 0?1:0}this.add(d,{proportion:l,align:"center",padding:x})}T&&this.add(T),this.addChildrenMap("background",g),this.addChildrenMap("icon",C),this.addChildrenMap("iconMask",M),this.addChildrenMap("slider",d),this.addChildrenMap("text",T);var r=De(s,"valuechangeCallback",null);if(r!==null){var f=De(s,"valuechangeCallbackScope",void 0);this.on("valuechange",r,f)}this.setEnable(De(s,"enable",void 0)),this.setValue(De(s,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){!this.childrenMap.slider||(this.childrenMap.slider.value=t)}setValue(t,s,g){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,g),this}addValue(t,s,g){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,g),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,g){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,g),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var s;return t.text?s=t.text:s=t.getData("text"),s}set text(t){var s=this.childrenMap.text;s!==void 0&&(s.setText?s.setText(t):s.setData("text",t))}setText(t){return this.text=t,this}}nt.register("numberBar",function(i){var t=new bd(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.NumberBar",bd);nt.register("scrollBar",function(i){var t=new Uh(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.ScrollBar",Uh);const xl=Phaser.Utils.Objects.GetValue,kv={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class Ld extends Ne{constructor(t,s){super(t,s),this.type="rexBadge";var g=xl(s,"background",void 0);g&&this.addBackground(g),this.addChildrenMap("background",g);var C=xl(s,"main",void 0);C&&this.add(C,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",C);for(var M in kv){var o=xl(s,M,void 0);o&&(this.add(o,{key:M,align:kv[M],expand:!1}),this.addChildrenMap(M,o))}}}nt.register("badgeLabel",function(i){var t=new Ld(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.BadgeLabel",Ld);const YD=Ne.prototype.add;var Wv=function(i,t,s,g,C,M,o,T,e){return i.setVisible(!1),YD.call(this,i,t,s,g,C,M,o,T,e),this};const XD={add:Wv,addPage:Wv};var kD=function(i){return i===void 0?null:this.sizerChildren.hasOwnProperty(i)?this.sizerChildren[i]:null};const Hv=Ge.prototype.setChildVisible;var WD=function(i,t){this._previousKey=this._currentKey;var s=this.previousPage;s&&(this.swapMode===0?(Hv.call(this,s,!1),this.emit("pageinvisible",s,this._previousKey,this)):s.destroy()),i&&!this.sizerChildren.hasOwnProperty(i)&&this.emit("createpage",i,this),this._currentKey=i;var g=this.currentPage;return g&&(Hv.call(this,g,!0),this.emit("pagevisible",g,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&g.setAlpha(0).fadeIn(t,1)),this},HD=function(i){return this.sizerChildren.hasOwnProperty(i)},Em={getPage:kD,swapPage:WD,hasPage:HD};Object.assign(Em,XD);const $v=Phaser.Utils.Objects.GetValue;class Kr extends Ne{constructor(t,s){super(t,s),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode($v(s,"swapMode",0)),this.setFadeInDuration($v(s,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=$D[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(Kr.prototype,Em);const $D={invisible:0,destroy:1};nt.register("pages",function(i){var t=new Kr(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Pages",Kr);const Pm=Phaser.Math.Vector3,KD=Phaser.Math.Matrix4;var Kv=new Pm,Zv=new Pm,Jv=new KD,ZD=function(i,t,s,g,C,M,o){t===void 0&&(t=0),s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=0),M===void 0&&(M=0),o===void 0&&(o=0),Kv.set(t,s,g),Zv.set(C,M,o),Jv.fromRotationXYTranslation(Zv,Kv,!0);for(var T=0,e=i.vertices.length;T<e;T++)i.vertices[T].transformMat4(Jv)};const JD=Phaser.GameObjects.Mesh,jD=Phaser.Utils.Objects.IsPlainObject,Ls=Phaser.Utils.Objects.GetValue,QD=Phaser.Geom.Mesh.GenerateGridVerts,yl=Phaser.Math.RadToDeg,Ka=Phaser.Math.DegToRad,Mm=45,qD=1+1/Math.sin(Ka(Mm));class wm extends JD{constructor(t,s,g,C,M,o){jD(s)&&(o=s,s=Ls(o,"x",0),g=Ls(o,"y",0),C=Ls(o,"key",null),M=Ls(o,"frame",null)),super(t,s,g,C,M),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(qD),this.hideCCW=Ls(o,"hideCCW",!0);var T=Ls(o,"gridWidth",32),e=Ls(o,"gridHeight",T);this.resetVerts(T,e)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,Mm),this}resetVerts(t,s){if(t!==void 0&&(this.gridWidth=t),s!==void 0&&(this.gridHeight=s),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var g=this.frame.cutWidth,C=this.frame.cutHeight;QD({mesh:this,texture:this.texture.key,frame:this.frame.name,width:g/this.height,height:C/this.height,widthSegments:Math.ceil(g/this.gridWidth),heightSegments:Math.ceil(C/this.gridHeight)});var M=this.transformInfo;return M&&this.transformVerts(M.x,M.y,M.z,M.rotateX,M.rotateY,M.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return yl(this.rotationX)}set angleX(t){this.rotationX=Ka(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return yl(this.rotationY)}set angleY(t){this.rotationY=Ka(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return yl(this.rotationZ)}set angleZ(t){this.rotationZ=Ka(t)}transformVerts(t,s,g,C,M,o){return t===void 0&&(t=0),s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=0),M===void 0&&(M=0),o===void 0&&(o=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=s,this.transformInfo.rotateX=C,this.transformInfo.rotateY=M,this.transformInfo.rotateZ=o,ZD(this,t,s,g,C,M,o),this}forceUpdate(){return this.dirtyCache[10]=1,this}get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}}const _D=Phaser.Textures.DynamicTexture;var Am=function(i,t,s){t===void 0&&(t=2),s===void 0&&(s=2);var g=new _D(i.sys.textures,null,t,s);return g};const t4=Phaser.Utils.Objects.IsPlainObject,Fa=Phaser.Utils.Objects.GetValue;class Rm extends wm{constructor(t,s,g,C,M,o){t4(s)&&(o=s,s=Fa(o,"x",0),g=Fa(o,"y",0),C=Fa(o,"width",32),M=Fa(o,"height",32));var T=Am(t,C,M);super(t,s,g,T,null,o),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,s){return s===void 0&&(s={}),s.gameObjects=t,s.renderTexture=this.rt,Iu(s),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var ri=function(i,t,s,g){if(Array.isArray(i))for(var C=!1,M=0,o=i.length;M<o;M++){var T=i[M];if(!(g&&!T)&&(s?C=t.call(s,T,M,i):C=t(T,M,i),C))return}else{var C=!1;for(var e in i){var T=i[e];if(!(g&&!T)&&(s?C=t.call(s,T,e,i):C=t(T,e,i),C))return}}};const Tl=Phaser.Math.RadToDeg,Cl=Phaser.Math.DegToRad;class e4 extends Ge{constructor(t,s,g,C,M,o){super(t,s,g,C,M),this.faces=o,ri(o,function(T){T.setPosition(s,g),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Tl(this.rotationX)}set angleX(t){this.rotationX=Cl(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Tl(this.rotationY)}set angleY(t){this.rotationY=Cl(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Tl(this.rotationZ)}set angleZ(t){this.rotationZ=Cl(t)}setDebug(t,s){return ri(this.faces,function(g){g.setDebug(t,s)},null,!0),this}panX(t){return ri(this.faces,function(s){s.panX(t)},null,!0),this}panY(t){return ri(this.faces,function(s){s.panY(t)},null,!0),this}panZ(t){return ri(this.faces,function(s){s.panZ(t)},null,!0),this}transformVerts(t,s,g,C,M,o){return ri(this.faces,function(T){T.transformVerts(t,s,g,C,M,o)},null,!0),this}forEachFace(t,s,g){return ri(this.faces,t,s,g),this}}const i4=Phaser.Utils.Objects.IsPlainObject,s4={key:"__WHITE"},n4={image:wm,rendertexture:Rm};var jv=function(i,t){t===void 0&&(t=s4);var s;return i4(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),s=new n4[t.type](i,t),i.add.existing(s)):s=t,s},r4=function(i,t,s){var g;if(s===void 0){g=[];for(var C,M,o=0,T=t.length;o<T;o++)M=t[o],M?C=jv(i,M):C=null,g.push(C)}else{g={};for(var C,e,o=0,T=s.length;o<T;o++)e=s[o],t.hasOwnProperty(e)?C=jv(i,t[e]):C=null,g[e]=C}return g};const a4=Phaser.Math.DegToRad,Qv=a4(180);var h4=function(i,t){var s=t.back;s&&(i.orientation===0?s.transformVerts(0,0,0,0,Qv,0):s.transformVerts(0,0,0,Qv,0,0))};const Sl=Phaser.Utils.Objects.GetValue,o4=Phaser.Math.Linear;class l4 extends Us{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(Sl(t,"ease","Cubic")),this.setFrontToBackDirection(Sl(t,"frontToBack",0)),this.setBackToFrontDirection(Sl(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=qv[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=qv[t]),this.endAngleBF=t===0?-180:180,this}start(t,s){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var g=s+1,C=this.parent;return C.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*g):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*g),super.start(),this}flip(t,s){return this.isRunning?this:(t===void 0&&(t=this.duration),s===void 0&&(s=0),this.start(t,s),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+s+1)%2,this)}flipRight(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,s),this}flipLeft(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,s),this}updateGameObject(t,s){var g=this.easeFn(s.t),C=o4(this.startAngle,this.endAngle,g);t.orientation===0?t.angleY=C:t.angleX=C}}const qv={right:0,"left-to-right":0,left:1,"right-to-left":1},u4=Phaser.Utils.Objects.IsPlainObject,Fs=Phaser.Utils.Objects.GetValue,d4=["back","front"];class f4 extends e4{constructor(t,s,g,C){u4(s)&&(C=s,s=Fs(C,"x",0),g=Fs(C,"y",0));var M=r4(t,C,d4),o=M.back,T=M.front,e=Fs(C,"width"),u=Fs(C,"height");if(e===void 0||u===void 0){if(e===void 0){var x=T?T.width:0,d=o?o.width:0;e=Math.max(x,d)}if(u===void 0){var l=T?T.height:0,h=o?o.height:0;u=Math.max(l,h)}}super(t,s,g,e,u,M),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,ri(M,function(r,f){this[`${f}Face`]=r},this);var n=Fs(C,"flip",void 0);n!==!1&&(this.flip=new l4(this,n)),this.setOrientation(Fs(C,"orientation",0)),h4(this,M),this.setFace(Fs(C,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,ri(this.faces,function(s){s.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,ri(this.faces,function(s){s.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,ri(this.faces,function(s){s.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=c4[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=v4[t]),this.currentFaceIndex=t;var s=t===1,g=s?180:0;this.orientation===0?this.angleY=g:this.angleX=g}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const c4={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},v4={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const p4=Phaser.Utils.Objects.GetValue;var g4=function(i,t,s){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=p4(s,"useParentBounds",!1),t.setPosition(i.x,i.y).setVisible(!1),i.pin(t)},Om=function(i,t){if(!i)return!1;for(var s=t.visibleSibling,g=0,C=s.length;g<C;g++)i.setChildVisible(s[g],!0);return s.length=0,i.setChildVisible(t,!1),t.isRunning=!1,!0},m4=function(i,t){if(!i)return!1;Om(i,t);var s=t.useParentBounds;Iu({gameObjects:i.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:s?i.displayWidth:void 0,height:s?i.displayHeighth:void 0,originX:s?i.originX:void 0,originY:s?i.originY:void 0}),i.setChildVisible(t,!0);for(var g=t.visibleSibling,C=i.children,M=0,o=C.length;M<o;M++){var T=C[M];T.visible&&T!==t&&(i.setChildVisible(T,!1),g.push(T))}return t.isRunning=!0,!0},bm=function(i){return class extends i{constructor(s,g){var C=s.scene;super(C,0,0,1,1,g),C.add.existing(this),g4(s,this,g)}destroy(s){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(s))}enter(){var s=m4(this.rexContainer.parent,this);return s&&this.syncSize(),this}exit(){return Om(this.rexContainer.parent,this),this}}};class Lm extends bm(Rm){get perspectiveState(){return this.isRunning}}const x4=Phaser.Utils.Objects.GetValue;var y4=function(i){var t=this.scene;this.setSnapshotPadding(x4(i,"snapshotPadding",0)),i=zs(i),delete i.width,delete i.height,i.front={width:1,height:1},i.back={width:1,height:1};var s=new f4(t,i);t.add.existing(s);var g=s.flip;if(g){var C=this;g.on("start",function(){C.enterPerspectiveMode()}).on("complete",function(){C.exitPerspectiveMode()})}return s};const T4=["front","back"],C4={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var i=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,i),this.setChildVisible(this.childrenMap.back,!i),this},setSnapshotPadding(i){return this.snapshotPadding=i,this},snapshotFace(i){typeof i=="number"&&(i=T4[i]);var t=this.perspectiveCard.faces[i],s=this.childrenMap[i];t.rt.clear();var g=s.visible;s.visible=!0;var C=s.isRexContainerLite?s.getAllVisibleChildren():s;return t.snapshot(C,{padding:this.snapshotPadding}),s.visible=g,this}},_v=Phaser.Utils.Objects.GetValue;class Fd extends Ne{constructor(t,s){super(t,s),this.type="rexPerspectiveCard";var g=s.back,C=_v(s,"expand.back",!0);this.add(g,{key:"back",expand:C});var M=s.front,o=_v(s,"expand.front",!0);this.add(M,{key:"front",expand:o}),this.perspectiveCard=y4.call(this,s),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var s=t===0,g=this.childrenMap.front,C=this.childrenMap.back;this.setChildVisible(g,s),this.setChildVisible(C,!s)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,s,g,C,M,o){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,s,g,C,M,o),this}forEachFace(t,s,g){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,s,g),this}}Object.assign(Fd.prototype,C4);nt.register("perspectiveCard",function(i){var t=new Fd(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.PerspectiveCard",Fd);var S4=function(i){var t=this.getElement("tabs.buttons");if(!(i>=t.length))return t[i].name},E4=function(i){for(var t=this.getElement("tabs.buttons"),s=0,g=t.length;s<g;s++)if(t[s].name===i)return s};const P4=Phaser.Utils.Objects.IsPlainObject,El=Phaser.Utils.Objects.GetValue,M4=Phaser.Utils.String.UUID;var w4=function(i,t,s){if(P4(i)){var g=i;i=El(g,"key"),t=El(g,"tab"),s=El(g,"page")}return i||(i=M4()),t.name=i,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(s,{key:i}),this},A4=function(i,t){var s;if(typeof i=="number"?s=i:s=this.getPageIndex(i),s!=null){var g;t!==void 0&&(g=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(s),g!==void 0&&(this.childrenMap.pages.fadeInDuration=g)}return this},R4=function(i){return this.swapPage(0,i),this},O4=function(i){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,i),this};const b4={swapPage:A4,swapFirstPage:R4,swapLastPage:O4};var L4=function(i,t){typeof i=="number"&&(i=this.getPageKey(i));var s=this.childrenMap.tabs,g=s.getByName(i),C=this.childrenMap.pages,M=C.getElement(i);return!g||!M?this:(C.removeChildrenMap(i),s.removeButton(g,t),C.remove(M,t),this)};const F4={removePage:L4};var D4=function(i){return typeof i=="number"&&(i=this.getPageKey(i)),this.childrenMap.pages.getPage(i)},I4=function(i){var t;return typeof i=="number"?t=i:t=this.getPageIndex(i),this.getElement("tabs.buttons")[t]},Fm={getPageKey:S4,getPageIndex:E4,addPage:w4,getPage:D4,getTab:I4};Object.assign(Fm,b4,F4);const Ds=Phaser.Utils.Objects.GetValue,Da=Pt.prototype.add;class jh extends Pt{constructor(t,s){s===void 0&&(s={});var g=Ds(s,"tabPosition","top"),C=g==="left"||g==="right"?"x":"y";s.orientation=C,super(t,s),this.type="rexTabPages";var M=Ds(s,"background",void 0);M&&this.addBackground(M);var o=Ds(s,"pages"),T=new Kr(t,o);t.add.existing(T);var e=C==="y",u=e?Ds(s,"wrapTabs",!1):!1,x=Ds(s,"tabs",void 0);x===void 0&&(x={});var d=u?fs:ne;x.orientation=e?"x":"y",x.buttonsType="radio";var l=new d(t,x);t.add.existing(l);var h=u?!0:Ds(s,"expand.tabs",!1),n=Ds(s,"align.tabs","left");switch(g){case"top":case"left":Da.call(this,l,{proportion:0,expand:h,align:n}),Da.call(this,T,{proportion:1,expand:!0});break;case"bottom":case"right":Da.call(this,T,{proportion:1,expand:!0}),Da.call(this,l,{proportion:0,expand:h,align:n});break}this.addChildrenMap("background",M),this.addChildrenMap("tabs",l),this.addChildrenMap("pages",T),l.on("button.click",function(r){var f=r.name;T.hasPage(f)&&T.swapPage(f)}),l.on("button.statechange",function(r,f,a,c){var p=a?"tab.focus":"tab.blur";this.emit(p,r,r.name)},this),T.on("pagevisible",function(r,f,a){this.emit("page.focus",r,f)}),T.on("pageinvisible",function(r,f,a){this.emit("page.blur",r,f)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}}Object.assign(jh.prototype,Fm);nt.register("tabPages",function(i){var t=new jh(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.TabPages",jh);class B4 extends Eh{constructor(t,s){s===void 0&&(s={}),s.destroy=!1,super(t,s)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const G4={expand(i){if(this.expanded===!0)return this;i===void 0&&(i=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,s=this.childrenMap.child;this.show(s);var g=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();return g.layout(),t.emit("folder.expand",i,this),s.emit("folder.expand",i,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,i),this},collapse(i){if(this.expanded===!1)return this;i===void 0&&(i=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,s=this.childrenMap.child;return t.emit("folder.collapse",i,this),s.emit("folder.collapse",i,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){this.setChildScale(s,1,1).hide(s);var g=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();g.layout(),this.emit("collapse.complete",this)},this).requestClose(null,i),this},toggle(i){return this.expanded?this.collapse(i):this.expand(i),this}};var N4=function(i,t){Qu.popUp.call(i,t,this.expandDirection)},z4=function(i,t){Qu.scaleDown.call(i,t,this.expandDirection)};const V4={setTransitionDuration(i){return this.transitionDuration=i,this.childTransition.setTransitInTime(i).setTransitOutTime(i),this},setExpandCallback(i){return i===void 0&&(i=N4.bind(this)),this.childTransition.setTransitInCallback(i),this},setCollapseCallback(i){return i===void 0&&(i=z4.bind(this)),this.childTransition.setTransitOutCallback(i),this}},ei=Phaser.Utils.Objects.GetValue;class Qh extends Pt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1),super(t,s),this.type="rexFolder",this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var g=s.background,C=s.title,M=s.child;g&&this.addBackground(g);var o=this.orientation===1?"left":"top",d=ei(s,"align.title",o),l=ei(s,"expand.title",!0);this.add(C,{proportion:0,align:d,expand:l});var T=ei(s,"toggleByTarget",void 0),e=ei(s,"toggleClickConfig");T===void 0&&(T=C),T&&P0.onClick.call(T,function(){this.toggle()},this,e),this.childTransition=new B4(M);var u=ei(s,"customChildOrigin",!1);if(!u){var x=this.rtl?1:0;M.setOrigin(x)}var d=ei(s,"align.child","left"),l=ei(s,"expand.child",!0),h=l?1:0;this.add(M,{proportion:h,align:d,expand:l}),this.addChildrenMap("title",C),this.addChildrenMap("child",M),this.addChildrenMap("background",g);var n=s.transition;this.setTransitionDuration(ei(n,"duration",200)),this.setExpandCallback(ei(n,"expandCallback",void 0)),this.setCollapseCallback(ei(n,"collapseCallback",void 0)),this.reLayoutTarget=ei(s,"reLayoutTarget",void 0);var r=s.onExpandStart;r&&this.on("expand.start",r);var f=s.onExpandComplete;f&&this.on("expand.complete",f);var a=s.onCollapseStart;a&&this.on("collapse.start",a);var c=s.onCollapseComplete;c&&this.on("collapse.complete",c)}}Object.assign(Qh.prototype,G4,V4);nt.register("folder",function(i){var t=new Qh(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Folder",Qh);nt.register("textArea",function(i){var t=new kn(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.TextArea",kn);var U4=function(){if(this.rexSizer.hidden)return 0;var i,t=this.child,s=t.rexSizer;return s.hidden?i=0:this.scrollMode===0?i=this.getChildWidth(t):i=0,i},Y4=function(){if(this.rexSizer.hidden)return 0;var i,t=this.child,s=t.rexSizer;return s.hidden||this.scrollMode===0?i=0:i=t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.hasOwnProperty("minHeight")?t.minHeight:wt(t),i},X4=function(i){return i===void 0&&(i=[]),this.child&&this.child.isRexSizer&&i.push(this.child),i},k4=function(){var i=this.left,t=this.top;this.scrollMode===0?t+=this.childOY:i+=this.childOY,this.child.setPosition(i,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},W4=function(){var i=this.child,t,s;i.rexSizer.hidden||(this.scrollMode===0?t=this.width:s=this.height,i.isRexSizer?i.runLayout(this,t,s):oi(i,t,s),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren())},Dm={getChildrenWidth:U4,getChildrenHeight:Y4,getChildrenSizers:X4,resetChildPosition:k4,layoutChildren:W4};Object.assign(Dm,dm);const tp=Phaser.Utils.Objects.IsPlainObject,ii=Phaser.Utils.Objects.GetValue,H4=Phaser.Display.Align.TOP_LEFT;class Im extends Hs{constructor(t,s,g,C,M,o){tp(s)?(o=s,s=ii(o,"x",0),g=ii(o,"y",0),C=ii(o,"width",void 0),M=ii(o,"height",void 0)):tp(C)&&(o=C,C=ii(o,"width",void 0),M=ii(o,"height",void 0)),super(t,s,g,C,M,o),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setScrollMode(ii(o,"scrollMode",!0)),this.setClampMode(ii(o,"clamplChildOY",!0));var T=ii(o,"child",void 0),e=ii(o,"expand",!0);T.setOrigin&&T.setOrigin(0),this.add(T),this.sizerChildren=[T];var u=this.getSizerConfig(T);u.align=H4,u.expand=e,this.child=T,this.setupChildrenMask(ii(o,"mask",void 0)),this.maskGameObject=Md(this.childrenMask)}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=sm[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampChildOY=t,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get childHeight(){return this.scrollMode===0?wt(this.child):bt(this.child)}get childWidth(){return this.scrollMode===0?bt(this.child):wt(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get childVisibleHeight(){return this.instHeight}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}get childOY(){return this._childOY}set childOY(t){var s=this.topChildOY,g=this.bottomChildOY,C=this.childOYExceedTop(t),M=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:C?t=s:M&&(t=g)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),C&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=C,M&&(this.execeedBottomState||this.emit("execeedbottom",this,t,g)),this.execeedBottomState=M}setChildOY(t){return this.childOY=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}setChildOYByPercentage(t){return this.t=t,this}}Object.assign(Im.prototype,Dm);const fr=Phaser.Utils.Objects.GetValue;class Bm extends Yh{constructor(t,s){s===void 0&&(s={});var g=Vh(s),C=fr(s,"panel",void 0);C===void 0&&(C={}),C.scrollMode=g,C.clamplChildOY=fr(s,"clamplChildOY",!1);var M=new Im(t,C);t.add.existing(M);var o=fr(C,"width",void 0),T=fr(C,"height",void 0),e,u;g===0?(e=o===void 0?1:0,u=T===void 0):(e=T===void 0?1:0,u=o===void 0),s.type="rexScrollablePanel",s.child={gameObject:M,proportion:e,expand:u};var x=fr(s,"space",void 0);x&&(x.child=x.panel),super(t,s),this.addChildrenMap("panel",M.child),this.addChildrenMap("panelLayer",M.maskLayer),this.addChildrenMap("mask",M.maskGameObject)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),hd(this.childrenMap.child,t),this}}nt.register("scrollablePanel",function(i){var t=new Bm(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.ScrollablePanel",Bm);const Ia={popUp:function(i,t){i.popUp(t)},scaleDown:function(i,t){i.scaleDown(t)},fadeIn:function(i,t){i.fadeIn(t)},fadeOut:function(i,t){i.fadeOut(t)}};var eu=function(i,t,s){var g=Dt(s,"reverse",!1),C;if(hi(i[0]))if(g)for(var o=i.length,M=o-1;M>=0;M--)C=eu(i[M],t,s);else for(var M=0,o=i.length;M<o;M++)C=eu(i[M],t,s);else C=$4(i,t,s);return C},$4=function(i,t,s){var g=Dt(s,"argsConvert",void 0),C=Dt(s,"argsConvertScope",void 0),M=i[0];if(ts=Ru(ts,i,1),g){g===!0&&(g=zg,C=void 0);for(var o=0,T=ts.length;o<T;o++)C?ts[o]=g.call(C,ts[o],i):ts[o]=g(ts[o],i)}var e;typeof M=="string"?(e=t[M],e==null&&(e=Dt(t,M,null))):e=M;var u=e.apply(t,ts);return u},ts=[];const si=Phaser.Utils.Objects.GetValue;class K4 extends re{constructor(t,s){super(t,s);var g=si(s,"clock",void 0);g||(g=new Dg(t)),this.clock=g,this.clock.on("update",this.update,this),this.resetFromJSON(s)}resetFromJSON(t){return this.clock.resetFromJSON(si(t,"clock",void 0)),this.state=si(t,"state",0),this.commands=si(t,"commands",[]),this.scope=si(t,"scope",void 0),this.setTimeUnit(si(t,"timeUnit",0)),this.setDtMode(si(t,"dtMode",0)),this.index=si(t,"index",0),this.nextTime=si(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,s,g){this.stop();var C=si(g,"timeUnit",void 0);C!==void 0&&this.setTimeUnit(C);var M=si(g,"dtMode",void 0);return M!==void 0&&this.setDtMode(M),t=t.filter(function(o){var T=o[0];return!isNaN(T)}).map(function(o){var T=o[0];return typeof T=="string"&&(o[0]=parseFloat(o[0])),o}),this.dtMode===0&&t.sort(function(o,T){var e=o[0],u=T[0];return e>u?1:e<u?-1:0}),this.commands=t,this.scope=s,this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var s=this.commands.length-1;;){var g=this.commands[this.index],C=g[1];if(hi(C)||(C=Ru(Z4,g,1)),eu(C,this.scope),this.emit("runcommand",C,this.scope),this.index===s)return this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var s=this.commands[this.index][0];return this.timeUnit===1&&(s=s*1e3),this.dtMode===1&&(s+=t),s}setDtMode(t){return typeof t=="string"&&(t=j4[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=J4[t]),this.timeUnit=t,this}}var Z4=[];const J4={ms:0,s:1,sec:1},j4={abs:0,absolute:0,inc:1,increment:1},cr=Phaser.Utils.Objects.GetValue;class Dd extends Oi{constructor(t,s){s===void 0&&(s={text:createDefaultTextObject(t)}),super(t,s),this.type="rexToast",this.setTransitInTime(cr(s,"duration.in",200)),this.setDisplayTime(cr(s,"duration.hold",1200)),this.setTransitOutTime(cr(s,"duration.out",200)),this.setTransitInCallback(cr(s,"transitIn",es.popUp)),this.setTransitOutCallback(cr(s,"transitOut",es.scaleDown)),this.player=new K4(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setDisplayTime(t){return this.displayTime=t,this}setTransitOutTime(t){return this.transitOutTime=t,this}setTransitInTime(t){return this.transitInTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=es[t]),t){case es.popUp:t=Ia.popUp;break;case es.fadeIn:t=Ia.fadeIn;break}return t||(t=ve),this.transitInCallback=t,this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=es[t]),t){case es.scaleDown:t=Ia.scaleDown;break;case es.fadeOut:t=Ia.fadeOut;break}return t||(t=ve),this.transitOutCallback=t,this}setScale(t,s){return s===void 0&&(s=t),this.scaleX0=t,this.scaleY0=s,super.setScale(t,s),this}showMessage(t){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),t===void 0){if(this.messages.length===0)return this;t=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(t),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof t=="string"?this.setText(t):t(this),this.layout();var s=[[0,[this.transitInCallback,this,this.transitInTime]],[this.transitInTime,[ve]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[ve]]];return this.player.load(s,this).once("complete",function(){this.showMessage()},this).start(),this}}const es={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};nt.register("toast",function(i){var t=new Dd(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Toast",Dd);var Q4=function(i,t){if(t===!1)return null;if(xs(t))return t;var s=new Xi(i,t);return i.add.existing(s),s},Zr=function(i,t,s){s===void 0&&(s=!0),s?t=t?Te(t):{}:t||(t={});var g=new wu(i,t);return i.add.existing(g),g};const ep=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],q4=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var iu={},ip;for(var Ba=0,_4=ep.length;Ba<_4;Ba++)ip=ep[Ba].toLowerCase(),iu[ip]=q4[Ba];var tI=function(i){return i=i.toLowerCase(),iu.hasOwnProperty(i)?iu[i]:null},eI=function(i){return typeof i!="string"||(i.startsWith("#")?i=parseInt(i.substring(1),16):i.startsWith("0x")?i=parseInt(i.substring(2),16):i=tI(i)),i};const iI=Phaser.Utils.String.Pad;var sp=function(i,t){t===void 0&&(t="0x");var s=i.toString(16).toUpperCase();return s=iI(s,6,0,1),s=t+s,s},sI=function(i,t){!i||(i.setTint?i.setTint(t):i.setFillStyle&&i.setFillStyle(t))};const Ye=Phaser.Utils.Objects.GetValue,nI=Phaser.Utils.Objects.IsPlainObject,rI=Phaser.Math.Clamp;class Id extends Pt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorInputLite";var g=Ye(s,"background",void 0),C=Ye(s,"swatch"),M;nI(C)&&(M=Ye(C,"size"));var o=Q4(t,Ye(s,"swatch")),T=Ye(s,"inputText",!0),e;if(T&&(e=Zr(t,T)),g&&this.addBackground(g),o){M=Ye(s,"swatchSize",M);var u;M!==void 0?(oi(o,M,M),u=!1):u=Ye(s,"squareExpandSwatch",!0);var x=u?1:0;this.add(o,{proportion:0,expand:!1,fitRatio:x})}if(e){var d=Ye(T,"width")===void 0?1:0,l=Ye(T,"height")===void 0;this.add(e,{proportion:d,expand:l})}this.addChildrenMap("background",g),this.addChildrenMap("swatch",o),this.addChildrenMap("inputText",e),e&&e.on("close",function(){this.setValue(e.value)},this);var h=Ye(s,"valuechangeCallback",null);if(h!==null){var n=Ye(s,"valuechangeCallbackScope",void 0);this.on("valuechange",h,n)}this.setValue(Ye(s,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=eI(t),t==null){var g=this.childrenMap.inputText;g&&g.setText(sp(this._value));return}}else t=rI(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var s=this.childrenMap.swatch;s&&sI(s,t);var g=this.childrenMap.inputText;g&&g.setText(sp(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}}var aI={setCreateColorPickerBackgroundCallback(i){return this.colorPickerCreateBackgroundCallback=i,this},setColorPickerHPalettePosition(i){return this.colorPickerHPalettePosition=i,this},setColorPickerExpandDirection(i){return typeof i=="string"&&(i=hI[i]),this.colorPickerExpandDirection=i,this},setColorPickerEaseInDuration(i){return i===void 0&&(i=0),this.colorPickerEaseInDuration=i,this},setColorPickerEaseOutDuration(i){return i===void 0&&(i=0),this.colorPickerEaseOutDuration=i,this},setColorPickerTransitInCallback(i){return this.colorPickerTransitInCallback=i,this},setColorPickerTransitOutCallback(i){return this.colorPickerTransitOutCallback=i,this},setColorPickerBounds(i){return this.colorPickerBounds=i,this},setColorPickerWidth(i){return this.colorPickerWidth=i,this},setColorPickerHeight(i){return this.colorPickerHeight=i,this},setColorPickerSize(i,t){return this.setColorPickerWidth(i).setColorPickerHeight(t),this},setColorPickerSpace(i){return i===void 0&&(i={}),this.colorPickerSpace=i,this},setColorComponentsHeight(i){return this.colorComponentsHeight=i,this},setColorComponentsFormatLabelConfig(i){return this.colorComponentsFormatLabelConfig=i,this},setColorComponentsInputTextConfig(i){return this.colorComponentsInputTextConfig=i,this},setColorComponentsSpace(i){return i===void 0&&(i={}),this.colorComponentsSpace=i,this}};const hI={down:0,up:1},Gm=Phaser.Display.Color,eh=Phaser.Math.Percent;var oI=function(i,t,s){s===void 0&&(s=!1);var g=i.width,C=i.height,M=new Gm;if(s)for(var o=0;o<C;o++){var T=eh(o,0,C);M.setFromHSV(T,1,1),t.fillStyle=M.rgba,t.fillRect(0,o,g,1)}else for(var e=0;e<g;e++){var T=eh(e,0,g);M.setFromHSV(T,1,1),t.fillStyle=M.rgba,t.fillRect(e,0,1,C)}},lI=function(i,t,s){for(var g=i.width,C=i.height,M=t.getImageData(0,0,g,C),o=M.data,T=new Gm,e=0;e<C;e++)for(var u=0;u<g;u++){var x=eh(u,0,g),d=1-eh(e,0,C);T.setFromHSV(s,x,d);var l=(e*g+u)*4;o[l]=T.red,o[l+1]=T.green,o[l+2]=T.blue,o[l+3]=255}t.putImageData(M,0,0)};const uI=Phaser.Display.Color,np=Phaser.Math.Percent,dI=Phaser.Display.Color.ColorToRGBA,fI=Phaser.Display.Color.HSVToRGB;class cI extends ks{constructor(t,s,g,C,M,o){s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=2),M===void 0&&(M=2),super(t,s,g,C,M),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new uI,this.setOrientation(o),this.setSize(C,M)}setOrientation(t){return this.orientation=Gh(t),this}updateTexture(){return oI(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,s){return t===void 0?this.hue:(this.orientation===0?this.hue=np(t,0,this.width):this.hue=np(s,0,this.height),this.hue)}getColor(t,s){if(t===void 0)return this.color;var g=this.getHue(t,s);return this.colorObject.setFromRGB(fI(g,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(Pl===void 0&&(Pl={}),s=Pl),this.colorObject.setFromRGB(dI(t)),this.orientation===0?(s.x=this.width*this.colorObject.h,s.y=this.height/2):(s.x=this.width/2,s.y=this.height*this.colorObject.h),s}}var Pl=void 0,vI=Phaser.Math.RotateAround,Nm=function(i,t,s,g){g===void 0?g={}:g===!0&&(Ml===void 0&&(Ml={}),g=Ml),t-=i.width*i.originX,s-=i.height*i.originY;var C={x:t*i.scaleX,y:s*i.scaleY};return vI(C,0,0,-i.rotation),g.x=i.x+t,g.y=i.y+s,g},Ml;class pI extends Ne{constructor(t,s){s===void 0&&(s={}),super(t,s);var g=s.width!=null?1:0,C=new cI(t).setOrientation(g);t.add.existing(C),this.type="rexColorPicker.HPalette",C.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var M=new Xi(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(M),this.add(C,{key:"paletteCanvas",expand:!0}).add(M,{key:"marker",expand:!1})}resize(t,s){if(this.width===t&&this.height===s)return this;super.resize(t,s);var g=Math.min(t,s);return this.childrenMap.marker.setSize(g,g),this}onPaletteCanvasPointerDown(t,s,g,C){if(!!t.isDown){var M=this.childrenMap.paletteCanvas,o=M.getColor(s,g);this.setMarkerPosition(o),this.emit("input",o)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,g=this.childrenMap.marker,C=s.colorToLocalPosition(t,!0);return Nm(s,C.x,C.y,g),this.resetChildPositionState(g),this}getHue(t,s){var g=this.childrenMap.paletteCanvas;return g.getHue(t,s)}}const gI=Phaser.Display.Color,rp=Phaser.Math.Percent,ap=Phaser.Display.Color.ColorToRGBA,mI=Phaser.Display.Color.HSVToRGB;class xI extends ks{constructor(t,s,g,C,M,o){s===void 0&&(s=0),g===void 0&&(g=0),C===void 0&&(C=2),M===void 0&&(M=2),super(t,s,g,C,M),this.type="rexColorPicker.SVPaletteCanvas",o===void 0&&(o=1),this.colorObject=new gI,this.setHue(o),this.setSize(C,M)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return lI(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,s){if(t===void 0)return this.colorObject.color;var g=rp(t,0,this.width),C=1-rp(s,0,this.height);return this.colorObject.setFromRGB(mI(this.hue,g,C)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(ap(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(wl===void 0&&(wl={}),s=wl),this.colorObject.setFromRGB(ap(t)),s.x=this.width*this.colorObject.s,s.y=this.height*(1-this.colorObject.v),s}}var wl=void 0;class yI extends Ne{constructor(t,s){super(t,s);var g=new xI(t);t.add.existing(g),this.type="rexColorPicker.SVPalette",g.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var C=new Xi(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(C),this.add(g,{key:"paletteCanvas",expand:!0}).add(C,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,s,g,C){if(!!t.isDown){var M=this.childrenMap.paletteCanvas,o=M.getColor(s,g);this.setMarkerPosition(o),this.emit("input",o)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var s=this.childrenMap.paletteCanvas;return s.setHue(t),this}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,g=this.childrenMap.marker,C=s.colorToLocalPosition(t,!0);return Nm(s,C.x,C.y,g),this.resetChildPositionState(g),this}}const ni=Phaser.Utils.Objects.GetValue;class Bd extends Pt{constructor(t,s){super(t,s),this.type="rexColorPicker",this.freezePalettes=!1;var g=ni(s,"hPalette.position",0);typeof g=="string"&&(g=TI[g]);var C=g===0||g===2?1:0;this.setOrientation(C);var M=ni(s,"background",void 0),o,T;if(this.orientation===0){var o=ni(s,"hPalette.width",void 0);o===void 0&&(o=ni(s,"hPalette.size",10))}else T=ni(s,"hPalette.height",void 0),T===void 0&&(T=ni(s,"hPalette.size",10));var e=new pI(t,{width:o,height:T});t.add.existing(e);var u=ni(s,"svPalette.width",void 0),x=ni(s,"svPalette.height",void 0),d=new yI(t,{width:u,height:x});t.add.existing(d),M&&this.addBackground(M);var l={proportion:0,expand:!0},h,n;this.orientation===0?(h=u===void 0?1:0,n=x===void 0):(h=x===void 0?1:0,n=u===void 0);var r={proportion:h,expand:n};g===0||g===3?this.add(d,r).add(e,l):this.add(e,l).add(d,r),e.on("input",function(){d.setHue(e.getHue()),this.setValue(d.color,!0)},this),d.on("input",function(){this.setValue(d.color,!0)},this),this.addChildrenMap("background",M),this.addChildrenMap("hPalette",e),this.addChildrenMap("svPalette",d);var f=ni(s,"valuechangeCallback",null);if(f!==null){var a=ni(s,"valuechangeCallbackScope",void 0);this.on("valuechange",f,a)}this.setValue(ni(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,s,this)}}setValue(t,s){return this.freezePalettes=!!s,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}runLayout(t,s,g){return this.ignoreLayout?this:(super.runLayout(t,s,g),this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),this)}}var TI={bottom:0,left:1,top:2,right:3};const Ci=Phaser.Utils.Objects.GetValue,CI=Phaser.Display.Color,SI=Phaser.Display.Color.ColorToRGBA,EI=Phaser.Display.Color.HSVToRGB,Is=Phaser.Math.Clamp;class Gd extends Pt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorComponents",this.colorObject=new CI;var g=Ci(s,"background",void 0),C=Ci(s,"formatLabel",void 0);xs(C)||(C=ke(t,C).resetDisplayContent());var M=[];if(s.inputText0&&s.inputText1&&s.inputText2)M.push(s.inputText0),M.push(s.inputText1),M.push(s.inputText2);else for(var o=Ci(s,"inputText"),T=0;T<3;T++){var e=Zr(t,o).setMaxLength(3).setNumberInput();M.push(e)}g&&this.addBackground(g);var x=Ci(s,"proportion.formatLabel",0),u=!!C.isRexContainerLite,d=Ci(s,"expand.formatLabel",u);this.add(C,{proportion:x,expand:d});for(var x=Ci(o,"width")===void 0?1:0,d=Ci(o,"height")===void 0,T=0,l=M.length;T<l;T++)this.add(M[T],{proportion:x,expand:d});this.addChildrenMap("background",g),this.addChildrenMap("formatLabel",C),this.addChildrenMap("components",M),this.onClick(C,this.toggleColorFormat,this);for(var T=0,l=M.length;T<l;T++)M[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var h=Ci(s,"valuechangeCallback",null);if(h!==null){var n=Ci(s,"valuechangeCallbackScope",void 0);this.on("valuechange",h,n)}C.setText("RGB"),this.setValue(Ci(s,"value",16777215))}get value(){return this._value}set value(t){t=Is(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(SI(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,s,g,C;return this.colorFormat==="RGB"?(s=this.colorObject.red,g=this.colorObject.green,C=this.colorObject.blue):(s=Math.floor(this.colorObject.h*360),g=Math.floor(this.colorObject.s*100),C=Math.floor(this.colorObject.v*100)),t[0].setValue(s),t[1].setValue(g),t[2].setValue(C),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var s=Is(t[0].value,0,255),g=Is(t[1].value,0,255),C=Is(t[2].value,0,255);this.colorObject.setTo(s,g,C)}else{var M=Is(t[0].value,0,359)/360,o=Is(t[1].value,0,100)/100,T=Is(t[2].value,0,100)/100;this.colorObject.setFromRGB(EI(M,o,T))}return this}}const Al=Phaser.Utils.Objects.GetValue;class PI extends Pt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexColorInput.ColorPickerPanel";var g=Al(s,"background",void 0),C=new Bd(t,{hPalette:s.hPalette||{},svPalette:s.svPalette||{},space:{item:Al(s,"space.hPalette",8)}});t.add.existing(C);var M;s.colorComponents&&(M=new Gd(t,s.colorComponents),t.add.existing(M)),g&&(this.addBackground(g),new Ph(g,{stopAllLevels:!1})),this.add(C,{proportion:1,expand:!0}),M&&this.add(M,{proportion:0,expand:!0}),this.addChildrenMap("background",g),this.addChildrenMap("colorPicker",C),this.addChildrenMap("colorComponents",M),C.on("valuechange",function(o){this.setValue(o)},this),M&&M.on("valuechange",function(o){this.setValue(o)},this),this.setValue(Al(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var s=this.childrenMap.colorPicker;s.setValue(t);var g=this.childrenMap.colorComponents;g&&g.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var MI=function(t){var t=this.scene,s,g=this.colorPickerCreateBackgroundCallback;g&&(s=g.call(this,t),t.add.existing(s));var C=this.colorPickerWidth;C===void 0&&(C=this.width);var M=this.colorPickerHeight;M===void 0&&(M=C);var o;this.colorComponentsHeight>0?o={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:o=!1;var T=new PI(t,{width:C,height:M,background:s,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:o,value:this.value});return t.add.existing(T),T},wI=function(){if(!this.colorPicker){var i=MI.call(this).layout(),t=new xm(i,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){i.on("valuechange",function(s){this.setValue(s)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=i,this.dropDownBehavior=t,this.pin(i),this}},zm={openColorPicker:wI};Object.assign(zm,aI);const oe=Phaser.Utils.Objects.GetValue;class qh extends Id{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexColorInput",s.hasOwnProperty("colorPicker")||(s.colorPicker={background:{color:0}});var g=s.colorPicker,C=g!==!1&&g!==null;if(C){this.setColorPickerSize(oe(g,"width",160),oe(g,"height",170));var M,o=oe(g,"background");o?M=function(h){return Xe(h,o)}:M=oe(g,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(M),this.setColorPickerHPalettePosition(oe(g,"hPalettePosition",0)),this.setColorPickerExpandDirection(oe(g,"expandDirection")),this.setColorPickerEaseInDuration(oe(g,"easeIn",200)),this.setColorPickerEaseOutDuration(oe(g,"easeOut",200)),this.setColorPickerTransitInCallback(oe(g,"transitIn")),this.setColorPickerTransitOutCallback(oe(g,"transitOut")),this.setColorPickerBounds(oe(g,"bounds"));var T=oe(g,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var e=s.colorComponents,u=e!==!1&&e!==null;if(C&&u){this.setColorComponentsHeight(oe(e,"height",30)),this.setColorComponentsFormatLabelConfig(oe(e,"formatLabel"));var x=oe(e,"inputText");x||(x=oe(s,"inputText")),this.setColorComponentsInputTextConfig(x);var d=oe(e,"space");d===void 0&&(d={item:8}),this.setColorComponentsSpace(d)}var l=this.childrenMap.swatch;l&&C&&this.onClick(l,this.openColorPicker,this)}}Object.assign(qh.prototype,zm);nt.register("colorInput",function(i){var t=new qh(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.ColorInput",qh);nt.register("colorInputLite",function(i){var t=new Id(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.ColorInputBase",Id);nt.register("colorPicker",function(i){var t=new Bd(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.ColorPicker",Bd);nt.register("colorComponents",function(i){var t=new Gd(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.ColorComponents",Gd);var AI=function(){return function(i,t,s,g){t!=="panel"&&s.setChildVisible(i,!0)}},RI=function(){return function(i,t,s,g){t!=="panel"&&s.setChildVisible(i,!1)}};const OI={show:AI,hide:RI};var bI=function(i,t){return t===void 0&&(t=1),function(s,g,C,M){g!=="panel"&&C.fadeChild(s,M?0:i,t)}},LI=function(i,t){return t===void 0&&(t=0),function(s,g,C,M){g!=="panel"&&C.fadeChild(s,M?0:i,t)}};const FI={show:bI,hide:LI};var hp=function(i,t){return function(s,g,C,M){g!=="panel"&&C.moveChild(s,M?0:i,t)}};const DI={show:hp,hide:hp};var op=function(i,t){return function(s,g,C,M){g==="panel"&&C.moveChild(s,M?0:i,t)}};const II={show:op,hide:op},Rl={visible:OI,fade:FI,move:DI,"move-panel":II};var BI=function(i){var t,s;[t,...s]=typeof i=="string"?[i]:i;var g,C;return Rl.hasOwnProperty(t)?(g=Rl[t].show.apply(null,s),C=Rl[t].hide.apply(null,s)):(g=ve,C=ve),{show:g,hide:C}};const GI={showChild(i,t){var s=this.sizerChildren[i];return s&&(this.emit("showchild",s,i,this,t),this.resetChildState(s)),this},hideChild(i,t){var s=this.sizerChildren[i];return s&&(this.emit("hidechild",s,i,this,t),this.resetChildState(s)),this},swapChild(i,t){return this.currentChildKey===i||(this.currentChildKey==="panel"||i==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=i,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(i,t))),this},showPanel(i){return this.swapChild("panel",i),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var i=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(i),this},toggleRightSide(){var i=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(i),this},toggleTopSide(){var i=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(i),this},toggleBottomSide(){var i=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(i),this}},NI=Ge.prototype.setChildVisible,zI={setChildVisible(i,t){var s;if(typeof i=="string"){var s=i;i=this.sizerChildren[s]}else s=bh(this.sizerChildren,i);return t===void 0&&(t=this.currentChildKey===s),NI.call(this,i,t),this}},VI={fadeChild(i,t,s){var g;return typeof i=="string"?(g=i,i=this.sizerChildren[g]):g=bh(this.sizerChildren,i),t===void 0&&(t=500),s===void 0&&(s=this.currentChildKey===g?1:0),i.fadeIn(t,{start:i.alpha,end:s}),this},fadeChildPromise(i,t,s){return typeof i=="string"&&(i=this.sizerChildren[key]),this.fadeChild(i,t,s),i._fade?le(i._fade):Promise.resolve()}},UI={moveChild(i,t,s,g){var C;typeof i=="string"?(C=i,i=this.sizerChildren[C]):C=bh(this.sizerChildren,i),t===void 0&&(t=500);var M=this.currentChildKey===C;if(g===void 0)switch(C){case"leftSide":case"rightSide":g=bt(i);break;case"topSide":case"bottomSide":g=wt(i);break;default:if(M)switch(this.previousChildKey){case"leftSide":case"rightSide":g=bt(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":g=wt(this.sizerChildren[this.previousChildKey]);break;default:g=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":g=bt(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":g=wt(this.sizerChildren[this.currentChildKey]);break;default:g=0;break}break}var o,T,e,u;if(M)switch(C){case"panel":switch(this.previousChildKey){case"leftSide":o=!0;break;case"rightSide":T=!0;break;case"topSide":e=!0;break;case"bottomSide":u=!0;break}break;case"leftSide":T=!0;break;case"rightSide":o=!0;break;case"topSide":u=!0;break;case"bottomSide":e=!0;break}else switch(C){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":o=!0;break;case"topSide":u=!0;break;case"bottomSide":e=!0;break}break;case"leftSide":o=!0;break;case"rightSide":T=!0;break;case"topSide":e=!0;break;case"bottomSide":u=!0;break}return o?i.moveTo(t,`-=${g}`,void 0,s):T?i.moveTo(t,`+=${g}`,void 0,s):e?i.moveTo(t,void 0,`-=${g}`,s):u?i.moveTo(t,void 0,`+=${g}`,s):i.moveTo(0),this},moveChildPromise(i,t,s,g){return typeof i=="string"&&(i=this.sizerChildren[key]),this.moveChild(i,t,s,g),i._easeMove?le(i._easeMove):Promise.resolve()}};var Vm={};Object.assign(Vm,zI,VI,UI);const we=Phaser.Utils.Objects.GetValue;class Nd extends Ne{constructor(t,s){super(t,s),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var g=we(s,"showChildCallback",void 0);if(g)if(ds(g)){var C=we(s,"showChildCallbackScope",void 0);this.on("showchild",g,C);var M=we(s,"hideChildCallback",void 0),o=we(s,"hideChildCallbackScope",void 0);this.on("hidechild",M,o)}else{var T=BI(g);this.on("showchild",T.show),this.on("hidechild",T.hide)}var e=we(s,"background",void 0),u=we(s,"panel",void 0),x=we(s,"leftSide",void 0),d=we(s,"rightSide",void 0),l=we(s,"topSide",void 0),h=we(s,"bottomSide",void 0);if(e&&this.addBackground(e),u&&this.add(u,"panel","center",0,!0),x){var n=we(s,"expand.left",!0);this.add(x,"leftSide","left-top",0,{height:n})}if(d){var n=we(s,"expand.right",!0);this.add(d,"rightSide","right-top",0,{height:n})}if(l){var n=we(s,"expand.top",!0);this.add(l,"topSide","left-top",0,{width:n})}if(h){var n=we(s,"expand.bottom",!0);this.add(h,"bottomSide","left-bottom",0,{width:n})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(Nd.prototype,GI,Vm);nt.register("sides",function(i){var t=new Nd(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Sides",Nd);class Um extends Oi{constructor(t,s){s=gd(t,s),super(t,s),this.type="rexTweaker.Title"}setTitle(t){return t=t?Te(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class YI extends Um{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexTweaker.FolderTitle";var g=new yh(t,s.expandedIcon);t.add.existing(g),this.addSpace().add(g,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",g)}setExpandedState(t){t===void 0&&(t=!0);var s=t?"down":"right",g=this.childrenMap.expandedIcon;return g.setDirection(s),this}}var Ym=function(i,t){var s=new Ud(i,t);return i.add.existing(s),s},zd=function(i,t,s){return Xe(i,s)};const XI={setBindingTarget(i){var t=this.childrenMap.child;return t.setBindingTarget(i),this}},kI={getMaxInputRowTitleWidth(){var i=this.childrenMap.child,t=i.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(i){i-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(i),this}};class Xm extends Qh{constructor(t,s){super(t,s),this.type="rexTweaker.Folder"}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}}Object.assign(Xm.prototype,XI,kI);const xn=Phaser.Utils.Objects.GetValue;var WI=function(i,t,s){var g=xn(s,"title")||{},C=new YI(i,g);i.add.existing(C),C.on("folder.expand",function(){C.setExpandedState(!0)}).on("folder.collapse",function(){C.setExpandedState(!1)});var M={root:xn(s,"root"),styles:xn(s,"tweaker"),space:xn(s,"space")||{}},o=Ym(i,M),T=xn(s,"background"),e=zd(i,t,T),u=new Xm(i,{orientation:1,title:C,child:o,background:e,transition:{duration:xn(s,"transition.duration",200)}});return i.add.existing(u),u};const lp=Phaser.Utils.Objects.GetValue;var HI=function(i){var t=this.scene,s=lp(this.styles,"folder")||{};s.tweaker=this.styles,s.root=this.root;var g=WI(t,i,s);delete s.tweaker,delete s.root,this.add(g,{expand:!0}),g.setTitle(i);var C=lp(i,"expanded",!0);C?g.expand(0):g.collapse(0);var M=g.getElement("child");return i.key&&this.root.addChildrenMap(i.key,M),M};const $I={setBindingTarget(i){for(var t=this.childrenMap.pages.children,s=0,g=t.length;s<g;s++)t[s].setBindingTarget(i);return this}},KI={getMaxInputRowTitleWidth(){for(var i=0,t=this.childrenMap.pages.children,s=0,g=t.length;s<g;s++)i=Math.max(i,t[s].getMaxInputRowTitleWidth());return i+this.getInnerPadding("left")},setInputRowTitleWidth(i){i-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,s=0,g=t.length;s<g;s++)t[s].setInputRowTitleWidth(i);return this}};class km extends jh{constructor(t,s){super(t,s),this.type="rexTweaker.TabPages"}}Object.assign(km.prototype,$I,KI);const Ga=Phaser.Utils.Objects.GetValue;var ZI=function(i,t,s){var g=new km(i,s);i.add.existing(g);for(var C=Ga(s,"tab"),M={root:Ga(s,"root"),styles:Ga(s,"tweaker")},o=Ga(t,"pages")||[],T=0,e=o.length;T<e;T++){var u=o[T];g.addPage({key:u.title,tab:ke(i,C).setActiveState(!1).resetDisplayContent({text:u.title}),page:Ym(i,M)})}return g.on("tab.focus",function(x,d){x.setActiveState(!0)}).on("tab.blur",function(x,d){x.setActiveState(!1)}),g};const up=Phaser.Utils.Objects.GetValue;var JI=function(i){var t=this.scene,s=up(this.styles,"tab")||{};s.tweaker=this.styles,s.root=this.root;var g=ZI(t,i,s);delete s.tweaker,delete s.root,this.add(g,{expand:!0});for(var C=up(i,"pages")||[],M=[],o=0,T=0,e=C.length;T<e;T++){var u=g.getPage(T),x=C[T].show;x&&(o=T);var d=C[T].key;d&&this.root.addChildrenMap(d,u),M.push(u)}return g.swapPage(o,0),M};const Za="string",Wm="number",Hm="range",$m="list",jI="buttons",Km="boolean",QI="toggleSwitch",qI="color";var _I=function(i,t,s){if(s.view)return s.view;if(s.options)return $m;if(!i)return Za;var g=i[t];switch(typeof g){case"number":return t9(s,"min","max")?Hm:Wm;case"string":return Za;case"boolean":return Km;default:return Za}},t9=function(i,...t){for(var s=0,g=t.length;s<g;s++)if(i[t[s]]===void 0)return!1;return!0};const e9={setupBinding(){var i=this.childrenMap.inputField;return i.on("valuechange",function(t){!this.bindingTarget||!this.autoUpdateEnable||(this.bindingTarget[this.bindTargetKey]=t)},this),this},setAutoUpdateEnable(i){return i===void 0&&(i=!0),this.autoUpdateEnable=i,this},setBindingTarget(i,t){return this.bindingTarget=i,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue(),this},setBindingTargetKey(i){return this.bindTargetKey=i,this},syncTargetValue(){if(!this.bindingTarget||!this.bindTargetKey)return this;var i=this.childrenMap.inputField;return i.syncValue(this.bindingTarget[this.bindTargetKey]),this}},i9={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(!!this.bindingTarget){var i=this.bindingTarget[this.bindTargetKey],t=this.childrenMap.inputField;t.value!==i&&t.syncValue(i)}}},s9={getMinTitleWidth(){var i=this.childrenMap.title;if(!i)return 0;var t=i.rexSizer.padding,s=this.getChildWidth(this.childrenMap.title)+t.left+t.right;return s+this.getInnerPadding("left")},setMinTitleWidth(i){var t=this.childrenMap.title;if(!t)return this;var s=t.rexSizer.padding;return i-=s.left+s.right,t.minWidth=i,this}},Ol=Phaser.Utils.Objects.GetValue;class Vd extends Pt{constructor(t,s){super(t,s),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var g=s.inputTitle,C=s.inputField,M=s.background,u=Ol(s,"proportion.title",0),o=Ol(s,"space.title",0),T;this.orientation===0?T={right:o}:T={bottom:o},this.add(g,{proportion:u,expand:!0,padding:T});var e=s.parentOrientation===1?1:0,u=Ol(s,"proportion.inputField",e);this.add(C,{proportion:u,expand:!0}),M&&this.addBackground(M),this.addChildrenMap("title",g),this.addChildrenMap("inputField",C),this.addChildrenMap("background",M),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(Vd.prototype,e9,i9,s9);var Zm=function(i,t,s){var g=new Um(i,s);return i.add.existing(g),g};class Ts extends Pt{get bindingTarget(){return this.getParentSizer().bindingTarget}get bindingKey(){return this.getParentSizer().bindTargetKey}get value(){return this._value}validate(t){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(t,this._value,this.bindingTarget,this.bindingKey)}set value(t){if(this._value!==t){var s=this._value;this._value=t,this.syncValueFlag||this.emit("valuechange",t,s,this.bindingTarget,this.bindingKey)}}getValue(){return this.value}setValue(t){return this.value=t,this}syncValue(t){return this.syncValueFlag=!0,this.value=t,this.syncValueFlag=!1,this}get readOnly(){return this._readOnly}set readOnly(t){this._readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,!0}setTextFormatCallback(t){return this.textFormatCallback=t,this}setValidateCallback(t){return this.validateCallback=t,this}}class n9 extends Ts{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.TextInput";var g=s.inputText,C=Zr(t,g);this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("inputText",C),C.on("close",function(){this.setValue(C.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText(s),super.value=t}}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var dp=function(i,t,s){var g=new n9(i,s);return i.add.existing(g),g.setInputTextReadOnly(!!t.inputTextReadOnly),g};class r9 extends Ts{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.NumberInput";var g=s.inputNumber||s.inputText,C=Zr(t,g).setNumberInput();this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("inputText",C),C.on("close",function(){this.setValue(C.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText(s),super.value=t}}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var a9=function(i,t,s){var g=new r9(i,s);return i.add.existing(g),g.setInputTextReadOnly(!!t.inputTextReadOnly),g},h9=function(i,t){var s=new $s(i,t);return i.add.existing(s),s};const bl=Phaser.Utils.Objects.GetValue,o9=Phaser.Math.Linear,l9=Phaser.Math.Snap.Floor;class u9 extends Ts{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.RangeInput";var g=s.slider,C=this.orientation===0?"track.height":"track.width",M=bl(g,C),o=h9(t,g),x=s.parentOrientation===1?2:0,d=bl(s,"proportion.range.slider",x),T=M===void 0;this.add(o,{proportion:d,expand:T});var e=s.inputNumber||s.inputText,u=Zr(t,e).setNumberInput(),x=s.parentOrientation===1?1:0,d=bl(s,"proportion.range.inputText",x);this.add(u,{proportion:d,expand:!0}),this.addChildrenMap("slider",o),this.addChildrenMap("inputText",u),u.on("close",function(){this.setValue(u.value)},this),o.on("valuechange",function(){var l=o9(this.minValue,this.maxValue,o.value);this.step&&(l=l9(l,this.step,this.minValue)),this.setValue(l)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText("").setText(s),this.childrenMap.slider.setValue(t,this.minValue,this.maxValue),super.value=t}}setRange(t,s,g){return this.minValue=t,this.maxValue=s,this.step=g,this.childrenMap.slider.setGap(g,t,s),this}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var d9=function(i,t,s){var g=new u9(i,s);return i.add.existing(g),g.setRange(t.min,t.max,t.step),g.setInputTextReadOnly(!!t.inputTextReadOnly),g},f9=function(i,t){t=Tm(i,t);var s=new $r(i,t);return i.add.existing(s),s},Jm=function(i,t){for(var s=0,g=i.length;s<g;s++){var C=i[s];if(C.value===t)return s}},c9=function(i,t){var s=Jm(i,t);if(s!=null)return i[s].text};class v9 extends Ts{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ListInput";var g=f9(t,s.list);this.add(g,{proportion:1,expand:!0}),this.addChildrenMap("list",g),g.on("button.click",function(C,M,o,T,e,u){this.setValue(o.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.childrenMap.list,g=c9(s.options,t);s.resetDisplayContent({text:g}),super.value=t}}setOptions(t){return this.childrenMap.list.setOptions(t),this}}var p9=function(i,t,s){var g=new v9(i,s);return i.add.existing(g),g.setOptions(t.options),g},jm=function(i,t){var s=new ne(i,t);return i.add.existing(s),s},g9=function(i,t){for(var s=0,g=i.length;s<g;s++){var C=i[s];!C||C.setActiveState(s===t)}};const m9=Phaser.Utils.Objects.GetValue;class x9 extends Ts{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ButtonsInput";var g=s.button?Te(s.button):{},C=m9(g,"expand",!0);C&&(g.align="center"),delete g.expand;var M=jm(t,{expand:C});M.buttonConfig=g,this.add(M,{proportion:1,expand:!0}),this.addChildrenMap("list",M),M.on("button.click",function(o,T,e,u){var x=M.options[T];!x||(this._selectedIndex=T,this.setValue(x.value),this._selectedIndex=void 0)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.childrenMap.list,g=this._selectedIndex;g===void 0&&(g=Jm(s.options,t)),g9(s.childrenMap.buttons,g),super.value=t}}setOptions(t){var s=this.childrenMap.list;s.options=t;var g=this.scene,C=s.buttonConfig;s.clearButtons(!0);for(var M=0,o=t.length;M<o;M++){var T=t[M],e=ke(g,C).setActiveState(!1).resetDisplayContent({text:T.text});s.addButton(e)}return this}}var y9=function(i,t,s){var g=new x9(i,s);return i.add.existing(g),g.setOptions(t.options),g},T9=function(i,t){var s=new Ou(i,t);return i.add.existing(s),s};const C9=Phaser.Utils.Objects.GetValue;class S9 extends Ts{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.CheckboxInput";var g=s.checkbox,C=T9(t,g),M=C9(g,"size");M!==void 0&&C.setSize(M,M);var o=M!==void 0?0:1;this.add(C,{proportion:0,expand:!1,fitRatio:o}),this.addChildrenMap("checkbox",C),C.on("valuechange",function(T){this.setValue(T)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.checkbox.setValue(t),super.value=t)}}var E9=function(i,t,s){var g=new S9(i,s);return i.add.existing(g),g},P9=function(i,t){var s=new bu(i,t);return i.add.existing(s),s};const M9=Phaser.Utils.Objects.GetValue;class w9 extends Ts{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ToggleSwitchInput";var g=s.toggleSwitch,C=P9(t,g),M=M9(g,"size");M!==void 0&&C.setSize(M,M);var o=M!==void 0?0:1;this.addSpace().add(C,{proportion:0,expand:!1,fitRatio:o}),this.addChildrenMap("toggleSwitch",C),C.on("valuechange",function(T){this.setValue(T)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.toggleSwitch.setValue(t),super.value=t)}}var A9=function(i,t,s){var g=new w9(i,s);return i.add.existing(g),g},R9=function(i,t,s){s===void 0&&(s=!0),s?t=t?Te(t):{}:t||(t={});var g=new qh(i,t);return i.add.existing(g),g};class O9 extends Ts{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ColorInput";var g=s.colorInput,C=R9(t,g);this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("colorInput",C),C.on("valuechange",function(M){this.setValue(M)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.colorInput.setValue(t),super.value=t)}}var b9=function(i,t,s){var g=new O9(i,s);return i.add.existing(g),g},L9=function(i,t,s){var g=t.view,C;switch(g){case Za:C=dp;break;case Wm:C=a9;break;case Hm:C=d9;break;case $m:C=p9;break;case jI:C=y9;break;case Km:C=E9;break;case QI:C=A9;break;case qI:C=b9;break;default:C=ds(g)?g:dp;break}var M=C(i,t,s,M);return M.setTextFormatCallback(t.format),M};const fp=Phaser.Utils.Objects.GetValue;var F9=function(i,t,s){var g=fp(s,"title")||{},C=Zm(i,t,g),M=L9(i,t,s),o=fp(s,"background")||{},T=Xe(i,o),e=new Vd(i,{...t,...s,inputTitle:C,inputField:M,background:T});return i.add.existing(e),e.setTitle(t),e};Phaser.Utils.Objects.GetValue;var D9=function(i,t,s){arguments.length===1?(s=i,i=s.bindingTarget,t=s.bindingKey):s===void 0&&(s={}),s.title||(s.title=t),s.view||(s.view=_I(i,t,s));var g=this.styles.inputRow||{};g.parentOrientation=this.styles.orientation;var C=F9(this.scene,s,g),M=C.childrenMap.inputField,o;return this.orientation===1?o=0:(o=this.itemWidth>0?0:1,C.setMinWidth(this.itemWidth)),this.add(C,{proportion:o,expand:!0}),s.onValueChange&&M.on("valuechange",s.onValueChange),s.onValidate&&M.setValidateCallback(s.onValidate),C.setAutoUpdateEnable(s.autoUpdate),C.setBindingTarget(i,t),s.monitor&&C.startMonitorTarget(),s.key&&this.root.addChildrenMap(s.key,C),this},I9=function(i,t){var s=new Xi(i,t);return i.add.existing(s),s};const Ll=Phaser.Utils.Objects.GetValue;var B9=function(i,t,s){for(var g=Ll(s,"title")||{},C=Zm(i,t,g),M=t.buttons,o=Ll(s,"button")||{},T=[],e=0,u=M.length;e<u;e++){var x=ke(i,o);T.push(x);var d=M[e];x.resetDisplayContent({text:d.label}),x.callback=d.callback}var l=jm(i,{buttons:T,expand:T.length===1}),h=Ll(s,"background")||{},n=I9(i,h),r=new Vd(i,{...s,inputTitle:C,inputField:l,background:n});return i.add.existing(r),r.setTitle(t),l.on("button.click",function(f){f.callback(r.bindingTarget)}),r};const G9=Phaser.Utils.Objects.GetValue;var cp=function(i){var t=this.scene;i===void 0&&(i={}),i.hasOwnProperty("label")&&(i.buttons=[{label:i.label,callback:i.callback}],delete i.label,delete i.callback);var s=i.bindingTarget;delete i.bindingTarget;var g=G9(this.styles,"inputRow")||{},C=B9(t,i,g);return this.add(C,{expand:!0}),s&&C.setBindingTarget(s),i.key&&this.root.addChildrenMap(i.key,C),this};const N9=Phaser.Utils.Objects.GetValue;var z9=function(i){var t=this.scene,s=N9(this.styles,"separator"),g=zd(t,i,s);return this.add(g,{expand:!0}),this},V9=function(i){for(var t=this.sizerChildren,s=0,g=t.length;s<g;s++){var C=t[s];!C.setBindingTarget||C.setBindingTarget(i)}return this},U9=function(){for(var i=0,t=this.sizerChildren,s=0,g=t.length;s<g;s++){var C=t[s];C.rexSizer.hidden||(C.getMinTitleWidth?i=Math.max(i,C.getMinTitleWidth()):C.getMaxInputRowTitleWidth&&(i=Math.max(i,C.getMaxInputRowTitleWidth())))}return i+this.getInnerPadding("left")},Y9=function(i){i-=this.getInnerPadding("left");for(var t=this.sizerChildren,s=0,g=t.length;s<g;s++){var C=t[s];C.rexSizer.hidden||(C.setMinTitleWidth?C.setMinTitleWidth(i):C.setInputRowTitleWidth&&C.setInputRowTitleWidth(i))}return this},X9={addFolder:HI,addTab:JI,addInput:D9,addButton:cp,addButtons:cp,addSeparator:z9,setBindingTarget:V9,getMaxInputRowTitleWidth:U9,setInputRowTitleWidth:Y9};const Na=Phaser.Utils.Objects.GetValue;class Ud extends Pt{constructor(t,s){if(s===void 0&&(s={}),s.orientation===void 0&&(s.orientation=1),super(t,s),this.type="rexTweakerShell",this.root=s.root||this,this.styles=Na(s,"styles")||{},this.styles.orientation=this.orientation,this.itemWidth=Na(this.styles,"itemWidth",0),this.root===this&&this.orientation===1){var g=Na(s,"inputRow.alignTitle");if(g===void 0){var C=Na(this.styles,"inputRow.proportion.title");g=!C}else g&&st(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitle=g}else this.alignInputRowTitle=!1;var M=zd(t,void 0,s.background);M&&this.addBackground(M)}preLayout(){super.preLayout(),this.alignInputRowTitle&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}}Object.assign(Ud.prototype,X9);class Qm extends Ud{constructor(t,s){s===void 0&&(s={}),s.styles===void 0&&(s.styles={}),s.background=s.styles.background||{},s.space=s.styles.space||{},super(t,s),this.type="rexTweaker"}}nt.register("tweaker",function(i){var t=new Qm(this.scene,i);return this.scene.add.existing(t),t});st(window,"RexPlugins.UI.Tweaker",Qm);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function qm(i){return typeof i>"u"||i===null}function k9(i){return typeof i=="object"&&i!==null}function W9(i){return Array.isArray(i)?i:qm(i)?[]:[i]}function H9(i,t){var s,g,C,M;if(t)for(M=Object.keys(t),s=0,g=M.length;s<g;s+=1)C=M[s],i[C]=t[C];return i}function $9(i,t){var s="",g;for(g=0;g<t;g+=1)s+=i;return s}function K9(i){return i===0&&Number.NEGATIVE_INFINITY===1/i}var Z9=qm,J9=k9,j9=W9,Q9=$9,q9=K9,_9=H9,qt={isNothing:Z9,isObject:J9,toArray:j9,repeat:Q9,isNegativeZero:q9,extend:_9};function _m(i,t){var s="",g=i.reason||"(unknown reason)";return i.mark?(i.mark.name&&(s+='in "'+i.mark.name+'" '),s+="("+(i.mark.line+1)+":"+(i.mark.column+1)+")",!t&&i.mark.snippet&&(s+=`

`+i.mark.snippet),g+" "+s):g}function Pr(i,t){Error.call(this),this.name="YAMLException",this.reason=i,this.mark=t,this.message=_m(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Pr.prototype=Object.create(Error.prototype);Pr.prototype.constructor=Pr;Pr.prototype.toString=function(t){return this.name+": "+_m(this,t)};var ye=Pr;function Fl(i,t,s,g,C){var M="",o="",T=Math.floor(C/2)-1;return g-t>T&&(M=" ... ",t=g-T+M.length),s-g>T&&(o=" ...",s=g+T-o.length),{str:M+i.slice(t,s).replace(/\t/g,"\u2192")+o,pos:g-t+M.length}}function Dl(i,t){return qt.repeat(" ",t-i.length)+i}function tB(i,t){if(t=Object.create(t||null),!i.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var s=/\r?\n|\r|\0/g,g=[0],C=[],M,o=-1;M=s.exec(i.buffer);)C.push(M.index),g.push(M.index+M[0].length),i.position<=M.index&&o<0&&(o=g.length-2);o<0&&(o=g.length-1);var T="",e,u,x=Math.min(i.line+t.linesAfter,C.length).toString().length,d=t.maxLength-(t.indent+x+3);for(e=1;e<=t.linesBefore&&!(o-e<0);e++)u=Fl(i.buffer,g[o-e],C[o-e],i.position-(g[o]-g[o-e]),d),T=qt.repeat(" ",t.indent)+Dl((i.line-e+1).toString(),x)+" | "+u.str+`
`+T;for(u=Fl(i.buffer,g[o],C[o],i.position,d),T+=qt.repeat(" ",t.indent)+Dl((i.line+1).toString(),x)+" | "+u.str+`
`,T+=qt.repeat("-",t.indent+x+3+u.pos)+`^
`,e=1;e<=t.linesAfter&&!(o+e>=C.length);e++)u=Fl(i.buffer,g[o+e],C[o+e],i.position-(g[o]-g[o+e]),d),T+=qt.repeat(" ",t.indent)+Dl((i.line+e+1).toString(),x)+" | "+u.str+`
`;return T.replace(/\n$/,"")}var eB=tB,iB=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],sB=["scalar","sequence","mapping"];function nB(i){var t={};return i!==null&&Object.keys(i).forEach(function(s){i[s].forEach(function(g){t[String(g)]=s})}),t}function rB(i,t){if(t=t||{},Object.keys(t).forEach(function(s){if(iB.indexOf(s)===-1)throw new ye('Unknown option "'+s+'" is met in definition of "'+i+'" YAML type.')}),this.options=t,this.tag=i,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(s){return s},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=nB(t.styleAliases||null),sB.indexOf(this.kind)===-1)throw new ye('Unknown kind "'+this.kind+'" is specified for "'+i+'" YAML type.')}var ue=rB;function vp(i,t){var s=[];return i[t].forEach(function(g){var C=s.length;s.forEach(function(M,o){M.tag===g.tag&&M.kind===g.kind&&M.multi===g.multi&&(C=o)}),s[C]=g}),s}function aB(){var i={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,s;function g(C){C.multi?(i.multi[C.kind].push(C),i.multi.fallback.push(C)):i[C.kind][C.tag]=i.fallback[C.tag]=C}for(t=0,s=arguments.length;t<s;t+=1)arguments[t].forEach(g);return i}function su(i){return this.extend(i)}su.prototype.extend=function(t){var s=[],g=[];if(t instanceof ue)g.push(t);else if(Array.isArray(t))g=g.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(s=s.concat(t.implicit)),t.explicit&&(g=g.concat(t.explicit));else throw new ye("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(M){if(!(M instanceof ue))throw new ye("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(M.loadKind&&M.loadKind!=="scalar")throw new ye("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(M.multi)throw new ye("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),g.forEach(function(M){if(!(M instanceof ue))throw new ye("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var C=Object.create(su.prototype);return C.implicit=(this.implicit||[]).concat(s),C.explicit=(this.explicit||[]).concat(g),C.compiledImplicit=vp(C,"implicit"),C.compiledExplicit=vp(C,"explicit"),C.compiledTypeMap=aB(C.compiledImplicit,C.compiledExplicit),C};var tx=su,ex=new ue("tag:yaml.org,2002:str",{kind:"scalar",construct:function(i){return i!==null?i:""}}),ix=new ue("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(i){return i!==null?i:[]}}),sx=new ue("tag:yaml.org,2002:map",{kind:"mapping",construct:function(i){return i!==null?i:{}}}),nx=new tx({explicit:[ex,ix,sx]});function hB(i){if(i===null)return!0;var t=i.length;return t===1&&i==="~"||t===4&&(i==="null"||i==="Null"||i==="NULL")}function oB(){return null}function lB(i){return i===null}var rx=new ue("tag:yaml.org,2002:null",{kind:"scalar",resolve:hB,construct:oB,predicate:lB,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function uB(i){if(i===null)return!1;var t=i.length;return t===4&&(i==="true"||i==="True"||i==="TRUE")||t===5&&(i==="false"||i==="False"||i==="FALSE")}function dB(i){return i==="true"||i==="True"||i==="TRUE"}function fB(i){return Object.prototype.toString.call(i)==="[object Boolean]"}var ax=new ue("tag:yaml.org,2002:bool",{kind:"scalar",resolve:uB,construct:dB,predicate:fB,represent:{lowercase:function(i){return i?"true":"false"},uppercase:function(i){return i?"TRUE":"FALSE"},camelcase:function(i){return i?"True":"False"}},defaultStyle:"lowercase"});function cB(i){return 48<=i&&i<=57||65<=i&&i<=70||97<=i&&i<=102}function vB(i){return 48<=i&&i<=55}function pB(i){return 48<=i&&i<=57}function gB(i){if(i===null)return!1;var t=i.length,s=0,g=!1,C;if(!t)return!1;if(C=i[s],(C==="-"||C==="+")&&(C=i[++s]),C==="0"){if(s+1===t)return!0;if(C=i[++s],C==="b"){for(s++;s<t;s++)if(C=i[s],C!=="_"){if(C!=="0"&&C!=="1")return!1;g=!0}return g&&C!=="_"}if(C==="x"){for(s++;s<t;s++)if(C=i[s],C!=="_"){if(!cB(i.charCodeAt(s)))return!1;g=!0}return g&&C!=="_"}if(C==="o"){for(s++;s<t;s++)if(C=i[s],C!=="_"){if(!vB(i.charCodeAt(s)))return!1;g=!0}return g&&C!=="_"}}if(C==="_")return!1;for(;s<t;s++)if(C=i[s],C!=="_"){if(!pB(i.charCodeAt(s)))return!1;g=!0}return!(!g||C==="_")}function mB(i){var t=i,s=1,g;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),g=t[0],(g==="-"||g==="+")&&(g==="-"&&(s=-1),t=t.slice(1),g=t[0]),t==="0")return 0;if(g==="0"){if(t[1]==="b")return s*parseInt(t.slice(2),2);if(t[1]==="x")return s*parseInt(t.slice(2),16);if(t[1]==="o")return s*parseInt(t.slice(2),8)}return s*parseInt(t,10)}function xB(i){return Object.prototype.toString.call(i)==="[object Number]"&&i%1===0&&!qt.isNegativeZero(i)}var hx=new ue("tag:yaml.org,2002:int",{kind:"scalar",resolve:gB,construct:mB,predicate:xB,represent:{binary:function(i){return i>=0?"0b"+i.toString(2):"-0b"+i.toString(2).slice(1)},octal:function(i){return i>=0?"0o"+i.toString(8):"-0o"+i.toString(8).slice(1)},decimal:function(i){return i.toString(10)},hexadecimal:function(i){return i>=0?"0x"+i.toString(16).toUpperCase():"-0x"+i.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),yB=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function TB(i){return!(i===null||!yB.test(i)||i[i.length-1]==="_")}function CB(i){var t,s;return t=i.replace(/_/g,"").toLowerCase(),s=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:s*parseFloat(t,10)}var SB=/^[-+]?[0-9]+e/;function EB(i,t){var s;if(isNaN(i))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===i)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===i)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(qt.isNegativeZero(i))return"-0.0";return s=i.toString(10),SB.test(s)?s.replace("e",".e"):s}function PB(i){return Object.prototype.toString.call(i)==="[object Number]"&&(i%1!==0||qt.isNegativeZero(i))}var ox=new ue("tag:yaml.org,2002:float",{kind:"scalar",resolve:TB,construct:CB,predicate:PB,represent:EB,defaultStyle:"lowercase"}),lx=nx.extend({implicit:[rx,ax,hx,ox]}),ux=lx,dx=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),fx=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function MB(i){return i===null?!1:dx.exec(i)!==null||fx.exec(i)!==null}function wB(i){var t,s,g,C,M,o,T,e=0,u=null,x,d,l;if(t=dx.exec(i),t===null&&(t=fx.exec(i)),t===null)throw new Error("Date resolve error");if(s=+t[1],g=+t[2]-1,C=+t[3],!t[4])return new Date(Date.UTC(s,g,C));if(M=+t[4],o=+t[5],T=+t[6],t[7]){for(e=t[7].slice(0,3);e.length<3;)e+="0";e=+e}return t[9]&&(x=+t[10],d=+(t[11]||0),u=(x*60+d)*6e4,t[9]==="-"&&(u=-u)),l=new Date(Date.UTC(s,g,C,M,o,T,e)),u&&l.setTime(l.getTime()-u),l}function AB(i){return i.toISOString()}var cx=new ue("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:MB,construct:wB,instanceOf:Date,represent:AB});function RB(i){return i==="<<"||i===null}var vx=new ue("tag:yaml.org,2002:merge",{kind:"scalar",resolve:RB}),Yd=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function OB(i){if(i===null)return!1;var t,s,g=0,C=i.length,M=Yd;for(s=0;s<C;s++)if(t=M.indexOf(i.charAt(s)),!(t>64)){if(t<0)return!1;g+=6}return g%8===0}function bB(i){var t,s,g=i.replace(/[\r\n=]/g,""),C=g.length,M=Yd,o=0,T=[];for(t=0;t<C;t++)t%4===0&&t&&(T.push(o>>16&255),T.push(o>>8&255),T.push(o&255)),o=o<<6|M.indexOf(g.charAt(t));return s=C%4*6,s===0?(T.push(o>>16&255),T.push(o>>8&255),T.push(o&255)):s===18?(T.push(o>>10&255),T.push(o>>2&255)):s===12&&T.push(o>>4&255),new Uint8Array(T)}function LB(i){var t="",s=0,g,C,M=i.length,o=Yd;for(g=0;g<M;g++)g%3===0&&g&&(t+=o[s>>18&63],t+=o[s>>12&63],t+=o[s>>6&63],t+=o[s&63]),s=(s<<8)+i[g];return C=M%3,C===0?(t+=o[s>>18&63],t+=o[s>>12&63],t+=o[s>>6&63],t+=o[s&63]):C===2?(t+=o[s>>10&63],t+=o[s>>4&63],t+=o[s<<2&63],t+=o[64]):C===1&&(t+=o[s>>2&63],t+=o[s<<4&63],t+=o[64],t+=o[64]),t}function FB(i){return Object.prototype.toString.call(i)==="[object Uint8Array]"}var px=new ue("tag:yaml.org,2002:binary",{kind:"scalar",resolve:OB,construct:bB,predicate:FB,represent:LB}),DB=Object.prototype.hasOwnProperty,IB=Object.prototype.toString;function BB(i){if(i===null)return!0;var t=[],s,g,C,M,o,T=i;for(s=0,g=T.length;s<g;s+=1){if(C=T[s],o=!1,IB.call(C)!=="[object Object]")return!1;for(M in C)if(DB.call(C,M))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(M)===-1)t.push(M);else return!1}return!0}function GB(i){return i!==null?i:[]}var gx=new ue("tag:yaml.org,2002:omap",{kind:"sequence",resolve:BB,construct:GB}),NB=Object.prototype.toString;function zB(i){if(i===null)return!0;var t,s,g,C,M,o=i;for(M=new Array(o.length),t=0,s=o.length;t<s;t+=1){if(g=o[t],NB.call(g)!=="[object Object]"||(C=Object.keys(g),C.length!==1))return!1;M[t]=[C[0],g[C[0]]]}return!0}function VB(i){if(i===null)return[];var t,s,g,C,M,o=i;for(M=new Array(o.length),t=0,s=o.length;t<s;t+=1)g=o[t],C=Object.keys(g),M[t]=[C[0],g[C[0]]];return M}var mx=new ue("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:zB,construct:VB}),UB=Object.prototype.hasOwnProperty;function YB(i){if(i===null)return!0;var t,s=i;for(t in s)if(UB.call(s,t)&&s[t]!==null)return!1;return!0}function XB(i){return i!==null?i:{}}var xx=new ue("tag:yaml.org,2002:set",{kind:"mapping",resolve:YB,construct:XB}),Xd=ux.extend({implicit:[cx,vx],explicit:[px,gx,mx,xx]}),cs=Object.prototype.hasOwnProperty,ih=1,yx=2,Tx=3,sh=4,Il=1,kB=2,pp=3,WB=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,HB=/[\x85\u2028\u2029]/,$B=/[,\[\]\{\}]/,Cx=/^(?:!|!!|![a-z\-]+!)$/i,Sx=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function gp(i){return Object.prototype.toString.call(i)}function Mi(i){return i===10||i===13}function Ns(i){return i===9||i===32}function Re(i){return i===9||i===32||i===10||i===13}function Pn(i){return i===44||i===91||i===93||i===123||i===125}function KB(i){var t;return 48<=i&&i<=57?i-48:(t=i|32,97<=t&&t<=102?t-97+10:-1)}function ZB(i){return i===120?2:i===117?4:i===85?8:0}function JB(i){return 48<=i&&i<=57?i-48:-1}function mp(i){return i===48?"\0":i===97?"\x07":i===98?"\b":i===116||i===9?"	":i===110?`
`:i===118?"\v":i===102?"\f":i===114?"\r":i===101?"\x1B":i===32?" ":i===34?'"':i===47?"/":i===92?"\\":i===78?"\x85":i===95?"\xA0":i===76?"\u2028":i===80?"\u2029":""}function jB(i){return i<=65535?String.fromCharCode(i):String.fromCharCode((i-65536>>10)+55296,(i-65536&1023)+56320)}var Ex=new Array(256),Px=new Array(256);for(var yn=0;yn<256;yn++)Ex[yn]=mp(yn)?1:0,Px[yn]=mp(yn);function QB(i,t){this.input=i,this.filename=t.filename||null,this.schema=t.schema||Xd,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=i.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Mx(i,t){var s={name:i.filename,buffer:i.input.slice(0,-1),position:i.position,line:i.line,column:i.position-i.lineStart};return s.snippet=eB(s),new ye(t,s)}function vt(i,t){throw Mx(i,t)}function nh(i,t){i.onWarning&&i.onWarning.call(null,Mx(i,t))}var xp={YAML:function(t,s,g){var C,M,o;t.version!==null&&vt(t,"duplication of %YAML directive"),g.length!==1&&vt(t,"YAML directive accepts exactly one argument"),C=/^([0-9]+)\.([0-9]+)$/.exec(g[0]),C===null&&vt(t,"ill-formed argument of the YAML directive"),M=parseInt(C[1],10),o=parseInt(C[2],10),M!==1&&vt(t,"unacceptable YAML version of the document"),t.version=g[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&nh(t,"unsupported YAML version of the document")},TAG:function(t,s,g){var C,M;g.length!==2&&vt(t,"TAG directive accepts exactly two arguments"),C=g[0],M=g[1],Cx.test(C)||vt(t,"ill-formed tag handle (first argument) of the TAG directive"),cs.call(t.tagMap,C)&&vt(t,'there is a previously declared suffix for "'+C+'" tag handle'),Sx.test(M)||vt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{M=decodeURIComponent(M)}catch{vt(t,"tag prefix is malformed: "+M)}t.tagMap[C]=M}};function ls(i,t,s,g){var C,M,o,T;if(t<s){if(T=i.input.slice(t,s),g)for(C=0,M=T.length;C<M;C+=1)o=T.charCodeAt(C),o===9||32<=o&&o<=1114111||vt(i,"expected valid JSON character");else WB.test(T)&&vt(i,"the stream contains non-printable characters");i.result+=T}}function yp(i,t,s,g){var C,M,o,T;for(qt.isObject(s)||vt(i,"cannot merge mappings; the provided source object is unacceptable"),C=Object.keys(s),o=0,T=C.length;o<T;o+=1)M=C[o],cs.call(t,M)||(t[M]=s[M],g[M]=!0)}function Mn(i,t,s,g,C,M,o,T,e){var u,x;if(Array.isArray(C))for(C=Array.prototype.slice.call(C),u=0,x=C.length;u<x;u+=1)Array.isArray(C[u])&&vt(i,"nested arrays are not supported inside keys"),typeof C=="object"&&gp(C[u])==="[object Object]"&&(C[u]="[object Object]");if(typeof C=="object"&&gp(C)==="[object Object]"&&(C="[object Object]"),C=String(C),t===null&&(t={}),g==="tag:yaml.org,2002:merge")if(Array.isArray(M))for(u=0,x=M.length;u<x;u+=1)yp(i,t,M[u],s);else yp(i,t,M,s);else!i.json&&!cs.call(s,C)&&cs.call(t,C)&&(i.line=o||i.line,i.lineStart=T||i.lineStart,i.position=e||i.position,vt(i,"duplicated mapping key")),C==="__proto__"?Object.defineProperty(t,C,{configurable:!0,enumerable:!0,writable:!0,value:M}):t[C]=M,delete s[C];return t}function kd(i){var t;t=i.input.charCodeAt(i.position),t===10?i.position++:t===13?(i.position++,i.input.charCodeAt(i.position)===10&&i.position++):vt(i,"a line break is expected"),i.line+=1,i.lineStart=i.position,i.firstTabInLine=-1}function $t(i,t,s){for(var g=0,C=i.input.charCodeAt(i.position);C!==0;){for(;Ns(C);)C===9&&i.firstTabInLine===-1&&(i.firstTabInLine=i.position),C=i.input.charCodeAt(++i.position);if(t&&C===35)do C=i.input.charCodeAt(++i.position);while(C!==10&&C!==13&&C!==0);if(Mi(C))for(kd(i),C=i.input.charCodeAt(i.position),g++,i.lineIndent=0;C===32;)i.lineIndent++,C=i.input.charCodeAt(++i.position);else break}return s!==-1&&g!==0&&i.lineIndent<s&&nh(i,"deficient indentation"),g}function _h(i){var t=i.position,s;return s=i.input.charCodeAt(t),!!((s===45||s===46)&&s===i.input.charCodeAt(t+1)&&s===i.input.charCodeAt(t+2)&&(t+=3,s=i.input.charCodeAt(t),s===0||Re(s)))}function Wd(i,t){t===1?i.result+=" ":t>1&&(i.result+=qt.repeat(`
`,t-1))}function qB(i,t,s){var g,C,M,o,T,e,u,x,d=i.kind,l=i.result,h;if(h=i.input.charCodeAt(i.position),Re(h)||Pn(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(C=i.input.charCodeAt(i.position+1),Re(C)||s&&Pn(C)))return!1;for(i.kind="scalar",i.result="",M=o=i.position,T=!1;h!==0;){if(h===58){if(C=i.input.charCodeAt(i.position+1),Re(C)||s&&Pn(C))break}else if(h===35){if(g=i.input.charCodeAt(i.position-1),Re(g))break}else{if(i.position===i.lineStart&&_h(i)||s&&Pn(h))break;if(Mi(h))if(e=i.line,u=i.lineStart,x=i.lineIndent,$t(i,!1,-1),i.lineIndent>=t){T=!0,h=i.input.charCodeAt(i.position);continue}else{i.position=o,i.line=e,i.lineStart=u,i.lineIndent=x;break}}T&&(ls(i,M,o,!1),Wd(i,i.line-e),M=o=i.position,T=!1),Ns(h)||(o=i.position+1),h=i.input.charCodeAt(++i.position)}return ls(i,M,o,!1),i.result?!0:(i.kind=d,i.result=l,!1)}function _B(i,t){var s,g,C;if(s=i.input.charCodeAt(i.position),s!==39)return!1;for(i.kind="scalar",i.result="",i.position++,g=C=i.position;(s=i.input.charCodeAt(i.position))!==0;)if(s===39)if(ls(i,g,i.position,!0),s=i.input.charCodeAt(++i.position),s===39)g=i.position,i.position++,C=i.position;else return!0;else Mi(s)?(ls(i,g,C,!0),Wd(i,$t(i,!1,t)),g=C=i.position):i.position===i.lineStart&&_h(i)?vt(i,"unexpected end of the document within a single quoted scalar"):(i.position++,C=i.position);vt(i,"unexpected end of the stream within a single quoted scalar")}function t8(i,t){var s,g,C,M,o,T;if(T=i.input.charCodeAt(i.position),T!==34)return!1;for(i.kind="scalar",i.result="",i.position++,s=g=i.position;(T=i.input.charCodeAt(i.position))!==0;){if(T===34)return ls(i,s,i.position,!0),i.position++,!0;if(T===92){if(ls(i,s,i.position,!0),T=i.input.charCodeAt(++i.position),Mi(T))$t(i,!1,t);else if(T<256&&Ex[T])i.result+=Px[T],i.position++;else if((o=ZB(T))>0){for(C=o,M=0;C>0;C--)T=i.input.charCodeAt(++i.position),(o=KB(T))>=0?M=(M<<4)+o:vt(i,"expected hexadecimal character");i.result+=jB(M),i.position++}else vt(i,"unknown escape sequence");s=g=i.position}else Mi(T)?(ls(i,s,g,!0),Wd(i,$t(i,!1,t)),s=g=i.position):i.position===i.lineStart&&_h(i)?vt(i,"unexpected end of the document within a double quoted scalar"):(i.position++,g=i.position)}vt(i,"unexpected end of the stream within a double quoted scalar")}function e8(i,t){var s=!0,g,C,M,o=i.tag,T,e=i.anchor,u,x,d,l,h,n=Object.create(null),r,f,a,c;if(c=i.input.charCodeAt(i.position),c===91)x=93,h=!1,T=[];else if(c===123)x=125,h=!0,T={};else return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=T),c=i.input.charCodeAt(++i.position);c!==0;){if($t(i,!0,t),c=i.input.charCodeAt(i.position),c===x)return i.position++,i.tag=o,i.anchor=e,i.kind=h?"mapping":"sequence",i.result=T,!0;s?c===44&&vt(i,"expected the node content, but found ','"):vt(i,"missed comma between flow collection entries"),f=r=a=null,d=l=!1,c===63&&(u=i.input.charCodeAt(i.position+1),Re(u)&&(d=l=!0,i.position++,$t(i,!0,t))),g=i.line,C=i.lineStart,M=i.position,Gn(i,t,ih,!1,!0),f=i.tag,r=i.result,$t(i,!0,t),c=i.input.charCodeAt(i.position),(l||i.line===g)&&c===58&&(d=!0,c=i.input.charCodeAt(++i.position),$t(i,!0,t),Gn(i,t,ih,!1,!0),a=i.result),h?Mn(i,T,n,f,r,a,g,C,M):d?T.push(Mn(i,null,n,f,r,a,g,C,M)):T.push(r),$t(i,!0,t),c=i.input.charCodeAt(i.position),c===44?(s=!0,c=i.input.charCodeAt(++i.position)):s=!1}vt(i,"unexpected end of the stream within a flow collection")}function i8(i,t){var s,g,C=Il,M=!1,o=!1,T=t,e=0,u=!1,x,d;if(d=i.input.charCodeAt(i.position),d===124)g=!1;else if(d===62)g=!0;else return!1;for(i.kind="scalar",i.result="";d!==0;)if(d=i.input.charCodeAt(++i.position),d===43||d===45)Il===C?C=d===43?pp:kB:vt(i,"repeat of a chomping mode identifier");else if((x=JB(d))>=0)x===0?vt(i,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?vt(i,"repeat of an indentation width identifier"):(T=t+x-1,o=!0);else break;if(Ns(d)){do d=i.input.charCodeAt(++i.position);while(Ns(d));if(d===35)do d=i.input.charCodeAt(++i.position);while(!Mi(d)&&d!==0)}for(;d!==0;){for(kd(i),i.lineIndent=0,d=i.input.charCodeAt(i.position);(!o||i.lineIndent<T)&&d===32;)i.lineIndent++,d=i.input.charCodeAt(++i.position);if(!o&&i.lineIndent>T&&(T=i.lineIndent),Mi(d)){e++;continue}if(i.lineIndent<T){C===pp?i.result+=qt.repeat(`
`,M?1+e:e):C===Il&&M&&(i.result+=`
`);break}for(g?Ns(d)?(u=!0,i.result+=qt.repeat(`
`,M?1+e:e)):u?(u=!1,i.result+=qt.repeat(`
`,e+1)):e===0?M&&(i.result+=" "):i.result+=qt.repeat(`
`,e):i.result+=qt.repeat(`
`,M?1+e:e),M=!0,o=!0,e=0,s=i.position;!Mi(d)&&d!==0;)d=i.input.charCodeAt(++i.position);ls(i,s,i.position,!1)}return!0}function Tp(i,t){var s,g=i.tag,C=i.anchor,M=[],o,T=!1,e;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=M),e=i.input.charCodeAt(i.position);e!==0&&(i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,vt(i,"tab characters must not be used in indentation")),!(e!==45||(o=i.input.charCodeAt(i.position+1),!Re(o))));){if(T=!0,i.position++,$t(i,!0,-1)&&i.lineIndent<=t){M.push(null),e=i.input.charCodeAt(i.position);continue}if(s=i.line,Gn(i,t,Tx,!1,!0),M.push(i.result),$t(i,!0,-1),e=i.input.charCodeAt(i.position),(i.line===s||i.lineIndent>t)&&e!==0)vt(i,"bad indentation of a sequence entry");else if(i.lineIndent<t)break}return T?(i.tag=g,i.anchor=C,i.kind="sequence",i.result=M,!0):!1}function s8(i,t,s){var g,C,M,o,T,e,u=i.tag,x=i.anchor,d={},l=Object.create(null),h=null,n=null,r=null,f=!1,a=!1,c;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=d),c=i.input.charCodeAt(i.position);c!==0;){if(!f&&i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,vt(i,"tab characters must not be used in indentation")),g=i.input.charCodeAt(i.position+1),M=i.line,(c===63||c===58)&&Re(g))c===63?(f&&(Mn(i,d,l,h,n,null,o,T,e),h=n=r=null),a=!0,f=!0,C=!0):f?(f=!1,C=!0):vt(i,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),i.position+=1,c=g;else{if(o=i.line,T=i.lineStart,e=i.position,!Gn(i,s,yx,!1,!0))break;if(i.line===M){for(c=i.input.charCodeAt(i.position);Ns(c);)c=i.input.charCodeAt(++i.position);if(c===58)c=i.input.charCodeAt(++i.position),Re(c)||vt(i,"a whitespace character is expected after the key-value separator within a block mapping"),f&&(Mn(i,d,l,h,n,null,o,T,e),h=n=r=null),a=!0,f=!1,C=!1,h=i.tag,n=i.result;else if(a)vt(i,"can not read an implicit mapping pair; a colon is missed");else return i.tag=u,i.anchor=x,!0}else if(a)vt(i,"can not read a block mapping entry; a multiline key may not be an implicit key");else return i.tag=u,i.anchor=x,!0}if((i.line===M||i.lineIndent>t)&&(f&&(o=i.line,T=i.lineStart,e=i.position),Gn(i,t,sh,!0,C)&&(f?n=i.result:r=i.result),f||(Mn(i,d,l,h,n,r,o,T,e),h=n=r=null),$t(i,!0,-1),c=i.input.charCodeAt(i.position)),(i.line===M||i.lineIndent>t)&&c!==0)vt(i,"bad indentation of a mapping entry");else if(i.lineIndent<t)break}return f&&Mn(i,d,l,h,n,null,o,T,e),a&&(i.tag=u,i.anchor=x,i.kind="mapping",i.result=d),a}function n8(i){var t,s=!1,g=!1,C,M,o;if(o=i.input.charCodeAt(i.position),o!==33)return!1;if(i.tag!==null&&vt(i,"duplication of a tag property"),o=i.input.charCodeAt(++i.position),o===60?(s=!0,o=i.input.charCodeAt(++i.position)):o===33?(g=!0,C="!!",o=i.input.charCodeAt(++i.position)):C="!",t=i.position,s){do o=i.input.charCodeAt(++i.position);while(o!==0&&o!==62);i.position<i.length?(M=i.input.slice(t,i.position),o=i.input.charCodeAt(++i.position)):vt(i,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Re(o);)o===33&&(g?vt(i,"tag suffix cannot contain exclamation marks"):(C=i.input.slice(t-1,i.position+1),Cx.test(C)||vt(i,"named tag handle cannot contain such characters"),g=!0,t=i.position+1)),o=i.input.charCodeAt(++i.position);M=i.input.slice(t,i.position),$B.test(M)&&vt(i,"tag suffix cannot contain flow indicator characters")}M&&!Sx.test(M)&&vt(i,"tag name cannot contain such characters: "+M);try{M=decodeURIComponent(M)}catch{vt(i,"tag name is malformed: "+M)}return s?i.tag=M:cs.call(i.tagMap,C)?i.tag=i.tagMap[C]+M:C==="!"?i.tag="!"+M:C==="!!"?i.tag="tag:yaml.org,2002:"+M:vt(i,'undeclared tag handle "'+C+'"'),!0}function r8(i){var t,s;if(s=i.input.charCodeAt(i.position),s!==38)return!1;for(i.anchor!==null&&vt(i,"duplication of an anchor property"),s=i.input.charCodeAt(++i.position),t=i.position;s!==0&&!Re(s)&&!Pn(s);)s=i.input.charCodeAt(++i.position);return i.position===t&&vt(i,"name of an anchor node must contain at least one character"),i.anchor=i.input.slice(t,i.position),!0}function a8(i){var t,s,g;if(g=i.input.charCodeAt(i.position),g!==42)return!1;for(g=i.input.charCodeAt(++i.position),t=i.position;g!==0&&!Re(g)&&!Pn(g);)g=i.input.charCodeAt(++i.position);return i.position===t&&vt(i,"name of an alias node must contain at least one character"),s=i.input.slice(t,i.position),cs.call(i.anchorMap,s)||vt(i,'unidentified alias "'+s+'"'),i.result=i.anchorMap[s],$t(i,!0,-1),!0}function Gn(i,t,s,g,C){var M,o,T,e=1,u=!1,x=!1,d,l,h,n,r,f;if(i.listener!==null&&i.listener("open",i),i.tag=null,i.anchor=null,i.kind=null,i.result=null,M=o=T=sh===s||Tx===s,g&&$t(i,!0,-1)&&(u=!0,i.lineIndent>t?e=1:i.lineIndent===t?e=0:i.lineIndent<t&&(e=-1)),e===1)for(;n8(i)||r8(i);)$t(i,!0,-1)?(u=!0,T=M,i.lineIndent>t?e=1:i.lineIndent===t?e=0:i.lineIndent<t&&(e=-1)):T=!1;if(T&&(T=u||C),(e===1||sh===s)&&(ih===s||yx===s?r=t:r=t+1,f=i.position-i.lineStart,e===1?T&&(Tp(i,f)||s8(i,f,r))||e8(i,r)?x=!0:(o&&i8(i,r)||_B(i,r)||t8(i,r)?x=!0:a8(i)?(x=!0,(i.tag!==null||i.anchor!==null)&&vt(i,"alias node should not have any properties")):qB(i,r,ih===s)&&(x=!0,i.tag===null&&(i.tag="?")),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):e===0&&(x=T&&Tp(i,f))),i.tag===null)i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);else if(i.tag==="?"){for(i.result!==null&&i.kind!=="scalar"&&vt(i,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+i.kind+'"'),d=0,l=i.implicitTypes.length;d<l;d+=1)if(n=i.implicitTypes[d],n.resolve(i.result)){i.result=n.construct(i.result),i.tag=n.tag,i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);break}}else if(i.tag!=="!"){if(cs.call(i.typeMap[i.kind||"fallback"],i.tag))n=i.typeMap[i.kind||"fallback"][i.tag];else for(n=null,h=i.typeMap.multi[i.kind||"fallback"],d=0,l=h.length;d<l;d+=1)if(i.tag.slice(0,h[d].tag.length)===h[d].tag){n=h[d];break}n||vt(i,"unknown tag !<"+i.tag+">"),i.result!==null&&n.kind!==i.kind&&vt(i,"unacceptable node kind for !<"+i.tag+'> tag; it should be "'+n.kind+'", not "'+i.kind+'"'),n.resolve(i.result,i.tag)?(i.result=n.construct(i.result,i.tag),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):vt(i,"cannot resolve a node with !<"+i.tag+"> explicit tag")}return i.listener!==null&&i.listener("close",i),i.tag!==null||i.anchor!==null||x}function h8(i){var t=i.position,s,g,C,M=!1,o;for(i.version=null,i.checkLineBreaks=i.legacy,i.tagMap=Object.create(null),i.anchorMap=Object.create(null);(o=i.input.charCodeAt(i.position))!==0&&($t(i,!0,-1),o=i.input.charCodeAt(i.position),!(i.lineIndent>0||o!==37));){for(M=!0,o=i.input.charCodeAt(++i.position),s=i.position;o!==0&&!Re(o);)o=i.input.charCodeAt(++i.position);for(g=i.input.slice(s,i.position),C=[],g.length<1&&vt(i,"directive name must not be less than one character in length");o!==0;){for(;Ns(o);)o=i.input.charCodeAt(++i.position);if(o===35){do o=i.input.charCodeAt(++i.position);while(o!==0&&!Mi(o));break}if(Mi(o))break;for(s=i.position;o!==0&&!Re(o);)o=i.input.charCodeAt(++i.position);C.push(i.input.slice(s,i.position))}o!==0&&kd(i),cs.call(xp,g)?xp[g](i,g,C):nh(i,'unknown document directive "'+g+'"')}if($t(i,!0,-1),i.lineIndent===0&&i.input.charCodeAt(i.position)===45&&i.input.charCodeAt(i.position+1)===45&&i.input.charCodeAt(i.position+2)===45?(i.position+=3,$t(i,!0,-1)):M&&vt(i,"directives end mark is expected"),Gn(i,i.lineIndent-1,sh,!1,!0),$t(i,!0,-1),i.checkLineBreaks&&HB.test(i.input.slice(t,i.position))&&nh(i,"non-ASCII line breaks are interpreted as content"),i.documents.push(i.result),i.position===i.lineStart&&_h(i)){i.input.charCodeAt(i.position)===46&&(i.position+=3,$t(i,!0,-1));return}if(i.position<i.length-1)vt(i,"end of the stream or a document separator is expected");else return}function wx(i,t){i=String(i),t=t||{},i.length!==0&&(i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i.charCodeAt(0)===65279&&(i=i.slice(1)));var s=new QB(i,t),g=i.indexOf("\0");for(g!==-1&&(s.position=g,vt(s,"null byte is not allowed in input")),s.input+="\0";s.input.charCodeAt(s.position)===32;)s.lineIndent+=1,s.position+=1;for(;s.position<s.length-1;)h8(s);return s.documents}function o8(i,t,s){t!==null&&typeof t=="object"&&typeof s>"u"&&(s=t,t=null);var g=wx(i,s);if(typeof t!="function")return g;for(var C=0,M=g.length;C<M;C+=1)t(g[C])}function l8(i,t){var s=wx(i,t);if(s.length!==0){if(s.length===1)return s[0];throw new ye("expected a single document in the stream, but found more")}}var u8=o8,d8=l8,Ax={loadAll:u8,load:d8},Rx=Object.prototype.toString,Ox=Object.prototype.hasOwnProperty,Hd=65279,f8=9,Mr=10,c8=13,v8=32,p8=33,g8=34,nu=35,m8=37,x8=38,y8=39,T8=42,bx=44,C8=45,rh=58,S8=61,E8=62,P8=63,M8=64,Lx=91,Fx=93,w8=96,Dx=123,A8=124,Ix=125,pe={};pe[0]="\\0";pe[7]="\\a";pe[8]="\\b";pe[9]="\\t";pe[10]="\\n";pe[11]="\\v";pe[12]="\\f";pe[13]="\\r";pe[27]="\\e";pe[34]='\\"';pe[92]="\\\\";pe[133]="\\N";pe[160]="\\_";pe[8232]="\\L";pe[8233]="\\P";var R8=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],O8=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function b8(i,t){var s,g,C,M,o,T,e;if(t===null)return{};for(s={},g=Object.keys(t),C=0,M=g.length;C<M;C+=1)o=g[C],T=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),e=i.compiledTypeMap.fallback[o],e&&Ox.call(e.styleAliases,T)&&(T=e.styleAliases[T]),s[o]=T;return s}function L8(i){var t,s,g;if(t=i.toString(16).toUpperCase(),i<=255)s="x",g=2;else if(i<=65535)s="u",g=4;else if(i<=4294967295)s="U",g=8;else throw new ye("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+s+qt.repeat("0",g-t.length)+t}var F8=1,wr=2;function D8(i){this.schema=i.schema||Xd,this.indent=Math.max(1,i.indent||2),this.noArrayIndent=i.noArrayIndent||!1,this.skipInvalid=i.skipInvalid||!1,this.flowLevel=qt.isNothing(i.flowLevel)?-1:i.flowLevel,this.styleMap=b8(this.schema,i.styles||null),this.sortKeys=i.sortKeys||!1,this.lineWidth=i.lineWidth||80,this.noRefs=i.noRefs||!1,this.noCompatMode=i.noCompatMode||!1,this.condenseFlow=i.condenseFlow||!1,this.quotingType=i.quotingType==='"'?wr:F8,this.forceQuotes=i.forceQuotes||!1,this.replacer=typeof i.replacer=="function"?i.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Cp(i,t){for(var s=qt.repeat(" ",t),g=0,C=-1,M="",o,T=i.length;g<T;)C=i.indexOf(`
`,g),C===-1?(o=i.slice(g),g=T):(o=i.slice(g,C+1),g=C+1),o.length&&o!==`
`&&(M+=s),M+=o;return M}function ru(i,t){return`
`+qt.repeat(" ",i.indent*t)}function I8(i,t){var s,g,C;for(s=0,g=i.implicitTypes.length;s<g;s+=1)if(C=i.implicitTypes[s],C.resolve(t))return!0;return!1}function ah(i){return i===v8||i===f8}function Ar(i){return 32<=i&&i<=126||161<=i&&i<=55295&&i!==8232&&i!==8233||57344<=i&&i<=65533&&i!==Hd||65536<=i&&i<=1114111}function Sp(i){return Ar(i)&&i!==Hd&&i!==c8&&i!==Mr}function Ep(i,t,s){var g=Sp(i),C=g&&!ah(i);return(s?g:g&&i!==bx&&i!==Lx&&i!==Fx&&i!==Dx&&i!==Ix)&&i!==nu&&!(t===rh&&!C)||Sp(t)&&!ah(t)&&i===nu||t===rh&&C}function B8(i){return Ar(i)&&i!==Hd&&!ah(i)&&i!==C8&&i!==P8&&i!==rh&&i!==bx&&i!==Lx&&i!==Fx&&i!==Dx&&i!==Ix&&i!==nu&&i!==x8&&i!==T8&&i!==p8&&i!==A8&&i!==S8&&i!==E8&&i!==y8&&i!==g8&&i!==m8&&i!==M8&&i!==w8}function G8(i){return!ah(i)&&i!==rh}function pr(i,t){var s=i.charCodeAt(t),g;return s>=55296&&s<=56319&&t+1<i.length&&(g=i.charCodeAt(t+1),g>=56320&&g<=57343)?(s-55296)*1024+g-56320+65536:s}function Bx(i){var t=/^\n* /;return t.test(i)}var Gx=1,au=2,Nx=3,zx=4,Sn=5;function N8(i,t,s,g,C,M,o,T){var e,u=0,x=null,d=!1,l=!1,h=g!==-1,n=-1,r=B8(pr(i,0))&&G8(pr(i,i.length-1));if(t||o)for(e=0;e<i.length;u>=65536?e+=2:e++){if(u=pr(i,e),!Ar(u))return Sn;r=r&&Ep(u,x,T),x=u}else{for(e=0;e<i.length;u>=65536?e+=2:e++){if(u=pr(i,e),u===Mr)d=!0,h&&(l=l||e-n-1>g&&i[n+1]!==" ",n=e);else if(!Ar(u))return Sn;r=r&&Ep(u,x,T),x=u}l=l||h&&e-n-1>g&&i[n+1]!==" "}return!d&&!l?r&&!o&&!C(i)?Gx:M===wr?Sn:au:s>9&&Bx(i)?Sn:o?M===wr?Sn:au:l?zx:Nx}function z8(i,t,s,g,C){i.dump=function(){if(t.length===0)return i.quotingType===wr?'""':"''";if(!i.noCompatMode&&(R8.indexOf(t)!==-1||O8.test(t)))return i.quotingType===wr?'"'+t+'"':"'"+t+"'";var M=i.indent*Math.max(1,s),o=i.lineWidth===-1?-1:Math.max(Math.min(i.lineWidth,40),i.lineWidth-M),T=g||i.flowLevel>-1&&s>=i.flowLevel;function e(u){return I8(i,u)}switch(N8(t,T,i.indent,o,e,i.quotingType,i.forceQuotes&&!g,C)){case Gx:return t;case au:return"'"+t.replace(/'/g,"''")+"'";case Nx:return"|"+Pp(t,i.indent)+Mp(Cp(t,M));case zx:return">"+Pp(t,i.indent)+Mp(Cp(V8(t,o),M));case Sn:return'"'+U8(t)+'"';default:throw new ye("impossible error: invalid scalar style")}}()}function Pp(i,t){var s=Bx(i)?String(t):"",g=i[i.length-1]===`
`,C=g&&(i[i.length-2]===`
`||i===`
`),M=C?"+":g?"":"-";return s+M+`
`}function Mp(i){return i[i.length-1]===`
`?i.slice(0,-1):i}function V8(i,t){for(var s=/(\n+)([^\n]*)/g,g=function(){var u=i.indexOf(`
`);return u=u!==-1?u:i.length,s.lastIndex=u,wp(i.slice(0,u),t)}(),C=i[0]===`
`||i[0]===" ",M,o;o=s.exec(i);){var T=o[1],e=o[2];M=e[0]===" ",g+=T+(!C&&!M&&e!==""?`
`:"")+wp(e,t),C=M}return g}function wp(i,t){if(i===""||i[0]===" ")return i;for(var s=/ [^ ]/g,g,C=0,M,o=0,T=0,e="";g=s.exec(i);)T=g.index,T-C>t&&(M=o>C?o:T,e+=`
`+i.slice(C,M),C=M+1),o=T;return e+=`
`,i.length-C>t&&o>C?e+=i.slice(C,o)+`
`+i.slice(o+1):e+=i.slice(C),e.slice(1)}function U8(i){for(var t="",s=0,g,C=0;C<i.length;s>=65536?C+=2:C++)s=pr(i,C),g=pe[s],!g&&Ar(s)?(t+=i[C],s>=65536&&(t+=i[C+1])):t+=g||L8(s);return t}function Y8(i,t,s){var g="",C=i.tag,M,o,T;for(M=0,o=s.length;M<o;M+=1)T=s[M],i.replacer&&(T=i.replacer.call(s,String(M),T)),(Yi(i,t,T,!1,!1)||typeof T>"u"&&Yi(i,t,null,!1,!1))&&(g!==""&&(g+=","+(i.condenseFlow?"":" ")),g+=i.dump);i.tag=C,i.dump="["+g+"]"}function Ap(i,t,s,g){var C="",M=i.tag,o,T,e;for(o=0,T=s.length;o<T;o+=1)e=s[o],i.replacer&&(e=i.replacer.call(s,String(o),e)),(Yi(i,t+1,e,!0,!0,!1,!0)||typeof e>"u"&&Yi(i,t+1,null,!0,!0,!1,!0))&&((!g||C!=="")&&(C+=ru(i,t)),i.dump&&Mr===i.dump.charCodeAt(0)?C+="-":C+="- ",C+=i.dump);i.tag=M,i.dump=C||"[]"}function X8(i,t,s){var g="",C=i.tag,M=Object.keys(s),o,T,e,u,x;for(o=0,T=M.length;o<T;o+=1)x="",g!==""&&(x+=", "),i.condenseFlow&&(x+='"'),e=M[o],u=s[e],i.replacer&&(u=i.replacer.call(s,e,u)),Yi(i,t,e,!1,!1)&&(i.dump.length>1024&&(x+="? "),x+=i.dump+(i.condenseFlow?'"':"")+":"+(i.condenseFlow?"":" "),Yi(i,t,u,!1,!1)&&(x+=i.dump,g+=x));i.tag=C,i.dump="{"+g+"}"}function k8(i,t,s,g){var C="",M=i.tag,o=Object.keys(s),T,e,u,x,d,l;if(i.sortKeys===!0)o.sort();else if(typeof i.sortKeys=="function")o.sort(i.sortKeys);else if(i.sortKeys)throw new ye("sortKeys must be a boolean or a function");for(T=0,e=o.length;T<e;T+=1)l="",(!g||C!=="")&&(l+=ru(i,t)),u=o[T],x=s[u],i.replacer&&(x=i.replacer.call(s,u,x)),Yi(i,t+1,u,!0,!0,!0)&&(d=i.tag!==null&&i.tag!=="?"||i.dump&&i.dump.length>1024,d&&(i.dump&&Mr===i.dump.charCodeAt(0)?l+="?":l+="? "),l+=i.dump,d&&(l+=ru(i,t)),Yi(i,t+1,x,!0,d)&&(i.dump&&Mr===i.dump.charCodeAt(0)?l+=":":l+=": ",l+=i.dump,C+=l));i.tag=M,i.dump=C||"{}"}function Rp(i,t,s){var g,C,M,o,T,e;for(C=s?i.explicitTypes:i.implicitTypes,M=0,o=C.length;M<o;M+=1)if(T=C[M],(T.instanceOf||T.predicate)&&(!T.instanceOf||typeof t=="object"&&t instanceof T.instanceOf)&&(!T.predicate||T.predicate(t))){if(s?T.multi&&T.representName?i.tag=T.representName(t):i.tag=T.tag:i.tag="?",T.represent){if(e=i.styleMap[T.tag]||T.defaultStyle,Rx.call(T.represent)==="[object Function]")g=T.represent(t,e);else if(Ox.call(T.represent,e))g=T.represent[e](t,e);else throw new ye("!<"+T.tag+'> tag resolver accepts not "'+e+'" style');i.dump=g}return!0}return!1}function Yi(i,t,s,g,C,M,o){i.tag=null,i.dump=s,Rp(i,s,!1)||Rp(i,s,!0);var T=Rx.call(i.dump),e=g,u;g&&(g=i.flowLevel<0||i.flowLevel>t);var x=T==="[object Object]"||T==="[object Array]",d,l;if(x&&(d=i.duplicates.indexOf(s),l=d!==-1),(i.tag!==null&&i.tag!=="?"||l||i.indent!==2&&t>0)&&(C=!1),l&&i.usedDuplicates[d])i.dump="*ref_"+d;else{if(x&&l&&!i.usedDuplicates[d]&&(i.usedDuplicates[d]=!0),T==="[object Object]")g&&Object.keys(i.dump).length!==0?(k8(i,t,i.dump,C),l&&(i.dump="&ref_"+d+i.dump)):(X8(i,t,i.dump),l&&(i.dump="&ref_"+d+" "+i.dump));else if(T==="[object Array]")g&&i.dump.length!==0?(i.noArrayIndent&&!o&&t>0?Ap(i,t-1,i.dump,C):Ap(i,t,i.dump,C),l&&(i.dump="&ref_"+d+i.dump)):(Y8(i,t,i.dump),l&&(i.dump="&ref_"+d+" "+i.dump));else if(T==="[object String]")i.tag!=="?"&&z8(i,i.dump,t,M,e);else{if(T==="[object Undefined]")return!1;if(i.skipInvalid)return!1;throw new ye("unacceptable kind of an object to dump "+T)}i.tag!==null&&i.tag!=="?"&&(u=encodeURI(i.tag[0]==="!"?i.tag.slice(1):i.tag).replace(/!/g,"%21"),i.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",i.dump=u+" "+i.dump)}return!0}function W8(i,t){var s=[],g=[],C,M;for(hu(i,s,g),C=0,M=g.length;C<M;C+=1)t.duplicates.push(s[g[C]]);t.usedDuplicates=new Array(M)}function hu(i,t,s){var g,C,M;if(i!==null&&typeof i=="object")if(C=t.indexOf(i),C!==-1)s.indexOf(C)===-1&&s.push(C);else if(t.push(i),Array.isArray(i))for(C=0,M=i.length;C<M;C+=1)hu(i[C],t,s);else for(g=Object.keys(i),C=0,M=g.length;C<M;C+=1)hu(i[g[C]],t,s)}function H8(i,t){t=t||{};var s=new D8(t);s.noRefs||W8(i,s);var g=i;return s.replacer&&(g=s.replacer.call({"":g},"",g)),Yi(s,0,g,!0,!0)?s.dump+`
`:""}var $8=H8,K8={dump:$8};function $d(i,t){return function(){throw new Error("Function yaml."+i+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Z8=ue,J8=tx,j8=nx,Q8=lx,q8=ux,_8=Xd,t7=Ax.load,e7=Ax.loadAll,i7=K8.dump,s7=ye,n7={binary:px,float:ox,map:sx,null:rx,pairs:mx,set:xx,timestamp:cx,bool:ax,int:hx,merge:vx,omap:gx,seq:ix,str:ex},r7=$d("safeLoad","load"),a7=$d("safeLoadAll","loadAll"),h7=$d("safeDump","dump"),o7={Type:Z8,Schema:J8,FAILSAFE_SCHEMA:j8,JSON_SCHEMA:Q8,CORE_SCHEMA:q8,DEFAULT_SCHEMA:_8,load:t7,loadAll:e7,dump:i7,YAMLException:s7,types:n7,safeLoad:r7,safeLoadAll:a7,safeDump:h7},gr=function(i){if(typeof i=="string")try{return o7.load(i)}catch(t){console.log(t);return}return i},l7=function(i,t){if(i.hasOwnProperty("$type"))return i.$type;if(i.hasOwnProperty("name")){var s=t[`#${i.name}`];if(s&&s.hasOwnProperty("$type"))return s.$type}if(i.hasOwnProperty("$class"))for(var g=i.$class.split(" "),C=0,M=g.length;C<M;C++){var s=t[`.${g[C]}`];if(s&&s.hasOwnProperty("$type"))return s.$type}},Ja=function(i,t){if(t===void 0)return i;for(var s in t)if(!i.hasOwnProperty(s))i[s]=Te(t[s]);else{var g=i[s];g&&typeof g=="object"&&Ja(g,t[s])}return i},Vt=function(i,t){if(t===void 0)return i;if(i.hasOwnProperty("name")&&Ja(i,t[`#${i.name}`]),i.hasOwnProperty("$class"))for(var s=i.$class.split(" "),g=0,C=s.length;g<C;g++)Ja(i,t[`.${s[g]}`]);return i.hasOwnProperty("$type")&&Ja(i,t[i.$type]),i};const Op=["tint","alpha","visible","flipX","flipY"];var Ks=function(i,t){for(var s=0,g=Op.length;s<g;s++){var C=Op[s],M=t[C];M!==void 0&&(i[C]=M)}return t.cropResize&&!i.resize&&(i.resize=function(o,T){return i.setCrop(0,0,o,T),i}),i},Vx=function(i,t,s,g,C,M){t=Vt(t,g);var o=new M(i,0,0,t.key,t.frame);return t.width!==void 0&&o.setDisplayWidth(t.width),t.height!==void 0&&o.setDisplayHeight(t.height),Ks(o,t),i.add.existing(o),o};const u7=Phaser.GameObjects.Image;var d7=function(i,t,s,g,C){return Vx(i,t,s,g,C,u7)};const f7=Phaser.GameObjects.Sprite;var c7=function(i,t,s,g,C){return Vx(i,t,s,g,C,f7)};const v7=Phaser.GameObjects.Video;var p7=function(i,t,s,g,C){t=Vt(t,g);var M=new v7(i,0,0,t.key);return t.width!==void 0&&M.setDisplayWidth(t.width),t.height!==void 0&&M.setDisplayHeight(t.height),Ks(M,t),i.add.existing(M),M};const g7=Phaser.GameObjects.Text;var m7=function(i,t,s,g,C){t=Vt(t,g);var M=new g7(i,0,0,t.text,t);return Ks(M,t),i.add.existing(M),M},x7=function(i,t,s,g,C){t=Vt(t,g);var M=new Gs(i,0,0,t.text,t);return Ks(M,t),i.add.existing(M),M},y7=function(i,t,s,g,C){t=Vt(t,g);var M=new Xi(i,t);return i.add.existing(M),M},T7=function(i,t,s,g,C){t=Vt(t,g);var M=new Rr(i,t);return Ks(M,t),i.add.existing(M),M},C7=function(i,t,s,g,C){t=Vt(t,g);var M=new oh(i,t);return i.add.existing(M),M},S7=function(i,t,s,g,C){t=Vt(t,g);var M=t.width||1,o=t.height||1,T=new ks(i,0,0,M,o);return t.fill!==void 0&&T.fill(t.fill),Ks(T,t),i.add.existing(T),T},E7=function(i,t,s,g,C){t=Vt(t,g);var M=new Lu(i,0,0,t.key,t.frame,t);return t.width!==void 0&&M.setDisplayWidth(t.width),t.height!==void 0&&M.setDisplayHeight(t.height),Ks(M,t),i.add.existing(M),M},P7=function(i,t,s,g,C){var M=new Bh(i);return M},ct=function(i,t,s,g,C,M){var o=t[s];if(!!o){var T;return T=Nn(i,o,g,C,M),t[s]=T,T}},bp=function(i,t,s,g,C){if(t){Array.isArray(t)||(t=[t]);for(var M=0,o=t.length;M<o;M++){var T=t[M];T.$child||(T={$child:T},t[M]=T),ct(i,T,"$child",s,g,C)}}return t},Jr=function(i,t,s,g,C,M){t=Vt(t,g);var o=bp(i,t.background,s,g,C),T=bp(i,t.children,s,g,C),e=new M(i,t);if(i.add.existing(e),o)for(var u=0,x=o.length;u<x;u++){var d=o[u];e.addBackground(d.$child,d.padding)}if(T)for(var u=0,x=T.length;u<x;u++){var d=T[u];e.add(d.$child,d)}return e},M7=function(i,t,s,g,C){return Jr(i,t,s,g,C,Pt)},w7=function(i,t,s,g,C){return Jr(i,t,s,g,C,ys)},A7=function(i,t,s,g,C){var M=t.createCellContainerCallback;if(M){var o=M.$child;delete M.$child,t.createCellContainerCallback=function(T,e,u,x){var d=Nn(T,o,s,g,C);for(var l in M)x[l]=M[l];return d}}return Jr(i,t,s,g,C,$i)},R7=function(i,t,s,g,C){return Jr(i,t,s,g,C,Ne)},hs=function(i,t,s,g,C,M){var o=t[s];if(!!o){if(Array.isArray(o))for(var T=0,e=o.length;T<e;T++)Array.isArray(o[T])?hs(i,o,T,g,C,M):ct(i,o,T,g,C,M);else for(var u in o)ct(i,o,u,g,C,M);return o}},O7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C),hs(i,t,"buttons",s,g,C);var M=new ne(i,t);return i.add.existing(M),M},b7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C),hs(i,t,"buttons",s,g,C);var M=new fs(i,t);return i.add.existing(M),M},L7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C);var M=t.buttons;if(M)for(var o=0,T=M.length;o<T;o++)hs(i,M,o,s,g,C);var e=t.createCellContainerCallback;if(e){var u=e.$child;delete e.$child,t.createCellContainerCallback=function(d,l,h,n){var r=Nn(d,u,s,g,C);for(var f in e)n[f]=e[f];return r}}var x=new Xr(i,t);return i.add.existing(x),x},Kd=function(i,t,s,g,C,M){t=Vt(t,g),ct(i,t,"background",s,g,C),ct(i,t,"icon",s,g,C),ct(i,t,"text",s,g,C),ct(i,t,"action",s,g,C);var o=new M(i,t);return i.add.existing(o),o},F7=function(i,t,s,g,C){return Kd(i,t,s,g,C,Oi)},D7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C),ct(i,t,"main",s,g,C),ct(i,t,"leftTop",s,g,C),ct(i,t,"centerTop",s,g,C),ct(i,t,"rightTop",s,g,C),ct(i,t,"leftCenter",s,g,C),ct(i,t,"center",s,g,C),ct(i,t,"rightCenter",s,g,C),ct(i,t,"leftBottom",s,g,C),ct(i,t,"centerBottom",s,g,C),ct(i,t,"rightBottom",s,g,C);var M=new Ld(i,t);return i.add.existing(M),M},I7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C),ct(i,t,"toolbarBackground",s,g,C),ct(i,t,"leftToolbarBackground",s,g,C),ct(i,t,"choicesBackground",s,g,C),ct(i,t,"actionsBackground",s,g,C),ct(i,t,"title",s,g,C),hs(i,t,"toolbar",s,g,C),hs(i,t,"leftToolbar",s,g,C),ct(i,t,"content",s,g,C),ct(i,t,"description",s,g,C),hs(i,t,"choices",s,g,C),hs(i,t,"actions",s,g,C);var M=new kr(i,t);return i.add.existing(M),M},B7=function(i,t,s,g,C){return Kd(i,t,s,g,C,Od)},G7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C),ct(i,t,"track",s,g,C),ct(i,t,"indicator",s,g,C),ct(i,t,"thumb",s,g,C);var M=new $s(i,t);return i.add.existing(M),M},Zd=function(i,t,s,g,C){return t&&(ct(i,t,"background",s,g,C),ct(i,t,"track",s,g,C),ct(i,t,"indicator",s,g,C),ct(i,t,"thumb",s,g,C)),t},N7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C),ct(i,t,"icon",s,g,C),Zd(i,t.slider,s,g,C),ct(i,t,"text",s,g,C);var M=new bd(i,t);return i.add.existing(M),M},z7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C),Zd(i,t.slider,s,g,C);var M=t.buttons;M&&(ct(i,M,"top",s,g,C),ct(i,M,"bottom",s,g,C),ct(i,M,"left",s,g,C),ct(i,M,"right",s,g,C));var o=new Uh(i,t);return i.add.existing(o),o},V7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C),ct(i,t,"text",s,g,C),Zd(i,t.slider,s,g,C),ct(i,t,"header",s,g,C),ct(i,t,"footer",s,g,C);var M=new kn(i,t);return i.add.existing(M),M},U7=function(i,t,s,g,C){return Jr(i,t,s,g,C,Kr)},Y7=function(i,t,s,g,C){return Kd(i,t,s,g,C,Dd)},X7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C),ct(i,t,"text",s,g,C);var M=new Lh(i,t);return i.add.existing(M),M},k7=function(i,t,s,g,C){t=Vt(t,g),ct(i,t,"background",s,g,C),ct(i,t,"content",s,g,C),ct(i,t,"leftSide",s,g,C),ct(i,t,"rightSide",s,g,C),ct(i,t,"header",s,g,C),ct(i,t,"footer",s,g,C);var M=new Kh(i,t);return i.add.existing(M),M},W7=function(i,t,s,g,C){t=Vt(t,g);var M=t.background;delete t.background,M&&(t.createBackgroundCallback=function(T){var e=T.scene,u=Nn(e,Te(M),s,g,C);return u}),t.createButtonCallback=function(T,e,u){var x=T.scene,d=T.$next;delete T.scene,delete T.$next;var l=Nn(x,Te(T),s,g,C);return T.scene=x,T.$next=d,l},t.childrenKey="$next";var o=new Zh(i,t);return i.add.existing(o),o},H7={Image:d7,Sprite:c7,Video:p7,Text:m7,BBCodeText:x7,RoundRectangle:y7,Ninepatch:T7,Ninepatch2:C7,Canvas:S7,CircleMaskImage:E7,Space:P7,Sizer:M7,FixWidthSizer:w7,GridSizer:A7,OverlapSizer:R7,Buttons:O7,FixWidthButtons:b7,GridButtons:L7,Label:F7,BadgeLabel:D7,Dialog:I7,TextBox:B7,Slider:G7,NumberBar:N7,ScrollBar:z7,TextArea:V7,Pages:U7,Toast:Y7,Knob:X7,HolyGrail:k7,Menu:W7},Nn=function(i,t,s,g,C){var M=l7(t,g);if(!M){console.warn(`rexUI.Make: Can't get type name in ${JSON.stringify(t)}`);return}var o;if(C&&(o=C[M]),o||(o=H7[M]),!o){console.warn(`rexUI.Make: Can't create ${M} game object.`);return}var T=o(i,t,s,g,C);return t.name&&T.setName(t.name),T},$7=function(i,t,s,g,C){if(t=gr(t),Array.isArray(t))t=t[t.length-1];else if(t.$root){var M=t;if(t=t.$root,delete M.$root,g===void 0)g=M;else for(var o in M)g[o]||(g[o]=M[o])}g=gr(g);var T=Nn(i,t,s,g,C);return T};const Lp=Phaser.Utils.Objects.IsPlainObject;class Ux{constructor(t,s,g){this.setScene(t),this.setStyles(s),this.setBuilders(g)}setScene(t){return this.scene=t,this}setStyles(t){return this.styles=gr(t),this}addStyle(t,s){if(this.styles===void 0&&(this.styles={}),typeof t=="string"&&s===void 0&&(t=gr(t)),Lp(t)){var g=t;for(t in g)this.styles[t]=g[t]}else this.styles[t]=gr(s);return this}clearStyles(){return this.setStyles(),this}setBuilders(t){return this.customBuilders=t,this}addBuilder(t,s){if(this.customBuilders===void 0&&(this.customBuilders={}),Lp(t)){var g=t;for(t in g)this.customBuilders[t]=g[t]}else this.customBuilders[t]=s;return this}clearBuilder(){return this.setBuilders(),this}make(t,s){return $7(this.scene,t,s,this.styles,this.customBuilders)}}nt.register("maker",function(i,t){return new Ux(this.scene,i,t)});st(window,"RexPlugins.UI.Maker",Ux);nt.register("click",function(i,t){return new ms(i,t)});st(window,"RexPlugins.UI.Click",ms);nt.register("clickOutside",function(i,t){return new nd(i,t)});st(window,"RexPlugins.UI.ClickOutside",nd);nt.register("inTouching",function(i,t){return new Bn(i,t)});st(window,"RexPlugins.UI.InTouching",Bn);nt.register("tap",function(i,t){return xs(i)||(t=i,i=this.scene),new Ah(i,t)});st(window,"RexPlugins.UI.Tap",Ah);nt.register("press",function(i,t){return xs(i)||(t=i,i=this.scene),new Rh(i,t)});st(window,"RexPlugins.UI.Press",Rh);nt.register("swipe",function(i,t){return xs(i)||(t=i,i=this.scene),new Yr(i,t)});st(window,"RexPlugins.UI.Swipe",Yr);nt.register("pan",function(i,t){return xs(i)||(t=i,i=this.scene),new w0(i,t)});st(window,"RexPlugins.UI.Pan",w0);var Yx=function(i){for(var t=i.scene.input,s=t.manager,g=s.pointersTotal,C=s.pointers,M,o=0;o<g;o++)if(M=C[o],!(!M.primaryDown||t.getDragState(M)!==0||!Pu(i,M)))return t.setDragState(M,1),t._drag[M.id]=[i],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(M,3),t.processDragStartList(M)):t.setDragState(M,2),!0;return!1};const za=Phaser.Utils.Objects.GetValue,Fp=Phaser.Math.Distance.Between,Dp=Phaser.Math.RotateAroundDistance;class Ae extends re{constructor(t,s){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(za(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(za(t,"enable",!0)),this.setAxisMode(za(t,"axis",0)),this.setAxisRotation(za(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=K7[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return Yx(this.parent),this}dragend(){if(!!this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,s,g){this.isDragging||(this.pointer=t)}onDrag(t,s,g){if(this.pointer===t){var C=this.parent;if(this.axisMode===0)C.x=s,C.y=g;else if(this.axisRotation===0)this.axisMode===1?C.x=s:this.axisMode===2&&(C.y=g);else{var M,o={x:s,y:g};M=Fp(o.x,o.y,C.x,C.y),o=Dp(o,C.x,C.y,-this.axisRotation,M),this.axisMode===1?o.y=C.y:this.axisMode===2&&(o.x=C.x),M=Fp(o.x,o.y,C.x,C.y),o=Dp(o,C.x,C.y,this.axisRotation,M),C.x=o.x,C.y=o.y}}}onDragEnd(t,s,g,C){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const K7={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};nt.register("drag",function(i,t){return new Ae(i,t)});st(window,"RexPlugins.UI.Drag",Ae);nt.register("pinch",function(i){return new A0(this.scene,i)});st(window,"RexPlugins.UI.Pinch",A0);nt.register("rotate",function(i){return new ad(this.scene,i)});st(window,"RexPlugins.UI.Rotate",ad);const Z7=Phaser.Utils.Objects.IsPlainObject,Ip=Phaser.Utils.Objects.GetValue;var Bp=function(i,t,s){var g;if(i===void 0)i=s.texture.key,t=s.frame.name;else if(Z7(i)){var C=i;i=Ip(C,"key",s.texture.key),t=Ip(C,"frame",s.frame.name)}else typeof i=="string"||(g=i);return g===void 0&&(g=function(M){M.setTexture(i,t)}),g};const vr=Phaser.Utils.Objects.GetValue,J7=Phaser.Utils.Objects.GetAdvancedValue,j7=Phaser.Math.Linear;class Xx extends Us{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(J7(t,"duration",500)),this.setEase(vr(t,"ease","Sine")),this.setOrientation(vr(t,"orientation",0)),this.setFrontFace(vr(t,"front",void 0)),this.setBackFace(vr(t,"back",void 0)),this.setFace(vr(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=Q7[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=q7[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,s){return this.frontFaceCallback=Bp(t,s,this.parent),this}setBackFace(t,s){return this.backFaceCallback=Bp(t,s,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateGameObject(t,s){s.justRestart&&this.toggleFace();var g=s.t;s.isOddIteration&&(g=1-g),g=this.easeFn(g);var C=j7(this.scale0,0,g);this.orientation===0?t.scaleX=C:t.scaleY=C}}const Q7={x:0,horizontal:0,y:1,vertical:1},q7={front:0,back:1};nt.register("flip",function(i,t){return new Xx(i,t)});st(window,"RexPlugins.UI.Flip",Xx);nt.register("shake",function(i,t){return new qu(i,t)});st(window,"RexPlugins.UI.Shake",qu);nt.register("touchEventStop",function(i,t){return new Ph(i,t)});st(window,"RexPlugins.UI.TouchEventStop",Ph);nt.register("perspective",function(i,t){return new Lm(i,t)});st(window,"RexPlugins.UI.Perspective",Lm);const kx=Phaser.Math.RotateAround;var Bl=function(i,t,s){var g=i.width/2,C=i.height/2;return ce.x=t-g,ce.y=s-C,kx(ce,0,0,i.rotation),ce.x*=i.scaleX,ce.y*=i.scaleY,ce.x+=i.x,ce.y+=i.y,ce},_7=function(i,t,s){var g=i.width/2,C=i.height/2;return ce.x=t-i.x,ce.y=s-i.y,ce.x/=i.scaleX,ce.y/=i.scaleY,kx(ce,0,0,-i.rotation),ce.x+=g,ce.y+=C,ce},ce={x:0,y:0};class tG{constructor(t,s){this.parent=t,this.vertex=s,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,s){var g=this.parent,C=g.height,M=g.frame.cutWidth/C/2,o=g.frame.cutHeight/C/2,T=t/C-M,e=s/C-o,u=this.vertex;return u.x=T,u.y=-e,g.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,s){return this._localXOrigin=t,this._localYOrigin=s,this._localX=t,this._localY=s,this}setLocalXY(t,s,g){return this._localX===t&&this._localY===s?this:(this._localX=t,this._localY=s,g||this.updateVertexPosition(t,s),this)}setWorldXY(t,s){if(this._worldX===t&&this._worldY===s)return this;var g=_7(this.parent,t,s);return this.setLocalXY(g.x,g.y),this}setPosition(t,s){return this.setWorldXY(t,s),this}getWorldXY(){return Bl(this.parent,this._localX,this._localY)}get x(){var t=Bl(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=Bl(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const eG=Phaser.Geom.Mesh.Vertex,iG=Phaser.Geom.Mesh.Face;var sG=function(i){for(var t=i.isNinePointMode,s=t?9:4,g=i.vertices,C=i.faces,M=i.controlPoints,o=0;o<s;o++){var T=new eG;g.push(T),M.push(new tG(i,T))}var e;t?e=aG:i.fourPointsModeRTL?e=rG:e=nG;for(var o=0,u=e.length;o<u;o+=3){var x=g[e[o+0]],d=g[e[o+1]],l=g[e[o+2]];C.push(new iG(x,d,l))}t?(i.topLeft=M[0],i.topCenter=M[1],i.topRight=M[2],i.centerLeft=M[3],i.center=M[4],i.centerRight=M[5],i.bottomLeft=M[6],i.bottomCenter=M[7],i.bottomRight=M[8]):(i.topLeft=M[0],i.topRight=M[1],i.bottomLeft=M[2],i.bottomRight=M[3])};const nG=[0,2,3,0,3,1],rG=[1,3,2,1,2,0],aG=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var hG=function(i){var t,s=0,g=i.height,C=0,M=i.width;if(i.isNinePointMode){var o=(C+M)/2,T=(s+g)/2;t=[C,s,o,s,M,s,C,T,o,T,M,T,C,g,o,g,M,g]}else t=[C,s,M,s,C,g,M,g];return t};const oG=Phaser.GameObjects.Mesh,lG=Phaser.Utils.Objects.IsPlainObject,Tn=Phaser.Utils.Objects.GetValue;class uG extends oG{constructor(t,s,g,C,M,o){lG(s)&&(o=s,s=Tn(o,"x",0),g=Tn(o,"y",0),C=Tn(o,"key",null),M=Tn(o,"frame",null)),super(t,s,g,C,M),this.type="rexQuadImage",this.isNinePointMode=Tn(o,"ninePointMode",!1),this.fourPointsModeRTL=Tn(o,"rtl",!1),this.controlPoints=[],sG(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var s=0,g=this.controlPoints.length;s<g;s++)this.controlPoints[s].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=hG(this),s=this.width,g=this.height,C=this.frame.cutWidth/g/2,M=this.frame.cutHeight/g/2,o=this.frame.u0,T=this.frame.u1,e=this.frame.v0,u=this.frame.v1,x=T-o,d=u-e,l=this.controlPoints,h=0,n=t.length;h<n;h+=2){var r=t[h+0],f=t[h+1],a=h/2,c=r/g-C,p=f/g-M,v=o+x*(r/s),m=e+d*(f/g);this.vertices[a].set(c,-p,0).setUVs(v,m),l[a].resetLocalXY(r,f)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}forceUpdate(){return this.dirtyCache[10]=1,this}get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}}Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var Gp=function(i,t,s){t===void 0&&(t=0),s===void 0&&(s=0);for(var g=i.width,C=i.height,M=g*.5,o=C*.5,T=Math.tan(t)*o,e=Math.tan(s)*M,u=i.controlPoints,x=0,d=u.length;x<d;x++){var l=u[x],h=l.localXOrigin,n=l.localYOrigin;l.localX=h+(n>o?T:-T),l.localY=n+(h>M?e:-e)}};const dG=Phaser.Utils.Objects.IsPlainObject,Va=Phaser.Utils.Objects.GetValue,Np=Phaser.Math.DegToRad,zp=Phaser.Math.RadToDeg;class fG extends uG{constructor(t,s,g,C,M){if(dG(s)){var o=s;s=Va(o,"x",0),g=Va(o,"y",0),C=Va(o,"key",null),M=Va(o,"frame",null)}super(t,s,g,C,M),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,Gp(this,this._skewX,this._skewY)}get skewXDeg(){return zp(this._skewX)}set skewXDeg(t){this.skewX=Np(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,Gp(this,this._skewX,this._skewY)}get skewYDeg(){return zp(this._skewY)}set skewYDeg(t){this.skewY=Np(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,s){return s===void 0&&(s=t),this.skewX=t,this.skewY=s,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,s){return s===void 0&&(s=t),this.skewXDeg=t,this.skewYDeg=s,this}}const cG=Phaser.Utils.Objects.IsPlainObject,Ua=Phaser.Utils.Objects.GetValue;class vG extends fG{constructor(t,s,g,C,M){if(cG(s)){var o=s;s=Ua(o,"x",0),g=Ua(o,"y",0),C=Ua(o,"width",32),M=Ua(o,"height",32)}var T=Am(t,C,M);super(t,s,g,T,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class Wx extends bm(vG){get skewState(){return this.isRunning}}nt.register("skew",function(i,t){return new Wx(i,t)});st(window,"RexPlugins.UI.Skew",Wx);nt.register("anchor",function(i,t){return new Ju(i,t)});st(window,"RexPlugins.UI.Anchor",Ju);nt.register("textTyping",function(i,t){return new Rd(i,t)});st(window,"RexPlugins.UI.TextTyping",Rd);nt.register("textPage",function(i,t){return new Jh(i,t)});st(window,"RexPlugins.UI.TextPage",Jh);var wn=void 0,pG=function(i){i!==wn&&(wn!==void 0&&wn.close(),wn=i)},gG=function(i){i===wn&&(wn=void 0)};const Gi=Phaser.Utils.Objects.GetValue,mG=Phaser.Utils.Objects.Clone;var xG=function(i,t){t===void 0&&(t={}),t=mG(t);var s=i.scene,g=i.style,C=Gi(t,"backgroundColor",g.backgroundColor);C===null&&(C="transparent"),t.text=Gi(t,"text",i.text),t.fontFamily=Gi(t,"fontFamily",g.fontFamily),t.fontSize=Gi(t,"fontSize",g.fontSize),t.color=Gi(t,"color",g.color),t.backgroundColor=C,t.direction=Gi(t,"rtl",g.rtl)?"rtl":"ltr",t.align=Gi(t,"align",yG(g)),t.direction==="rtl"&&pd(i)&&(t.align="right");var M=new Dh(s,i.x,i.y,Gi(t,"width",i.width),Gi(t,"height",i.height),t);M.setOrigin(i.originX,i.originY).setScrollFactor(i.scrollFactorX,i.scrollFactorY);var o=i.parentContainer;return o?o.add(M):s.add.existing(M),M},yG=function(i){return i.hasOwnProperty("align")?i.align:i.hasOwnProperty("halign")?i.halign:"left"};const Ya=Phaser.Utils.Objects.GetValue,TG=Phaser.Utils.Objects.Merge;var CG=function(i,t){i===void 0&&(i={}),i=TG(i,this.openConfig),pG(this),ds(i)&&(t=i,i=void 0),t===void 0&&(t=Ya(i,"onClose",void 0));var s=Ya(i,"onOpen",void 0),g=Ya(i,"onTextChanged",void 0);return this.inputText=xG(this.parent,i).on("textchange",function(C){var M=C.text;g?g(this.parent,M):this.parent.text=M},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,Ya(i,"enterClose",!0)&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=this.scene.time.delayedCall(0,function(){this.scene.input.once("pointerdown",this.close,this),s&&s(this.parent),this.emit("open",this.parent)},[],this),this},SG=function(){return gG(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},EG={open:CG,close:SG};const PG=Phaser.Utils.Objects.GetValue;class to extends re{constructor(t,s){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(s);var g=PG(s,"clickEnable",!0);g&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(to.prototype,EG);var MG=function(i,t,s){return i._edit||(i._edit=new to(i,{clickEnable:!1})),i._edit.open(t,s),i._edit};nt.register("textEdit",function(i,t){return new to(i,t)});st(window,"RexPlugins.UI.TextEdit",to);const Gl=65535;var ou=function(i,t,s){if(t==null)return i;if(t===0)return Nl(i,0,s),i;var g=i.text.length;if(g===0)return Nl(i,t,s),i;for(var C=Math.floor(t*1.5/g),M={},o=Up(i,C,t,s,M),T=0;T<=Gl&&o!==0;T++){if(C+=o,C<0){C=0;break}o=Up(i,C,t,s,M)}return T===Gl&&console.warn(`SetFontSizeToFitWidth: Test count exceeds ${Gl}`),i.setFontSize(C),Nl(i,t,s),i},Vp=function(i,t,s){return s[t]===void 0&&(i.setFontSize(t),s[t]={width:i.width,height:i.height}),s[t]},Up=function(i,t,s,g,C){var M=Vp(i,t,C),o=Vp(i,t+1,C);if(g!==void 0){if(M.height<=g&&o.height>g)return 0;if(M.height>g)return-1}return M.width<=s&&o.width>s?0:M.width>s?-1:Math.floor(s-M.width)},Nl=function(i,t,s){var g=i.style;g.fixedWidth=t,g.parent.width=t,s!==void 0&&(g.fixedHeight=s,g.parent.height=s),g.update(!1)},wG=function(i,t){return t===void 0&&(t=0),i._minWidth=t,i.runWidthWrap=function(s,g){return ou(i,s,g),i},i.resize=function(s,g){return i.width===s&&i.height===g||i.setFixedSize(s,g),i},i};class Hx extends Phaser.Plugins.ScenePlugin{constructor(t,s){super(t,s),this.add=new nt(t)}start(){var t=this.scene.events;t.on("destroy",this.destroy,this)}isInTouching(t,s,g,C){return t.visible?Mh(t,s,g,C):!1}get viewport(){return Un(this.scene,this.scene.cameras.main,!0)}}var AG={getParentSizer:Ke,getTopmostSizer:u0,hide:rs,show:ns,isShown:_u,edit:MG,wrapExpandText:_0,fontSizeExpandText:wG,fontSizeResize:ou,setFontSizeToFitWidth:ou,waitEvent:ph,waitComplete:le,delayPromise:z0,setChildrenInteractive:hd,fadeIn:Ch,fadeOutDestroy:Sh,easeMoveTo:x0,easeMoveFrom:y0,modal:id,modalPromise:MO,modalClose:E0,requestDrag:Yx,openFileChooser:FL};Object.assign(Hx.prototype,AG);const ft=new Ie.Events.EventEmitter,$x="/group-project-pawsclaws/assets/buff_doge.png",Kx="/group-project-pawsclaws/assets/cowboy_cat.png",Zx="/group-project-pawsclaws/assets/rootbeer_cat.png",Jx="/group-project-pawsclaws/assets/bulldog.png",jx="/group-project-pawsclaws/assets/dogurai.png",Qx="/group-project-pawsclaws/assets/reaper_cat.png",qx="/group-project-pawsclaws/assets/lucky.png",_x="/group-project-pawsclaws/assets/benji.png",ty="/group-project-pawsclaws/assets/bunny.png",ey="/group-project-pawsclaws/assets/foxy.png",iy="/group-project-pawsclaws/assets/bango_croc.png",sy="/group-project-pawsclaws/assets/OG.png",RG=5125166,Qt=8085079,Yp=2493956;class OG extends Ie.Scene{constructor(){super({key:"PageScene",active:!1});dt(this,"rexUI");dt(this,"tabPages");dt(this,"editMenuSizer");dt(this,"buyMenuSizer");dt(this,"upgradeMenuSizer");dt(this,"numberOfUnits",0);dt(this,"maxNumOfUnits",5);dt(this,"placedTowers")}init(){this.numberOfUnits=0}preload(){this.load.image("buffs",$x),this.load.image("cowboys",Kx),this.load.image("bigms",Zx),this.load.image("bulldogs",Jx),this.load.image("dogurais",jx),this.load.image("reapers",Qx),this.load.image("luckys",qx),this.load.image("kings",_x),this.load.image("bunnys",ty),this.load.image("foxes",ey),this.load.image("crocs",iy),this.load.image("OGs",sy)}create(){this.scene.bringToTop("PageScene"),this.tabPages=this.rexUI.add.tabPages({x:1028,y:359,width:500,height:720,background:this.rexUI.add.roundRectangle(0,0,0,0,0,Yp),tabs:{space:{item:3}},align:{tabs:"center"},space:{left:5,right:5,top:5,bottom:5,item:10}}).setMinWidth(520),this.CreateSizers(),this.tabPages.addPage({key:"Buy",tab:this.CreateLabel(this,"Buy"),page:this.CreateScrollablePanel(this,this.buyMenuSizer)}).addPage({key:"Edit",tab:this.CreateLabel(this,"Edit"),page:this.CreateScrollablePanel(this,this.editMenuSizer)}).addPage({key:"Upgrade",tab:this.CreateLabel(this,"Upgrade"),page:this.CreateScrollablePanel(this,this.upgradeMenuSizer)}).layout().swapPage("Buy"),this.AddBuyMenuChild(),this.AddUpgradeMenuChild(),this.placedTowers=this.physics.add.group({runChildUpdate:!0}),ft.on("tower-placed-successfully",(s,g)=>{this.AddEditMenuChild(this,s,g),this.placedTowers.add(s)}),ft.on("Restart",()=>{this.editMenuSizer.clear(!0),this.numberOfUnits=0})}update(){}AddBuyMenuChild(){var s=this.add.text(0,0,"cost: 150"),g=this.add.text(0,0,"cost: 175"),C=this.add.text(0,0,"cost: 225"),M=this.add.text(0,0,"cost: 275"),o=this.add.text(0,0,"cost: 350"),T=this.add.text(0,0,"cost: 375"),e=this.add.text(0,0,"cost: 450"),u=this.add.text(0,0,"cost: 475"),x=this.add.text(0,0,"cost: 525"),d=this.add.text(0,0,"cost: 600"),l=this.add.text(0,0,"cost: 650"),h=this.add.text(0,0,"cost: 1000"),n=this.add.image(0,0,"cowboys").setScale(.1),r=this.add.image(0,0,"buffs").setScale(.1),f=this.add.image(0,0,"bigms").setScale(.1),a=this.add.image(0,0,"bulldogs").setScale(.1),c=this.add.image(0,0,"reapers").setScale(.1),p=this.add.image(0,0,"dogurais").setScale(.1),v=this.add.image(0,0,"luckys").setScale(.1),m=this.add.image(0,0,"kings").setScale(.1),y=this.add.image(0,0,"bunnys").setScale(.1),E=this.add.image(0,0,"foxes").setScale(.1),P=this.add.image(0,0,"crocs").setScale(.1),S=this.add.image(0,0,"OGs").setScale(.1),w=this.add.image(n.x,n.y,"cowboys").setScale(.1).setVisible(!1),A=this.add.image(r.x,r.y,"buffs").setScale(.1).setVisible(!1),R=this.add.image(f.x,f.y,"bigms").setScale(.1).setVisible(!1),O=this.add.image(a.x,a.y,"bulldogs").setScale(.1).setVisible(!1),L=this.add.image(c.x,c.y,"reapers").setScale(.1).setVisible(!1),b=this.add.image(p.x,p.y,"dogurais").setScale(.1).setVisible(!1),D=this.add.image(v.x,v.y,"luckys").setScale(.1).setVisible(!1),I=this.add.image(m.x,m.y,"kings").setScale(.1).setVisible(!1),B=this.add.image(y.x,y.y,"bunnys").setScale(.1).setVisible(!1),V=this.add.image(E.x,E.y,"foxes").setScale(.1).setVisible(!1),Y=this.add.image(P.x,P.y,"crocs").setScale(.1).setVisible(!1),k=this.add.image(S.x,S.y,"OGs").setScale(.1).setVisible(!1);new Ae(n),new Ae(r),new Ae(f),new Ae(a),new Ae(c),new Ae(p),new Ae(v),new Ae(m),new Ae(y),new Ae(E),new Ae(P),new Ae(S),n.setInteractive(),r.setInteractive(),f.setInteractive(),a.setInteractive(),c.setInteractive(),p.setInteractive(),v.setInteractive(),m.setInteractive(),y.setInteractive(),E.setInteractive(),P.setInteractive(),S.setInteractive();var W=this.add.circle(0,0,200,16711680,.2).setVisible(!1).setDepth(-1),G=this.add.circle(0,0,150,16711680,.2).setVisible(!1).setDepth(-1);n.on("dragstart",q=>{W.x=q.x,W.y=q.y,W.setVisible(!0),w.x=n.x,w.y=n.y,w.setVisible(!0),n.setScale(.04).setDepth(5),n.x=q.x,n.y=q.y}),n.on("drag",q=>{W.x=q.x,W.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?W.setFillStyle(14474460,.2):W.setFillStyle(16711680,.2)}),n.x=q.x,n.y=q.y}),n.on("dragend",()=>{W.setVisible(!1),n.setScale(.1).setDepth(0),n.x=w.x,n.y=w.y,w.setVisible(!1),ft.emit("tower-place?","cowboys","bill")}),r.on("dragstart",q=>{G.x=q.x,G.y=q.y,G.setVisible(!0),A.x=r.x,A.y=r.y,A.setVisible(!0),r.setScale(.04).setDepth(1),r.x=q.x,r.y=q.y}),r.on("drag",q=>{G.x=q.x,G.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?G.setFillStyle(14474460,.2):G.setFillStyle(16711680,.2)}),r.x=q.x,r.y=q.y}),r.on("dragend",()=>{G.setVisible(!1),r.setScale(.1).setDepth(0),r.x=A.x,r.y=A.y,A.setVisible(!1),ft.emit("tower-place?","buffs","fists")}),f.on("dragstart",q=>{W.x=q.x,W.y=q.y,W.setVisible(!0),R.x=f.x,R.y=f.y,R.setVisible(!0),f.setScale(.04).setDepth(1),f.x=q.x,f.y=q.y}),f.on("drag",q=>{W.x=q.x,W.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?W.setFillStyle(14474460,.2):W.setFillStyle(16711680,.2)}),f.x=q.x,f.y=q.y}),f.on("dragend",()=>{W.setVisible(!1),f.setScale(.1).setDepth(0),f.x=R.x,f.y=R.y,R.setVisible(!1);var q="bigms";ft.emit("tower-place?",q,"rootbeers")}),a.on("dragstart",q=>{G.x=q.x,G.y=q.y,G.setVisible(!0),O.x=a.x,O.y=a.y,O.setVisible(!0),a.setScale(.04).setDepth(1),a.x=q.x,a.y=q.y}),a.on("drag",q=>{G.x=q.x,G.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?G.setFillStyle(14474460,.2):G.setFillStyle(16711680,.2)}),a.x=q.x,a.y=q.y}),a.on("dragend",()=>{G.setVisible(!1),a.setScale(.1).setDepth(0),a.x=O.x,a.y=O.y,O.setVisible(!1);var q="bulldogs";ft.emit("tower-place?",q,"chomp")}),c.on("dragstart",q=>{G.x=q.x,G.y=q.y,G.setVisible(!0),L.x=c.x,L.y=c.y,L.setVisible(!0),c.setScale(.04).setDepth(1),c.x=q.x,c.y=q.y}),c.on("drag",q=>{G.x=q.x,G.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?G.setFillStyle(14474460,.2):G.setFillStyle(16711680,.2)}),c.x=q.x,c.y=q.y}),c.on("dragend",()=>{G.setVisible(!1),c.setScale(.1).setDepth(0),c.x=L.x,c.y=L.y,L.setVisible(!1),ft.emit("tower-place?","reapers","slash")}),p.on("dragstart",q=>{G.x=q.x,G.y=q.y,G.setVisible(!0),b.x=p.x,b.y=p.y,b.setVisible(!0),p.setScale(.04).setDepth(1),p.x=q.x,p.y=q.y}),p.on("drag",q=>{G.x=q.x,G.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?G.setFillStyle(14474460,.2):G.setFillStyle(16711680,.2)}),p.x=q.x,p.y=q.y}),p.on("dragend",()=>{G.setVisible(!1),p.setScale(.1).setDepth(0),p.x=b.x,p.y=b.y,b.setVisible(!1),ft.emit("tower-place?","dogurais","slash")}),v.on("dragstart",q=>{W.x=q.x,W.y=q.y,W.setVisible(!0),D.x=v.x,D.y=v.y,D.setVisible(!0),v.setScale(.04).setDepth(1),v.x=q.x,v.y=q.y}),v.on("drag",q=>{W.x=q.x,W.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?W.setFillStyle(14474460,.2):W.setFillStyle(16711680,.2)}),v.x=q.x,v.y=q.y}),v.on("dragend",()=>{W.setVisible(!1),v.setScale(.1).setDepth(0),v.x=D.x,v.y=D.y,D.setVisible(!1),ft.emit("tower-place?","luckys","coin")}),m.on("dragstart",q=>{W.x=q.x,W.y=q.y,W.setVisible(!0),I.x=m.x,I.y=m.y,I.setVisible(!0),m.setScale(.04).setDepth(1),m.x=q.x,m.y=q.y}),m.on("drag",q=>{W.x=q.x,W.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?W.setFillStyle(14474460,.2):W.setFillStyle(16711680,.2)}),m.x=q.x,m.y=q.y}),m.on("dragend",()=>{W.setVisible(!1),m.setScale(.1).setDepth(0),m.x=I.x,m.y=I.y,I.setVisible(!1),ft.emit("tower-place?","kings","diamon")}),y.on("dragstart",q=>{W.x=q.x,W.y=q.y,W.setVisible(!0),B.x=y.x,B.y=y.y,B.setVisible(!0),y.setScale(.04).setDepth(1),y.x=q.x,y.y=q.y}),y.on("drag",q=>{W.x=q.x,W.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?W.setFillStyle(14474460,.2):W.setFillStyle(16711680,.2)}),y.x=q.x,y.y=q.y}),y.on("dragend",()=>{W.setVisible(!1),y.setScale(.1).setDepth(0),y.x=B.x,y.y=B.y,B.setVisible(!1),ft.emit("tower-place?","bunnys","carrot")}),E.on("dragstart",q=>{W.x=q.x,W.y=q.y,W.setVisible(!0),V.x=E.x,V.y=E.y,V.setVisible(!0),E.setScale(.04).setDepth(1),E.x=q.x,E.y=q.y}),E.on("drag",q=>{W.x=q.x,W.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?W.setFillStyle(14474460,.2):W.setFillStyle(16711680,.2)}),E.x=q.x,E.y=q.y}),E.on("dragend",()=>{W.setVisible(!1),E.setScale(.1).setDepth(0),E.x=V.x,E.y=V.y,V.setVisible(!1),ft.emit("tower-place?","foxes","clover")}),P.on("dragstart",q=>{W.x=q.x,W.y=q.y,W.setVisible(!0),Y.x=P.x,Y.y=P.y,Y.setVisible(!0),P.setScale(.04).setDepth(1),P.x=q.x,P.y=q.y}),P.on("drag",q=>{W.x=q.x,W.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?W.setFillStyle(14474460,.2):W.setFillStyle(16711680,.2)}),P.x=q.x,P.y=q.y}),P.on("dragend",()=>{W.setVisible(!1),P.setScale(.1).setDepth(0),P.x=Y.x,P.y=Y.y,Y.setVisible(!1),ft.emit("tower-place?","crocs","notes")}),S.on("dragstart",q=>{W.x=q.x,W.y=q.y,W.setVisible(!0),k.x=S.x,k.y=S.y,k.setVisible(!0),S.setScale(.04).setDepth(1),S.x=q.x,S.y=q.y}),S.on("drag",q=>{W.x=q.x,W.y=q.y,ft.emit("canplace",q),ft.on("returnplace",Nt=>{Nt?W.setFillStyle(14474460,.2):W.setFillStyle(16711680,.2)}),S.x=q.x,S.y=q.y}),S.on("dragend",()=>{W.setVisible(!1),S.setScale(.1).setDepth(0),S.x=k.x,S.y=k.y,k.setVisible(!1),ft.emit("tower-place?","OGs","catus")});var U=this.rexUI.add.sizer({width:200,orientation:"x"});U.add(this.CreateLabel(this,"Cowboy Cat:")),U.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.2),z.toggleFace()}));var F=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);F.add(s).layout(),F.add(n).layout();var N=this.rexUI.add.sizer({width:200,orientation:"y"});N.add(this.add.text(0,0,`
Attack Speed: 5/10

Attack Damage: 5/10

Range: 6/10`).setFontSize(17));var z=this.rexUI.add.perspectiveCard({front:F,back:N,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),X=this.rexUI.add.sizer({width:200,orientation:"x"}).setMinWidth(245);X.add(this.CreateLabel(this,"Buff Doge:")),X.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.2),K.toggleFace()}),{align:"right"});var H=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);H.add(g).layout(),H.add(r).layout();var $=this.rexUI.add.sizer({width:200,orientation:"y"});$.add(this.add.text(0,0,`
Attack Speed: 5/10 

Attack Damage: 7/10

Range: 3/10`).setFontSize(17));var K=this.rexUI.add.perspectiveCard({front:H,back:$,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),Z=this.rexUI.add.sizer({width:200,orientation:"x"});Z.add(this.CreateLabel(this,"RootBeer Cat:")),Z.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.3),Q.toggleFace()}));var J=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);J.add(C).layout(),J.add(f).layout();var j=this.rexUI.add.sizer({width:200,orientation:"y"});j.add(this.add.text(0,0,`
Attack Speed: 3/10

Attack Damage: 8/10

Range: 6/10`).setFontSize(17));var Q=this.rexUI.add.perspectiveCard({front:J,back:j,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),tt=this.rexUI.add.sizer({width:200,orientation:"x"});tt.add(this.CreateLabel(this,"Bulldog Spike:")),tt.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.4),ht.toggleFace()}));var _=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);_.add(M).layout(),_.add(a).layout();var it=this.rexUI.add.sizer({width:200,orientation:"y"});it.add(this.add.text(0,0,`
Attack Speed: 7/10

Attack Damage: 8/10

Range: 3/10`).setFontSize(17));var ht=this.rexUI.add.perspectiveCard({front:_,back:it,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),lt=this.rexUI.add.sizer({width:200,orientation:"x"});lt.add(this.CreateLabel(this,"Grim Reaper:")),lt.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.5),at.toggleFace()}));var ot=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);ot.add(o).layout(),ot.add(c).layout();var et=this.rexUI.add.sizer({width:200,orientation:"y"});et.add(this.add.text(0,0,`
Attack Speed: 8/10

Attack Damage: 8/10

Range: 4/10`).setFontSize(17));var at=this.rexUI.add.perspectiveCard({front:ot,back:et,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),rt=this.rexUI.add.sizer({width:200,orientation:"x"});rt.add(this.CreateLabel(this,"Dogurai:")),rt.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.6),Lt.toggleFace()}));var gt=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);gt.add(T).layout(),gt.add(p).layout();var pt=this.rexUI.add.sizer({width:200,orientation:"y"});pt.add(this.add.text(0,0,`
Attack Speed: 8/10

Attack Damage: 8/10

Range: 4/10`).setFontSize(17));var Lt=this.rexUI.add.perspectiveCard({front:gt,back:pt,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),At=this.rexUI.add.sizer({width:200,orientation:"x"});At.add(this.CreateLabel(this,"Lucky Cat:")),At.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.6),Rt.toggleFace()}));var Tt=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);Tt.add(e).layout(),Tt.add(v).layout();var xt=this.rexUI.add.sizer({width:200,orientation:"y"});xt.add(this.add.text(0,0,`
Attack Speed: 6/10

Attack Damage: 6/10

Range: 7/10`).setFontSize(17));var Rt=this.rexUI.add.perspectiveCard({front:Tt,back:xt,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),Gt=this.rexUI.add.sizer({width:200,orientation:"x"});Gt.add(this.CreateLabel(this,"Benji Da King:")),Gt.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.6),de.toggleFace()}));var Ut=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);Ut.add(u).layout(),Ut.add(m).layout();var kt=this.rexUI.add.sizer({width:200,orientation:"y"});kt.add(this.add.text(0,0,`
Attack Speed: 8/10

Attack Damage: 8/10

Range: 4/10`).setFontSize(17));var de=this.rexUI.add.perspectiveCard({front:Ut,back:kt,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),Ze=this.rexUI.add.sizer({width:200,orientation:"x"});Ze.add(this.CreateLabel(this,"Snow Bunny:")),Ze.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.6),ui.toggleFace()}));var Je=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);Je.add(x).layout(),Je.add(y).layout();var li=this.rexUI.add.sizer({width:200,orientation:"y"});li.add(this.add.text(0,0,`
Attack Speed: 8/10

Attack Damage: 4/10

Range: 6/10`).setFontSize(17));var ui=this.rexUI.add.perspectiveCard({front:Je,back:li,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),je=this.rexUI.add.sizer({width:200,orientation:"x"});je.add(this.CreateLabel(this,"Good Omen Foxy:")),je.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.6),jd.toggleFace()}));var eo=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);eo.add(d).layout(),eo.add(E).layout();var Jd=this.rexUI.add.sizer({width:200,orientation:"y"});Jd.add(this.add.text(0,0,`
Attack Speed: 6/10

Attack Damage: 10/10

Range: 4/10`).setFontSize(17));var jd=this.rexUI.add.perspectiveCard({front:eo,back:Jd,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),io=this.rexUI.add.sizer({width:200,orientation:"x"});io.add(this.CreateLabel(this,"Bango Croc:")),io.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.6),qd.toggleFace()}));var so=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);so.add(l).layout(),so.add(P).layout();var Qd=this.rexUI.add.sizer({width:200,orientation:"y"});Qd.add(this.add.text(0,0,`
Attack Speed: 8/10

Attack Damage: 6/10

Range: 6/10`).setFontSize(17));var qd=this.rexUI.add.perspectiveCard({front:so,back:Qd,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt)),no=this.rexUI.add.sizer({width:200,orientation:"x"});no.add(this.CreateLabel(this,"The Legend:")),no.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"\u21BB",22).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(q){q.scaleYoyo(500,1.6),tf.toggleFace()}));var ro=this.rexUI.add.sizer({width:200,orientation:"y"}).setInnerPadding(8);ro.add(h).layout(),ro.add(S).layout();var _d=this.rexUI.add.sizer({width:200,orientation:"y"});_d.add(this.add.text(0,0,`
Attack Speed: 8/10

Attack Damage: 6/10

Range: 6/10`).setFontSize(17));var tf=this.rexUI.add.perspectiveCard({front:ro,back:_d,orientation:0,snapshotPadding:3}).addBackground(this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(2,Qt));this.buyMenuSizer.add(U,0,0,"center",0,!0).layout(),this.buyMenuSizer.add(z,0,1,"center",0,!0).layout(),this.buyMenuSizer.add(X,1,0,"center",0,!0).layout(),this.buyMenuSizer.add(K,1,1,"center",0,!0).layout(),this.buyMenuSizer.add(Z,0,2,"center",0,!0).layout(),this.buyMenuSizer.add(Q,0,3,"center",0,!0).layout(),this.buyMenuSizer.add(tt,1,2,"center",0,!0).layout(),this.buyMenuSizer.add(ht,1,3,"center",0,!0).layout(),this.buyMenuSizer.add(lt,0,4,"center",0,!0).layout(),this.buyMenuSizer.add(at,0,5,"center",0,!0).layout(),this.buyMenuSizer.add(rt,1,4,"center",0,!0).layout(),this.buyMenuSizer.add(Lt,1,5,"center",0,!0).layout(),this.buyMenuSizer.add(At,0,6,"center",0,!0).layout(),this.buyMenuSizer.add(Rt,0,7,"center",0,!0).layout(),this.buyMenuSizer.add(Gt,1,6,"center",0,!0).layout(),this.buyMenuSizer.add(de,1,7,"center",0,!0).layout(),this.buyMenuSizer.add(Ze,0,8,"center",0,!0).layout(),this.buyMenuSizer.add(ui,0,9,"center",0,!0).layout(),this.buyMenuSizer.add(je,1,8,"center",0,!0).layout(),this.buyMenuSizer.add(jd,1,9,"center",0,!0).layout(),this.buyMenuSizer.add(io,0,10,"center",0,!0).layout(),this.buyMenuSizer.add(qd,0,11,"center",0,!0).layout(),this.buyMenuSizer.add(no,1,10,"center",0,!0).layout(),this.buyMenuSizer.add(tf,1,11,"center",0,!0).layout(),this.buyMenuSizer.layout()}AddUpgradeMenuChild(){var s=this.CreateLabel(this,"Fire Class:"),g=this.rexUI.add.sizer({width:200,orientation:"x"}).layout(),C=this.add.text(0,0,"BURN DURATION: 2 sec").setFontSize(20);g.add(C),g.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"+",14).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(v){v.scaleYoyo(500,1.2)})).layout,g.add(this.add.text(0,0,"20 gp").setFontSize(20));var M=this.rexUI.add.sizer({width:200,orientation:"x"}).layout(),o=this.add.text(0,0,"BURN DAMAGE: 10 dmg/sec").setFontSize(20);M.add(o),M.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"+",14).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(v){v.scaleYoyo(500,1.2)})).layout,M.add(this.add.text(0,0,"20 gp").setFontSize(20));var T=this.CreateLabel(this,"Ice Class:"),e=this.rexUI.add.sizer({width:200,orientation:"x"}).layout(),u=this.add.text(0,0,"FROZEN DURATION: 2 sec").setFontSize(20);e.add(u),e.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"+",14).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(v){v.scaleYoyo(500,1.2)})).layout,e.add(this.add.text(0,0,"20 gp").setFontSize(20));var x=this.CreateLabel(this,"Lightning Class:"),d=this.rexUI.add.sizer({width:200,orientation:"x"}).layout(),l=this.add.text(0,0,"ADDITIONAL TARGETS: 1").setFontSize(20);d.add(l),d.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"+",14).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(v){v.scaleYoyo(500,1.2)})).layout,d.add(this.add.text(0,0,"20 gp").setFontSize(20));var h=this.rexUI.add.sizer({width:200,orientation:"x"}).layout(),n=this.add.text(0,0,"SHOCK DAMAGE: 10 dmg").setFontSize(20);h.add(n),h.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"+",14).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(v){v.scaleYoyo(500,1.2)})).layout,h.add(this.add.text(0,0,"20 gp").setFontSize(20));var r=this.CreateLabel(this,"Acid Class:"),f=this.rexUI.add.sizer({width:200,orientation:"x"}).layout(),a=this.add.text(0,0,"PUDDLE DURATION: 2 sec").setFontSize(20);f.add(a),f.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"+",14).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(v){v.scaleYoyo(500,1.2)})).layout,f.add(this.add.text(0,0,"20 gp").setFontSize(20));var c=this.rexUI.add.sizer({width:200,orientation:"x"}).layout(),p=this.add.text(0,0,"ACID DAMAGE: 10 dmg/sec").setFontSize(20);c.add(p),c.add(this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"+",14).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout().on("button.click",function(v){v.scaleYoyo(500,1.2)})).layout,c.add(this.add.text(0,0,"20 gp").setFontSize(20)),this.upgradeMenuSizer.add(s,{align:"left"}).layout(),this.upgradeMenuSizer.add(g,{align:"left"}).layout(),this.upgradeMenuSizer.add(M,{align:"left"}).layout(),this.upgradeMenuSizer.add(T,{align:"left"}).layout(),this.upgradeMenuSizer.add(e,{align:"left"}).layout(),this.upgradeMenuSizer.add(x,{align:"left"}).layout(),this.upgradeMenuSizer.add(d,{align:"left"}).layout(),this.upgradeMenuSizer.add(h,{align:"left"}).layout(),this.upgradeMenuSizer.add(r,{align:"left"}).layout(),this.upgradeMenuSizer.add(f,{align:"left"}).layout(),this.upgradeMenuSizer.add(c,{align:"left"}).layout()}AddEditMenuChild(s,g,C){var M,o,T,e;this.numberOfUnits++,T=this.numberOfUnits,e=C;var u=this.CreateLabel(this,"Unit #"+T+": ("+e+")");u.setMinWidth(420);var x=this.rexUI.add.sizer({orientation:"y",space:{item:10}}),d=this.add.text(0,0,"Name:").setFontSize(20),l=this.rexUI.add.label({orientation:"x",background:this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(3,Qt),text:new Gs(this,0,0,"",{fixedWidth:300,fixedHeight:18}),space:{top:5,bottom:5,left:5,right:5}}).setInteractive().on("pointerdown",function(){var m={onTextChanged:function(y,E){M=E,g.name=E,y.text=E,l.setText(E),u.text="Unit #"+T+": "+M.substring(0,8)+" ("+e+")",g.name(y.text),u.layout(),v.layout()}};s.rexUI.edit(l.getElement("text"),m)}),h=this.add.text(0,0,"Horizontal Position:").setFontSize(20),n=this.rexUI.add.label({orientation:"x",background:this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(3,Qt),text:new Gs(this,0,0,"",{fixedWidth:300,fixedHeight:18}),space:{top:5,bottom:5,left:5,right:5,icon:10}}).setInteractive().setText(Math.ceil(g.x/64).toString()).on("pointerdown",function(){var m={onTextChanged:function(y,E){var P=Math.floor(E-1);P<12&&P>=0&&ft.emit("changeHorizontally",[g,P]),y.text=Math.ceil(g.x/64)}};s.rexUI.edit(n.getElement("text"),m)}),r=this.add.text(0,0,"Vertical Position:").setFontSize(20),f=this.rexUI.add.label({orientation:"x",background:this.rexUI.add.roundRectangle(0,0,10,10,10).setStrokeStyle(3,Qt),text:new Gs(this,0,0,"",{fixedWidth:300,fixedHeight:18}),space:{top:5,bottom:5,left:5,right:5,icon:10}}).setInteractive().setText(Math.ceil(g.y/64).toString()).on("pointerdown",function(){var m={onTextChanged:function(y,E){if(isNaN(E))E.substring(0,6)=="Above "||E.substring(0,6)=="Below "?y.text=E:y.text=Math.ceil(g.y/64);else{var P=Math.floor(E-1);P<8&&P>=0&&ft.emit("changeVertically",[g,P]),y.text=Math.ceil(g.y/64)}}};s.rexUI.edit(f.getElement("text"),m)}),a=this.add.text(0,0,"Class Type: (5 gp to Unlock)").setFontSize(20),c=this.rexUI.add.buttons({x:400,y:400,orientation:"x",buttons:[this.createButton(this,"Fire",20).setOrigin(.5,1),this.createButton(this,"Ice",20).setOrigin(.5,1),this.createButton(this,"Poison",20).setOrigin(.5,1),this.createButton(this,"Lightning",20).setOrigin(.5,1)],space:{left:10,right:10,top:10,bottom:10,item:6}}).setOrigin(.5,1).layout();c.on("button.click",function(m){m.scaleYoyo(500,1.2),o=m.text,a.text="Class: "+o,g.setClassTypes(o)}),x.add(d,{align:"left"}),x.add(l,{align:"left"}),x.add(h,{align:"left"}),x.add(n,{align:"left"}),x.add(r,{align:"left"}),x.add(f,{align:"left"}),x.add(a,{align:"left"}),x.add(c,{align:"left"});var p=this.rexUI.add.roundRectangle(0,0,0,0,0).setStrokeStyle(2,Qt),v=this.rexUI.add.folder({background:p,title:u,child:x,expand:{title:!1,child:!0},space:{left:10,right:10,top:10,bottom:10,item:3}}).collapse(0);v.setMinWidth(430),this.editMenuSizer.add(v).layout(),this.tabPages.layout()}CreateLabel(s,g){return s.rexUI.add.label({width:40,height:40,background:s.rexUI.add.roundRectangle(0,0,0,0,5,Qt),text:s.add.text(0,0,g,{fontSize:20}),space:{left:10,right:10,top:10,bottom:10}})}createButton(s,g,C){return s.rexUI.add.label({width:25,height:25,background:s.rexUI.add.roundRectangle(0,0,0,0,10,Qt),text:s.add.text(0,0,g,{fontSize:C}),align:"center",space:{left:10,right:10}}).setInnerPadding(5)}CreateScrollablePanel(s,g){return s.rexUI.add.scrollablePanel({x:400,y:300,height:300,scrollMode:"y",background:this.rexUI.add.roundRectangle(0,0,2,2,10,RG),panel:{child:g,mask:{padding:1}},slider:{track:this.rexUI.add.roundRectangle(0,0,20,10,10,Yp),thumb:this.rexUI.add.roundRectangle(0,0,0,0,13,Qt)},scroller:{},mouseWheelScroller:{focus:!1,speed:2},space:{left:10,right:10,top:10,bottom:10,panel:10}}).layout()}CreateSizers(){this.editMenuSizer=this.rexUI.add.sizer({width:200,orientation:"y"}).layout(),this.buyMenuSizer=this.rexUI.add.gridSizer({column:2,row:15,columnProportions:1}).layout(),this.upgradeMenuSizer=this.rexUI.add.sizer({width:200,orientation:"y"}).layout()}}const bG=1/7500,LG=1/8500,FG=1/1e4,DG=1/12e3,Xa=5;class IG extends Phaser.GameObjects.Image{constructor(s){var g=s.path;super(s,0,0,"sprites","enemy");dt(this,"onFire",!1);dt(this,"frozen",!1);dt(this,"frozenTimer",0);dt(this,"fireTimer",0);dt(this,"frozenMax",40);dt(this,"fireMax",200);dt(this,"gotblue");dt(this,"gotgreen");dt(this,"gotpurple");dt(this,"follower",{t:0,vec:new Phaser.Math.Vector2});dt(this,"hp",0);dt(this,"path");dt(this,"timeOnPath",0);dt(this,"gameScene");this.path=g,this.fireTimer=0,this.gameScene=s,this.gotblue=!1,this.gotgreen=!1,this.gotpurple=!1}startOnPath(s){this.follower.t=0,this.hp=s,this.timeOnPath=0,this.path.getPoint(this.follower.t,this.follower.vec),this.setPosition(this.follower.vec.x,this.follower.vec.y)}getHp(){return this.hp}receiveDamage(s,g,C,M){this.hp-=s,C&&this.onFire==!1&&(this.onFire=!0),M&&this.frozen==!1&&(this.frozen=!0),this.hp>100?this.gotpurple||(this.gotpurple=!0,g.money+=Xa,ft.emit("popsound")):this.hp>50?this.gotgreen||(this.gotgreen=!0,g.money+=Xa,ft.emit("popsound")):this.gotblue||(this.gotblue=!0,g.money+=Xa,ft.emit("popsound")),this.hp<=0&&(this.setActive(!1),this.setVisible(!1),this.destroy(),g.money+=Xa,ft.emit("popsound"))}update(s,g){this.frozen==!1?this.hp>150?this.follower.t+=bG*g:this.hp>100?this.follower.t+=LG*g:this.hp>50?this.follower.t+=FG*g:this.follower.t+=DG*g:this.frozenTimer>=this.frozenMax?(this.frozen=!1,this.frozenTimer=0,this.clearTint()):this.frozen==!0&&(this.frozenTimer++,this.setTint(Phaser.Display.Color.GetColor(130,160,230))),this.onFire==!0&&this.fireTimer%25<5&&this.fireTimer<this.fireMax?(this.fireTimer++,this.receiveDamage(2,this.gameScene,!1,!1),this.setTintFill(Phaser.Display.Color.GetColor(255,165,0))):this.fireTimer>=this.fireMax?(this.onFire=!1,this.fireTimer=0,this.clearTint()):this.onFire==!0&&(this.fireTimer++,this.clearTint()),this.path.getPoint(this.follower.t,this.follower.vec),this.timeOnPath=this.timeOnPath+g,this.setPosition(this.follower.vec.x,this.follower.vec.y),this.follower.t>=1&&(ft.emit("GameOver"),this.setActive(!1),this.setVisible(!1))}}const BG=1e3;class GG extends Phaser.GameObjects.Image{constructor(s){super(s,0,0,"unitsprites");dt(this,"nextTic",0);dt(this,"enemies");dt(this,"projectiles");dt(this,"isFire");dt(this,"isIce");dt(this,"range");dt(this,"range_circle");dt(this,"projectile_texture");var g=s.enemies,C=s.projectiles;this.enemies=g,this.projectiles=C,this.isFire=!1,this.isIce=!1,this.range=200,this.range_circle=s.add.circle(this.x,this.y,this.range,14474460,.2).setVisible(!1).setDepth(.5)}place(s,g){this.y=s*64+64/2,this.x=g*64+64/2,this.range_circle.x=this.x,this.range_circle.y=this.y}fire(){const s=this.getEnemy(this.x,this.y,200);if(s){const g=Phaser.Math.Angle.Between(this.x,this.y,s.x,s.y);this.addProjectile(this.x,this.y,g,this.projectile_texture),this.angle=(g+Math.PI/2)*Phaser.Math.RAD_TO_DEG}}update(s){s>this.nextTic&&(this.fire(),this.nextTic=s+BG)}setClassTypes(s){switch(this.isFire=!1,this.isIce=!1,s){case"Fire":this.isFire=!0;break;case"Ice":this.isIce=!0;break}}getEnemy(s,g,C){const M=this.enemies.getChildren();for(let o=0;o<M.length;o++){const T=M[o];if(T.active&&Phaser.Math.Distance.Between(s,g,T.x,T.y)<C)return T}return!1}addProjectile(s,g,C,M){const o=this.projectiles.get();o.setTexture("projectile",M).setDepth(1),o&&o.fire(s,g,C,this.isFire,this.isIce,M)}}const NG=600;class zG extends Phaser.GameObjects.Image{constructor(s){super(s,0,0,"projectile");dt(this,"lifespan",0);dt(this,"speed",Phaser.Math.GetSpeed(NG,1));dt(this,"dx",0);dt(this,"dy",0);dt(this,"gotbullet");dt(this,"gotbeer");dt(this,"gotpunch");dt(this,"isFire");dt(this,"isIce");this.isFire=!1,this.isIce=!1,this.gotpunch=!1,this.gotbeer=!1,this.gotbullet=!1}fire(s,g,C,M,o){this.setActive(!0),this.setVisible(!0),this.setPosition(s,g),this.isFire=M,this.isIce=o,this.dx=Math.cos(C),this.dy=Math.sin(C),this.lifespan=1e3}update(s,g){this.lifespan-=g,this.x+=this.dx*(this.speed*g),this.y+=this.dy*(this.speed*g),this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}const VG="/group-project-pawsclaws/assets/map.png",UG=50,ka=650,Xp=[[0,-1,0,0,0,0,0,0,0,0,0,0],[0,-1,0,0,0,0,0,-1,-1,-1,0,0],[0,-1,0,0,0,0,0,-1,0,-1,0,0],[0,-1,0,-1,-1,-1,-1,-1,-1,-1,0,0],[0,-1,0,-1,0,0,0,-1,0,0,0,0],[0,-1,-1,-1,0,0,0,-1,0,0,0,0],[0,0,0,0,0,0,0,-1,-1,-1,0,0],[0,0,0,0,0,0,0,0,0,-1,0,0],[0,0,0,0,0,0,0,0,0,-1,0,0]],YG=[8,10,8,14,5,8,12,5,0,0,12],XG=[0,0,3,6,16,8,10,18,0,45,10],kG=[0,0,0,0,0,4,8,10,18,0,8],WG=[0,0,0,0,0,0,0,0,0,0,0,4];class HG extends Ie.Scene{constructor(){super("helloworldscene");dt(this,"nextEnemy");dt(this,"path");dt(this,"turrets");dt(this,"enemies");dt(this,"projectiles");dt(this,"waveNumber");dt(this,"waveText");dt(this,"money");dt(this,"moneyText");dt(this,"rexUI");dt(this,"gameOver");dt(this,"map");dt(this,"bestRound");this.bestRound="0"}preload(){this.load.image("background",VG),this.load.atlas("sprites","assets/redballoon_up.png","assets/spritesheet.json"),this.load.atlas("balloons","assets/balloonspritesheet.png","assets/balloons.json"),this.load.atlas("projectile","assets/spritesheetprojectiles.png","assets/projectiles.json"),this.load.image("mark","assets/marks.png"),this.load.image("start","assets/startbutton.png"),this.load.image("bar","assets/menu.PNG"),this.load.audio("pop",["assets/Pops.mp3"]),this.load.audio("music",["assets/Main.mp3"]),this.load.image("cowboy",Kx),this.load.image("buff",$x),this.load.image("bigm",Zx),this.load.image("bulldog",Jx),this.load.image("dogurai",jx),this.load.image("reaper",Qx),this.load.image("lucky",qx),this.load.image("king",_x),this.load.image("bunny",ty),this.load.image("fox",ey),this.load.image("croc",iy),this.load.image("OG",sy)}create(){this.scene.launch("PageScene"),this.map=JSON.parse(JSON.stringify(Xp));var s=this.add.image(415,320,"background").setScale(.89);this.add.image(380,760,"bar");const g=this.add.graphics();this.drawLines(g),this.path=this.add.path(96,-20),this.path.lineTo(96,164),this.path.lineTo(96,350),this.path.lineTo(225,350),this.path.lineTo(225,230),this.path.lineTo(610,230),this.path.lineTo(610,100),this.path.lineTo(480,100),this.path.lineTo(480,426),this.path.lineTo(610,426),this.path.lineTo(610,610),g.lineStyle(2,16777215,1),this.path.draw(g),this.enemies=this.physics.add.group({classType:IG,runChildUpdate:!0,repeat:0}),this.turrets=this.add.group({classType:GG,runChildUpdate:!0}),this.projectiles=this.physics.add.group({classType:zG,runChildUpdate:!0}),this.nextEnemy=0,this.physics.add.overlap(this.enemies,this.projectiles,this.damageEnemy,void 0,this.scene),this.waveNumber=0,this.waveText=this.add.text(25,640,"Wave: "+this.waveNumber).setFontSize("28px");var C=this.add.image(385,672,"start").setScale(.8,.8);C.setInteractive(),C.on("pointerdown",()=>{this.enemies.getLength()==0&&(this.waveNumber++,this.startWave(this.waveNumber))}),this.money=300,this.moneyText=this.add.text(25,665,"Money: "+this.money).setFontSize("28px");var M=this.add.image(700,665,"mark");M.setInteractive(),M.on("pointerdown",()=>{this.scene.launch("InstructionsScene")}),ft.on("tower-place?",(u,x)=>{this.placeTurret(this.input.mousePointer,this.turrets,u,x)}),ft.on("canplace",u=>{ft.emit("returnplace",this.canPlace(Math.floor(u.y/64),Math.floor(u.x/64)))}),ft.on("changeHorizontally",u=>{var x=u[0],d=Number(u[1]),l=Math.floor(x.y/64),h=Math.floor(x.x/64);this.canPlace(l,d)&&(this.map[l][d]=1,this.map[l][h]=0,x.x=d*64+64/2,x.range_circle.x=x.x,T.x=x.x)}),ft.on("changeVertically",u=>{var x=u[0],d=Number(u[1]),l=Math.floor(x.y/64),h=Math.floor(x.x/64);this.canPlace(d,h)&&(this.map[d][h]=1,this.map[l][h]=0,x.y=d*64+64/2,x.range_circle.y=x.y,T.y=x.y-64,T.y<0&&(T.y=x.y+60))});var o=this.sound.add("pop");ft.on("popsound",()=>{setTimeout(()=>{o.play()},50)});var T=this.rexUI.add.label({width:80,height:30,x:0,y:0,space:{left:1},background:this.rexUI.add.roundRectangle(0,0,0,0,1,8085079),text:this.add.text(0,0,"").setFontSize(16)}).layout().setVisible(!1).setDepth(2);ft.on("selected_tower",(u,x)=>{u.range_circle.visible?(T.setVisible(!1),u.range_circle.setVisible(!1),u.setDepth(0)):(T.x=u.x,T.y=u.y-60,T.y<0&&(T.y=u.y+60),T.setText(u.name.substring(0,8)).setVisible(!0),u.range_circle.setVisible(!0),u.setDepth(1));var d=x.getChildren();d.forEach(l=>{l!==u&&(l.range_circle.setVisible(!1),l.setDepth(0))})}),s.setInteractive(),s.on("pointerdown",()=>{this.turrets.getChildren().forEach(u=>{u.range_circle.setVisible(!1),u.setDepth(0)}),T.setVisible(!1)}),this.gameOver=!1,ft.on("GameOver",()=>{this.gameOver||(this.gameOver=!0,this.scene.pause("HelloWorldScene"),this.scene.pause("PageScene"),this.scene.launch("GameOverScene",{currRound:this.waveNumber,bestRound:this.bestRound}))}),ft.on("Restart",()=>{this.scene.stop("GameOverScene"),this.scene.resume("PageScene"),this.scene.resume("HelloWorldScene"),this.enemies.clear(!0,!0),this.turrets.getChildren().forEach(u=>{u.range_circle.setVisible(!1)}),T.setVisible(!1),this.turrets.clear(!0,!0),this.projectiles.clear(!0,!0),this.waveNumber=0,this.money=300,this.nextEnemy=0,this.map=JSON.parse(JSON.stringify(Xp)),this.gameOver=!1});var e=this.sound.add("music");ft.on("mainsound",()=>{e.play()})}update(){this.moneyText.setText("Money: "+this.money),this.waveText.setText("Wave: "+this.waveNumber);var s=localStorage.getItem("highscore");s!==null?this.bestRound=s:s="0",this.waveNumber>this.bestRound&&localStorage.setItem("highscore",this.waveNumber)}damageEnemy(s,g){if(s.active===!0&&g.active===!0){g.setActive(!1),g.setVisible(!1),s.receiveDamage(UG,this.scene,g.isFire,g.isIce);var C=s.getHp();C>150?s.setTexture("balloons","purple"):C>100?s.setTexture("balloons","green"):C>50?s.setTexture("balloons","blue"):C>0&&s.setTexture("balloons","red")}}drawLines(s){s.lineStyle(1,0,.8);for(let g=0;g<10;g++)s.moveTo(0,g*64),s.lineTo(800,g*64);for(let g=0;g<13;g++)s.moveTo(g*64,0),s.lineTo(g*64,610);s.strokePath()}canPlace(s,g){return s>8||g>11||s<0||g<0?!1:this.map[s][g]===0}placeTurret(s,g,C,M){const o=Math.floor(s.y/64),T=Math.floor(s.x/64);if(this.canPlace(o,T)){if(C=="cowboy"||C=="cowboys")if(this.money>=150)this.money-=150;else return;if(C=="buff"||C=="buffs")if(this.money>=175)this.money-=175;else return;if(C=="bigm"||C=="bigms")if(this.money>=225)this.money-=225;else return;if(C=="bulldog"||C=="bulldogs")if(this.money>=275)this.money-=275;else return;if(C=="reaper"||C=="reapers")if(this.money>=350)this.money-=350;else return;if(C=="dogurai"||C=="dogurais")if(this.money>=375)this.money-=375;else return;if(C=="lucky"||C=="luckys")if(this.money>=450)this.money-=450;else return;if(C=="king"||C=="kings")if(this.money>=475)this.money-=475;else return;if(C=="bunny"||C=="bunnys")if(this.money>=525)this.money-=525;else return;if(C=="fox"||C=="foxes")if(this.money>=600)this.money-=600;else return;if(C=="croc"||C=="crocs")if(this.money>=650)this.money-=650;else return;if(C=="OG"||C=="OGs")if(this.money>=1e3)this.money-=1e3;else return;const e=g.get();e.setTexture(C),e.setScale(.04),e.setActive(!0),e.setVisible(!0),e.place(o,T),e.projectile_texture=M,this.map[o][T]=1,ft.emit("tower-placed-successfully",e,C),e.setInteractive(),e.on("pointerdown",()=>{ft.emit("selected_tower",e,g)})}}async startWave(s){for(var g=0,C=0,M=0,o=0;g<YG[s-1];)this.spawnBalloon(50,"red"),await this.sleep(ka),g++;for(;C<XG[s-1];)this.spawnBalloon(100,"blue"),await this.sleep(ka),C++;for(;M<kG[s-1];)this.spawnBalloon(150,"green"),await this.sleep(ka),M++;for(;o<WG[s-1];)this.spawnBalloon(200,"purple"),await this.sleep(ka),o++}sleep(s){return new Promise(g=>setTimeout(g,s))}spawnBalloon(s,g){const C=this.enemies.get();C&&(C.setActive(!0),C.setVisible(!0),C.startOnPath(s),C.setTexture("balloons",g))}}const kp=8085079,$G=2493956;class KG extends Ie.Scene{constructor(){super("GameOverScene");dt(this,"rexUI");dt(this,"gameOverSizer");dt(this,"bestRound");dt(this,"currRound")}init(s){this.currRound=s.currRound,this.bestRound=s.bestRound}preload(){this.load.image("gameover","/assets/gameover.png"),this.load.image("reset","/assets/reset.png")}create(){this.gameOverSizer=this.rexUI.add.sizer(385,300,700,430,{orientation:"y",space:{top:40}}).layout(),this.gameOverSizer.addBackground(this.rexUI.add.roundRectangle(375,300,300,300,10,kp,.85).setStrokeStyle(5,$G)).layout();var s=this.add.image(0,0,"gameover").setScale(.4);this.gameOverSizer.add(s,{align:"center-top"}).layout();var g=this.rexUI.add.gridSizer({column:2,row:1,columnProportions:1}).layout(),C=this.rexUI.add.gridSizer({column:2,row:1,columnProportions:1}).layout(),M=this.rexUI.add.sizer({width:200,orientation:"x"});M.add(this.CreateLabel(this,"Highest Round",25));var o=this.rexUI.add.sizer({width:200,orientation:"x"});o.add(this.CreateLabel(this,"Current Round",25));var T=this.rexUI.add.sizer({width:200,orientation:"x"});T.add(this.CreateLabel(this,this.bestRound,50));var e=this.rexUI.add.sizer({width:200,orientation:"x"});e.add(this.CreateLabel(this,this.currRound,50)),g.add(M,0,0,"center",{bottom:5,right:20}).layout(),g.add(o,1,0,"center",{bottom:5,left:20}).layout(),C.add(T,0,0,"center",{left:200}).layout(),C.add(e,1,0,"center",{left:100}).layout(),this.gameOverSizer.add(g,{padding:{top:40,bottom:20,left:20,right:20},align:"center-center"}),this.gameOverSizer.add(C,{padding:{bottom:10,left:20,right:20},align:"center-center"});var u=this.add.image(0,0,"reset").setScale(.5);u.setInteractive().on("pointerdown",()=>{ft.emit("Restart")}),this.gameOverSizer.add(u,{padding:{top:20}}).layout(),this.rexUI.fadeIn(this.gameOverSizer,1500)}update(){}CreateLabel(s,g,C){return s.rexUI.add.label({width:40,height:40,background:s.rexUI.add.roundRectangle(0,0,0,0,5,kp),text:s.add.text(0,0,g,{fontSize:C}),space:{left:10,right:10,top:10,bottom:10}})}}const ZG={type:Ie.AUTO,parent:"content",width:1280,height:720,dom:{createContainer:!0},plugins:{scene:[{key:"rexUI",plugin:Hx,mapping:"rexUI"}]},physics:{default:"arcade"},scene:[hy,HG,OG,uy,KG],scale:{mode:Ie.Scale.FIT,autoCenter:Ie.Scale.CENTER_BOTH}};new Ie.Game(ZG);
